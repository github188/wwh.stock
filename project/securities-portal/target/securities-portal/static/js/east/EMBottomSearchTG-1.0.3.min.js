/*
 * 页面底部搜索引擎打开页面推广
 * By: YiJun
 * Update: 2015-6-19
*/
!function(){var a=function(){function a(a){var b={main_img:"//gbfek.dfcfw.com/tg/EMBottomSearchTG/mimg.png",link:"http://www.eastmoney.com",close_img:"//gbfek.dfcfw.com/tg/EMBottomSearchTG/close.png",main_width:900,main_height:60,bg_img:"//gbfek.dfcfw.com/tg/EMBottomSearchTG/bg.png"};this.options=this.extend(b,a),this.isOldIE=!1}return a.prototype.extend=function(a,b){for(var c in b)a[c]=b[c];return a},a.prototype.addStyle=function(){var a="body{background-image:url(about:blank);background-attachment:fixed;}.EMBottomSearchTG{position:fixed;z-index:60000;bottom:0;width:100%;background-image:url("+this.options.bg_img+");height:"+this.options.main_height+"px;_position:absolute;_top:expression( eval(document.documentElement.scrollTop + document.documentElement.clientHeight - this.offsetHeight - (parseInt(this.currentStyle.marginTop,10)||0) - (parseInt(this.currentStyle.marginBottom,10)||0)));}.EMBottomSearchTG img{border:0;}.EMBottomSearchTGb{width:"+this.options.main_width+"px;margin:0 auto;position:relative}.EMBottomSearchTGc{position:absolute;right:0;top:0;cursor:pointer;}",b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");this.isOldIE?(c.type="text/css",c.styleSheet.cssText=a):c.appendChild(document.createTextNode(a)),b.appendChild(c)},a.prototype.show=function(){if(!this.isFormSearch())return!1;this.addStyle();var a=document.createElement("div");a.className="EMBottomSearchTG",a.innerHTML='<div class="EMBottomSearchTGb"><a href="'+this.options.link+'" target="_blank"><img src="'+this.options.main_img+'" alt="" /></a><img src="'+this.options.close_img+'" class="EMBottomSearchTGc" title="关闭" alt="关闭" /></div>',document.body.appendChild(a),a.onclick=function(b){return b=b||window.event,"EMBottomSearchTGc"==(b.target||b.srcElement).className?(document.body.removeChild(a),!1):void 0}},a.prototype.isFormSearch=function(){var b,c,a=document.referrer;if(""==a)return!1;for(b=["//www.sogou.com/","//www.haosou.com/","//www.google.com/","//cn.bing.com/"],c=0;c<b.length;c++)if(a.toLowerCase().indexOf(b[c])>=0)return!0;return!1},a}();window.EMBottomSearchTG=a}();