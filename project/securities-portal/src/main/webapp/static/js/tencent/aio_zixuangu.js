var requirejs, require, define;
(function(e) {
    function c(e, t) {
        return f.call(e, t)
    }
    function h(e, t) {
        var n, r, i, s, o, a, f, l, c, h, p = t && t.split("/"), d = u.map, v = d && d["*"] || {};
        if (e && e.charAt(0) === ".")
            if (t) {
                p = p.slice(0, p.length - 1),
                    e = p.concat(e.split("/"));
                for (l = 0; l < e.length; l += 1) {
                    h = e[l];
                    if (h === ".")
                        e.splice(l, 1),
                            l -= 1;
                    else if (h === "..") {
                        if (l === 1 && (e[2] === ".." || e[0] === ".."))
                            break;
                        l > 0 && (e.splice(l - 1, 2),
                            l -= 2)
                    }
                }
                e = e.join("/")
            } else
                e.indexOf("./") === 0 && (e = e.substring(2));
        if ((p || v) && d) {
            n = e.split("/");
            for (l = n.length; l > 0; l -= 1) {
                r = n.slice(0, l).join("/");
                if (p)
                    for (c = p.length; c > 0; c -= 1) {
                        i = d[p.slice(0, c).join("/")];
                        if (i) {
                            i = i[r];
                            if (i) {
                                s = i,
                                    o = l;
                                break
                            }
                        }
                    }
                if (s)
                    break;
                !a && v && v[r] && (a = v[r],
                    f = l)
            }
            !s && a && (s = a,
                o = f),
            s && (n.splice(0, o, s),
                e = n.join("/"))
        }
        return e
    }
    function p(t, r) {
        return function() {
            return n.apply(e, l.call(arguments, 0).concat([t, r]))
        }
    }
    function d(e) {
        return function(t) {
            return h(t, e)
        }
    }
    function v(e) {
        return function(t) {
            s[e] = t
        }
    }
    function m(n) {
        if (c(o, n)) {
            var r = o[n];
            delete o[n],
                a[n] = !0,
                t.apply(e, r)
        }
        if (!c(s, n) && !c(a, n))
            throw new Error("No " + n);
        return s[n]
    }
    function g(e) {
        var t, n = e ? e.indexOf("!") : -1;
        return n > -1 && (t = e.substring(0, n),
            e = e.substring(n + 1, e.length)),
            [t, e]
    }
    function y(e) {
        return function() {
            return u && u.config && u.config[e] || {}
        }
    }
    var t, n, r, i, s = {}, o = {}, u = {}, a = {}, f = Object.prototype.hasOwnProperty, l = [].slice;
    r = function(e, t) {
        var n, r = g(e), i = r[0];
        return e = r[1],
        i && (i = h(i, t),
            n = m(i)),
            i ? n && n.normalize ? e = n.normalize(e, d(t)) : e = h(e, t) : (e = h(e, t),
                r = g(e),
                i = r[0],
                e = r[1],
            i && (n = m(i))),
        {
            f: i ? i + "!" + e : e,
            n: e,
            pr: i,
            p: n
        }
    }
        ,
        i = {
            require: function(e) {
                return p(e)
            },
            exports: function(e) {
                var t = s[e];
                return typeof t != "undefined" ? t : s[e] = {}
            },
            module: function(e) {
                return {
                    id: e,
                    uri: "",
                    exports: s[e],
                    config: y(e)
                }
            }
        },
        t = function(t, n, u, f) {
            var l, h, d, g, y, b = [], w;
            f = f || t;
            if (typeof u == "function") {
                n = !n.length && u.length ? ["require", "exports", "module"] : n;
                for (y = 0; y < n.length; y += 1) {
                    g = r(n[y], f),
                        h = g.f;
                    if (h === "require")
                        b[y] = i.require(t);
                    else if (h === "exports")
                        b[y] = i.exports(t),
                            w = !0;
                    else if (h === "module")
                        l = b[y] = i.module(t);
                    else if (c(s, h) || c(o, h) || c(a, h))
                        b[y] = m(h);
                    else {
                        if (!g.p)
                            throw new Error(t + " missing " + h);
                        g.p.load(g.n, p(f, !0), v(h), {}),
                            b[y] = s[h]
                    }
                }
                d = u.apply(s[t], b);
                if (t)
                    if (l && l.exports !== e && l.exports !== s[t])
                        s[t] = l.exports;
                    else if (d !== e || !w)
                        s[t] = d
            } else
                t && (s[t] = u)
        }
        ,
        requirejs = require = n = function(s, o, a, f, l) {
            return typeof s == "string" ? i[s] ? i[s](o) : m(r(s, o).f) : (s.splice || (u = s,
                o.splice ? (s = o,
                    o = a,
                    a = null ) : s = e),
                o = o || function() {}
                ,
            typeof a == "function" && (a = f,
                f = l),
                f ? t(e, s, o, a) : setTimeout(function() {
                    t(e, s, o, a)
                }, 4),
                n)
        }
        ,
        n.config = function(e) {
            return u = e,
            u.deps && n(u.deps, u.callback),
                n
        }
        ,
        requirejs._defined = s,
        define = function(e, t, n) {
            t.splice || (n = t,
                t = []),
            !c(s, e) && !c(o, e) && (o[e] = [e, t, n])
        }
        ,
        define.amd = {
            jQuery: !0
        }
})(),
    define("../vendor/almond/almond", function() {}),
    define("cookie", ["require", "exports", "module"], function(e, t) {
        function s(e, t) {
            var n = {};
            if (o(e) && e.length > 0) {
                var i = t ? r : f, s = e.split(/;\s/g), u, a, l;
                for (var c = 0, h = s.length; c < h; c++) {
                    l = s[c].match(/([^=]+)=/i);
                    if (l instanceof Array)
                        try {
                            u = r(l[1]),
                                a = i(s[c].substring(l[1].length + 1))
                        } catch (p) {}
                    else
                        u = r(s[c]),
                            a = "";
                    u && (n[u] = a)
                }
            }
            return n
        }
        function o(e) {
            return typeof e == "string"
        }
        function u(e) {
            return o(e) && e !== ""
        }
        function a(e) {
            if (!u(e))
                throw new TypeError("Cookie name must be a non-empty string")
        }
        function f(e) {
            return e
        }
        var n = t
            , r = decodeURIComponent
            , i = encodeURIComponent;
        n.get = function(e, t) {
            a(e),
                typeof t == "function" ? t = {
                    converter: t
                } : t = t || {};
            var n = s(document.cookie, !t.raw);
            return (t.converter || f)(n[e])
        }
            ,
            n.set = function(e, t, n) {
                a(e),
                    n = n || {};
                var r = n.expires
                    , s = n.domain
                    , o = n.path;
                n.raw || (t = i(String(t)));
                var f = e + "=" + t
                    , l = r;
                return typeof l == "number" && (l = new Date,
                    l.setDate(l.getDate() + r)),
                l instanceof Date && (f += "; expires=" + l.toUTCString()),
                u(s) && (f += "; domain=" + s),
                u(o) && (f += "; path=" + o),
                n.secure && (f += "; secure"),
                    document.cookie = f,
                    f
            }
            ,
            n.remove = function(e, t) {
                return t = t || {},
                    t.expires = new Date(0),
                    this.set(e, "", t)
            }
    }),
    function() {
        var e = this
            , t = e._
            , n = {}
            , r = Array.prototype
            , i = Object.prototype
            , s = Function.prototype
            , o = r.push
            , u = r.slice
            , a = r.concat
            , f = i.toString
            , l = i.hasOwnProperty
            , c = r.forEach
            , h = r.map
            , p = r.reduce
            , d = r.reduceRight
            , v = r.filter
            , m = r.every
            , g = r.some
            , y = r.indexOf
            , b = r.lastIndexOf
            , w = Array.isArray
            , E = Object.keys
            , S = s.bind
            , x = function(e) {
                if (e instanceof x)
                    return e;
                if (!(this instanceof x))
                    return new x(e);
                this._wrapped = e
            }
            ;
        typeof exports != "undefined" ? (typeof module != "undefined" && module.exports && (exports = module.exports = x),
            exports._ = x) : e._ = x,
            x.VERSION = "1.4.4";
        var T = x.each = x.forEach = function(e, t, r) {
                if (e == null )
                    return;
                if (c && e.forEach === c)
                    e.forEach(t, r);
                else if (e.length === +e.length) {
                    for (var i = 0, s = e.length; i < s; i++)
                        if (t.call(r, e[i], i, e) === n)
                            return
                } else
                    for (var o in e)
                        if (x.has(e, o) && t.call(r, e[o], o, e) === n)
                            return
            }
            ;
        x.map = x.collect = function(e, t, n) {
            var r = [];
            return e == null ? r : h && e.map === h ? e.map(t, n) : (T(e, function(e, i, s) {
                r[r.length] = t.call(n, e, i, s)
            }),
                r)
        }
        ;
        var N = "Reduce of empty array with no initial value";
        x.reduce = x.foldl = x.inject = function(e, t, n, r) {
            var i = arguments.length > 2;
            e == null && (e = []);
            if (p && e.reduce === p)
                return r && (t = x.bind(t, r)),
                    i ? e.reduce(t, n) : e.reduce(t);
            T(e, function(e, s, o) {
                i ? n = t.call(r, n, e, s, o) : (n = e,
                    i = !0)
            });
            if (!i)
                throw new TypeError(N);
            return n
        }
            ,
            x.reduceRight = x.foldr = function(e, t, n, r) {
                var i = arguments.length > 2;
                e == null && (e = []);
                if (d && e.reduceRight === d)
                    return r && (t = x.bind(t, r)),
                        i ? e.reduceRight(t, n) : e.reduceRight(t);
                var s = e.length;
                if (s !== +s) {
                    var o = x.keys(e);
                    s = o.length
                }
                T(e, function(u, a, f) {
                    a = o ? o[--s] : --s,
                        i ? n = t.call(r, n, e[a], a, f) : (n = e[a],
                            i = !0)
                });
                if (!i)
                    throw new TypeError(N);
                return n
            }
            ,
            x.find = x.detect = function(e, t, n) {
                var r;
                return C(e, function(e, i, s) {
                    if (t.call(n, e, i, s))
                        return r = e,
                            !0
                }),
                    r
            }
            ,
            x.filter = x.select = function(e, t, n) {
                var r = [];
                return e == null ? r : v && e.filter === v ? e.filter(t, n) : (T(e, function(e, i, s) {
                    t.call(n, e, i, s) && (r[r.length] = e)
                }),
                    r)
            }
            ,
            x.reject = function(e, t, n) {
                return x.filter(e, function(e, r, i) {
                    return !t.call(n, e, r, i)
                }, n)
            }
            ,
            x.every = x.all = function(e, t, r) {
                t || (t = x.identity);
                var i = !0;
                return e == null ? i : m && e.every === m ? e.every(t, r) : (T(e, function(e, s, o) {
                    if (!(i = i && t.call(r, e, s, o)))
                        return n
                }),
                    !!i)
            }
        ;
        var C = x.some = x.any = function(e, t, r) {
                t || (t = x.identity);
                var i = !1;
                return e == null ? i : g && e.some === g ? e.some(t, r) : (T(e, function(e, s, o) {
                    if (i || (i = t.call(r, e, s, o)))
                        return n
                }),
                    !!i)
            }
            ;
        x.contains = x.include = function(e, t) {
            return e == null ? !1 : y && e.indexOf === y ? e.indexOf(t) != -1 : C(e, function(e) {
                return e === t
            })
        }
            ,
            x.invoke = function(e, t) {
                var n = u.call(arguments, 2)
                    , r = x.isFunction(t);
                return x.map(e, function(e) {
                    return (r ? t : e[t]).apply(e, n)
                })
            }
            ,
            x.pluck = function(e, t) {
                return x.map(e, function(e) {
                    return e[t]
                })
            }
            ,
            x.where = function(e, t, n) {
                return x.isEmpty(t) ? n ? null : [] : x[n ? "find" : "filter"](e, function(e) {
                    for (var n in t)
                        if (t[n] !== e[n])
                            return !1;
                    return !0
                })
            }
            ,
            x.findWhere = function(e, t) {
                return x.where(e, t, !0)
            }
            ,
            x.max = function(e, t, n) {
                if (!t && x.isArray(e) && e[0] === +e[0] && e.length < 65535)
                    return Math.max.apply(Math, e);
                if (!t && x.isEmpty(e))
                    return -Infinity;
                var r = {
                    computed: -Infinity,
                    value: -Infinity
                };
                return T(e, function(e, i, s) {
                    var o = t ? t.call(n, e, i, s) : e;
                    o >= r.computed && (r = {
                        value: e,
                        computed: o
                    })
                }),
                    r.value
            }
            ,
            x.min = function(e, t, n) {
                if (!t && x.isArray(e) && e[0] === +e[0] && e.length < 65535)
                    return Math.min.apply(Math, e);
                if (!t && x.isEmpty(e))
                    return Infinity;
                var r = {
                    computed: Infinity,
                    value: Infinity
                };
                return T(e, function(e, i, s) {
                    var o = t ? t.call(n, e, i, s) : e;
                    o < r.computed && (r = {
                        value: e,
                        computed: o
                    })
                }),
                    r.value
            }
            ,
            x.shuffle = function(e) {
                var t, n = 0, r = [];
                return T(e, function(e) {
                    t = x.random(n++),
                        r[n - 1] = r[t],
                        r[t] = e
                }),
                    r
            }
        ;
        var k = function(e) {
                return x.isFunction(e) ? e : function(t) {
                    return t[e]
                }
            }
            ;
        x.sortBy = function(e, t, n) {
            var r = k(t);
            return x.pluck(x.map(e, function(e, t, i) {
                return {
                    value: e,
                    index: t,
                    criteria: r.call(n, e, t, i)
                }
            }).sort(function(e, t) {
                var n = e.criteria
                    , r = t.criteria;
                if (n !== r) {
                    if (n > r || n === void 0)
                        return 1;
                    if (n < r || r === void 0)
                        return -1
                }
                return e.index < t.index ? -1 : 1
            }), "value")
        }
        ;
        var L = function(e, t, n, r) {
                var i = {}
                    , s = k(t || x.identity);
                return T(e, function(t, o) {
                    var u = s.call(n, t, o, e);
                    r(i, u, t)
                }),
                    i
            }
            ;
        x.groupBy = function(e, t, n) {
            return L(e, t, n, function(e, t, n) {
                (x.has(e, t) ? e[t] : e[t] = []).push(n)
            })
        }
            ,
            x.countBy = function(e, t, n) {
                return L(e, t, n, function(e, t) {
                    x.has(e, t) || (e[t] = 0),
                        e[t]++
                })
            }
            ,
            x.sortedIndex = function(e, t, n, r) {
                n = n == null ? x.identity : k(n);
                var i = n.call(r, t)
                    , s = 0
                    , o = e.length;
                while (s < o) {
                    var u = s + o >>> 1;
                    n.call(r, e[u]) < i ? s = u + 1 : o = u
                }
                return s
            }
            ,
            x.toArray = function(e) {
                return e ? x.isArray(e) ? u.call(e) : e.length === +e.length ? x.map(e, x.identity) : x.values(e) : []
            }
            ,
            x.size = function(e) {
                return e == null ? 0 : e.length === +e.length ? e.length : x.keys(e).length
            }
            ,
            x.first = x.head = x.take = function(e, t, n) {
                return e == null ? void 0 : t != null && !n ? u.call(e, 0, t) : e[0]
            }
            ,
            x.initial = function(e, t, n) {
                return u.call(e, 0, e.length - (t == null || n ? 1 : t))
            }
            ,
            x.last = function(e, t, n) {
                return e == null ? void 0 : t != null && !n ? u.call(e, Math.max(e.length - t, 0)) : e[e.length - 1]
            }
            ,
            x.rest = x.tail = x.drop = function(e, t, n) {
                return u.call(e, t == null || n ? 1 : t)
            }
            ,
            x.compact = function(e) {
                return x.filter(e, x.identity)
            }
        ;
        var A = function(e, t, n) {
                return T(e, function(e) {
                    x.isArray(e) ? t ? o.apply(n, e) : A(e, t, n) : n.push(e)
                }),
                    n
            }
            ;
        x.flatten = function(e, t) {
            return A(e, t, [])
        }
            ,
            x.without = function(e) {
                return x.difference(e, u.call(arguments, 1))
            }
            ,
            x.uniq = x.unique = function(e, t, n, r) {
                x.isFunction(t) && (r = n,
                    n = t,
                    t = !1);
                var i = n ? x.map(e, n, r) : e
                    , s = []
                    , o = [];
                return T(i, function(n, r) {
                    if (t ? !r || o[o.length - 1] !== n : !x.contains(o, n))
                        o.push(n),
                            s.push(e[r])
                }),
                    s
            }
            ,
            x.union = function() {
                return x.uniq(a.apply(r, arguments))
            }
            ,
            x.intersection = function(e) {
                var t = u.call(arguments, 1);
                return x.filter(x.uniq(e), function(e) {
                    return x.every(t, function(t) {
                        return x.indexOf(t, e) >= 0
                    })
                })
            }
            ,
            x.difference = function(e) {
                var t = a.apply(r, u.call(arguments, 1));
                return x.filter(e, function(e) {
                    return !x.contains(t, e)
                })
            }
            ,
            x.zip = function() {
                var e = u.call(arguments)
                    , t = x.max(x.pluck(e, "length"))
                    , n = new Array(t);
                for (var r = 0; r < t; r++)
                    n[r] = x.pluck(e, "" + r);
                return n
            }
            ,
            x.object = function(e, t) {
                if (e == null )
                    return {};
                var n = {};
                for (var r = 0, i = e.length; r < i; r++)
                    t ? n[e[r]] = t[r] : n[e[r][0]] = e[r][1];
                return n
            }
            ,
            x.indexOf = function(e, t, n) {
                if (e == null )
                    return -1;
                var r = 0
                    , i = e.length;
                if (n) {
                    if (typeof n != "number")
                        return r = x.sortedIndex(e, t),
                            e[r] === t ? r : -1;
                    r = n < 0 ? Math.max(0, i + n) : n
                }
                if (y && e.indexOf === y)
                    return e.indexOf(t, n);
                for (; r < i; r++)
                    if (e[r] === t)
                        return r;
                return -1
            }
            ,
            x.lastIndexOf = function(e, t, n) {
                if (e == null )
                    return -1;
                var r = n != null ;
                if (b && e.lastIndexOf === b)
                    return r ? e.lastIndexOf(t, n) : e.lastIndexOf(t);
                var i = r ? n : e.length;
                while (i--)
                    if (e[i] === t)
                        return i;
                return -1
            }
            ,
            x.range = function(e, t, n) {
                arguments.length <= 1 && (t = e || 0,
                    e = 0),
                    n = arguments[2] || 1;
                var r = Math.max(Math.ceil((t - e) / n), 0)
                    , i = 0
                    , s = new Array(r);
                while (i < r)
                    s[i++] = e,
                        e += n;
                return s
            }
            ,
            x.bind = function(e, t) {
                if (e.bind === S && S)
                    return S.apply(e, u.call(arguments, 1));
                var n = u.call(arguments, 2);
                return function() {
                    return e.apply(t, n.concat(u.call(arguments)))
                }
            }
            ,
            x.partial = function(e) {
                var t = u.call(arguments, 1);
                return function() {
                    return e.apply(this, t.concat(u.call(arguments)))
                }
            }
            ,
            x.bindAll = function(e) {
                var t = u.call(arguments, 1);
                return t.length === 0 && (t = x.functions(e)),
                    T(t, function(t) {
                        e[t] = x.bind(e[t], e)
                    }),
                    e
            }
            ,
            x.memoize = function(e, t) {
                var n = {};
                return t || (t = x.identity),
                    function() {
                        var r = t.apply(this, arguments);
                        return x.has(n, r) ? n[r] : n[r] = e.apply(this, arguments)
                    }
            }
            ,
            x.delay = function(e, t) {
                var n = u.call(arguments, 2);
                return setTimeout(function() {
                    return e.apply(null , n)
                }, t)
            }
            ,
            x.defer = function(e) {
                return x.delay.apply(x, [e, 1].concat(u.call(arguments, 1)))
            }
            ,
            x.throttle = function(e, t) {
                var n, r, i, s, o = 0, u = function() {
                        o = new Date,
                            i = null ,
                            s = e.apply(n, r)
                    }
                    ;
                return function() {
                    var a = new Date
                        , f = t - (a - o);
                    return n = this,
                        r = arguments,
                        f <= 0 ? (clearTimeout(i),
                            i = null ,
                            o = a,
                            s = e.apply(n, r)) : i || (i = setTimeout(u, f)),
                        s
                }
            }
            ,
            x.debounce = function(e, t, n) {
                var r, i;
                return function() {
                    var s = this
                        , o = arguments
                        , u = function() {
                            r = null ,
                            n || (i = e.apply(s, o))
                        }
                        , a = n && !r;
                    return clearTimeout(r),
                        r = setTimeout(u, t),
                    a && (i = e.apply(s, o)),
                        i
                }
            }
            ,
            x.once = function(e) {
                var t = !1, n;
                return function() {
                    return t ? n : (t = !0,
                        n = e.apply(this, arguments),
                        e = null ,
                        n)
                }
            }
            ,
            x.wrap = function(e, t) {
                return function() {
                    var n = [e];
                    return o.apply(n, arguments),
                        t.apply(this, n)
                }
            }
            ,
            x.compose = function() {
                var e = arguments;
                return function() {
                    var t = arguments;
                    for (var n = e.length - 1; n >= 0; n--)
                        t = [e[n].apply(this, t)];
                    return t[0]
                }
            }
            ,
            x.after = function(e, t) {
                return e <= 0 ? t() : function() {
                    if (--e < 1)
                        return t.apply(this, arguments)
                }
            }
            ,
            x.keys = E || function(e) {
                if (e !== Object(e))
                    throw new TypeError("Invalid object");
                var t = [];
                for (var n in e)
                    x.has(e, n) && (t[t.length] = n);
                return t
            }
            ,
            x.values = function(e) {
                var t = [];
                for (var n in e)
                    x.has(e, n) && t.push(e[n]);
                return t
            }
            ,
            x.pairs = function(e) {
                var t = [];
                for (var n in e)
                    x.has(e, n) && t.push([n, e[n]]);
                return t
            }
            ,
            x.invert = function(e) {
                var t = {};
                for (var n in e)
                    x.has(e, n) && (t[e[n]] = n);
                return t
            }
            ,
            x.functions = x.methods = function(e) {
                var t = [];
                for (var n in e)
                    x.isFunction(e[n]) && t.push(n);
                return t.sort()
            }
            ,
            x.extend = function(e) {
                return T(u.call(arguments, 1), function(t) {
                    if (t)
                        for (var n in t)
                            e[n] = t[n]
                }),
                    e
            }
            ,
            x.pick = function(e) {
                var t = {}
                    , n = a.apply(r, u.call(arguments, 1));
                return T(n, function(n) {
                    n in e && (t[n] = e[n])
                }),
                    t
            }
            ,
            x.omit = function(e) {
                var t = {}
                    , n = a.apply(r, u.call(arguments, 1));
                for (var i in e)
                    x.contains(n, i) || (t[i] = e[i]);
                return t
            }
            ,
            x.defaults = function(e) {
                return T(u.call(arguments, 1), function(t) {
                    if (t)
                        for (var n in t)
                            e[n] == null && (e[n] = t[n])
                }),
                    e
            }
            ,
            x.clone = function(e) {
                return x.isObject(e) ? x.isArray(e) ? e.slice() : x.extend({}, e) : e
            }
            ,
            x.tap = function(e, t) {
                return t(e),
                    e
            }
        ;
        var O = function(e, t, n, r) {
                if (e === t)
                    return e !== 0 || 1 / e == 1 / t;
                if (e == null || t == null )
                    return e === t;
                e instanceof x && (e = e._wrapped),
                t instanceof x && (t = t._wrapped);
                var i = f.call(e);
                if (i != f.call(t))
                    return !1;
                switch (i) {
                    case "[object String]":
                        return e == String(t);
                    case "[object Number]":
                        return e != +e ? t != +t : e == 0 ? 1 / e == 1 / t : e == +t;
                    case "[object Date]":
                    case "[object Boolean]":
                        return +e == +t;
                    case "[object RegExp]":
                        return e.source == t.source && e.global == t.global && e.multiline == t.multiline && e.ignoreCase == t.ignoreCase
                }
                if (typeof e != "object" || typeof t != "object")
                    return !1;
                var s = n.length;
                while (s--)
                    if (n[s] == e)
                        return r[s] == t;
                n.push(e),
                    r.push(t);
                var o = 0
                    , u = !0;
                if (i == "[object Array]") {
                    o = e.length,
                        u = o == t.length;
                    if (u)
                        while (o--)
                            if (!(u = O(e[o], t[o], n, r)))
                                break
                } else {
                    var a = e.constructor
                        , l = t.constructor;
                    if (a !== l && !(x.isFunction(a) && a instanceof a && x.isFunction(l) && l instanceof l))
                        return !1;
                    for (var c in e)
                        if (x.has(e, c)) {
                            o++;
                            if (!(u = x.has(t, c) && O(e[c], t[c], n, r)))
                                break
                        }
                    if (u) {
                        for (c in t)
                            if (x.has(t, c) && !(o--))
                                break;
                        u = !o
                    }
                }
                return n.pop(),
                    r.pop(),
                    u
            }
            ;
        x.isEqual = function(e, t) {
            return O(e, t, [], [])
        }
            ,
            x.isEmpty = function(e) {
                if (e == null )
                    return !0;
                if (x.isArray(e) || x.isString(e))
                    return e.length === 0;
                for (var t in e)
                    if (x.has(e, t))
                        return !1;
                return !0
            }
            ,
            x.isElement = function(e) {
                return !!e && e.nodeType === 1
            }
            ,
            x.isArray = w || function(e) {
                return f.call(e) == "[object Array]"
            }
            ,
            x.isObject = function(e) {
                return e === Object(e)
            }
            ,
            T(["Arguments", "Function", "String", "Number", "Date", "RegExp"], function(e) {
                x["is" + e] = function(t) {
                    return f.call(t) == "[object " + e + "]"
                }
            }),
        x.isArguments(arguments) || (x.isArguments = function(e) {
            return !!e && !!x.has(e, "callee")
        }
        ),
        typeof /./ != "function" && (x.isFunction = function(e) {
            return typeof e == "function"
        }
        ),
            x.isFinite = function(e) {
                return isFinite(e) && !isNaN(parseFloat(e))
            }
            ,
            x.isNaN = function(e) {
                return x.isNumber(e) && e != +e
            }
            ,
            x.isBoolean = function(e) {
                return e === !0 || e === !1 || f.call(e) == "[object Boolean]"
            }
            ,
            x.isNull = function(e) {
                return e === null
            }
            ,
            x.isUndefined = function(e) {
                return e === void 0
            }
            ,
            x.has = function(e, t) {
                return l.call(e, t)
            }
            ,
            x.noConflict = function() {
                return e._ = t,
                    this
            }
            ,
            x.identity = function(e) {
                return e
            }
            ,
            x.times = function(e, t, n) {
                var r = Array(e);
                for (var i = 0; i < e; i++)
                    r[i] = t.call(n, i);
                return r
            }
            ,
            x.random = function(e, t) {
                return t == null && (t = e,
                    e = 0),
                e + Math.floor(Math.random() * (t - e + 1))
            }
        ;
        var M = {
            escape: {
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#x27;",
                "/": "&#x2F;"
            }
        };
        M.unescape = x.invert(M.escape);
        var _ = {
            escape: new RegExp("[" + x.keys(M.escape).join("") + "]","g"),
            unescape: new RegExp("(" + x.keys(M.unescape).join("|") + ")","g")
        };
        x.each(["escape", "unescape"], function(e) {
            x[e] = function(t) {
                return t == null ? "" : ("" + t).replace(_[e], function(t) {
                    return M[e][t]
                })
            }
        }),
            x.result = function(e, t) {
                if (e == null )
                    return null ;
                var n = e[t];
                return x.isFunction(n) ? n.call(e) : n
            }
            ,
            x.mixin = function(e) {
                T(x.functions(e), function(t) {
                    var n = x[t] = e[t];
                    x.prototype[t] = function() {
                        var e = [this._wrapped];
                        return o.apply(e, arguments),
                            j.call(this, n.apply(x, e))
                    }
                })
            }
        ;
        var D = 0;
        x.uniqueId = function(e) {
            var t = ++D + "";
            return e ? e + t : t
        }
            ,
            x.templateSettings = {
                evaluate: /<%([\s\S]+?)%>/g,
                interpolate: /<%=([\s\S]+?)%>/g,
                escape: /<%-([\s\S]+?)%>/g
            };
        var P = /(.)^/
            , H = {
                "'": "'",
                "\\": "\\",
                "\r": "r",
                "\n": "n",
                "	": "t",
                "\u2028": "u2028",
                "\u2029": "u2029"
            }
            , B = /\\|'|\r|\n|\t|\u2028|\u2029/g;
        x.template = function(e, t, n) {
            var r;
            if (!x.isFunction(e)) {
                n = x.defaults({}, n, x.templateSettings);
                var i = new RegExp([(n.escape || P).source, (n.interpolate || P).source, (n.evaluate || P).source].join("|") + "|$","g")
                    , s = 0
                    , o = "__p+='";
                e.replace(i, function(t, n, r, i, u) {
                    return o += e.slice(s, u).replace(B, function(e) {
                        return "\\" + H[e]
                    }),
                    n && (o += "'+\n((__t=(" + n + "))==null?'':_.escape(__t))+\n'"),
                    r && (o += "'+\n((__t=(" + r + "))==null?'':__t)+\n'"),
                    i && (o += "';\n" + i + "\n__p+='"),
                        s = u + t.length,
                        t
                }),
                    o += "';\n",
                n.variable || (o = "with(obj||{}){\n" + o + "}\n"),
                    o = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + o + "return __p;\n";
                try {
                    r = new Function(n.variable || "obj","_",o)
                } catch (u) {
                    throw u.source = o,
                        u
                }
                var a = function(e) {
                        return r.call(this, e, x)
                    }
                    ;
                return a.source = "function(" + (n.variable || "obj") + "){\n" + o + "}",
                    a
            }
            return r = e,
                t ? r(t, x) : e
        }
            ,
            x.chain = function(e) {
                return x(e).chain()
            }
        ;
        var j = function(e) {
                return this._chain ? x(e).chain() : e
            }
            ;
        x.mixin(x),
            T(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function(e) {
                var t = r[e];
                x.prototype[e] = function() {
                    var n = this._wrapped;
                    return t.apply(n, arguments),
                    (e == "shift" || e == "splice") && n.length === 0 && delete n[0],
                        j.call(this, n)
                }
            }),
            T(["concat", "join", "slice"], function(e) {
                var t = r[e];
                x.prototype[e] = function() {
                    return j.call(this, t.apply(this._wrapped, arguments))
                }
            }),
            x.extend(x.prototype, {
                chain: function() {
                    return this._chain = !0,
                        this
                },
                value: function() {
                    return this._wrapped
                }
            })
    }
        .call(this),
    define("underscore", function(e) {
        return function() {
            var t, n;
            return t || e._
        }
    }(this)),
    function(e) {
        if (typeof bootstrap == "function")
            bootstrap("promise", e);
        else if (typeof exports == "object")
            module.exports = e();
        else if (typeof define == "function" && define.amd)
            define("q", e);
        else if (typeof ses != "undefined") {
            if (!ses.ok())
                return;
            ses.makeQ = e
        } else
            Q = e()
    }(function() {
        function u(e) {
            return function() {
                return o.apply(e, arguments)
            }
        }
        function m(e) {
            return e === Object(e)
        }
        function g(e) {
            return v(e) === "[object StopIteration]" || e instanceof y
        }
        function E(t, n) {
            if (e && n.stack && typeof t == "object" && t !== null && t.stack && t.stack.indexOf(w) === -1) {
                var r = [];
                for (var i = n; !!i; i = i.source)
                    i.stack && r.unshift(i.stack);
                r.unshift(t.stack);
                var s = r.join("\n" + w + "\n");
                t.stack = S(s)
            }
        }
        function S(e) {
            var t = e.split("\n")
                , n = [];
            for (var r = 0; r < t.length; ++r) {
                var i = t[r];
                !N(i) && !x(i) && i && n.push(i)
            }
            return n.join("\n")
        }
        function x(e) {
            return e.indexOf("(module.js:") !== -1 || e.indexOf("(node.js:") !== -1
        }
        function T(e) {
            var t = /at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);
            if (t)
                return [t[1], Number(t[2])];
            var n = /at ([^ ]+):(\d+):(?:\d+)$/.exec(e);
            if (n)
                return [n[1], Number(n[2])];
            var r = /.*@(.+):(\d+)$/.exec(e);
            if (r)
                return [r[1], Number(r[2])]
        }
        function N(e) {
            var t = T(e);
            if (!t)
                return !1;
            var i = t[0]
                , s = t[1];
            return i === r && s >= n && s <= lt
        }
        function C() {
            if (!e)
                return;
            try {
                throw new Error
            } catch (t) {
                var n = t.stack.split("\n")
                    , i = n[0].indexOf("@") > 0 ? n[1] : n[2]
                    , s = T(i);
                if (!s)
                    return;
                return r = s[0],
                    s[1]
            }
        }
        function k(e, t, n) {
            return function() {
                return typeof console != "undefined" && typeof console.warn == "function" && 0,
                    e.apply(e, arguments)
            }
        }
        function L(e) {
            return H(e) ? e : B(e) ? G(e) : Q(e)
        }
        function A() {
            function l(e) {
                r = e,
                    o.source = e,
                    f(t, function(t, n) {
                        s(function() {
                            e.promiseDispatch.apply(e, n)
                        })
                    }, void 0),
                    t = void 0,
                    n = void 0
            }
            var t = [], n = [], r, i = h(A.prototype), o = h(_.prototype);
            o.promiseDispatch = function(e, i, o) {
                var u = a(arguments);
                t ? (t.push(u),
                i === "when" && o[1] && n.push(o[1])) : s(function() {
                    r.promiseDispatch.apply(r, u)
                })
            }
                ,
                o.valueOf = function() {
                    if (t)
                        return o;
                    var e = P(r);
                    return H(e) && (r = e),
                        e
                }
                ,
                o.inspect = function() {
                    return r ? r.inspect() : {
                        state: "pending"
                    }
                }
            ;
            if (L.longStackSupport && e)
                try {
                    throw new Error
                } catch (u) {
                    o.stack = u.stack.substring(u.stack.indexOf("\n") + 1)
                }
            return i.promise = o,
                i.resolve = function(e) {
                    if (r)
                        return;
                    l(L(e))
                }
                ,
                i.fulfill = function(e) {
                    if (r)
                        return;
                    l(Q(e))
                }
                ,
                i.reject = function(e) {
                    if (r)
                        return;
                    l(K(e))
                }
                ,
                i.notify = function(e) {
                    if (r)
                        return;
                    f(n, function(t, n) {
                        s(function() {
                            n(e)
                        })
                    }, void 0)
                }
                ,
                i
        }
        function O(e) {
            if (typeof e != "function")
                throw new TypeError("resolver must be a function.");
            var t = A();
            try {
                e(t.resolve, t.reject, t.notify)
            } catch (n) {
                t.reject(n)
            }
            return t.promise
        }
        function M(e) {
            return O(function(t, n) {
                for (var r = 0, i = e.length; r < i; r++)
                    L(e[r]).then(t, n)
            })
        }
        function _(e, t, n) {
            t === void 0 && (t = function(e) {
                return K(new Error("Promise does not support operation: " + e))
            }
            ),
            n === void 0 && (n = function() {
                return {
                    state: "unknown"
                }
            }
            );
            var r = h(_.prototype);
            r.promiseDispatch = function(n, i, s) {
                var o;
                try {
                    e[i] ? o = e[i].apply(r, s) : o = t.call(r, i, s)
                } catch (u) {
                    o = K(u)
                }
                n && n(o)
            }
                ,
                r.inspect = n;
            if (n) {
                var i = n();
                i.state === "rejected" && (r.exception = i.reason),
                    r.valueOf = function() {
                        var e = n();
                        return e.state === "pending" || e.state === "rejected" ? r : e.value
                    }
            }
            return r
        }
        function D(e, t, n, r) {
            return L(e).then(t, n, r)
        }
        function P(e) {
            if (H(e)) {
                var t = e.inspect();
                if (t.state === "fulfilled")
                    return t.value
            }
            return e
        }
        function H(e) {
            return m(e) && typeof e.promiseDispatch == "function" && typeof e.inspect == "function"
        }
        function B(e) {
            return m(e) && typeof e.then == "function"
        }
        function j(e) {
            return H(e) && e.inspect().state === "pending"
        }
        function F(e) {
            return !H(e) || e.inspect().state === "fulfilled"
        }
        function I(e) {
            return H(e) && e.inspect().state === "rejected"
        }
        function W() {
            !U && typeof window != "undefined" && window.console && 0,
                U = !0
        }
        function X() {
            for (var e = 0; e < q.length; e++) {
                var t = q[e];
                0
            }
        }
        function V() {
            q.length = 0,
                R.length = 0,
                U = !1,
            z || (z = !0,
            typeof process != "undefined" && process.on && process.on("exit", X))
        }
        function $(e, t) {
            if (!z)
                return;
            R.push(e),
                t && typeof t.stack != "undefined" ? q.push(t.stack) : q.push("(no stack) " + t),
                W()
        }
        function J(e) {
            if (!z)
                return;
            var t = l(R, e);
            t !== -1 && (R.splice(t, 1),
                q.splice(t, 1))
        }
        function K(e) {
            var t = _({
                when: function(t) {
                    return t && J(this),
                        t ? t(e) : this
                }
            }, function() {
                return this
            }, function() {
                return {
                    state: "rejected",
                    reason: e
                }
            });
            return $(t, e),
                t
        }
        function Q(e) {
            return _({
                when: function() {
                    return e
                },
                get: function(t) {
                    return e[t]
                },
                set: function(t, n) {
                    e[t] = n
                },
                "delete": function(t) {
                    delete e[t]
                },
                post: function(t, n) {
                    return t === null || t === void 0 ? e.apply(void 0, n) : e[t].apply(e, n)
                },
                apply: function(t, n) {
                    return e.apply(t, n)
                },
                keys: function() {
                    return d(e)
                }
            }, void 0, function() {
                return {
                    state: "fulfilled",
                    value: e
                }
            })
        }
        function G(e) {
            var t = A();
            return s(function() {
                try {
                    e.then(t.resolve, t.reject, t.notify)
                } catch (n) {
                    t.reject(n)
                }
            }),
                t.promise
        }
        function Y(e) {
            return _({
                isDef: function() {}
            }, function(n, r) {
                return it(e, n, r)
            }, function() {
                return L(e).inspect()
            })
        }
        function Z(e, t, n) {
            return L(e).spread(t, n)
        }
        function et(e) {
            return function() {
                function t(e, t) {
                    var s;
                    if (b) {
                        try {
                            s = n[e](t)
                        } catch (o) {
                            return K(o)
                        }
                        return s.done ? s.value : D(s.value, r, i)
                    }
                    try {
                        s = n[e](t)
                    } catch (o) {
                        return g(o) ? o.value : K(o)
                    }
                    return D(s, r, i)
                }
                var n = e.apply(this, arguments)
                    , r = t.bind(t, "next")
                    , i = t.bind(t, "throw");
                return r()
            }
        }
        function tt(e) {
            L.done(L.async(e)())
        }
        function nt(e) {
            throw new y(e)
        }
        function rt(e) {
            return function() {
                return Z([this, st(arguments)], function(t, n) {
                    return e.apply(t, n)
                })
            }
        }
        function it(e, t, n) {
            return L(e).dispatch(t, n)
        }
        function st(e) {
            return D(e, function(e) {
                var t = 0
                    , n = A();
                return f(e, function(r, i, s) {
                    var o;
                    H(i) && (o = i.inspect()).state === "fulfilled" ? e[s] = o.value : (++t,
                        D(i, function(r) {
                            e[s] = r,
                            --t === 0 && n.resolve(e)
                        }, n.reject, function(e) {
                            n.notify({
                                index: s,
                                value: e
                            })
                        }))
                }, void 0),
                t === 0 && n.resolve(e),
                    n.promise
            })
        }
        function ot(e) {
            return D(e, function(e) {
                return e = c(e, L),
                    D(st(c(e, function(e) {
                        return D(e, i, i)
                    })), function() {
                        return e
                    })
            })
        }
        function ut(e) {
            return L(e).allSettled()
        }
        function at(e, t) {
            return L(e).then(void 0, void 0, t)
        }
        function ft(e, t) {
            return L(e).nodeify(t)
        }
        var e = !1;
        try {
            throw new Error
        } catch (t) {
            e = !!t.stack
        }
        var n = C(), r, i = function() {}
            , s = function() {
                function o() {
                    while (e.next) {
                        e = e.next;
                        var t = e.task;
                        e.task = void 0;
                        var r = e.domain;
                        r && (e.domain = void 0,
                            r.enter());
                        try {
                            t()
                        } catch (s) {
                            if (i)
                                throw r && r.exit(),
                                    setTimeout(o, 0),
                                r && r.enter(),
                                    s;
                            setTimeout(function() {
                                throw s
                            }, 0)
                        }
                        r && r.exit()
                    }
                    n = !1
                }
                var e = {
                        task: void 0,
                        next: null
                    }
                    , t = e
                    , n = !1
                    , r = void 0
                    , i = !1;
                s = function(e) {
                    t = t.next = {
                        task: e,
                        domain: i && process.domain,
                        next: null
                    },
                    n || (n = !0,
                        r())
                }
                ;
                if (typeof process != "undefined" && process.nextTick)
                    i = !0,
                        r = function() {
                            process.nextTick(o)
                        }
                    ;
                else if (typeof setImmediate == "function")
                    typeof window != "undefined" ? r = setImmediate.bind(window, o) : r = function() {
                        setImmediate(o)
                    }
                    ;
                else if (typeof MessageChannel != "undefined") {
                    var u = new MessageChannel;
                    u.port1.onmessage = function() {
                        r = a,
                            u.port1.onmessage = o,
                            o()
                    }
                    ;
                    var a = function() {
                            u.port2.postMessage(0)
                        }
                        ;
                    r = function() {
                        setTimeout(o, 0),
                            a()
                    }
                } else
                    r = function() {
                        setTimeout(o, 0)
                    }
                    ;
                return s
            }(), o = Function.call, a = u(Array.prototype.slice), f = u(Array.prototype.reduce || function(e, t) {
                    var n = 0
                        , r = this.length;
                    if (arguments.length === 1)
                        do {
                            if (n in this) {
                                t = this[n++];
                                break
                            }
                            if (++n >= r)
                                throw new TypeError
                        } while (1);for (; n < r; n++)
                        n in this && (t = e(t, this[n], n));
                    return t
                }
            ), l = u(Array.prototype.indexOf || function(e) {
                    for (var t = 0; t < this.length; t++)
                        if (this[t] === e)
                            return t;
                    return -1
                }
            ), c = u(Array.prototype.map || function(e, t) {
                    var n = this
                        , r = [];
                    return f(n, function(i, s, o) {
                        r.push(e.call(t, s, o, n))
                    }, void 0),
                        r
                }
            ), h = Object.create || function(e) {
                    function t() {}
                    return t.prototype = e,
                        new t
                }
            , p = u(Object.prototype.hasOwnProperty), d = Object.keys || function(e) {
                    var t = [];
                    for (var n in e)
                        p(e, n) && t.push(n);
                    return t
                }
            , v = u(Object.prototype.toString), y;
        typeof ReturnValue != "undefined" ? y = ReturnValue : y = function(e) {
            this.value = e
        }
        ;
        var b;
        try {
            new Function("(function* (){ yield 1; })"),
                b = !0
        } catch (t) {
            b = !1
        }
        var w = "From previous event:";
        L.resolve = L,
            L.nextTick = s,
            L.longStackSupport = !1,
            L.defer = A,
            A.prototype.makeNodeResolver = function() {
                var e = this;
                return function(t, n) {
                    t ? e.reject(t) : arguments.length > 2 ? e.resolve(a(arguments, 1)) : e.resolve(n)
                }
            }
            ,
            L.promise = O,
            L.passByCopy = function(e) {
                return e
            }
            ,
            _.prototype.passByCopy = function() {
                return this
            }
            ,
            L.join = function(e, t) {
                return L(e).join(t)
            }
            ,
            _.prototype.join = function(e) {
                return L([this, e]).spread(function(e, t) {
                    if (e === t)
                        return e;
                    throw new Error("Can't join: not the same: " + e + " " + t)
                })
            }
            ,
            L.race = M,
            _.prototype.race = function() {
                return this.then(L.race)
            }
            ,
            L.makePromise = _,
            _.prototype.toString = function() {
                return "[object Promise]"
            }
            ,
            _.prototype.then = function(e, t, n) {
                function u(t) {
                    try {
                        return typeof e == "function" ? e(t) : t
                    } catch (n) {
                        return K(n)
                    }
                }
                function a(e) {
                    if (typeof t == "function") {
                        E(e, r);
                        try {
                            return t(e)
                        } catch (n) {
                            return K(n)
                        }
                    }
                    return K(e)
                }
                function f(e) {
                    return typeof n == "function" ? n(e) : e
                }
                var r = this
                    , i = A()
                    , o = !1;
                return s(function() {
                    r.promiseDispatch(function(e) {
                        if (o)
                            return;
                        o = !0,
                            i.resolve(u(e))
                    }, "when", [function(e) {
                        if (o)
                            return;
                        o = !0,
                            i.resolve(a(e))
                    }
                    ])
                }),
                    r.promiseDispatch(void 0, "when", [void 0, function(e) {
                        var t, n = !1;
                        try {
                            t = f(e)
                        } catch (r) {
                            n = !0;
                            if (!L.onerror)
                                throw r;
                            L.onerror(r)
                        }
                        n || i.notify(t)
                    }
                    ]),
                    i.promise
            }
            ,
            L.when = D,
            _.prototype.thenResolve = function(e) {
                return this.then(function() {
                    return e
                })
            }
            ,
            L.thenResolve = function(e, t) {
                return L(e).thenResolve(t)
            }
            ,
            _.prototype.thenReject = function(e) {
                return this.then(function() {
                    throw e
                })
            }
            ,
            L.thenReject = function(e, t) {
                return L(e).thenReject(t)
            }
            ,
            L.nearer = P,
            L.isPromise = H,
            L.isPromiseAlike = B,
            L.isPending = j,
            _.prototype.isPending = function() {
                return this.inspect().state === "pending"
            }
            ,
            L.isFulfilled = F,
            _.prototype.isFulfilled = function() {
                return this.inspect().state === "fulfilled"
            }
            ,
            L.isRejected = I,
            _.prototype.isRejected = function() {
                return this.inspect().state === "rejected"
            }
        ;
        var q = []
            , R = []
            , U = !1
            , z = !0;
        L.resetUnhandledRejections = V,
            L.getUnhandledReasons = function() {
                return q.slice()
            }
            ,
            L.stopUnhandledRejectionTracking = function() {
                V(),
                typeof process != "undefined" && process.on && process.removeListener("exit", X),
                    z = !1
            }
            ,
            V(),
            L.reject = K,
            L.fulfill = Q,
            L.master = Y,
            L.spread = Z,
            _.prototype.spread = function(e, t) {
                return this.all().then(function(t) {
                    return e.apply(void 0, t)
                }, t)
            }
            ,
            L.async = et,
            L.spawn = tt,
            L["return"] = nt,
            L.promised = rt,
            L.dispatch = it,
            _.prototype.dispatch = function(e, t) {
                var n = this
                    , r = A();
                return s(function() {
                    n.promiseDispatch(r.resolve, e, t)
                }),
                    r.promise
            }
            ,
            L.get = function(e, t) {
                return L(e).dispatch("get", [t])
            }
            ,
            _.prototype.get = function(e) {
                return this.dispatch("get", [e])
            }
            ,
            L.set = function(e, t, n) {
                return L(e).dispatch("set", [t, n])
            }
            ,
            _.prototype.set = function(e, t) {
                return this.dispatch("set", [e, t])
            }
            ,
            L.del = L["delete"] = function(e, t) {
                return L(e).dispatch("delete", [t])
            }
            ,
            _.prototype.del = _.prototype["delete"] = function(e) {
                return this.dispatch("delete", [e])
            }
            ,
            L.mapply = L.post = function(e, t, n) {
                return L(e).dispatch("post", [t, n])
            }
            ,
            _.prototype.mapply = _.prototype.post = function(e, t) {
                return this.dispatch("post", [e, t])
            }
            ,
            L.send = L.mcall = L.invoke = function(e, t) {
                return L(e).dispatch("post", [t, a(arguments, 2)])
            }
            ,
            _.prototype.send = _.prototype.mcall = _.prototype.invoke = function(e) {
                return this.dispatch("post", [e, a(arguments, 1)])
            }
            ,
            L.fapply = function(e, t) {
                return L(e).dispatch("apply", [void 0, t])
            }
            ,
            _.prototype.fapply = function(e) {
                return this.dispatch("apply", [void 0, e])
            }
            ,
            L["try"] = L.fcall = function(e) {
                return L(e).dispatch("apply", [void 0, a(arguments, 1)])
            }
            ,
            _.prototype.fcall = function() {
                return this.dispatch("apply", [void 0, a(arguments)])
            }
            ,
            L.fbind = function(e) {
                var t = L(e)
                    , n = a(arguments, 1);
                return function() {
                    return t.dispatch("apply", [this, n.concat(a(arguments))])
                }
            }
            ,
            _.prototype.fbind = function() {
                var e = this
                    , t = a(arguments);
                return function() {
                    return e.dispatch("apply", [this, t.concat(a(arguments))])
                }
            }
            ,
            L.keys = function(e) {
                return L(e).dispatch("keys", [])
            }
            ,
            _.prototype.keys = function() {
                return this.dispatch("keys", [])
            }
            ,
            L.all = st,
            _.prototype.all = function() {
                return st(this)
            }
            ,
            L.allResolved = k(ot, "allResolved", "allSettled"),
            _.prototype.allResolved = function() {
                return ot(this)
            }
            ,
            L.allSettled = ut,
            _.prototype.allSettled = function() {
                return this.then(function(e) {
                    return st(c(e, function(e) {
                        function t() {
                            return e.inspect()
                        }
                        return e = L(e),
                            e.then(t, t)
                    }))
                })
            }
            ,
            L.fail = L["catch"] = function(e, t) {
                return L(e).then(void 0, t)
            }
            ,
            _.prototype.fail = _.prototype["catch"] = function(e) {
                return this.then(void 0, e)
            }
            ,
            L.progress = at,
            _.prototype.progress = function(e) {
                return this.then(void 0, void 0, e)
            }
            ,
            L.fin = L["finally"] = function(e, t) {
                return L(e)["finally"](t)
            }
            ,
            _.prototype.fin = _.prototype["finally"] = function(e) {
                return e = L(e),
                    this.then(function(t) {
                        return e.fcall().then(function() {
                            return t
                        })
                    }, function(t) {
                        return e.fcall().then(function() {
                            throw t
                        })
                    })
            }
            ,
            L.done = function(e, t, n, r) {
                return L(e).done(t, n, r)
            }
            ,
            _.prototype.done = function(e, t, n) {
                var r = function(e) {
                        s(function() {
                            E(e, i);
                            if (!L.onerror)
                                throw e;
                            L.onerror(e)
                        })
                    }
                    , i = e || t || n ? this.then(e, t, n) : this;
                typeof process == "object" && process && process.domain && (r = process.domain.bind(r)),
                    i.then(void 0, r)
            }
            ,
            L.timeout = function(e, t, n) {
                return L(e).timeout(t, n)
            }
            ,
            _.prototype.timeout = function(e, t) {
                var n = A()
                    , r = setTimeout(function() {
                        n.reject(new Error(t || "Timed out after " + e + " ms"))
                    }, e);
                return this.then(function(e) {
                    clearTimeout(r),
                        n.resolve(e)
                }, function(e) {
                    clearTimeout(r),
                        n.reject(e)
                }, n.notify),
                    n.promise
            }
            ,
            L.delay = function(e, t) {
                return t === void 0 && (t = e,
                    e = void 0),
                    L(e).delay(t)
            }
            ,
            _.prototype.delay = function(e) {
                return this.then(function(t) {
                    var n = A();
                    return setTimeout(function() {
                        n.resolve(t)
                    }, e),
                        n.promise
                })
            }
            ,
            L.nfapply = function(e, t) {
                return L(e).nfapply(t)
            }
            ,
            _.prototype.nfapply = function(e) {
                var t = A()
                    , n = a(e);
                return n.push(t.makeNodeResolver()),
                    this.fapply(n).fail(t.reject),
                    t.promise
            }
            ,
            L.nfcall = function(e) {
                var t = a(arguments, 1);
                return L(e).nfapply(t)
            }
            ,
            _.prototype.nfcall = function() {
                var e = a(arguments)
                    , t = A();
                return e.push(t.makeNodeResolver()),
                    this.fapply(e).fail(t.reject),
                    t.promise
            }
            ,
            L.nfbind = L.denodeify = function(e) {
                var t = a(arguments, 1);
                return function() {
                    var n = t.concat(a(arguments))
                        , r = A();
                    return n.push(r.makeNodeResolver()),
                        L(e).fapply(n).fail(r.reject),
                        r.promise
                }
            }
            ,
            _.prototype.nfbind = _.prototype.denodeify = function() {
                var e = a(arguments);
                return e.unshift(this),
                    L.denodeify.apply(void 0, e)
            }
            ,
            L.nbind = function(e, t) {
                var n = a(arguments, 2);
                return function() {
                    function s() {
                        return e.apply(t, arguments)
                    }
                    var r = n.concat(a(arguments))
                        , i = A();
                    return r.push(i.makeNodeResolver()),
                        L(s).fapply(r).fail(i.reject),
                        i.promise
                }
            }
            ,
            _.prototype.nbind = function() {
                var e = a(arguments, 0);
                return e.unshift(this),
                    L.nbind.apply(void 0, e)
            }
            ,
            L.nmapply = L.npost = function(e, t, n) {
                return L(e).npost(t, n)
            }
            ,
            _.prototype.nmapply = _.prototype.npost = function(e, t) {
                var n = a(t || [])
                    , r = A();
                return n.push(r.makeNodeResolver()),
                    this.dispatch("post", [e, n]).fail(r.reject),
                    r.promise
            }
            ,
            L.nsend = L.nmcall = L.ninvoke = function(e, t) {
                var n = a(arguments, 2)
                    , r = A();
                return n.push(r.makeNodeResolver()),
                    L(e).dispatch("post", [t, n]).fail(r.reject),
                    r.promise
            }
            ,
            _.prototype.nsend = _.prototype.nmcall = _.prototype.ninvoke = function(e) {
                var t = a(arguments, 1)
                    , n = A();
                return t.push(n.makeNodeResolver()),
                    this.dispatch("post", [e, t]).fail(n.reject),
                    n.promise
            }
            ,
            L.nodeify = ft,
            _.prototype.nodeify = function(e) {
                if (!e)
                    return this;
                this.then(function(t) {
                    s(function() {
                        e(null , t)
                    })
                }, function(t) {
                    s(function() {
                        e(t)
                    })
                })
            }
        ;
        var lt = C();
        return L
    }),
    define("boss", ["require"], function(e) {
        "use strict";
        var t = "webPortfolio"
            , n = function(e, n) {
                var r = new Image
                    , i = ["http://btrace.qq.com/kvcollect?fTime=", "sIp=", "iQQ=" + app.QQuin, "sBiz=" + t, "sOp=" + e, "iSta=", "iTy=2664", "iFlow=", "sRef=", "sPageId=", "sPos=" + (n || ""), "_r=" + Math.random(), "sUrl=" + location.href];
                r.src = i.join("&")
            }
            , r = function(e, t) {
                var n = new Image
                    , r = ["http://btrace.qq.com/kvcollect?fTime=", "sIp=", "iQQ=" + app.QQuin, "sBiz=", "sOp=1", "iSta=0", "iTy=1230", "iFlow=", "js=", "line=0", "msg=" + e, "env=", "stack=" + (t || "").slice(0, 256), "ds=", "_r=" + Math.random(), "file=" + location.href];
                n.src = r.join("&")
            }
            , i = function(e) {
                var n = new Image
                    , r = ["http://btrace.qq.com/kvcollect?fTime=", "sIp=", "iQQ=" + app.QQuin, "sBiz=" + t, "sOp=" + e.name, "iSta=" + e.iBak1, "iTy=2664", "iFlow=", "sRef=" + e.sBak1, "sPageId=" + e.sBak2, "sPos=" + e.sText, "_r=" + Math.random(), "sUrl=" + location.href];
                n.src = r.join("&")
            }
            ;
        return {
            act: n,
            stack: r,
            error: i
        }
    }),
    !function(e, t) {
        if ("object" == typeof exports && "object" == typeof module)
            module.exports = t();
        else if ("function" == typeof define && define.amd)
            define("push", [], t);
        else {
            var n = t();
            for (var r in n)
                ("object" == typeof exports ? exports : e)[r] = n[r]
        }
    }(this, function() {
        return function(e) {
            function t(r) {
                if (n[r])
                    return n[r].exports;
                var i = n[r] = {
                    exports: {},
                    id: r,
                    loaded: !1
                };
                return e[r].call(i.exports, i, i.exports, t),
                    i.loaded = !0,
                    i.exports
            }
            var n = {};
            return t.m = e,
                t.c = n,
                t.p = "./",
                t(0)
        }([function(e, t, n) {
            e.exports = n(20)
        }
            , function(e, t, n) {
                "use strict";
                var r = n(8)
                    , i = n(9)
                    , s = n(10)
                    , o = /^(sh|sz|hk|r_hk|jj|s_jj|us|nq)/
                    , u = 3448
                    , a = window["PUSH_" + (new Date).getTime()] = {}
                    , f = -1
                    , l = 0
                    , c = 1;
                e.exports = {
                    MARKETS: o,
                    BOSSID: u,
                    GLOBAL_EVENT: a,
                    State_Uninitialized: f,
                    State_Loading: l,
                    State_Ready: c,
                    HEAD: r.HEAD,
                    TAIL: r.TAIL,
                    PROTOCOL_VER: r.PROTOCOL_VER,
                    IS_COMPRESS: r.IS_COMPRESS,
                    IS_ENCRYPT: r.IS_ENCRYPT,
                    REQ_HEARTBEAT: r.REQ_HEARTBEAT,
                    REQ_SYMBOL: r.REQ_SYMBOL,
                    REQ_KEYS: r.REQ_KEYS,
                    RES_REQUEST: r.RES_REQUEST,
                    RES_REPLY: r.RES_REPLY,
                    RES_PUSH: r.RES_PUSH,
                    RES_HEARTBEAT: r.RES_HEARTBEAT,
                    RES_ERROR: r.RES_ERROR,
                    SOCKET_MAP: i.SOCKET_MAP,
                    INVERSE_SOCKET_MAP: i.INVERSE_SOCKET_MAP,
                    WEBSOCKET_SERVER: i.WEBSOCKET_SERVER,
                    TIMEOUT: i.TIMEOUT,
                    AMOUNT_LIMIT: i.AMOUNT_LIMIT,
                    FRAME_FMT: i.FRAME_FMT,
                    SUPPORT_MKT_SOCKET: i.SUPPORT_MKT_SOCKET,
                    ON_STATE: i.ON_STATE,
                    OFF_STATE: i.OFF_STATE,
                    SQT_FRQ: s.SQT_FRQ,
                    SQT_SERVER: s.SQT_SERVER,
                    SUPPORT_MKT_SQT: s.SUPPORT_MKT_SQT,
                    MAX_LENGTH: s.MAX_LENGTH,
                    $head: s.$head,
                    READY_STATE: s.READY_STATE,
                    SCRIPT_TYPE: s.SCRIPT_TYPE,
                    HS_SQT_MAP: s.HS_SQT_MAP,
                    HS_INVERSE_SQT_MAP: s.HS_INVERSE_SQT_MAP,
                    HK_SQT_MAP: s.HK_SQT_MAP,
                    HK_INVERSE_SQT_MAP: s.HK_INVERSE_SQT_MAP,
                    US_SQT_MAP: s.US_SQT_MAP,
                    US_INVERSE_SQT_MAP: s.US_INVERSE_SQT_MAP,
                    JJ_SQT_MAP: s.JJ_SQT_MAP,
                    JJ_INVERSE_SQT_MAP: s.JJ_INVERSE_SQT_MAP,
                    S_JJ_SQT_MAP: s.S_JJ_SQT_MAP,
                    S_JJ_INVERSE_SQT_MAP: s.S_JJ_INVERSE_SQT_MAP
                }
            }
            , function(e, t, n) {
                var r;
                (function(e, i) {
                    (function() {
                        function s(e, t) {
                            if (e !== t) {
                                var n = null === e
                                    , r = e === k
                                    , i = e === e
                                    , s = null === t
                                    , o = t === k
                                    , u = t === t;
                                if (e > t && !s || !i || n && !o && u || r && u)
                                    return 1;
                                if (t > e && !n || !u || s && !r && i || o && i)
                                    return -1
                            }
                            return 0
                        }
                        function o(e, t, n) {
                            for (var r = e.length, i = n ? r : -1; n ? i-- : ++i < r; )
                                if (t(e[i], i, e))
                                    return i;
                            return -1
                        }
                        function u(e, t, n) {
                            if (t !== t)
                                return y(e, n);
                            for (var r = n - 1, i = e.length; ++r < i; )
                                if (e[r] === t)
                                    return r;
                            return -1
                        }
                        function a(e) {
                            return "function" == typeof e || !1
                        }
                        function f(e) {
                            return null == e ? "" : e + ""
                        }
                        function l(e, t) {
                            for (var n = -1, r = e.length; ++n < r && t.indexOf(e.charAt(n)) > -1; )
                                ;
                            return n
                        }
                        function c(e, t) {
                            for (var n = e.length; n-- && t.indexOf(e.charAt(n)) > -1; )
                                ;
                            return n
                        }
                        function h(e, t) {
                            return s(e.criteria, t.criteria) || e.index - t.index
                        }
                        function p(e, t, n) {
                            for (var r = -1, i = e.criteria, o = t.criteria, u = i.length, a = n.length; ++r < u; ) {
                                var f = s(i[r], o[r]);
                                if (f) {
                                    if (r >= a)
                                        return f;
                                    var l = n[r];
                                    return f * ("asc" === l || l === !0 ? 1 : -1)
                                }
                            }
                            return e.index - t.index
                        }
                        function d(e) {
                            return Vt[e]
                        }
                        function v(e) {
                            return $t[e]
                        }
                        function m(e, t, n) {
                            return t ? e = Qt[e] : n && (e = Gt[e]),
                            "\\" + e
                        }
                        function g(e) {
                            return "\\" + Gt[e]
                        }
                        function y(e, t, n) {
                            for (var r = e.length, i = t + (n ? 0 : -1); n ? i-- : ++i < r; ) {
                                var s = e[i];
                                if (s !== s)
                                    return i
                            }
                            return -1
                        }
                        function b(e) {
                            return !!e && "object" == typeof e
                        }
                        function w(e) {
                            return 160 >= e && e >= 9 && 13 >= e || 32 == e || 160 == e || 5760 == e || 6158 == e || e >= 8192 && (8202 >= e || 8232 == e || 8233 == e || 8239 == e || 8287 == e || 12288 == e || 65279 == e)
                        }
                        function E(e, t) {
                            for (var n = -1, r = e.length, i = -1, s = []; ++n < r; )
                                e[n] === t && (e[n] = V,
                                    s[++i] = n);
                            return s
                        }
                        function S(e, t) {
                            for (var n, r = -1, i = e.length, s = -1, o = []; ++r < i; ) {
                                var u = e[r]
                                    , a = t ? t(u, r, e) : u;
                                r && n === a || (n = a,
                                    o[++s] = u)
                            }
                            return o
                        }
                        function x(e) {
                            for (var t = -1, n = e.length; ++t < n && w(e.charCodeAt(t)); )
                                ;
                            return t
                        }
                        function T(e) {
                            for (var t = e.length; t-- && w(e.charCodeAt(t)); )
                                ;
                            return t
                        }
                        function N(e) {
                            return Jt[e]
                        }
                        function C(e) {
                            function t(e) {
                                if (b(e) && !Oa(e) && !(e instanceof i)) {
                                    if (e instanceof r)
                                        return e;
                                    if (nu.call(e, "__chain__") && nu.call(e, "__wrapped__"))
                                        return di(e)
                                }
                                return new r(e)
                            }
                            function n() {}
                            function r(e, t, n) {
                                this.__wrapped__ = e,
                                    this.__actions__ = n || [],
                                    this.__chain__ = !!t
                            }
                            function i(e) {
                                this.__wrapped__ = e,
                                    this.__actions__ = [],
                                    this.__dir__ = 1,
                                    this.__filtered__ = !1,
                                    this.__iteratees__ = [],
                                    this.__takeCount__ = Au,
                                    this.__views__ = []
                            }
                            function w() {
                                var e = new i(this.__wrapped__);
                                return e.__actions__ = en(this.__actions__),
                                    e.__dir__ = this.__dir__,
                                    e.__filtered__ = this.__filtered__,
                                    e.__iteratees__ = en(this.__iteratees__),
                                    e.__takeCount__ = this.__takeCount__,
                                    e.__views__ = en(this.__views__),
                                    e
                            }
                            function Z() {
                                if (this.__filtered__) {
                                    var e = new i(this);
                                    e.__dir__ = -1,
                                        e.__filtered__ = !0
                                } else
                                    e = this.clone(),
                                        e.__dir__ *= -1;
                                return e
                            }
                            function rt() {
                                var e = this.__wrapped__.value()
                                    , t = this.__dir__
                                    , n = Oa(e)
                                    , r = 0 > t
                                    , i = n ? e.length : 0
                                    , s = $r(0, i, this.__views__)
                                    , o = s.start
                                    , u = s.end
                                    , a = u - o
                                    , f = r ? u : o - 1
                                    , l = this.__iteratees__
                                    , c = l.length
                                    , h = 0
                                    , p = Tu(a, this.__takeCount__);
                                if (!n || U > i || i == a && p == a)
                                    return ir(r && n ? e.reverse() : e, this.__actions__);
                                var d = [];
                                e: for (; a-- && p > h; ) {
                                    f += t;
                                    for (var v = -1, m = e[f]; ++v < c; ) {
                                        var g = l[v]
                                            , y = g.iteratee
                                            , b = g.type
                                            , w = y(m);
                                        if (b == W)
                                            m = w;
                                        else if (!w) {
                                            if (b == z)
                                                continue e;break e
                                        }
                                    }
                                    d[h++] = m
                                }
                                return d
                            }
                            function st() {
                                this.__data__ = {}
                            }
                            function Vt(e) {
                                return this.has(e) && delete this.__data__[e]
                            }
                            function $t(e) {
                                return "__proto__" == e ? k : this.__data__[e]
                            }
                            function Jt(e) {
                                return "__proto__" != e && nu.call(this.__data__, e)
                            }
                            function Kt(e, t) {
                                return "__proto__" != e && (this.__data__[e] = t),
                                    this
                            }
                            function Qt(e) {
                                var t = e ? e.length : 0;
                                for (this.data = {
                                    hash: yu(null ),
                                    set: new hu
                                }; t--; )
                                    this.push(e[t])
                            }
                            function Gt(e, t) {
                                var n = e.data
                                    , r = "string" == typeof t || Hs(t) ? n.set.has(t) : n.hash[t];
                                return r ? 0 : -1
                            }
                            function Yt(e) {
                                var t = this.data;
                                "string" == typeof e || Hs(e) ? t.set.add(e) : t.hash[e] = !0
                            }
                            function Zt(e, t) {
                                for (var n = -1, r = e.length, i = -1, s = t.length, o = Uo(r + s); ++n < r; )
                                    o[n] = e[n];
                                for (; ++i < s; )
                                    o[n++] = t[i];
                                return o
                            }
                            function en(e, t) {
                                var n = -1
                                    , r = e.length;
                                for (t || (t = Uo(r)); ++n < r; )
                                    t[n] = e[n];
                                return t
                            }
                            function tn(e, t) {
                                for (var n = -1, r = e.length; ++n < r && t(e[n], n, e) !== !1; )
                                    ;
                                return e
                            }
                            function nn(e, t) {
                                for (var n = e.length; n-- && t(e[n], n, e) !== !1; )
                                    ;
                                return e
                            }
                            function un(e, t) {
                                for (var n = -1, r = e.length; ++n < r; )
                                    if (!t(e[n], n, e))
                                        return !1;
                                return !0
                            }
                            function an(e, t, n, r) {
                                for (var i = -1, s = e.length, o = r, u = o; ++i < s; ) {
                                    var a = e[i]
                                        , f = +t(a);
                                    n(f, o) && (o = f,
                                        u = a)
                                }
                                return u
                            }
                            function fn(e, t) {
                                for (var n = -1, r = e.length, i = -1, s = []; ++n < r; ) {
                                    var o = e[n];
                                    t(o, n, e) && (s[++i] = o)
                                }
                                return s
                            }
                            function ln(e, t) {
                                for (var n = -1, r = e.length, i = Uo(r); ++n < r; )
                                    i[n] = t(e[n], n, e);
                                return i
                            }
                            function cn(e, t) {
                                for (var n = -1, r = t.length, i = e.length; ++n < r; )
                                    e[i + n] = t[n];
                                return e
                            }
                            function hn(e, t, n, r) {
                                var i = -1
                                    , s = e.length;
                                for (r && s && (n = e[++i]); ++i < s; )
                                    n = t(n, e[i], i, e);
                                return n
                            }
                            function pn(e, t, n, r) {
                                var i = e.length;
                                for (r && i && (n = e[--i]); i--; )
                                    n = t(n, e[i], i, e);
                                return n
                            }
                            function dn(e, t) {
                                for (var n = -1, r = e.length; ++n < r; )
                                    if (t(e[n], n, e))
                                        return !0;
                                return !1
                            }
                            function vn(e, t) {
                                for (var n = e.length, r = 0; n--; )
                                    r += +t(e[n]) || 0;
                                return r
                            }
                            function mn(e, t) {
                                return e === k ? t : e
                            }
                            function gn(e, t, n, r) {
                                return e !== k && nu.call(r, n) ? e : t
                            }
                            function yn(e, t, n) {
                                for (var r = -1, i = Ra(t), s = i.length; ++r < s; ) {
                                    var o = i[r]
                                        , u = e[o]
                                        , a = n(u, t[o], o, e, t);
                                    (a === a ? a === u : u !== u) && (u !== k || o in e) || (e[o] = a)
                                }
                                return e
                            }
                            function bn(e, t) {
                                return null == t ? e : En(t, Ra(t), e)
                            }
                            function wn(e, t) {
                                for (var n = -1, r = null == e, i = !r && Yr(e), s = i ? e.length : 0, o = t.length, u = Uo(o); ++n < o; ) {
                                    var a = t[n];
                                    i ? u[n] = Zr(a, s) ? e[a] : k : u[n] = r ? k : e[a]
                                }
                                return u
                            }
                            function En(e, t, n) {
                                n || (n = {});
                                for (var r = -1, i = t.length; ++r < i; ) {
                                    var s = t[r];
                                    n[s] = e[s]
                                }
                                return n
                            }
                            function Sn(e, t, n) {
                                var r = typeof e;
                                return "function" == r ? t === k ? e : ur(e, t, n) : null == e ? Ao : "object" == r ? Rn(e) : t === k ? Ho(e) : Un(e, t)
                            }
                            function xn(e, t, n, r, i, s, o) {
                                var u;
                                if (n && (u = i ? n(e, r, i) : n(e)),
                                    u !== k)
                                    return u;
                                if (!Hs(e))
                                    return e;
                                var a = Oa(e);
                                if (a) {
                                    if (u = Jr(e),
                                            !t)
                                        return en(e, u)
                                } else {
                                    var f = iu.call(e)
                                        , l = f == Y;
                                    if (f != tt && f != $ && (!l || i))
                                        return Xt[f] ? Qr(e, f, t) : i ? e : {};
                                    if (u = Kr(l ? {} : e),
                                            !t)
                                        return bn(u, e)
                                }
                                s || (s = []),
                                o || (o = []);
                                for (var c = s.length; c--; )
                                    if (s[c] == e)
                                        return o[c];
                                return s.push(e),
                                    o.push(u),
                                    (a ? tn : Dn)(e, function(r, i) {
                                        u[i] = xn(r, t, n, i, e, s, o)
                                    }),
                                    u
                            }
                            function Tn(e, t, n) {
                                if ("function" != typeof e)
                                    throw new Go(X);
                                return pu(function() {
                                    e.apply(k, n)
                                }, t)
                            }
                            function Nn(e, t) {
                                var n = e ? e.length : 0
                                    , r = [];
                                if (!n)
                                    return r;
                                var i = -1
                                    , s = Wr()
                                    , o = s == u
                                    , a = o && t.length >= U ? mr(t) : null
                                    , f = t.length;
                                a && (s = Gt,
                                    o = !1,
                                    t = a);
                                e: for (; ++i < n; ) {
                                    var l = e[i];
                                    if (o && l === l) {
                                        for (var c = f; c--; )
                                            if (t[c] === l)
                                                continue e;
                                        r.push(l)
                                    } else
                                        s(t, l, 0) < 0 && r.push(l)
                                }
                                return r
                            }
                            function Cn(e, t) {
                                var n = !0;
                                return ju(e, function(e, r, i) {
                                    return n = !!t(e, r, i)
                                }),
                                    n
                            }
                            function kn(e, t, n, r) {
                                var i = r
                                    , s = i;
                                return ju(e, function(e, o, u) {
                                    var a = +t(e, o, u);
                                    (n(a, i) || a === r && a === s) && (i = a,
                                        s = e)
                                }),
                                    s
                            }
                            function Ln(e, t, n, r) {
                                var i = e.length;
                                for (n = null == n ? 0 : +n || 0,
                                     0 > n && (n = -n > i ? 0 : i + n),
                                         r = r === k || r > i ? i : +r || 0,
                                     0 > r && (r += i),
                                         i = n > r ? 0 : r >>> 0,
                                         n >>>= 0; i > n; )
                                    e[n++] = t;
                                return e
                            }
                            function An(e, t) {
                                var n = [];
                                return ju(e, function(e, r, i) {
                                    t(e, r, i) && n.push(e)
                                }),
                                    n
                            }
                            function On(e, t, n, r) {
                                var i;
                                return n(e, function(e, n, s) {
                                    return t(e, n, s) ? (i = r ? n : e,
                                        !1) : void 0
                                }),
                                    i
                            }
                            function Mn(e, t, n, r) {
                                r || (r = []);
                                for (var i = -1, s = e.length; ++i < s; ) {
                                    var o = e[i];
                                    b(o) && Yr(o) && (n || Oa(o) || Cs(o)) ? t ? Mn(o, t, n, r) : cn(r, o) : n || (r[r.length] = o)
                                }
                                return r
                            }
                            function _n(e, t) {
                                return Iu(e, t, to)
                            }
                            function Dn(e, t) {
                                return Iu(e, t, Ra)
                            }
                            function Pn(e, t) {
                                return qu(e, t, Ra)
                            }
                            function Hn(e, t) {
                                for (var n = -1, r = t.length, i = -1, s = []; ++n < r; ) {
                                    var o = t[n];
                                    Ps(e[o]) && (s[++i] = o)
                                }
                                return s
                            }
                            function Bn(e, t, n) {
                                if (null != e) {
                                    n !== k && n in hi(e) && (t = [n]);
                                    for (var r = 0, i = t.length; null != e && i > r; )
                                        e = e[t[r++]];
                                    return r && r == i ? e : k
                                }
                            }
                            function jn(e, t, n, r, i, s) {
                                return e === t ? !0 : null == e || null == t || !Hs(e) && !b(t) ? e !== e && t !== t : Fn(e, t, jn, n, r, i, s)
                            }
                            function Fn(e, t, n, r, i, s, o) {
                                var u = Oa(e)
                                    , a = Oa(t)
                                    , f = J
                                    , l = J;
                                u || (f = iu.call(e),
                                    f == $ ? f = tt : f != tt && (u = Ws(e))),
                                a || (l = iu.call(t),
                                    l == $ ? l = tt : l != tt && (a = Ws(t)));
                                var c = f == tt
                                    , h = l == tt
                                    , p = f == l;
                                if (p && !u && !c)
                                    return qr(e, t, f);
                                if (!i) {
                                    var d = c && nu.call(e, "__wrapped__")
                                        , v = h && nu.call(t, "__wrapped__");
                                    if (d || v)
                                        return n(d ? e.value() : e, v ? t.value() : t, r, i, s, o)
                                }
                                if (!p)
                                    return !1;
                                s || (s = []),
                                o || (o = []);
                                for (var m = s.length; m--; )
                                    if (s[m] == e)
                                        return o[m] == t;
                                s.push(e),
                                    o.push(t);
                                var g = (u ? Ir : Rr)(e, t, n, r, i, s, o);
                                return s.pop(),
                                    o.pop(),
                                    g
                            }
                            function In(e, t, n) {
                                var r = t.length
                                    , i = r
                                    , s = !n;
                                if (null == e)
                                    return !i;
                                for (e = hi(e); r--; ) {
                                    var o = t[r];
                                    if (s && o[2] ? o[1] !== e[o[0]] : !(o[0]in e))
                                        return !1
                                }
                                for (; ++r < i; ) {
                                    o = t[r];
                                    var u = o[0]
                                        , a = e[u]
                                        , f = o[1];
                                    if (s && o[2]) {
                                        if (a === k && !(u in e))
                                            return !1
                                    } else {
                                        var l = n ? n(a, f, u) : k;
                                        if (l === k ? !jn(f, a, n, !0) : !l)
                                            return !1
                                    }
                                }
                                return !0
                            }
                            function qn(e, t) {
                                var n = -1
                                    , r = Yr(e) ? Uo(e.length) : [];
                                return ju(e, function(e, i, s) {
                                    r[++n] = t(e, i, s)
                                }),
                                    r
                            }
                            function Rn(e) {
                                var t = Xr(e);
                                if (1 == t.length && t[0][2]) {
                                    var n = t[0][0]
                                        , r = t[0][1];
                                    return function(e) {
                                        return null == e ? !1 : e[n] === r && (r !== k || n in hi(e))
                                    }
                                }
                                return function(e) {
                                    return In(e, t)
                                }
                            }
                            function Un(e, t) {
                                var n = Oa(e)
                                    , r = ti(e) && ii(t)
                                    , i = e + "";
                                return e = pi(e),
                                    function(s) {
                                        if (null == s)
                                            return !1;
                                        var o = i;
                                        if (s = hi(s),
                                            (n || !r) && !(o in s)) {
                                            if (s = 1 == e.length ? s : Bn(s, Qn(e, 0, -1)),
                                                null == s)
                                                return !1;
                                            o = ki(e),
                                                s = hi(s)
                                        }
                                        return s[o] === t ? t !== k || o in s : jn(t, s[o], k, !0)
                                    }
                            }
                            function zn(e, t, n, r, i) {
                                if (!Hs(e))
                                    return e;
                                var s = Yr(t) && (Oa(t) || Ws(t))
                                    , o = s ? k : Ra(t);
                                return tn(o || t, function(u, a) {
                                    if (o && (a = u,
                                            u = t[a]),
                                            b(u))
                                        r || (r = []),
                                        i || (i = []),
                                            Wn(e, t, a, zn, n, r, i);
                                    else {
                                        var f = e[a]
                                            , l = n ? n(f, u, a, e, t) : k
                                            , c = l === k;
                                        c && (l = u),
                                        l === k && (!s || a in e) || !c && (l === l ? l === f : f !== f) || (e[a] = l)
                                    }
                                }),
                                    e
                            }
                            function Wn(e, t, n, r, i, s, o) {
                                for (var u = s.length, a = t[n]; u--; )
                                    if (s[u] == a)
                                        return void (e[n] = o[u]);
                                var f = e[n]
                                    , l = i ? i(f, a, n, e, t) : k
                                    , c = l === k;
                                c && (l = a,
                                    Yr(a) && (Oa(a) || Ws(a)) ? l = Oa(f) ? f : Yr(f) ? en(f) : [] : Rs(a) || Cs(a) ? l = Cs(f) ? Ks(f) : Rs(f) ? f : {} : c = !1),
                                    s.push(a),
                                    o.push(l),
                                    c ? e[n] = r(l, a, i, s, o) : (l === l ? l !== f : f === f) && (e[n] = l)
                            }
                            function Xn(e) {
                                return function(t) {
                                    return null == t ? k : t[e]
                                }
                            }
                            function Vn(e) {
                                var t = e + "";
                                return e = pi(e),
                                    function(n) {
                                        return Bn(n, e, t)
                                    }
                            }
                            function $n(e, t) {
                                for (var n = e ? t.length : 0; n--; ) {
                                    var r = t[n];
                                    if (r != i && Zr(r)) {
                                        var i = r;
                                        du.call(e, r, 1)
                                    }
                                }
                                return e
                            }
                            function Jn(e, t) {
                                return e + bu(ku() * (t - e + 1))
                            }
                            function Kn(e, t, n, r, i) {
                                return i(e, function(e, i, s) {
                                    n = r ? (r = !1,
                                        e) : t(n, e, i, s)
                                }),
                                    n
                            }
                            function Qn(e, t, n) {
                                var r = -1
                                    , i = e.length;
                                t = null == t ? 0 : +t || 0,
                                0 > t && (t = -t > i ? 0 : i + t),
                                    n = n === k || n > i ? i : +n || 0,
                                0 > n && (n += i),
                                    i = t > n ? 0 : n - t >>> 0,
                                    t >>>= 0;
                                for (var s = Uo(i); ++r < i; )
                                    s[r] = e[r + t];
                                return s
                            }
                            function Gn(e, t) {
                                var n;
                                return ju(e, function(e, r, i) {
                                    return n = t(e, r, i),
                                        !n
                                }),
                                    !!n
                            }
                            function Yn(e, t) {
                                var n = e.length;
                                for (e.sort(t); n--; )
                                    e[n] = e[n].value;
                                return e
                            }
                            function Zn(e, t, n) {
                                var r = Ur()
                                    , i = -1;
                                t = ln(t, function(e) {
                                    return r(e)
                                });
                                var s = qn(e, function(e) {
                                    var n = ln(t, function(t) {
                                        return t(e)
                                    });
                                    return {
                                        criteria: n,
                                        index: ++i,
                                        value: e
                                    }
                                });
                                return Yn(s, function(e, t) {
                                    return p(e, t, n)
                                })
                            }
                            function er(e, t) {
                                var n = 0;
                                return ju(e, function(e, r, i) {
                                    n += +t(e, r, i) || 0
                                }),
                                    n
                            }
                            function tr(e, t) {
                                var n = -1
                                    , r = Wr()
                                    , i = e.length
                                    , s = r == u
                                    , o = s && i >= U
                                    , a = o ? mr() : null
                                    , f = [];
                                a ? (r = Gt,
                                    s = !1) : (o = !1,
                                    a = t ? [] : f);
                                e: for (; ++n < i; ) {
                                    var l = e[n]
                                        , c = t ? t(l, n, e) : l;
                                    if (s && l === l) {
                                        for (var h = a.length; h--; )
                                            if (a[h] === c)
                                                continue e;
                                        t && a.push(c),
                                            f.push(l)
                                    } else
                                        r(a, c, 0) < 0 && ((t || o) && a.push(c),
                                            f.push(l))
                                }
                                return f
                            }
                            function nr(e, t) {
                                for (var n = -1, r = t.length, i = Uo(r); ++n < r; )
                                    i[n] = e[t[n]];
                                return i
                            }
                            function rr(e, t, n, r) {
                                for (var i = e.length, s = r ? i : -1; (r ? s-- : ++s < i) && t(e[s], s, e); )
                                    ;
                                return n ? Qn(e, r ? 0 : s, r ? s + 1 : i) : Qn(e, r ? s + 1 : 0, r ? i : s)
                            }
                            function ir(e, t) {
                                var n = e;
                                n instanceof i && (n = n.value());
                                for (var r = -1, s = t.length; ++r < s; ) {
                                    var o = t[r];
                                    n = o.func.apply(o.thisArg, cn([n], o.args))
                                }
                                return n
                            }
                            function sr(e, t, n) {
                                var r = 0
                                    , i = e ? e.length : r;
                                if ("number" == typeof t && t === t && _u >= i) {
                                    for (; i > r; ) {
                                        var s = r + i >>> 1
                                            , o = e[s];
                                        (n ? t >= o : t > o) && null !== o ? r = s + 1 : i = s
                                    }
                                    return i
                                }
                                return or(e, t, Ao, n)
                            }
                            function or(e, t, n, r) {
                                t = n(t);
                                for (var i = 0, s = e ? e.length : 0, o = t !== t, u = null === t, a = t === k; s > i; ) {
                                    var f = bu((i + s) / 2)
                                        , l = n(e[f])
                                        , c = l !== k
                                        , h = l === l;
                                    if (o)
                                        var p = h || r;
                                    else
                                        p = u ? h && c && (r || null != l) : a ? h && (r || c) : null == l ? !1 : r ? t >= l : t > l;
                                    p ? i = f + 1 : s = f
                                }
                                return Tu(s, Mu)
                            }
                            function ur(e, t, n) {
                                if ("function" != typeof e)
                                    return Ao;
                                if (t === k)
                                    return e;
                                switch (n) {
                                    case 1:
                                        return function(n) {
                                            return e.call(t, n)
                                        }
                                            ;
                                    case 3:
                                        return function(n, r, i) {
                                            return e.call(t, n, r, i)
                                        }
                                            ;
                                    case 4:
                                        return function(n, r, i, s) {
                                            return e.call(t, n, r, i, s)
                                        }
                                            ;
                                    case 5:
                                        return function(n, r, i, s, o) {
                                            return e.call(t, n, r, i, s, o)
                                        }
                                }
                                return function() {
                                    return e.apply(t, arguments)
                                }
                            }
                            function ar(e) {
                                var t = new uu(e.byteLength)
                                    , n = new vu(t);
                                return n.set(new vu(e)),
                                    t
                            }
                            function fr(e, t, n) {
                                for (var r = n.length, i = -1, s = xu(e.length - r, 0), o = -1, u = t.length, a = Uo(u + s); ++o < u; )
                                    a[o] = t[o];
                                for (; ++i < r; )
                                    a[n[i]] = e[i];
                                for (; s--; )
                                    a[o++] = e[i++];
                                return a
                            }
                            function lr(e, t, n) {
                                for (var r = -1, i = n.length, s = -1, o = xu(e.length - i, 0), u = -1, a = t.length, f = Uo(o + a); ++s < o; )
                                    f[s] = e[s];
                                for (var l = s; ++u < a; )
                                    f[l + u] = t[u];
                                for (; ++r < i; )
                                    f[l + n[r]] = e[s++];
                                return f
                            }
                            function cr(e, t) {
                                return function(n, r, i) {
                                    var s = t ? t() : {};
                                    if (r = Ur(r, i, 3),
                                            Oa(n))
                                        for (var o = -1, u = n.length; ++o < u; ) {
                                            var a = n[o];
                                            e(s, a, r(a, o, n), n)
                                        }
                                    else
                                        ju(n, function(t, n, i) {
                                            e(s, t, r(t, n, i), i)
                                        });
                                    return s
                                }
                            }
                            function hr(e) {
                                return ys(function(t, n) {
                                    var r = -1
                                        , i = null == t ? 0 : n.length
                                        , s = i > 2 ? n[i - 2] : k
                                        , o = i > 2 ? n[2] : k
                                        , u = i > 1 ? n[i - 1] : k;
                                    for ("function" == typeof s ? (s = ur(s, u, 5),
                                        i -= 2) : (s = "function" == typeof u ? u : k,
                                        i -= s ? 1 : 0),
                                         o && ei(n[0], n[1], o) && (s = 3 > i ? k : s,
                                             i = 1); ++r < i; ) {
                                        var a = n[r];
                                        a && e(t, a, s)
                                    }
                                    return t
                                })
                            }
                            function pr(e, t) {
                                return function(n, r) {
                                    var i = n ? zu(n) : 0;
                                    if (!ri(i))
                                        return e(n, r);
                                    for (var s = t ? i : -1, o = hi(n); (t ? s-- : ++s < i) && r(o[s], s, o) !== !1; )
                                        ;
                                    return n
                                }
                            }
                            function dr(e) {
                                return function(t, n, r) {
                                    for (var i = hi(t), s = r(t), o = s.length, u = e ? o : -1; e ? u-- : ++u < o; ) {
                                        var a = s[u];
                                        if (n(i[a], a, i) === !1)
                                            break
                                    }
                                    return t
                                }
                            }
                            function vr(e, t) {
                                function n() {
                                    var i = this && this !== rn && this instanceof n ? r : e;
                                    return i.apply(t, arguments)
                                }
                                var r = yr(e);
                                return n
                            }
                            function mr(e) {
                                return yu && hu ? new Qt(e) : null
                            }
                            function gr(e) {
                                return function(t) {
                                    for (var n = -1, r = Co(co(t)), i = r.length, s = ""; ++n < i; )
                                        s = e(s, r[n], n);
                                    return s
                                }
                            }
                            function yr(e) {
                                return function() {
                                    var t = arguments;
                                    switch (t.length) {
                                        case 0:
                                            return new e;
                                        case 1:
                                            return new e(t[0]);
                                        case 2:
                                            return new e(t[0],t[1]);
                                        case 3:
                                            return new e(t[0],t[1],t[2]);
                                        case 4:
                                            return new e(t[0],t[1],t[2],t[3]);
                                        case 5:
                                            return new e(t[0],t[1],t[2],t[3],t[4]);
                                        case 6:
                                            return new e(t[0],t[1],t[2],t[3],t[4],t[5]);
                                        case 7:
                                            return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])
                                    }
                                    var n = Bu(e.prototype)
                                        , r = e.apply(n, t);
                                    return Hs(r) ? r : n
                                }
                            }
                            function br(e) {
                                function t(n, r, i) {
                                    i && ei(n, r, i) && (r = k);
                                    var s = Fr(n, e, k, k, k, k, k, r);
                                    return s.placeholder = t.placeholder,
                                        s
                                }
                                return t
                            }
                            function wr(e, t) {
                                return ys(function(n) {
                                    var r = n[0];
                                    return null == r ? r : (n.push(t),
                                        e.apply(k, n))
                                })
                            }
                            function Er(e, t) {
                                return function(n, r, i) {
                                    if (i && ei(n, r, i) && (r = k),
                                            r = Ur(r, i, 3),
                                        1 == r.length) {
                                        n = Oa(n) ? n : ci(n);
                                        var s = an(n, r, e, t);
                                        if (!n.length || s !== t)
                                            return s
                                    }
                                    return kn(n, r, e, t)
                                }
                            }
                            function Sr(e, t) {
                                return function(n, r, i) {
                                    if (r = Ur(r, i, 3),
                                            Oa(n)) {
                                        var s = o(n, r, t);
                                        return s > -1 ? n[s] : k
                                    }
                                    return On(n, r, e)
                                }
                            }
                            function xr(e) {
                                return function(t, n, r) {
                                    return t && t.length ? (n = Ur(n, r, 3),
                                        o(t, n, e)) : -1
                                }
                            }
                            function Tr(e) {
                                return function(t, n, r) {
                                    return n = Ur(n, r, 3),
                                        On(t, n, e, !0)
                                }
                            }
                            function Nr(e) {
                                return function() {
                                    for (var t, n = arguments.length, i = e ? n : -1, s = 0, o = Uo(n); e ? i-- : ++i < n; ) {
                                        var u = o[s++] = arguments[i];
                                        if ("function" != typeof u)
                                            throw new Go(X);
                                        !t && r.prototype.thru && "wrapper" == zr(u) && (t = new r([],!0))
                                    }
                                    for (i = t ? -1 : n; ++i < n; ) {
                                        u = o[i];
                                        var a = zr(u)
                                            , f = "wrapper" == a ? Uu(u) : k;
                                        t = f && ni(f[0]) && f[1] == (B | _ | P | j) && !f[4].length && 1 == f[9] ? t[zr(f[0])].apply(t, f[3]) : 1 == u.length && ni(u) ? t[a]() : t.thru(u)
                                    }
                                    return function() {
                                        var e = arguments
                                            , r = e[0];
                                        if (t && 1 == e.length && Oa(r) && r.length >= U)
                                            return t.plant(r).value();
                                        for (var i = 0, s = n ? o[i].apply(this, e) : r; ++i < n; )
                                            s = o[i].call(this, s);
                                        return s
                                    }
                                }
                            }
                            function Cr(e, t) {
                                return function(n, r, i) {
                                    return "function" == typeof r && i === k && Oa(n) ? e(n, r) : t(n, ur(r, i, 3))
                                }
                            }
                            function kr(e) {
                                return function(t, n, r) {
                                    return ("function" != typeof n || r !== k) && (n = ur(n, r, 3)),
                                        e(t, n, to)
                                }
                            }
                            function Lr(e) {
                                return function(t, n, r) {
                                    return ("function" != typeof n || r !== k) && (n = ur(n, r, 3)),
                                        e(t, n)
                                }
                            }
                            function Ar(e) {
                                return function(t, n, r) {
                                    var i = {};
                                    return n = Ur(n, r, 3),
                                        Dn(t, function(t, r, s) {
                                            var o = n(t, r, s);
                                            r = e ? o : r,
                                                t = e ? t : o,
                                                i[r] = t
                                        }),
                                        i
                                }
                            }
                            function Or(e) {
                                return function(t, n, r) {
                                    return t = f(t),
                                    (e ? t : "") + Pr(t, n, r) + (e ? "" : t)
                                }
                            }
                            function Mr(e) {
                                var t = ys(function(n, r) {
                                    var i = E(r, t.placeholder);
                                    return Fr(n, e, k, r, i)
                                });
                                return t
                            }
                            function _r(e, t) {
                                return function(n, r, i, s) {
                                    var o = arguments.length < 3;
                                    return "function" == typeof r && s === k && Oa(n) ? e(n, r, i, o) : Kn(n, Ur(r, s, 4), i, o, t)
                                }
                            }
                            function Dr(e, t, n, r, i, s, o, u, a, f) {
                                function l() {
                                    for (var y = arguments.length, b = y, w = Uo(y); b--; )
                                        w[b] = arguments[b];
                                    if (r && (w = fr(w, r, i)),
                                        s && (w = lr(w, s, o)),
                                        d || m) {
                                        var S = l.placeholder
                                            , x = E(w, S);
                                        if (y -= x.length,
                                            f > y) {
                                            var T = u ? en(u) : k
                                                , N = xu(f - y, 0)
                                                , C = d ? x : k
                                                , L = d ? k : x
                                                , M = d ? w : k
                                                , _ = d ? k : w;
                                            t |= d ? P : H,
                                                t &= ~(d ? H : P),
                                            v || (t &= ~(A | O));
                                            var D = [e, t, n, M, C, _, L, T, a, N]
                                                , B = Dr.apply(k, D);
                                            return ni(e) && Wu(B, D),
                                                B.placeholder = S,
                                                B
                                        }
                                    }
                                    var j = h ? n : this
                                        , F = p ? j[e] : e;
                                    return u && (w = fi(w, u)),
                                    c && a < w.length && (w.length = a),
                                    this && this !== rn && this instanceof l && (F = g || yr(e)),
                                        F.apply(j, w)
                                }
                                var c = t & B
                                    , h = t & A
                                    , p = t & O
                                    , d = t & _
                                    , v = t & M
                                    , m = t & D
                                    , g = p ? k : yr(e);
                                return l
                            }
                            function Pr(e, t, n) {
                                var r = e.length;
                                if (t = +t,
                                    r >= t || !Eu(t))
                                    return "";
                                var i = t - r;
                                return n = null == n ? " " : n + "",
                                    yo(n, gu(i / n.length)).slice(0, i)
                            }
                            function Hr(e, t, n, r) {
                                function i() {
                                    for (var t = -1, u = arguments.length, a = -1, f = r.length, l = Uo(f + u); ++a < f; )
                                        l[a] = r[a];
                                    for (; u--; )
                                        l[a++] = arguments[++t];
                                    var c = this && this !== rn && this instanceof i ? o : e;
                                    return c.apply(s ? n : this, l)
                                }
                                var s = t & A
                                    , o = yr(e);
                                return i
                            }
                            function Br(e) {
                                var t = Vo[e];
                                return function(e, n) {
                                    return n = n === k ? 0 : +n || 0,
                                        n ? (n = lu(10, n),
                                        t(e * n) / n) : t(e)
                                }
                            }
                            function jr(e) {
                                return function(t, n, r, i) {
                                    var s = Ur(r);
                                    return null == r && s === Sn ? sr(t, n, e) : or(t, n, s(r, i, 1), e)
                                }
                            }
                            function Fr(e, t, n, r, i, s, o, u) {
                                var a = t & O;
                                if (!a && "function" != typeof e)
                                    throw new Go(X);
                                var f = r ? r.length : 0;
                                if (f || (t &= ~(P | H),
                                        r = i = k),
                                        f -= i ? i.length : 0,
                                    t & H) {
                                    var l = r
                                        , c = i;
                                    r = i = k
                                }
                                var h = a ? k : Uu(e)
                                    , p = [e, t, n, r, i, l, c, s, o, u];
                                if (h && (si(p, h),
                                        t = p[1],
                                        u = p[9]),
                                        p[9] = null == u ? a ? 0 : e.length : xu(u - f, 0) || 0,
                                    t == A)
                                    var d = vr(p[0], p[2]);
                                else
                                    d = t != P && t != (A | P) || p[4].length ? Dr.apply(k, p) : Hr.apply(k, p);
                                var v = h ? Ru : Wu;
                                return v(d, p)
                            }
                            function Ir(e, t, n, r, i, s, o) {
                                var u = -1
                                    , a = e.length
                                    , f = t.length;
                                if (a != f && !(i && f > a))
                                    return !1;
                                for (; ++u < a; ) {
                                    var l = e[u]
                                        , c = t[u]
                                        , h = r ? r(i ? c : l, i ? l : c, u) : k;
                                    if (h !== k) {
                                        if (h)
                                            continue;return !1
                                    }
                                    if (i) {
                                        if (!dn(t, function(e) {
                                                return l === e || n(l, e, r, i, s, o)
                                            }))
                                            return !1
                                    } else if (l !== c && !n(l, c, r, i, s, o))
                                        return !1
                                }
                                return !0
                            }
                            function qr(e, t, n) {
                                switch (n) {
                                    case K:
                                    case Q:
                                        return +e == +t;
                                    case G:
                                        return e.name == t.name && e.message == t.message;
                                    case et:
                                        return e != +e ? t != +t : e == +t;
                                    case nt:
                                    case it:
                                        return e == t + ""
                                }
                                return !1
                            }
                            function Rr(e, t, n, r, i, s, o) {
                                var u = Ra(e)
                                    , a = u.length
                                    , f = Ra(t)
                                    , l = f.length;
                                if (a != l && !i)
                                    return !1;
                                for (var c = a; c--; ) {
                                    var h = u[c];
                                    if (!(i ? h in t : nu.call(t, h)))
                                        return !1
                                }
                                for (var p = i; ++c < a; ) {
                                    h = u[c];
                                    var d = e[h]
                                        , v = t[h]
                                        , m = r ? r(i ? v : d, i ? d : v, h) : k;
                                    if (m === k ? !n(d, v, r, i, s, o) : !m)
                                        return !1;
                                    p || (p = "constructor" == h)
                                }
                                if (!p) {
                                    var g = e.constructor
                                        , y = t.constructor;
                                    if (g != y && "constructor"in e && "constructor"in t && !("function" == typeof g && g instanceof g && "function" == typeof y && y instanceof y))
                                        return !1
                                }
                                return !0
                            }
                            function Ur(e, n, r) {
                                var i = t.callback || ko;
                                return i = i === ko ? Sn : i,
                                    r ? i(e, n, r) : i
                            }
                            function zr(e) {
                                for (var t = e.name, n = Hu[t], r = n ? n.length : 0; r--; ) {
                                    var i = n[r]
                                        , s = i.func;
                                    if (null == s || s == e)
                                        return i.name
                                }
                                return t
                            }
                            function Wr(e, n, r) {
                                var i = t.indexOf || Ni;
                                return i = i === Ni ? u : i,
                                    e ? i(e, n, r) : i
                            }
                            function Xr(e) {
                                for (var t = no(e), n = t.length; n--; )
                                    t[n][2] = ii(t[n][1]);
                                return t
                            }
                            function Vr(e, t) {
                                var n = null == e ? k : e[t];
                                return Fs(n) ? n : k
                            }
                            function $r(e, t, n) {
                                for (var r = -1, i = n.length; ++r < i; ) {
                                    var s = n[r]
                                        , o = s.size;
                                    switch (s.type) {
                                        case "drop":
                                            e += o;
                                            break;
                                        case "dropRight":
                                            t -= o;
                                            break;
                                        case "take":
                                            t = Tu(t, e + o);
                                            break;
                                        case "takeRight":
                                            e = xu(e, t - o)
                                    }
                                }
                                return {
                                    start: e,
                                    end: t
                                }
                            }
                            function Jr(e) {
                                var t = e.length
                                    , n = new e.constructor(t);
                                return t && "string" == typeof e[0] && nu.call(e, "index") && (n.index = e.index,
                                    n.input = e.input),
                                    n
                            }
                            function Kr(e) {
                                var t = e.constructor;
                                return "function" == typeof t && t instanceof t || (t = Jo),
                                    new t
                            }
                            function Qr(e, t, n) {
                                var r = e.constructor;
                                switch (t) {
                                    case ot:
                                        return ar(e);
                                    case K:
                                    case Q:
                                        return new r(+e);
                                    case ut:
                                    case at:
                                    case ft:
                                    case lt:
                                    case ct:
                                    case ht:
                                    case pt:
                                    case dt:
                                    case vt:
                                        var i = e.buffer;
                                        return new r(n ? ar(i) : i,e.byteOffset,e.length);
                                    case et:
                                    case it:
                                        return new r(e);
                                    case nt:
                                        var s = new r(e.source,Pt.exec(e));
                                        s.lastIndex = e.lastIndex
                                }
                                return s
                            }
                            function Gr(e, t, n) {
                                null == e || ti(t, e) || (t = pi(t),
                                    e = 1 == t.length ? e : Bn(e, Qn(t, 0, -1)),
                                    t = ki(t));
                                var r = null == e ? e : e[t];
                                return null == r ? k : r.apply(e, n)
                            }
                            function Yr(e) {
                                return null != e && ri(zu(e))
                            }
                            function Zr(e, t) {
                                return e = "number" == typeof e || jt.test(e) ? +e : -1,
                                    t = null == t ? Du : t,
                                e > -1 && e % 1 == 0 && t > e
                            }
                            function ei(e, t, n) {
                                if (!Hs(n))
                                    return !1;
                                var r = typeof t;
                                if ("number" == r ? Yr(n) && Zr(t, n.length) : "string" == r && t in n) {
                                    var i = n[t];
                                    return e === e ? e === i : i !== i
                                }
                                return !1
                            }
                            function ti(e, t) {
                                var n = typeof e;
                                if ("string" == n && kt.test(e) || "number" == n)
                                    return !0;
                                if (Oa(e))
                                    return !1;
                                var r = !Ct.test(e);
                                return r || null != t && e in hi(t)
                            }
                            function ni(e) {
                                var n = zr(e);
                                if (n in i.prototype) {
                                    var r = t[n];
                                    if (e === r)
                                        return !0;
                                    var s = Uu(r);
                                    return !!s && e === s[0]
                                }
                                return !1
                            }
                            function ri(e) {
                                return "number" == typeof e && e > -1 && e % 1 == 0 && Du >= e
                            }
                            function ii(e) {
                                return e === e && !Hs(e)
                            }
                            function si(e, t) {
                                var n = e[1]
                                    , r = t[1]
                                    , i = n | r
                                    , s = B > i
                                    , o = r == B && n == _ || r == B && n == j && e[7].length <= t[8] || r == (B | j) && n == _;
                                if (!s && !o)
                                    return e;
                                r & A && (e[2] = t[2],
                                    i |= n & A ? 0 : M);
                                var u = t[3];
                                if (u) {
                                    var a = e[3];
                                    e[3] = a ? fr(a, u, t[4]) : en(u),
                                        e[4] = a ? E(e[3], V) : en(t[4])
                                }
                                return u = t[5],
                                u && (a = e[5],
                                    e[5] = a ? lr(a, u, t[6]) : en(u),
                                    e[6] = a ? E(e[5], V) : en(t[6])),
                                    u = t[7],
                                u && (e[7] = en(u)),
                                r & B && (e[8] = null == e[8] ? t[8] : Tu(e[8], t[8])),
                                null == e[9] && (e[9] = t[9]),
                                    e[0] = t[0],
                                    e[1] = i,
                                    e
                            }
                            function oi(e, t) {
                                return e === k ? t : Ma(e, t, oi)
                            }
                            function ui(e, t) {
                                e = hi(e);
                                for (var n = -1, r = t.length, i = {}; ++n < r; ) {
                                    var s = t[n];
                                    s in e && (i[s] = e[s])
                                }
                                return i
                            }
                            function ai(e, t) {
                                var n = {};
                                return _n(e, function(e, r, i) {
                                    t(e, r, i) && (n[r] = e)
                                }),
                                    n
                            }
                            function fi(e, t) {
                                for (var n = e.length, r = Tu(t.length, n), i = en(e); r--; ) {
                                    var s = t[r];
                                    e[r] = Zr(s, n) ? i[s] : k
                                }
                                return e
                            }
                            function li(e) {
                                for (var t = to(e), n = t.length, r = n && e.length, i = !!r && ri(r) && (Oa(e) || Cs(e)), s = -1, o = []; ++s < n; ) {
                                    var u = t[s];
                                    (i && Zr(u, r) || nu.call(e, u)) && o.push(u)
                                }
                                return o
                            }
                            function ci(e) {
                                return null == e ? [] : Yr(e) ? Hs(e) ? e : Jo(e) : oo(e)
                            }
                            function hi(e) {
                                return Hs(e) ? e : Jo(e)
                            }
                            function pi(e) {
                                if (Oa(e))
                                    return e;
                                var t = [];
                                return f(e).replace(Lt, function(e, n, r, i) {
                                    t.push(r ? i.replace(_t, "$1") : n || e)
                                }),
                                    t
                            }
                            function di(e) {
                                return e instanceof i ? e.clone() : new r(e.__wrapped__,e.__chain__,en(e.__actions__))
                            }
                            function vi(e, t, n) {
                                t = (n ? ei(e, t, n) : null == t) ? 1 : xu(bu(t) || 1, 1);
                                for (var r = 0, i = e ? e.length : 0, s = -1, o = Uo(gu(i / t)); i > r; )
                                    o[++s] = Qn(e, r, r += t);
                                return o
                            }
                            function mi(e) {
                                for (var t = -1, n = e ? e.length : 0, r = -1, i = []; ++t < n; ) {
                                    var s = e[t];
                                    s && (i[++r] = s)
                                }
                                return i
                            }
                            function gi(e, t, n) {
                                var r = e ? e.length : 0;
                                return r ? ((n ? ei(e, t, n) : null == t) && (t = 1),
                                    Qn(e, 0 > t ? 0 : t)) : []
                            }
                            function yi(e, t, n) {
                                var r = e ? e.length : 0;
                                return r ? ((n ? ei(e, t, n) : null == t) && (t = 1),
                                    t = r - (+t || 0),
                                    Qn(e, 0, 0 > t ? 0 : t)) : []
                            }
                            function bi(e, t, n) {
                                return e && e.length ? rr(e, Ur(t, n, 3), !0, !0) : []
                            }
                            function wi(e, t, n) {
                                return e && e.length ? rr(e, Ur(t, n, 3), !0) : []
                            }
                            function Ei(e, t, n, r) {
                                var i = e ? e.length : 0;
                                return i ? (n && "number" != typeof n && ei(e, t, n) && (n = 0,
                                    r = i),
                                    Ln(e, t, n, r)) : []
                            }
                            function Si(e) {
                                return e ? e[0] : k
                            }
                            function xi(e, t, n) {
                                var r = e ? e.length : 0;
                                return n && ei(e, t, n) && (t = !1),
                                    r ? Mn(e, t) : []
                            }
                            function Ti(e) {
                                var t = e ? e.length : 0;
                                return t ? Mn(e, !0) : []
                            }
                            function Ni(e, t, n) {
                                var r = e ? e.length : 0;
                                if (!r)
                                    return -1;
                                if ("number" == typeof n)
                                    n = 0 > n ? xu(r + n, 0) : n;
                                else if (n) {
                                    var i = sr(e, t);
                                    return r > i && (t === t ? t === e[i] : e[i] !== e[i]) ? i : -1
                                }
                                return u(e, t, n || 0)
                            }
                            function Ci(e) {
                                return yi(e, 1)
                            }
                            function ki(e) {
                                var t = e ? e.length : 0;
                                return t ? e[t - 1] : k
                            }
                            function Li(e, t, n) {
                                var r = e ? e.length : 0;
                                if (!r)
                                    return -1;
                                var i = r;
                                if ("number" == typeof n)
                                    i = (0 > n ? xu(r + n, 0) : Tu(n || 0, r - 1)) + 1;
                                else if (n) {
                                    i = sr(e, t, !0) - 1;
                                    var s = e[i];
                                    return (t === t ? t === s : s !== s) ? i : -1
                                }
                                if (t !== t)
                                    return y(e, i, !0);
                                for (; i--; )
                                    if (e[i] === t)
                                        return i;
                                return -1
                            }
                            function Ai() {
                                var e = arguments
                                    , t = e[0];
                                if (!t || !t.length)
                                    return t;
                                for (var n = 0, r = Wr(), i = e.length; ++n < i; )
                                    for (var s = 0, o = e[n]; (s = r(t, o, s)) > -1; )
                                        du.call(t, s, 1);
                                return t
                            }
                            function Oi(e, t, n) {
                                var r = [];
                                if (!e || !e.length)
                                    return r;
                                var i = -1
                                    , s = []
                                    , o = e.length;
                                for (t = Ur(t, n, 3); ++i < o; ) {
                                    var u = e[i];
                                    t(u, i, e) && (r.push(u),
                                        s.push(i))
                                }
                                return $n(e, s),
                                    r
                            }
                            function Mi(e) {
                                return gi(e, 1)
                            }
                            function _i(e, t, n) {
                                var r = e ? e.length : 0;
                                return r ? (n && "number" != typeof n && ei(e, t, n) && (t = 0,
                                    n = r),
                                    Qn(e, t, n)) : []
                            }
                            function Di(e, t, n) {
                                var r = e ? e.length : 0;
                                return r ? ((n ? ei(e, t, n) : null == t) && (t = 1),
                                    Qn(e, 0, 0 > t ? 0 : t)) : []
                            }
                            function Pi(e, t, n) {
                                var r = e ? e.length : 0;
                                return r ? ((n ? ei(e, t, n) : null == t) && (t = 1),
                                    t = r - (+t || 0),
                                    Qn(e, 0 > t ? 0 : t)) : []
                            }
                            function Hi(e, t, n) {
                                return e && e.length ? rr(e, Ur(t, n, 3), !1, !0) : []
                            }
                            function Bi(e, t, n) {
                                return e && e.length ? rr(e, Ur(t, n, 3)) : []
                            }
                            function ji(e, t, n, r) {
                                var i = e ? e.length : 0;
                                if (!i)
                                    return [];
                                null != t && "boolean" != typeof t && (r = n,
                                    n = ei(e, t, r) ? k : t,
                                    t = !1);
                                var s = Ur();
                                return (null != n || s !== Sn) && (n = s(n, r, 3)),
                                    t && Wr() == u ? S(e, n) : tr(e, n)
                            }
                            function Fi(e) {
                                if (!e || !e.length)
                                    return [];
                                var t = -1
                                    , n = 0;
                                e = fn(e, function(e) {
                                    return Yr(e) ? (n = xu(e.length, n),
                                        !0) : void 0
                                });
                                for (var r = Uo(n); ++t < n; )
                                    r[t] = ln(e, Xn(t));
                                return r
                            }
                            function Ii(e, t, n) {
                                var r = e ? e.length : 0;
                                if (!r)
                                    return [];
                                var i = Fi(e);
                                return null == t ? i : (t = ur(t, n, 4),
                                    ln(i, function(e) {
                                        return hn(e, t, k, !0)
                                    }))
                            }
                            function qi() {
                                for (var e = -1, t = arguments.length; ++e < t; ) {
                                    var n = arguments[e];
                                    if (Yr(n))
                                        var r = r ? cn(Nn(r, n), Nn(n, r)) : n
                                }
                                return r ? tr(r) : []
                            }
                            function Ri(e, t) {
                                var n = -1
                                    , r = e ? e.length : 0
                                    , i = {};
                                for (!r || t || Oa(e[0]) || (t = []); ++n < r; ) {
                                    var s = e[n];
                                    t ? i[s] = t[n] : s && (i[s[0]] = s[1])
                                }
                                return i
                            }
                            function Ui(e) {
                                var n = t(e);
                                return n.__chain__ = !0,
                                    n
                            }
                            function zi(e, t, n) {
                                return t.call(n, e),
                                    e
                            }
                            function Wi(e, t, n) {
                                return t.call(n, e)
                            }
                            function Xi() {
                                return Ui(this)
                            }
                            function Vi() {
                                return new r(this.value(),this.__chain__)
                            }
                            function $i(e) {
                                for (var t, r = this; r instanceof n; ) {
                                    var i = di(r);
                                    t ? s.__wrapped__ = i : t = i;
                                    var s = i;
                                    r = r.__wrapped__
                                }
                                return s.__wrapped__ = e,
                                    t
                            }
                            function Ji() {
                                var e = this.__wrapped__
                                    , t = function(e) {
                                        return n && n.__dir__ < 0 ? e : e.reverse()
                                    }
                                    ;
                                if (e instanceof i) {
                                    var n = e;
                                    return this.__actions__.length && (n = new i(this)),
                                        n = n.reverse(),
                                        n.__actions__.push({
                                            func: Wi,
                                            args: [t],
                                            thisArg: k
                                        }),
                                        new r(n,this.__chain__)
                                }
                                return this.thru(t)
                            }
                            function Ki() {
                                return this.value() + ""
                            }
                            function Qi() {
                                return ir(this.__wrapped__, this.__actions__)
                            }
                            function Gi(e, t, n) {
                                var r = Oa(e) ? un : Cn;
                                return n && ei(e, t, n) && (t = k),
                                ("function" != typeof t || n !== k) && (t = Ur(t, n, 3)),
                                    r(e, t)
                            }
                            function Yi(e, t, n) {
                                var r = Oa(e) ? fn : An;
                                return t = Ur(t, n, 3),
                                    r(e, t)
                            }
                            function Zi(e, t) {
                                return sa(e, Rn(t))
                            }
                            function es(e, t, n, r) {
                                var i = e ? zu(e) : 0;
                                return ri(i) || (e = oo(e),
                                    i = e.length),
                                    n = "number" != typeof n || r && ei(t, n, r) ? 0 : 0 > n ? xu(i + n, 0) : n || 0,
                                    "string" == typeof e || !Oa(e) && zs(e) ? i >= n && e.indexOf(t, n) > -1 : !!i && Wr(e, t, n) > -1
                            }
                            function ts(e, t, n) {
                                var r = Oa(e) ? ln : qn;
                                return t = Ur(t, n, 3),
                                    r(e, t)
                            }
                            function ns(e, t) {
                                return ts(e, Ho(t))
                            }
                            function rs(e, t, n) {
                                var r = Oa(e) ? fn : An;
                                return t = Ur(t, n, 3),
                                    r(e, function(e, n, r) {
                                        return !t(e, n, r)
                                    })
                            }
                            function is(e, t, n) {
                                if (n ? ei(e, t, n) : null == t) {
                                    e = ci(e);
                                    var r = e.length;
                                    return r > 0 ? e[Jn(0, r - 1)] : k
                                }
                                var i = -1
                                    , s = Js(e)
                                    , r = s.length
                                    , o = r - 1;
                                for (t = Tu(0 > t ? 0 : +t || 0, r); ++i < t; ) {
                                    var u = Jn(i, o)
                                        , a = s[u];
                                    s[u] = s[i],
                                        s[i] = a
                                }
                                return s.length = t,
                                    s
                            }
                            function ss(e) {
                                return is(e, Au)
                            }
                            function os(e) {
                                var t = e ? zu(e) : 0;
                                return ri(t) ? t : Ra(e).length
                            }
                            function us(e, t, n) {
                                var r = Oa(e) ? dn : Gn;
                                return n && ei(e, t, n) && (t = k),
                                ("function" != typeof t || n !== k) && (t = Ur(t, n, 3)),
                                    r(e, t)
                            }
                            function as(e, t, n) {
                                if (null == e)
                                    return [];
                                n && ei(e, t, n) && (t = k);
                                var r = -1;
                                t = Ur(t, n, 3);
                                var i = qn(e, function(e, n, i) {
                                    return {
                                        criteria: t(e, n, i),
                                        index: ++r,
                                        value: e
                                    }
                                });
                                return Yn(i, h)
                            }
                            function fs(e, t, n, r) {
                                return null == e ? [] : (r && ei(t, n, r) && (n = k),
                                Oa(t) || (t = null == t ? [] : [t]),
                                Oa(n) || (n = null == n ? [] : [n]),
                                    Zn(e, t, n))
                            }
                            function ls(e, t) {
                                return Yi(e, Rn(t))
                            }
                            function cs(e, t) {
                                if ("function" != typeof t) {
                                    if ("function" != typeof e)
                                        throw new Go(X);
                                    var n = e;
                                    e = t,
                                        t = n
                                }
                                return e = Eu(e = +e) ? e : 0,
                                    function() {
                                        return --e < 1 ? t.apply(this, arguments) : void 0
                                    }
                            }
                            function hs(e, t, n) {
                                return n && ei(e, t, n) && (t = k),
                                    t = e && null == t ? e.length : xu(+t || 0, 0),
                                    Fr(e, B, k, k, k, k, t)
                            }
                            function ps(e, t) {
                                var n;
                                if ("function" != typeof t) {
                                    if ("function" != typeof e)
                                        throw new Go(X);
                                    var r = e;
                                    e = t,
                                        t = r
                                }
                                return function() {
                                    return --e > 0 && (n = t.apply(this, arguments)),
                                    1 >= e && (t = k),
                                        n
                                }
                            }
                            function ds(e, t, n) {
                                function r() {
                                    p && au(p),
                                    f && au(f),
                                        v = 0,
                                        f = p = d = k
                                }
                                function i(t, n) {
                                    n && au(n),
                                        f = p = d = k,
                                    t && (v = ma(),
                                        l = e.apply(h, a),
                                    p || f || (a = h = k))
                                }
                                function s() {
                                    var e = t - (ma() - c);
                                    0 >= e || e > t ? i(d, f) : p = pu(s, e)
                                }
                                function o() {
                                    i(g, p)
                                }
                                function u() {
                                    if (a = arguments,
                                            c = ma(),
                                            h = this,
                                            d = g && (p || !y),
                                        m === !1)
                                        var n = y && !p;
                                    else {
                                        f || y || (v = c);
                                        var r = m - (c - v)
                                            , i = 0 >= r || r > m;
                                        i ? (f && (f = au(f)),
                                            v = c,
                                            l = e.apply(h, a)) : f || (f = pu(o, r))
                                    }
                                    return i && p ? p = au(p) : p || t === m || (p = pu(s, t)),
                                    n && (i = !0,
                                        l = e.apply(h, a)),
                                    !i || p || f || (a = h = k),
                                        l
                                }
                                var a, f, l, c, h, p, d, v = 0, m = !1, g = !0;
                                if ("function" != typeof e)
                                    throw new Go(X);
                                if (t = 0 > t ? 0 : +t || 0,
                                    n === !0) {
                                    var y = !0;
                                    g = !1
                                } else
                                    Hs(n) && (y = !!n.leading,
                                        m = "maxWait"in n && xu(+n.maxWait || 0, t),
                                        g = "trailing"in n ? !!n.trailing : g);
                                return u.cancel = r,
                                    u
                            }
                            function vs(e, t) {
                                if ("function" != typeof e || t && "function" != typeof t)
                                    throw new Go(X);
                                var n = function() {
                                        var r = arguments
                                            , i = t ? t.apply(this, r) : r[0]
                                            , s = n.cache;
                                        if (s.has(i))
                                            return s.get(i);
                                        var o = e.apply(this, r);
                                        return n.cache = s.set(i, o),
                                            o
                                    }
                                    ;
                                return n.cache = new vs.Cache,
                                    n
                            }
                            function ms(e) {
                                if ("function" != typeof e)
                                    throw new Go(X);
                                return function() {
                                    return !e.apply(this, arguments)
                                }
                            }
                            function gs(e) {
                                return ps(2, e)
                            }
                            function ys(e, t) {
                                if ("function" != typeof e)
                                    throw new Go(X);
                                return t = xu(t === k ? e.length - 1 : +t || 0, 0),
                                    function() {
                                        for (var n = arguments, r = -1, i = xu(n.length - t, 0), s = Uo(i); ++r < i; )
                                            s[r] = n[t + r];
                                        switch (t) {
                                            case 0:
                                                return e.call(this, s);
                                            case 1:
                                                return e.call(this, n[0], s);
                                            case 2:
                                                return e.call(this, n[0], n[1], s)
                                        }
                                        var o = Uo(t + 1);
                                        for (r = -1; ++r < t; )
                                            o[r] = n[r];
                                        return o[t] = s,
                                            e.apply(this, o)
                                    }
                            }
                            function bs(e) {
                                if ("function" != typeof e)
                                    throw new Go(X);
                                return function(t) {
                                    return e.apply(this, t)
                                }
                            }
                            function ws(e, t, n) {
                                var r = !0
                                    , i = !0;
                                if ("function" != typeof e)
                                    throw new Go(X);
                                return n === !1 ? r = !1 : Hs(n) && (r = "leading"in n ? !!n.leading : r,
                                    i = "trailing"in n ? !!n.trailing : i),
                                    ds(e, t, {
                                        leading: r,
                                        maxWait: +t,
                                        trailing: i
                                    })
                            }
                            function Es(e, t) {
                                return t = null == t ? Ao : t,
                                    Fr(t, P, k, [e], [])
                            }
                            function Ss(e, t, n, r) {
                                return t && "boolean" != typeof t && ei(e, t, n) ? t = !1 : "function" == typeof t && (r = n,
                                    n = t,
                                    t = !1),
                                    "function" == typeof n ? xn(e, t, ur(n, r, 1)) : xn(e, t)
                            }
                            function xs(e, t, n) {
                                return "function" == typeof t ? xn(e, !0, ur(t, n, 1)) : xn(e, !0)
                            }
                            function Ts(e, t) {
                                return e > t
                            }
                            function Ns(e, t) {
                                return e >= t
                            }
                            function Cs(e) {
                                return b(e) && Yr(e) && nu.call(e, "callee") && !cu.call(e, "callee")
                            }
                            function ks(e) {
                                return e === !0 || e === !1 || b(e) && iu.call(e) == K
                            }
                            function Ls(e) {
                                return b(e) && iu.call(e) == Q
                            }
                            function As(e) {
                                return !!e && 1 === e.nodeType && b(e) && !Rs(e)
                            }
                            function Os(e) {
                                return null == e ? !0 : Yr(e) && (Oa(e) || zs(e) || Cs(e) || b(e) && Ps(e.splice)) ? !e.length : !Ra(e).length
                            }
                            function Ms(e, t, n, r) {
                                n = "function" == typeof n ? ur(n, r, 3) : k;
                                var i = n ? n(e, t) : k;
                                return i === k ? jn(e, t, n) : !!i
                            }
                            function _s(e) {
                                return b(e) && "string" == typeof e.message && iu.call(e) == G
                            }
                            function Ds(e) {
                                return "number" == typeof e && Eu(e)
                            }
                            function Ps(e) {
                                return Hs(e) && iu.call(e) == Y
                            }
                            function Hs(e) {
                                var t = typeof e;
                                return !!e && ("object" == t || "function" == t)
                            }
                            function Bs(e, t, n, r) {
                                return n = "function" == typeof n ? ur(n, r, 3) : k,
                                    In(e, Xr(t), n)
                            }
                            function js(e) {
                                return qs(e) && e != +e
                            }
                            function Fs(e) {
                                return null == e ? !1 : Ps(e) ? ou.test(tu.call(e)) : b(e) && Bt.test(e)
                            }
                            function Is(e) {
                                return null === e
                            }
                            function qs(e) {
                                return "number" == typeof e || b(e) && iu.call(e) == et
                            }
                            function Rs(e) {
                                var t;
                                if (!b(e) || iu.call(e) != tt || Cs(e) || !nu.call(e, "constructor") && (t = e.constructor,
                                    "function" == typeof t && !(t instanceof t)))
                                    return !1;
                                var n;
                                return _n(e, function(e, t) {
                                    n = t
                                }),
                                n === k || nu.call(e, n)
                            }
                            function Us(e) {
                                return Hs(e) && iu.call(e) == nt
                            }
                            function zs(e) {
                                return "string" == typeof e || b(e) && iu.call(e) == it
                            }
                            function Ws(e) {
                                return b(e) && ri(e.length) && !!Wt[iu.call(e)]
                            }
                            function Xs(e) {
                                return e === k
                            }
                            function Vs(e, t) {
                                return t > e
                            }
                            function $s(e, t) {
                                return t >= e
                            }
                            function Js(e) {
                                var t = e ? zu(e) : 0;
                                return ri(t) ? t ? en(e) : [] : oo(e)
                            }
                            function Ks(e) {
                                return En(e, to(e))
                            }
                            function Qs(e, t, n) {
                                var r = Bu(e);
                                return n && ei(e, t, n) && (t = k),
                                    t ? bn(r, t) : r
                            }
                            function Gs(e) {
                                return Hn(e, to(e))
                            }
                            function Ys(e, t, n) {
                                var r = null == e ? k : Bn(e, pi(t), t + "");
                                return r === k ? n : r
                            }
                            function Zs(e, t) {
                                if (null == e)
                                    return !1;
                                var n = nu.call(e, t);
                                if (!n && !ti(t)) {
                                    if (t = pi(t),
                                            e = 1 == t.length ? e : Bn(e, Qn(t, 0, -1)),
                                        null == e)
                                        return !1;
                                    t = ki(t),
                                        n = nu.call(e, t)
                                }
                                return n || ri(e.length) && Zr(t, e.length) && (Oa(e) || Cs(e))
                            }
                            function eo(e, t, n) {
                                n && ei(e, t, n) && (t = k);
                                for (var r = -1, i = Ra(e), s = i.length, o = {}; ++r < s; ) {
                                    var u = i[r]
                                        , a = e[u];
                                    t ? nu.call(o, a) ? o[a].push(u) : o[a] = [u] : o[a] = u
                                }
                                return o
                            }
                            function to(e) {
                                if (null == e)
                                    return [];
                                Hs(e) || (e = Jo(e));
                                var t = e.length;
                                t = t && ri(t) && (Oa(e) || Cs(e)) && t || 0;
                                for (var n = e.constructor, r = -1, i = "function" == typeof n && n.prototype === e, s = Uo(t), o = t > 0; ++r < t; )
                                    s[r] = r + "";
                                for (var u in e)
                                    o && Zr(u, t) || "constructor" == u && (i || !nu.call(e, u)) || s.push(u);
                                return s
                            }
                            function no(e) {
                                e = hi(e);
                                for (var t = -1, n = Ra(e), r = n.length, i = Uo(r); ++t < r; ) {
                                    var s = n[t];
                                    i[t] = [s, e[s]]
                                }
                                return i
                            }
                            function ro(e, t, n) {
                                var r = null == e ? k : e[t];
                                return r === k && (null == e || ti(t, e) || (t = pi(t),
                                    e = 1 == t.length ? e : Bn(e, Qn(t, 0, -1)),
                                    r = null == e ? k : e[ki(t)]),
                                    r = r === k ? n : r),
                                    Ps(r) ? r.call(e) : r
                            }
                            function io(e, t, n) {
                                if (null == e)
                                    return e;
                                var r = t + "";
                                t = null != e[r] || ti(t, e) ? [r] : pi(t);
                                for (var i = -1, s = t.length, o = s - 1, u = e; null != u && ++i < s; ) {
                                    var a = t[i];
                                    Hs(u) && (i == o ? u[a] = n : null == u[a] && (u[a] = Zr(t[i + 1]) ? [] : {})),
                                        u = u[a]
                                }
                                return e
                            }
                            function so(e, t, n, r) {
                                var i = Oa(e) || Ws(e);
                                if (t = Ur(t, r, 4),
                                    null == n)
                                    if (i || Hs(e)) {
                                        var s = e.constructor;
                                        n = i ? Oa(e) ? new s : [] : Bu(Ps(s) ? s.prototype : k)
                                    } else
                                        n = {};
                                return (i ? tn : Dn)(e, function(e, r, i) {
                                    return t(n, e, r, i)
                                }),
                                    n
                            }
                            function oo(e) {
                                return nr(e, Ra(e))
                            }
                            function uo(e) {
                                return nr(e, to(e))
                            }
                            function ao(e, t, n) {
                                return t = +t || 0,
                                    n === k ? (n = t,
                                        t = 0) : n = +n || 0,
                                e >= Tu(t, n) && e < xu(t, n)
                            }
                            function fo(e, t, n) {
                                n && ei(e, t, n) && (t = n = k);
                                var r = null == e
                                    , i = null == t;
                                if (null == n && (i && "boolean" == typeof e ? (n = e,
                                        e = 1) : "boolean" == typeof t && (n = t,
                                        i = !0)),
                                    r && i && (t = 1,
                                        i = !1),
                                        e = +e || 0,
                                        i ? (t = e,
                                            e = 0) : t = +t || 0,
                                    n || e % 1 || t % 1) {
                                    var s = ku();
                                    return Tu(e + s * (t - e + fu("1e-" + ((s + "").length - 1))), t)
                                }
                                return Jn(e, t)
                            }
                            function lo(e) {
                                return e = f(e),
                                e && e.charAt(0).toUpperCase() + e.slice(1)
                            }
                            function co(e) {
                                return e = f(e),
                                e && e.replace(Ft, d).replace(Mt, "")
                            }
                            function ho(e, t, n) {
                                e = f(e),
                                    t += "";
                                var r = e.length;
                                return n = n === k ? r : Tu(0 > n ? 0 : +n || 0, r),
                                    n -= t.length,
                                n >= 0 && e.indexOf(t, n) == n
                            }
                            function po(e) {
                                return e = f(e),
                                    e && St.test(e) ? e.replace(wt, v) : e
                            }
                            function vo(e) {
                                return e = f(e),
                                    e && Ot.test(e) ? e.replace(At, m) : e || "(?:)"
                            }
                            function mo(e, t, n) {
                                e = f(e),
                                    t = +t;
                                var r = e.length;
                                if (r >= t || !Eu(t))
                                    return e;
                                var i = (t - r) / 2
                                    , s = bu(i)
                                    , o = gu(i);
                                return n = Pr("", o, n),
                                n.slice(0, s) + e + n
                            }
                            function go(e, t, n) {
                                return (n ? ei(e, t, n) : null == t) ? t = 0 : t && (t = +t),
                                    e = Eo(e),
                                    Cu(e, t || (Ht.test(e) ? 16 : 10))
                            }
                            function yo(e, t) {
                                var n = "";
                                if (e = f(e),
                                        t = +t,
                                    1 > t || !e || !Eu(t))
                                    return n;
                                do
                                    t % 2 && (n += e),
                                        t = bu(t / 2),
                                        e += e;
                                while (t);return n
                            }
                            function bo(e, t, n) {
                                return e = f(e),
                                    n = null == n ? 0 : Tu(0 > n ? 0 : +n || 0, e.length),
                                e.lastIndexOf(t, n) == n
                            }
                            function wo(e, n, r) {
                                var i = t.templateSettings;
                                r && ei(e, n, r) && (n = r = k),
                                    e = f(e),
                                    n = yn(bn({}, r || n), i, gn);
                                var s, o, u = yn(bn({}, n.imports), i.imports, gn), a = Ra(u), l = nr(u, a), c = 0, h = n.interpolate || It, p = "__p += '", d = Ko((n.escape || It).source + "|" + h.source + "|" + (h === Nt ? Dt : It).source + "|" + (n.evaluate || It).source + "|$", "g"), v = "//# sourceURL=" + ("sourceURL"in n ? n.sourceURL : "lodash.templateSources[" + ++zt + "]") + "\n";
                                e.replace(d, function(t, n, r, i, u, a) {
                                    return r || (r = i),
                                        p += e.slice(c, a).replace(qt, g),
                                    n && (s = !0,
                                        p += "' +\n__e(" + n + ") +\n'"),
                                    u && (o = !0,
                                        p += "';\n" + u + ";\n__p += '"),
                                    r && (p += "' +\n((__t = (" + r + ")) == null ? '' : __t) +\n'"),
                                        c = a + t.length,
                                        t
                                }),
                                    p += "';\n";
                                var m = n.variable;
                                m || (p = "with (obj) {\n" + p + "\n}\n"),
                                    p = (o ? p.replace(mt, "") : p).replace(gt, "$1").replace(yt, "$1;"),
                                    p = "function(" + (m || "obj") + ") {\n" + (m ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (s ? ", __e = _.escape" : "") + (o ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + p + "return __p\n}";
                                var y = Ya(function() {
                                    return Xo(a, v + "return " + p).apply(k, l)
                                });
                                if (y.source = p,
                                        _s(y))
                                    throw y;
                                return y
                            }
                            function Eo(e, t, n) {
                                var r = e;
                                return (e = f(e)) ? (n ? ei(r, t, n) : null == t) ? e.slice(x(e), T(e) + 1) : (t += "",
                                    e.slice(l(e, t), c(e, t) + 1)) : e
                            }
                            function So(e, t, n) {
                                var r = e;
                                return e = f(e),
                                    e ? (n ? ei(r, t, n) : null == t) ? e.slice(x(e)) : e.slice(l(e, t + "")) : e
                            }
                            function xo(e, t, n) {
                                var r = e;
                                return e = f(e),
                                    e ? (n ? ei(r, t, n) : null == t) ? e.slice(0, T(e) + 1) : e.slice(0, c(e, t + "") + 1) : e
                            }
                            function To(e, t, n) {
                                n && ei(e, t, n) && (t = k);
                                var r = F
                                    , i = I;
                                if (null != t)
                                    if (Hs(t)) {
                                        var s = "separator"in t ? t.separator : s;
                                        r = "length"in t ? +t.length || 0 : r,
                                            i = "omission"in t ? f(t.omission) : i
                                    } else
                                        r = +t || 0;
                                if (e = f(e),
                                    r >= e.length)
                                    return e;
                                var o = r - i.length;
                                if (1 > o)
                                    return i;
                                var u = e.slice(0, o);
                                if (null == s)
                                    return u + i;
                                if (Us(s)) {
                                    if (e.slice(o).search(s)) {
                                        var a, l, c = e.slice(0, o);
                                        for (s.global || (s = Ko(s.source, (Pt.exec(s) || "") + "g")),
                                                 s.lastIndex = 0; a = s.exec(c); )
                                            l = a.index;
                                        u = u.slice(0, null == l ? o : l)
                                    }
                                } else if (e.indexOf(s, o) != o) {
                                    var h = u.lastIndexOf(s);
                                    h > -1 && (u = u.slice(0, h))
                                }
                                return u + i
                            }
                            function No(e) {
                                return e = f(e),
                                    e && Et.test(e) ? e.replace(bt, N) : e
                            }
                            function Co(e, t, n) {
                                return n && ei(e, t, n) && (t = k),
                                    e = f(e),
                                e.match(t || Rt) || []
                            }
                            function ko(e, t, n) {
                                return n && ei(e, t, n) && (t = k),
                                    b(e) ? Oo(e) : Sn(e, t)
                            }
                            function Lo(e) {
                                return function() {
                                    return e
                                }
                            }
                            function Ao(e) {
                                return e
                            }
                            function Oo(e) {
                                return Rn(xn(e, !0))
                            }
                            function Mo(e, t) {
                                return Un(e, xn(t, !0))
                            }
                            function _o(e, t, n) {
                                if (null == n) {
                                    var r = Hs(t)
                                        , i = r ? Ra(t) : k
                                        , s = i && i.length ? Hn(t, i) : k;
                                    (s ? s.length : r) || (s = !1,
                                        n = t,
                                        t = e,
                                        e = this)
                                }
                                s || (s = Hn(t, Ra(t)));
                                var o = !0
                                    , u = -1
                                    , a = Ps(e)
                                    , f = s.length;
                                n === !1 ? o = !1 : Hs(n) && "chain"in n && (o = n.chain);
                                for (; ++u < f; ) {
                                    var l = s[u]
                                        , c = t[l];
                                    e[l] = c,
                                    a && (e.prototype[l] = function(t) {
                                        return function() {
                                            var n = this.__chain__;
                                            if (o || n) {
                                                var r = e(this.__wrapped__)
                                                    , i = r.__actions__ = en(this.__actions__);
                                                return i.push({
                                                    func: t,
                                                    args: arguments,
                                                    thisArg: e
                                                }),
                                                    r.__chain__ = n,
                                                    r
                                            }
                                            return t.apply(e, cn([this.value()], arguments))
                                        }
                                    }(c))
                                }
                                return e
                            }
                            function Do() {
                                return rn._ = su,
                                    this
                            }
                            function Po() {}
                            function Ho(e) {
                                return ti(e) ? Xn(e) : Vn(e)
                            }
                            function Bo(e) {
                                return function(t) {
                                    return Bn(e, pi(t), t + "")
                                }
                            }
                            function jo(e, t, n) {
                                n && ei(e, t, n) && (t = n = k),
                                    e = +e || 0,
                                    n = null == n ? 1 : +n || 0,
                                    null == t ? (t = e,
                                        e = 0) : t = +t || 0;
                                for (var r = -1, i = xu(gu((t - e) / (n || 1)), 0), s = Uo(i); ++r < i; )
                                    s[r] = e,
                                        e += n;
                                return s
                            }
                            function Fo(e, t, n) {
                                if (e = bu(e),
                                    1 > e || !Eu(e))
                                    return [];
                                var r = -1
                                    , i = Uo(Tu(e, Ou));
                                for (t = ur(t, n, 1); ++r < e; )
                                    Ou > r ? i[r] = t(r) : t(r);
                                return i
                            }
                            function Io(e) {
                                var t = ++ru;
                                return f(e) + t
                            }
                            function qo(e, t) {
                                return (+e || 0) + (+t || 0)
                            }
                            function Ro(e, t, n) {
                                return n && ei(e, t, n) && (t = k),
                                    t = Ur(t, n, 3),
                                    1 == t.length ? vn(Oa(e) ? e : ci(e), t) : er(e, t)
                            }
                            e = e ? sn.defaults(rn.Object(), e, sn.pick(rn, Ut)) : rn;
                            var Uo = e.Array
                                , zo = e.Date
                                , Wo = e.Error
                                , Xo = e.Function
                                , Vo = e.Math
                                , $o = e.Number
                                , Jo = e.Object
                                , Ko = e.RegExp
                                , Qo = e.String
                                , Go = e.TypeError
                                , Yo = Uo.prototype
                                , Zo = Jo.prototype
                                , eu = Qo.prototype
                                , tu = Xo.prototype.toString
                                , nu = Zo.hasOwnProperty
                                , ru = 0
                                , iu = Zo.toString
                                , su = rn._
                                , ou = Ko("^" + tu.call(nu).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$")
                                , uu = e.ArrayBuffer
                                , au = e.clearTimeout
                                , fu = e.parseFloat
                                , lu = Vo.pow
                                , cu = Zo.propertyIsEnumerable
                                , hu = Vr(e, "Set")
                                , pu = e.setTimeout
                                , du = Yo.splice
                                , vu = e.Uint8Array
                                , mu = Vr(e, "WeakMap")
                                , gu = Vo.ceil
                                , yu = Vr(Jo, "create")
                                , bu = Vo.floor
                                , wu = Vr(Uo, "isArray")
                                , Eu = e.isFinite
                                , Su = Vr(Jo, "keys")
                                , xu = Vo.max
                                , Tu = Vo.min
                                , Nu = Vr(zo, "now")
                                , Cu = e.parseInt
                                , ku = Vo.random
                                , Lu = $o.NEGATIVE_INFINITY
                                , Au = $o.POSITIVE_INFINITY
                                , Ou = 4294967295
                                , Mu = Ou - 1
                                , _u = Ou >>> 1
                                , Du = 9007199254740991
                                , Pu = mu && new mu
                                , Hu = {};
                            t.support = {},
                                t.templateSettings = {
                                    escape: xt,
                                    evaluate: Tt,
                                    interpolate: Nt,
                                    variable: "",
                                    imports: {
                                        _: t
                                    }
                                };
                            var Bu = function() {
                                    function e() {}
                                    return function(t) {
                                        if (Hs(t)) {
                                            e.prototype = t;
                                            var n = new e;
                                            e.prototype = k
                                        }
                                        return n || {}
                                    }
                                }()
                                , ju = pr(Dn)
                                , Fu = pr(Pn, !0)
                                , Iu = dr()
                                , qu = dr(!0)
                                , Ru = Pu ? function(e, t) {
                                    return Pu.set(e, t),
                                        e
                                }
                                    : Ao
                                , Uu = Pu ? function(e) {
                                    return Pu.get(e)
                                }
                                    : Po
                                , zu = Xn("length")
                                , Wu = function() {
                                    var e = 0
                                        , t = 0;
                                    return function(n, r) {
                                        var i = ma()
                                            , s = R - (i - t);
                                        if (t = i,
                                            s > 0) {
                                            if (++e >= q)
                                                return n
                                        } else
                                            e = 0;
                                        return Ru(n, r)
                                    }
                                }()
                                , Xu = ys(function(e, t) {
                                    return b(e) && Yr(e) ? Nn(e, Mn(t, !1, !0)) : []
                                })
                                , Vu = xr()
                                , $u = xr(!0)
                                , Ju = ys(function(e) {
                                    for (var t = e.length, n = t, r = Uo(c), i = Wr(), s = i == u, o = []; n--; ) {
                                        var a = e[n] = Yr(a = e[n]) ? a : [];
                                        r[n] = s && a.length >= 120 ? mr(n && a) : null
                                    }
                                    var f = e[0]
                                        , l = -1
                                        , c = f ? f.length : 0
                                        , h = r[0];
                                    e: for (; ++l < c; )
                                        if (a = f[l],
                                            (h ? Gt(h, a) : i(o, a, 0)) < 0) {
                                            for (var n = t; --n; ) {
                                                var p = r[n];
                                                if ((p ? Gt(p, a) : i(e[n], a, 0)) < 0)
                                                    continue e
                                            }
                                            h && h.push(a),
                                                o.push(a)
                                        }
                                    return o
                                })
                                , Ku = ys(function(e, t) {
                                    t = Mn(t);
                                    var n = wn(e, t);
                                    return $n(e, t.sort(s)),
                                        n
                                })
                                , Qu = jr()
                                , Gu = jr(!0)
                                , Yu = ys(function(e) {
                                    return tr(Mn(e, !1, !0))
                                })
                                , Zu = ys(function(e, t) {
                                    return Yr(e) ? Nn(e, t) : []
                                })
                                , ea = ys(Fi)
                                , ta = ys(function(e) {
                                    var t = e.length
                                        , n = t > 2 ? e[t - 2] : k
                                        , r = t > 1 ? e[t - 1] : k;
                                    return t > 2 && "function" == typeof n ? t -= 2 : (n = t > 1 && "function" == typeof r ? (--t,
                                        r) : k,
                                        r = k),
                                        e.length = t,
                                        Ii(e, n, r)
                                })
                                , na = ys(function(e) {
                                    return e = Mn(e),
                                        this.thru(function(t) {
                                            return Zt(Oa(t) ? t : [hi(t)], e)
                                        })
                                })
                                , ra = ys(function(e, t) {
                                    return wn(e, Mn(t))
                                })
                                , ia = cr(function(e, t, n) {
                                    nu.call(e, n) ? ++e[n] : e[n] = 1
                                })
                                , sa = Sr(ju)
                                , oa = Sr(Fu, !0)
                                , ua = Cr(tn, ju)
                                , aa = Cr(nn, Fu)
                                , fa = cr(function(e, t, n) {
                                    nu.call(e, n) ? e[n].push(t) : e[n] = [t]
                                })
                                , la = cr(function(e, t, n) {
                                    e[n] = t
                                })
                                , ca = ys(function(e, t, n) {
                                    var r = -1
                                        , i = "function" == typeof t
                                        , s = ti(t)
                                        , o = Yr(e) ? Uo(e.length) : [];
                                    return ju(e, function(e) {
                                        var u = i ? t : s && null != e ? e[t] : k;
                                        o[++r] = u ? u.apply(e, n) : Gr(e, t, n)
                                    }),
                                        o
                                })
                                , ha = cr(function(e, t, n) {
                                    e[n ? 0 : 1].push(t)
                                }, function() {
                                    return [[], []]
                                })
                                , pa = _r(hn, ju)
                                , da = _r(pn, Fu)
                                , va = ys(function(e, t) {
                                    if (null == e)
                                        return [];
                                    var n = t[2];
                                    return n && ei(t[0], t[1], n) && (t.length = 1),
                                        Zn(e, Mn(t), [])
                                })
                                , ma = Nu || function() {
                                        return (new zo).getTime()
                                    }
                                , ga = ys(function(e, t, n) {
                                    var r = A;
                                    if (n.length) {
                                        var i = E(n, ga.placeholder);
                                        r |= P
                                    }
                                    return Fr(e, r, t, n, i)
                                })
                                , ya = ys(function(e, t) {
                                    t = t.length ? Mn(t) : Gs(e);
                                    for (var n = -1, r = t.length; ++n < r; ) {
                                        var i = t[n];
                                        e[i] = Fr(e[i], A, e)
                                    }
                                    return e
                                })
                                , ba = ys(function(e, t, n) {
                                    var r = A | O;
                                    if (n.length) {
                                        var i = E(n, ba.placeholder);
                                        r |= P
                                    }
                                    return Fr(t, r, e, n, i)
                                })
                                , wa = br(_)
                                , Ea = br(D)
                                , Sa = ys(function(e, t) {
                                    return Tn(e, 1, t)
                                })
                                , xa = ys(function(e, t, n) {
                                    return Tn(e, t, n)
                                })
                                , Ta = Nr()
                                , Na = Nr(!0)
                                , Ca = ys(function(e, t) {
                                    if (t = Mn(t),
                                        "function" != typeof e || !un(t, a))
                                        throw new Go(X);
                                    var n = t.length;
                                    return ys(function(r) {
                                        for (var i = Tu(r.length, n); i--; )
                                            r[i] = t[i](r[i]);
                                        return e.apply(this, r)
                                    })
                                })
                                , ka = Mr(P)
                                , La = Mr(H)
                                , Aa = ys(function(e, t) {
                                    return Fr(e, j, k, k, k, Mn(t))
                                })
                                , Oa = wu || function(e) {
                                        return b(e) && ri(e.length) && iu.call(e) == J
                                    }
                                , Ma = hr(zn)
                                , _a = hr(function(e, t, n) {
                                    return n ? yn(e, t, n) : bn(e, t)
                                })
                                , Da = wr(_a, mn)
                                , Pa = wr(Ma, oi)
                                , Ha = Tr(Dn)
                                , Ba = Tr(Pn)
                                , ja = kr(Iu)
                                , Fa = kr(qu)
                                , Ia = Lr(Dn)
                                , qa = Lr(Pn)
                                , Ra = Su ? function(e) {
                                    var t = null == e ? k : e.constructor;
                                    return "function" == typeof t && t.prototype === e || "function" != typeof e && Yr(e) ? li(e) : Hs(e) ? Su(e) : []
                                }
                                    : li
                                , Ua = Ar(!0)
                                , za = Ar()
                                , Wa = ys(function(e, t) {
                                    if (null == e)
                                        return {};
                                    if ("function" != typeof t[0]) {
                                        var t = ln(Mn(t), Qo);
                                        return ui(e, Nn(to(e), t))
                                    }
                                    var n = ur(t[0], t[1], 3);
                                    return ai(e, function(e, t, r) {
                                        return !n(e, t, r)
                                    })
                                })
                                , Xa = ys(function(e, t) {
                                    return null == e ? {} : "function" == typeof t[0] ? ai(e, ur(t[0], t[1], 3)) : ui(e, Mn(t))
                                })
                                , Va = gr(function(e, t, n) {
                                    return t = t.toLowerCase(),
                                    e + (n ? t.charAt(0).toUpperCase() + t.slice(1) : t)
                                })
                                , $a = gr(function(e, t, n) {
                                    return e + (n ? "-" : "") + t.toLowerCase()
                                })
                                , Ja = Or()
                                , Ka = Or(!0)
                                , Qa = gr(function(e, t, n) {
                                    return e + (n ? "_" : "") + t.toLowerCase()
                                })
                                , Ga = gr(function(e, t, n) {
                                    return e + (n ? " " : "") + (t.charAt(0).toUpperCase() + t.slice(1))
                                })
                                , Ya = ys(function(e, t) {
                                    try {
                                        return e.apply(k, t)
                                    } catch (n) {
                                        return _s(n) ? n : new Wo(n)
                                    }
                                })
                                , Za = ys(function(e, t) {
                                    return function(n) {
                                        return Gr(n, e, t)
                                    }
                                })
                                , ef = ys(function(e, t) {
                                    return function(n) {
                                        return Gr(e, n, t)
                                    }
                                })
                                , tf = Br("ceil")
                                , nf = Br("floor")
                                , rf = Er(Ts, Lu)
                                , sf = Er(Vs, Au)
                                , of = Br("round");
                            return t.prototype = n.prototype,
                                r.prototype = Bu(n.prototype),
                                r.prototype.constructor = r,
                                i.prototype = Bu(n.prototype),
                                i.prototype.constructor = i,
                                st.prototype["delete"] = Vt,
                                st.prototype.get = $t,
                                st.prototype.has = Jt,
                                st.prototype.set = Kt,
                                Qt.prototype.push = Yt,
                                vs.Cache = st,
                                t.after = cs,
                                t.ary = hs,
                                t.assign = _a,
                                t.at = ra,
                                t.before = ps,
                                t.bind = ga,
                                t.bindAll = ya,
                                t.bindKey = ba,
                                t.callback = ko,
                                t.chain = Ui,
                                t.chunk = vi,
                                t.compact = mi,
                                t.constant = Lo,
                                t.countBy = ia,
                                t.create = Qs,
                                t.curry = wa,
                                t.curryRight = Ea,
                                t.debounce = ds,
                                t.defaults = Da,
                                t.defaultsDeep = Pa,
                                t.defer = Sa,
                                t.delay = xa,
                                t.difference = Xu,
                                t.drop = gi,
                                t.dropRight = yi,
                                t.dropRightWhile = bi,
                                t.dropWhile = wi,
                                t.fill = Ei,
                                t.filter = Yi,
                                t.flatten = xi,
                                t.flattenDeep = Ti,
                                t.flow = Ta,
                                t.flowRight = Na,
                                t.forEach = ua,
                                t.forEachRight = aa,
                                t.forIn = ja,
                                t.forInRight = Fa,
                                t.forOwn = Ia,
                                t.forOwnRight = qa,
                                t.functions = Gs,
                                t.groupBy = fa,
                                t.indexBy = la,
                                t.initial = Ci,
                                t.intersection = Ju,
                                t.invert = eo,
                                t.invoke = ca,
                                t.keys = Ra,
                                t.keysIn = to,
                                t.map = ts,
                                t.mapKeys = Ua,
                                t.mapValues = za,
                                t.matches = Oo,
                                t.matchesProperty = Mo,
                                t.memoize = vs,
                                t.merge = Ma,
                                t.method = Za,
                                t.methodOf = ef,
                                t.mixin = _o,
                                t.modArgs = Ca,
                                t.negate = ms,
                                t.omit = Wa,
                                t.once = gs,
                                t.pairs = no,
                                t.partial = ka,
                                t.partialRight = La,
                                t.partition = ha,
                                t.pick = Xa,
                                t.pluck = ns,
                                t.property = Ho,
                                t.propertyOf = Bo,
                                t.pull = Ai,
                                t.pullAt = Ku,
                                t.range = jo,
                                t.rearg = Aa,
                                t.reject = rs,
                                t.remove = Oi,
                                t.rest = Mi,
                                t.restParam = ys,
                                t.set = io,
                                t.shuffle = ss,
                                t.slice = _i,
                                t.sortBy = as,
                                t.sortByAll = va,
                                t.sortByOrder = fs,
                                t.spread = bs,
                                t.take = Di,
                                t.takeRight = Pi,
                                t.takeRightWhile = Hi,
                                t.takeWhile = Bi,
                                t.tap = zi,
                                t.throttle = ws,
                                t.thru = Wi,
                                t.times = Fo,
                                t.toArray = Js,
                                t.toPlainObject = Ks,
                                t.transform = so,
                                t.union = Yu,
                                t.uniq = ji,
                                t.unzip = Fi,
                                t.unzipWith = Ii,
                                t.values = oo,
                                t.valuesIn = uo,
                                t.where = ls,
                                t.without = Zu,
                                t.wrap = Es,
                                t.xor = qi,
                                t.zip = ea,
                                t.zipObject = Ri,
                                t.zipWith = ta,
                                t.backflow = Na,
                                t.collect = ts,
                                t.compose = Na,
                                t.each = ua,
                                t.eachRight = aa,
                                t.extend = _a,
                                t.iteratee = ko,
                                t.methods = Gs,
                                t.object = Ri,
                                t.select = Yi,
                                t.tail = Mi,
                                t.unique = ji,
                                _o(t, t),
                                t.add = qo,
                                t.attempt = Ya,
                                t.camelCase = Va,
                                t.capitalize = lo,
                                t.ceil = tf,
                                t.clone = Ss,
                                t.cloneDeep = xs,
                                t.deburr = co,
                                t.endsWith = ho,
                                t.escape = po,
                                t.escapeRegExp = vo,
                                t.every = Gi,
                                t.find = sa,
                                t.findIndex = Vu,
                                t.findKey = Ha,
                                t.findLast = oa,
                                t.findLastIndex = $u,
                                t.findLastKey = Ba,
                                t.findWhere = Zi,
                                t.first = Si,
                                t.floor = nf,
                                t.get = Ys,
                                t.gt = Ts,
                                t.gte = Ns,
                                t.has = Zs,
                                t.identity = Ao,
                                t.includes = es,
                                t.indexOf = Ni,
                                t.inRange = ao,
                                t.isArguments = Cs,
                                t.isArray = Oa,
                                t.isBoolean = ks,
                                t.isDate = Ls,
                                t.isElement = As,
                                t.isEmpty = Os,
                                t.isEqual = Ms,
                                t.isError = _s,
                                t.isFinite = Ds,
                                t.isFunction = Ps,
                                t.isMatch = Bs,
                                t.isNaN = js,
                                t.isNative = Fs,
                                t.isNull = Is,
                                t.isNumber = qs,
                                t.isObject = Hs,
                                t.isPlainObject = Rs,
                                t.isRegExp = Us,
                                t.isString = zs,
                                t.isTypedArray = Ws,
                                t.isUndefined = Xs,
                                t.kebabCase = $a,
                                t.last = ki,
                                t.lastIndexOf = Li,
                                t.lt = Vs,
                                t.lte = $s,
                                t.max = rf,
                                t.min = sf,
                                t.noConflict = Do,
                                t.noop = Po,
                                t.now = ma,
                                t.pad = mo,
                                t.padLeft = Ja,
                                t.padRight = Ka,
                                t.parseInt = go,
                                t.random = fo,
                                t.reduce = pa,
                                t.reduceRight = da,
                                t.repeat = yo,
                                t.result = ro,
                                t.round = of,
                                t.runInContext = C,
                                t.size = os,
                                t.snakeCase = Qa,
                                t.some = us,
                                t.sortedIndex = Qu,
                                t.sortedLastIndex = Gu,
                                t.startCase = Ga,
                                t.startsWith = bo,
                                t.sum = Ro,
                                t.template = wo,
                                t.trim = Eo,
                                t.trimLeft = So,
                                t.trimRight = xo,
                                t.trunc = To,
                                t.unescape = No,
                                t.uniqueId = Io,
                                t.words = Co,
                                t.all = Gi,
                                t.any = us,
                                t.contains = es,
                                t.eq = Ms,
                                t.detect = sa,
                                t.foldl = pa,
                                t.foldr = da,
                                t.head = Si,
                                t.include = es,
                                t.inject = pa,
                                _o(t, function() {
                                    var e = {};
                                    return Dn(t, function(n, r) {
                                        t.prototype[r] || (e[r] = n)
                                    }),
                                        e
                                }(), !1),
                                t.sample = is,
                                t.prototype.sample = function(e) {
                                    return this.__chain__ || null != e ? this.thru(function(t) {
                                        return is(t, e)
                                    }) : is(this.value())
                                }
                                ,
                                t.VERSION = L,
                                tn(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(e) {
                                    t[e].placeholder = t
                                }),
                                tn(["drop", "take"], function(e, t) {
                                    i.prototype[e] = function(n) {
                                        var r = this.__filtered__;
                                        if (r && !t)
                                            return new i(this);
                                        n = null == n ? 1 : xu(bu(n) || 0, 0);
                                        var s = this.clone();
                                        return r ? s.__takeCount__ = Tu(s.__takeCount__, n) : s.__views__.push({
                                            size: n,
                                            type: e + (s.__dir__ < 0 ? "Right" : "")
                                        }),
                                            s
                                    }
                                        ,
                                        i.prototype[e + "Right"] = function(t) {
                                            return this.reverse()[e](t).reverse()
                                        }
                                }),
                                tn(["filter", "map", "takeWhile"], function(e, t) {
                                    var n = t + 1
                                        , r = n != W;
                                    i.prototype[e] = function(e, t) {
                                        var i = this.clone();
                                        return i.__iteratees__.push({
                                            iteratee: Ur(e, t, 1),
                                            type: n
                                        }),
                                            i.__filtered__ = i.__filtered__ || r,
                                            i
                                    }
                                }),
                                tn(["first", "last"], function(e, t) {
                                    var n = "take" + (t ? "Right" : "");
                                    i.prototype[e] = function() {
                                        return this[n](1).value()[0]
                                    }
                                }),
                                tn(["initial", "rest"], function(e, t) {
                                    var n = "drop" + (t ? "" : "Right");
                                    i.prototype[e] = function() {
                                        return this.__filtered__ ? new i(this) : this[n](1)
                                    }
                                }),
                                tn(["pluck", "where"], function(e, t) {
                                    var n = t ? "filter" : "map"
                                        , r = t ? Rn : Ho;
                                    i.prototype[e] = function(e) {
                                        return this[n](r(e))
                                    }
                                }),
                                i.prototype.compact = function() {
                                    return this.filter(Ao)
                                }
                                ,
                                i.prototype.reject = function(e, t) {
                                    return e = Ur(e, t, 1),
                                        this.filter(function(t) {
                                            return !e(t)
                                        })
                                }
                                ,
                                i.prototype.slice = function(e, t) {
                                    e = null == e ? 0 : +e || 0;
                                    var n = this;
                                    return n.__filtered__ && (e > 0 || 0 > t) ? new i(n) : (0 > e ? n = n.takeRight(-e) : e && (n = n.drop(e)),
                                    t !== k && (t = +t || 0,
                                        n = 0 > t ? n.dropRight(-t) : n.take(t - e)),
                                        n)
                                }
                                ,
                                i.prototype.takeRightWhile = function(e, t) {
                                    return this.reverse().takeWhile(e, t).reverse()
                                }
                                ,
                                i.prototype.toArray = function() {
                                    return this.take(Au)
                                }
                                ,
                                Dn(i.prototype, function(e, n) {
                                    var s = /^(?:filter|map|reject)|While$/.test(n)
                                        , o = /^(?:first|last)$/.test(n)
                                        , u = t[o ? "take" + ("last" == n ? "Right" : "") : n];
                                    u && (t.prototype[n] = function() {
                                        var t = o ? [1] : arguments
                                            , n = this.__chain__
                                            , a = this.__wrapped__
                                            , f = !!this.__actions__.length
                                            , l = a instanceof i
                                            , c = t[0]
                                            , h = l || Oa(a);
                                        h && s && "function" == typeof c && 1 != c.length && (l = h = !1);
                                        var p = function(e) {
                                                return o && n ? u(e, 1)[0] : u.apply(k, cn([e], t))
                                            }
                                            , d = {
                                                func: Wi,
                                                args: [p],
                                                thisArg: k
                                            }
                                            , v = l && !f;
                                        if (o && !n)
                                            return v ? (a = a.clone(),
                                                a.__actions__.push(d),
                                                e.call(a)) : u.call(k, this.value())[0];
                                        if (!o && h) {
                                            a = v ? a : new i(this);
                                            var m = e.apply(a, t);
                                            return m.__actions__.push(d),
                                                new r(m,n)
                                        }
                                        return this.thru(p)
                                    }
                                    )
                                }),
                                tn(["join", "pop", "push", "replace", "shift", "sort", "splice", "split", "unshift"], function(e) {
                                    var n = (/^(?:replace|split)$/.test(e) ? eu : Yo)[e]
                                        , r = /^(?:push|sort|unshift)$/.test(e) ? "tap" : "thru"
                                        , i = /^(?:join|pop|replace|shift)$/.test(e);
                                    t.prototype[e] = function() {
                                        var e = arguments;
                                        return i && !this.__chain__ ? n.apply(this.value(), e) : this[r](function(t) {
                                            return n.apply(t, e)
                                        })
                                    }
                                }),
                                Dn(i.prototype, function(e, n) {
                                    var r = t[n];
                                    if (r) {
                                        var i = r.name
                                            , s = Hu[i] || (Hu[i] = []);
                                        s.push({
                                            name: n,
                                            func: r
                                        })
                                    }
                                }),
                                Hu[Dr(k, O).name] = [{
                                    name: "wrapper",
                                    func: k
                                }],
                                i.prototype.clone = w,
                                i.prototype.reverse = Z,
                                i.prototype.value = rt,
                                t.prototype.chain = Xi,
                                t.prototype.commit = Vi,
                                t.prototype.concat = na,
                                t.prototype.plant = $i,
                                t.prototype.reverse = Ji,
                                t.prototype.toString = Ki,
                                t.prototype.run = t.prototype.toJSON = t.prototype.valueOf = t.prototype.value = Qi,
                                t.prototype.collect = t.prototype.map,
                                t.prototype.head = t.prototype.first,
                                t.prototype.select = t.prototype.filter,
                                t.prototype.tail = t.prototype.rest,
                                t
                        }
                        var k, L = "3.10.1", A = 1, O = 2, M = 4, _ = 8, D = 16, P = 32, H = 64, B = 128, j = 256, F = 30, I = "...", q = 150, R = 16, U = 200, z = 1, W = 2, X = "Expected a function", V = "__lodash_placeholder__", $ = "[object Arguments]", J = "[object Array]", K = "[object Boolean]", Q = "[object Date]", G = "[object Error]", Y = "[object Function]", Z = "[object Map]", et = "[object Number]", tt = "[object Object]", nt = "[object RegExp]", rt = "[object Set]", it = "[object String]", st = "[object WeakMap]", ot = "[object ArrayBuffer]", ut = "[object Float32Array]", at = "[object Float64Array]", ft = "[object Int8Array]", lt = "[object Int16Array]", ct = "[object Int32Array]", ht = "[object Uint8Array]", pt = "[object Uint8ClampedArray]", dt = "[object Uint16Array]", vt = "[object Uint32Array]", mt = /\b__p \+= '';/g, gt = /\b(__p \+=) '' \+/g, yt = /(__e\(.*?\)|\b__t\)) \+\n'';/g, bt = /&(?:amp|lt|gt|quot|#39|#96);/g, wt = /[&<>"'`]/g, Et = RegExp(bt.source), St = RegExp(wt.source), xt = /<%-([\s\S]+?)%>/g, Tt = /<%([\s\S]+?)%>/g, Nt = /<%=([\s\S]+?)%>/g, Ct = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/, kt = /^\w*$/, Lt = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g, At = /^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g, Ot = RegExp(At.source), Mt = /[\u0300-\u036f\ufe20-\ufe23]/g, _t = /\\(\\)?/g, Dt = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, Pt = /\w*$/, Ht = /^0[xX]/, Bt = /^\[object .+?Constructor\]$/, jt = /^\d+$/, Ft = /[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g, It = /($^)/, qt = /['\n\r\u2028\u2029\\]/g, Rt = function() {
                            var e = "[A-Z\\xc0-\\xd6\\xd8-\\xde]"
                                , t = "[a-z\\xdf-\\xf6\\xf8-\\xff]+";
                            return RegExp(e + "+(?=" + e + t + ")|" + e + "?" + t + "|" + e + "+|[0-9]+", "g")
                        }(), Ut = ["Array", "ArrayBuffer", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Math", "Number", "Object", "RegExp", "Set", "String", "_", "clearTimeout", "isFinite", "parseFloat", "parseInt", "setTimeout", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap"], zt = -1, Wt = {};
                        Wt[ut] = Wt[at] = Wt[ft] = Wt[lt] = Wt[ct] = Wt[ht] = Wt[pt] = Wt[dt] = Wt[vt] = !0,
                            Wt[$] = Wt[J] = Wt[ot] = Wt[K] = Wt[Q] = Wt[G] = Wt[Y] = Wt[Z] = Wt[et] = Wt[tt] = Wt[nt] = Wt[rt] = Wt[it] = Wt[st] = !1;
                        var Xt = {};
                        Xt[$] = Xt[J] = Xt[ot] = Xt[K] = Xt[Q] = Xt[ut] = Xt[at] = Xt[ft] = Xt[lt] = Xt[ct] = Xt[et] = Xt[tt] = Xt[nt] = Xt[it] = Xt[ht] = Xt[pt] = Xt[dt] = Xt[vt] = !0,
                            Xt[G] = Xt[Y] = Xt[Z] = Xt[rt] = Xt[st] = !1;
                        var Vt = {
                                "\u00c0": "A",
                                "\u00c1": "A",
                                "\u00c2": "A",
                                "\u00c3": "A",
                                "\u00c4": "A",
                                "\u00c5": "A",
                                "\u00e0": "a",
                                "\u00e1": "a",
                                "\u00e2": "a",
                                "\u00e3": "a",
                                "\u00e4": "a",
                                "\u00e5": "a",
                                "\u00c7": "C",
                                "\u00e7": "c",
                                "\u00d0": "D",
                                "\u00f0": "d",
                                "\u00c8": "E",
                                "\u00c9": "E",
                                "\u00ca": "E",
                                "\u00cb": "E",
                                "\u00e8": "e",
                                "\u00e9": "e",
                                "\u00ea": "e",
                                "\u00eb": "e",
                                "\u00cc": "I",
                                "\u00cd": "I",
                                "\u00ce": "I",
                                "\u00cf": "I",
                                "\u00ec": "i",
                                "\u00ed": "i",
                                "\u00ee": "i",
                                "\u00ef": "i",
                                "\u00d1": "N",
                                "\u00f1": "n",
                                "\u00d2": "O",
                                "\u00d3": "O",
                                "\u00d4": "O",
                                "\u00d5": "O",
                                "\u00d6": "O",
                                "\u00d8": "O",
                                "\u00f2": "o",
                                "\u00f3": "o",
                                "\u00f4": "o",
                                "\u00f5": "o",
                                "\u00f6": "o",
                                "\u00f8": "o",
                                "\u00d9": "U",
                                "\u00da": "U",
                                "\u00db": "U",
                                "\u00dc": "U",
                                "\u00f9": "u",
                                "\u00fa": "u",
                                "\u00fb": "u",
                                "\u00fc": "u",
                                "\u00dd": "Y",
                                "\u00fd": "y",
                                "\u00ff": "y",
                                "\u00c6": "Ae",
                                "\u00e6": "ae",
                                "\u00de": "Th",
                                "\u00fe": "th",
                                "\u00df": "ss"
                            }
                            , $t = {
                                "&": "&amp;",
                                "<": "&lt;",
                                ">": "&gt;",
                                '"': "&quot;",
                                "'": "&#39;",
                                "`": "&#96;"
                            }
                            , Jt = {
                                "&amp;": "&",
                                "&lt;": "<",
                                "&gt;": ">",
                                "&quot;": '"',
                                "&#39;": "'",
                                "&#96;": "`"
                            }
                            , Kt = {
                                "function": !0,
                                object: !0
                            }
                            , Qt = {
                                0: "x30",
                                1: "x31",
                                2: "x32",
                                3: "x33",
                                4: "x34",
                                5: "x35",
                                6: "x36",
                                7: "x37",
                                8: "x38",
                                9: "x39",
                                A: "x41",
                                B: "x42",
                                C: "x43",
                                D: "x44",
                                E: "x45",
                                F: "x46",
                                a: "x61",
                                b: "x62",
                                c: "x63",
                                d: "x64",
                                e: "x65",
                                f: "x66",
                                n: "x6e",
                                r: "x72",
                                t: "x74",
                                u: "x75",
                                v: "x76",
                                x: "x78"
                            }
                            , Gt = {
                                "\\": "\\",
                                "'": "'",
                                "\n": "n",
                                "\r": "r",
                                "\u2028": "u2028",
                                "\u2029": "u2029"
                            }
                            , Yt = Kt[typeof t] && t && !t.nodeType && t
                            , Zt = Kt[typeof e] && e && !e.nodeType && e
                            , en = Yt && Zt && "object" == typeof i && i && i.Object && i
                            , tn = Kt[typeof self] && self && self.Object && self
                            , nn = Kt[typeof window] && window && window.Object && window
                            , rn = (Zt && Zt.exports === Yt && Yt,
                            en || nn !== (this && this.window) && nn || tn || this)
                            , sn = C();
                        rn._ = sn,
                            r = function() {
                                return sn
                            }
                                .call(t, n, t, e),
                        r === k || !(e.exports = r)
                    }
                    ).call(this)
                }
                ).call(t, n(7)(e), function() {
                        return this
                    }())
            }
            , function(e, t, n) {
                "use strict";
                function r(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                function i(e) {
                    return {
                        sh: a.SOCKET_MAP,
                        sz: a.SOCKET_MAP,
                        nq: a.HS_SQT_MAP,
                        hk: a.HK_SQT_MAP,
                        r_hk: a.HK_SQT_MAP,
                        us: a.US_SQT_MAP,
                        jj: a.JJ_SQT_MAP,
                        s_jj: a.S_JJ_SQT_MAP
                    }[e]
                }
                function s(e) {
                    return {
                        sh: a.INVERSE_SOCKET_MAP,
                        sz: a.INVERSE_SOCKET_MAP,
                        nq: a.HS_INVERSE_SQT_MAP,
                        hk: a.HK_INVERSE_SQT_MAP,
                        r_hk: a.HK_INVERSE_SQT_MAP,
                        us: a.US_INVERSE_SQT_MAP,
                        jj: a.JJ_INVERSE_SQT_MAP,
                        s_jj: a.S_JJ_INVERSE_SQT_MAP
                    }[e]
                }
                var o = n(2)
                    , u = r(o)
                    , a = n(1)
                    , f = function() {
                        return (new Date).valueOf()
                    }
                    , l = function(e) {
                        return e && 0 !== e.length ? e : "all"
                    }
                    , c = function(e) {
                        if (u["default"].isArray(e))
                            e[a.REQ_SYMBOL] = e[0],
                                e[a.REQ_KEYS] = l(e[1]);
                        else if (u["default"].isObject(e))
                            if (u["default"].has(e, "symbols")) {
                                var t = {};
                                t[a.REQ_SYMBOL] = e.symbols,
                                    t[a.REQ_KEYS] = l(e.keys || []),
                                    e = t
                            } else
                                u["default"].has(e, a.REQ_SYMBOL) && (e[a.REQ_KEYS] = l(e[a.REQ_KEYS] || []));
                        return u["default"].isArray(e[a.REQ_KEYS]) && !function() {
                            var t = e[a.REQ_SYMBOL]
                                , n = e[a.REQ_KEYS]
                                , r = u["default"].reduce(t, function(e, t) {
                                    var r = a.MARKETS.exec(t)[0]
                                        , s = i(r);
                                    return e = u["default"].union(e, u["default"].map(n, function(e) {
                                        return s[e]
                                    }))
                                }, []);
                            e[a.REQ_KEYS] = u["default"].newCompact(u["default"].uniq(r, !0))
                        }(),
                            e
                    }
                    , h = 0
                    , p = function(e) {
                        var t = u["default"].values(e[a.REQ_SYMBOL]).join("~");
                        return t + "#" + h++
                    }
                    ;
                e.exports = {
                    getTime: f,
                    getInverseMap: s,
                    getMap: i,
                    fmtRequest: c,
                    createReqID: p
                }
            }
            , function(e, t, n) {
                "use strict";
                function r(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                function i(e) {
                    if (Array.isArray(e)) {
                        for (var t = 0, n = Array(e.length); t < e.length; t++)
                            n[t] = e[t];
                        return n
                    }
                    return Array.from(e)
                }
                var s = n(2)
                    , o = r(s)
                    , u = n(3)
                    , a = n(1)
                    , f = {}
                    , l = {}
                    , c = {}
                    , h = {
                        reg: function(e) {
                            f[e.regID] = e
                        },
                        unreg: function(e) {
                            delete f[e]
                        },
                        set: function(e) {
                            var t = this;
                            o["default"].forEach(e, function(e, n) {
                                t.setData(n, e)
                            }),
                                this.response.apply(this, i(o["default"].keys(e))),
                                this.reCheckReq()
                        },
                        setData: function(e, t) {
                            l[e] = o["default"].assign({}, l[e] || {}, t),
                                this.setState(e, 1)
                        },
                        setState: function(e, t) {
                            l[e] = o["default"].assign({}, l[e], {
                                state: t
                            })
                        },
                        response: function() {
                            for (var e = this, t = arguments.length, n = Array(t), r = 0; t > r; r++)
                                n[r] = arguments[r];
                            var i = "(" + n.join("|") + ")"
                                , s = c[i] || (c[i] = new RegExp(i));
                            o["default"].forEach(f, function(t, n) {
                                setTimeout(function() {
                                    s.test(n) && t.fn(e.getData(n))
                                }, 0)
                            })
                        },
                        checkState: function(e) {
                            var t = f[e].req
                                , n = t[a.REQ_SYMBOL]
                                , r = 1;
                            return o["default"].each(n, function(e) {
                                switch (o["default"].result(l[e], "state")) {
                                    case 0:
                                        return r = a.State_Loading,
                                            !1;
                                    case void 0:
                                        r = a.State_Uninitialized
                                }
                                return !0
                            }),
                                r
                        },
                        reCheckReq: function() {
                            var e = this;
                            o["default"].each(f, function(t, n) {
                                return e.checkState(n) === a.State_Uninitialized ? (a.GLOBAL_EVENT.emitRequest(),
                                    !1) : !0
                            })
                        },
                        getData: function(e) {
                            if (!f[e])
                                return {};
                            var t = f[e].req
                                , n = t[a.REQ_SYMBOL]
                                , r = t[a.REQ_KEYS]
                                , i = o["default"].isArray(r);
                            return i ? o["default"].reduce(n, function(e, t) {
                                var n = a.MARKETS.exec(t)[0]
                                    , i = (0,
                                        u.getInverseMap)(n);
                                return e[t] = o["default"].reduce(r, function(e, n) {
                                    var r = i[n];
                                    return e[r] = l[t] && l[t][r] || "",
                                        e
                                }, {}),
                                    e
                            }, {}) : o["default"].reduce(n, function(e, t) {
                                return e[t] = l[t],
                                    e
                            }, {})
                        }
                    };
                e.exports = h
            }
            , function(e, t, n) {
                "use strict";
                function r(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                var i = n(2)
                    , s = r(i)
                    , o = n(1)
                    , u = {
                        report: function(e) {
                            var t = "";
                            s["default"].forEach(e, function(e, n) {
                                t += "&" + n + "=" + e
                            });
                            var n = new Image(1,1);
                            n.src = "http://btrace.qq.com/kvcollect?BossId=" + o.BOSSID + "&Pwd=1850658996" + t + "&_dc=" + Math.random()
                        }
                    };
                e.exports = u
            }
            , function(e, t, n) {
                "use strict";
                function r(e) {
                    return {
                        id: e[1],
                        no: e[2],
                        version: e[3],
                        compressM: e[4],
                        encryptM: e[5],
                        length: e[6],
                        content: e[7],
                        CRC: e[8]
                    }
                }
                function i(e) {
                    var t = []
                        , n = ""
                        , r = e[0];
                    e = e.substr(1),
                        "<" === r ? u = !0 : ">" === r && (u = !1);
                    for (var i = 0, s = e.length; s > i; i++) {
                        var o = n + e[i];
                        o in a ? (t.push(o),
                            n = "") : n = o
                    }
                    return t
                }
                function s(e) {
                    for (var t = 0, n = 0, r = 0, i = e.length; i > n; n++,
                        r++)
                        t += a[e[n]].fmtLen;
                    return t
                }
                var o = n(1)
                    , u = !1
                    , a = {
                        B: {
                            fmtLen: 1,
                            setter: function(e, t, n) {
                                return e.setUint8(t, n),
                                    this.fmtLen
                            },
                            getter: function(e, t) {
                                return {
                                    data: e.getUint8(t),
                                    fmtLen: this.fmtLen
                                }
                            }
                        },
                        H: {
                            fmtLen: 2,
                            setter: function(e, t, n) {
                                return e.setUint16(t, n, u),
                                    this.fmtLen
                            },
                            getter: function(e, t) {
                                return {
                                    data: e.getUint16(t, u),
                                    fmtLen: this.fmtLen
                                }
                            }
                        },
                        I: {
                            fmtLen: 4,
                            setter: function(e, t, n) {
                                return e.setUint32(t, n, u),
                                    this.fmtLen
                            },
                            getter: function(e, t) {
                                return {
                                    data: e.getUint32(t, u),
                                    fmtLen: this.fmtLen
                                }
                            }
                        },
                        "%ds": {
                            fmtLen: 0,
                            setter: function(e, t, n) {
                                for (var r = n.length, i = 0; r > i; i++)
                                    e.setUint8(t, n.charCodeAt(i)),
                                        t += 1;
                                return r
                            },
                            getter: function(e, t, n) {
                                for (var r = "", i = 0; n > i; i++)
                                    r += "%" + e.getUint8(t).toString(16),
                                        t += 1;
                                return {
                                    data: JSON.parse(decodeURIComponent(r)),
                                    fmtLen: n
                                }
                            }
                        },
                        " ": {
                            fmtLen: 1,
                            setter: function(e, t, n) {
                                return e.setUint8(t, n),
                                    this.fmtLen
                            },
                            getter: function(e, t) {
                                return {
                                    data: e.getUint8(t),
                                    fmtLen: this.fmtLen
                                }
                            }
                        }
                    }
                    , f = i(o.FRAME_FMT)
                    , l = s(f)
                    , c = {
                        pack: function(e, t) {
                            "string" != typeof e && (e = JSON.stringify(e));
                            for (var n = e.length, r = new ArrayBuffer(l + n), i = new DataView(r), s = [o.HEAD, t, 1, o.PROTOCOL_VER, o.IS_COMPRESS, o.IS_ENCRYPT, n, e, " ", " ", " ", o.TAIL], u = 0, c = 0, h = 0, p = f.length; p > c; c++,
                                h++)
                                switch (f[c]) {
                                    case "B":
                                    case "H":
                                    case "I":
                                    case "%ds":
                                    case " ":
                                        u += a[f[c]].setter(i, u, s[h])
                                }
                            return r
                        },
                        unpack: function(e) {
                            for (var t = 0, n = "", i = [], s = new DataView(e), o = 0, u = 0, l = f.length; l > o; o++,
                                u++)
                                switch (n + f[o]) {
                                    case "B":
                                    case "H":
                                    case "I":
                                    case "%ds":
                                    case " ":
                                        var c = a[f[o]].getter(s, t, i[i.length - 1]);
                                        i.push(c.data),
                                            t += c.fmtLen
                                }
                            return r(i)
                        }
                    };
                e.exports = c
            }
            , function(e, t) {
                e.exports = function(e) {
                    return e.webpackPolyfill || (e.deprecate = function() {}
                        ,
                        e.paths = [],
                        e.children = [],
                        e.webpackPolyfill = 1),
                        e
                }
            }
            , function(e, t) {
                "use strict";
                var n = 2
                    , r = 3
                    , i = 1
                    , s = 1
                    , o = 1
                    , u = 1001
                    , a = 1002
                    , f = 1003
                    , l = 102
                    , c = 103
                    , h = 105
                    , p = 106
                    , d = 109;
                e.exports = {
                    HEAD: n,
                    TAIL: r,
                    PROTOCOL_VER: i,
                    IS_COMPRESS: s,
                    IS_ENCRYPT: o,
                    REQ_HEARTBEAT: u,
                    REQ_SYMBOL: a,
                    REQ_KEYS: f,
                    RES_REQUEST: l,
                    RES_REPLY: c,
                    RES_PUSH: h,
                    RES_HEARTBEAT: p,
                    RES_ERROR: d
                }
            }
            , function(e, t, n) {
                "use strict";
                function r(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                var i = n(2)
                    , s = r(i)
                    , o = "ws://webpush.finance.qq.com/wbpush"
                    , u = 15e4
                    , a = 100
                    , f = ">BHHBBBI%ds   B"
                    , l = /(sh|sz)/
                    , c = /on/
                    , h = /off/
                    , p = {
                        Mkt: 0,
                        Name: 1,
                        Symbol: 2,
                        Price: 3,
                        PrevClose: 4,
                        Open: 5,
                        Vol: 6,
                        OB: 7,
                        IB: 8,
                        BP1: 9,
                        BS1: 10,
                        BP2: 11,
                        BS2: 12,
                        BP3: 13,
                        BS3: 14,
                        BP4: 15,
                        BS4: 16,
                        BP5: 17,
                        BS5: 18,
                        AP1: 19,
                        AS1: 20,
                        AP2: 21,
                        AS2: 22,
                        AP3: 23,
                        AS3: 24,
                        AP4: 25,
                        AS4: 26,
                        AP5: 27,
                        AS5: 28,
                        Uptodate: 29,
                        TimeStamp: 30,
                        Chg: 31,
                        ChgRatio: 32,
                        High: 33,
                        Low: 34,
                        _Price: 35,
                        _Vol: 36,
                        Turnover: 37,
                        TurnoverRate: 38,
                        PE: 39,
                        Status: 40,
                        _High: 41,
                        _Low: 42,
                        Amp: 43,
                        CSIC: 44,
                        CS: 45,
                        _Change: 46,
                        LimitUp: 47,
                        LimitDown: 48,
                        VolRate: 49
                    }
                    , d = s["default"].invert(p);
                s["default"].each(p, function(e) {
                    p[e] = e
                }),
                    s["default"].each(d, function(e) {
                        d[e] = e
                    }),
                    e.exports = {
                        SOCKET_MAP: p,
                        INVERSE_SOCKET_MAP: d,
                        WEBSOCKET_SERVER: o,
                        TIMEOUT: u,
                        AMOUNT_LIMIT: a,
                        FRAME_FMT: f,
                        SUPPORT_MKT_SOCKET: l,
                        ON_STATE: c,
                        OFF_STATE: h
                    }
            }
            , function(e, t, n) {
                "use strict";
                function r(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                var i = n(2)
                    , s = r(i)
                    , o = 5e3
                    , u = "http://sqt.gtimg.cn/utf8/"
                    , a = /loaded|complete|undefined/
                    , f = window.WebSocket ? /(hk|jj|us|nq)/ : /(hk|jj|us|nq|sh|sz)/
                    , l = "text/javascript"
                    , c = document.documentElement.firstChild
                    , h = 2083
                    , p = {
                        Mkt: 0,
                        Name: 1,
                        Symbol: 2,
                        Price: 3,
                        PrevClose: 4,
                        Open: 5,
                        Vol: 6,
                        OB: 7,
                        IB: 8,
                        BP1: 9,
                        BS1: 10,
                        BP2: 11,
                        BS2: 12,
                        BP3: 13,
                        BS3: 14,
                        BP4: 15,
                        BS4: 16,
                        BP5: 17,
                        BS5: 18,
                        AP1: 19,
                        AS1: 20,
                        AP2: 21,
                        AS2: 22,
                        AP3: 23,
                        AS3: 24,
                        AP4: 25,
                        AS4: 26,
                        AP5: 27,
                        AS5: 28,
                        Uptodate: 29,
                        TimeStamp: 30,
                        Chg: 31,
                        ChgRatio: 32,
                        High: 33,
                        Low: 34,
                        _Price: 35,
                        _Vol: 36,
                        Turnover: 37,
                        TurnoverRate: 38,
                        PE: 39,
                        Status: 40,
                        _High: 41,
                        _Low: 42,
                        Amp: 43,
                        CSIC: 44,
                        CS: 45,
                        _Change: 46,
                        LimitUp: 47,
                        LimitDown: 48,
                        VolRate: 49
                    }
                    , d = {
                        Mkt: 0,
                        Name: 1,
                        Symbol: 2,
                        Price: 3,
                        PrevClose: 4,
                        Open: 5,
                        BP1: 9,
                        AP1: 19,
                        TimeStamp: 30,
                        Chg: 31,
                        ChgRatio: 32,
                        High: 33,
                        Low: 34,
                        Nominal: 35,
                        _Vol: 36,
                        Turnover: 37,
                        PE: 39,
                        Status: 40,
                        MktCap_H: 44,
                        MktCap_AH: 45,
                        EName: 46,
                        DY: 47,
                        WK52_High: 48,
                        WK52_Low: 49,
                        _Change: 50
                    }
                    , v = {
                        Mkt: 0,
                        Name: 1,
                        Symbol: 2,
                        Price: 3,
                        PrevClose: 4,
                        Open: 5,
                        TimeStamp: 30,
                        Chg: 31,
                        ChgRatio: 32,
                        High: 33,
                        Low: 34,
                        Color: 35,
                        _Vol: 36,
                        Turnover: 37,
                        TurnoverRate: 38,
                        PE: 39,
                        CS: 45,
                        EName: 46,
                        EPS: 47,
                        Y1_High: 48,
                        Y1_Low: 49,
                        _Change: 50
                    }
                    , m = {
                        Symbol: 0,
                        Name: 1,
                        ExpDate: 2,
                        IOPV: 3,
                        ACCIOPV: 4,
                        ACCIOPVGR: 5,
                        Chg: 6,
                        ADJIOPV: 7,
                        M3_ROR: 8,
                        M3_RORRank: 9,
                        Y1_ROR: 10,
                        Y1_RORRank: 11,
                        Y2_MSRank: 12,
                        FundManager: 13,
                        M1_ROR: 14,
                        M1_RORRank: 15,
                        Purchase: 16,
                        Redeem: 17,
                        FundType: 18,
                        FundStyle: 19,
                        InvestStyle: 20,
                        FundShares: 21,
                        NetWorth: 22,
                        FundAdvisor: 23,
                        FundCustodian: 24,
                        ManagingCosts: 25,
                        FoundingDate: 26,
                        WanFen: 27,
                        QiRi: 28
                    }
                    , g = {
                        Symbol: 0,
                        Name: 1,
                        Valuation: 2,
                        ValChgRatio: 3,
                        ValTime: 4,
                        IOPV: 5,
                        ACCIOPV: 6,
                        ACCIOPVGR: 7,
                        IOPVTime: 8
                    }
                    , y = s["default"].invert(p)
                    , b = s["default"].invert(d)
                    , w = s["default"].invert(v)
                    , E = s["default"].invert(g)
                    , S = s["default"].invert(m);
                s["default"].each(p, function(e) {
                    p[e] = e
                }),
                    s["default"].each(d, function(e) {
                        d[e] = e
                    }),
                    s["default"].each(v, function(e) {
                        v[e] = e
                    }),
                    s["default"].each(g, function(e) {
                        g[e] = e
                    }),
                    s["default"].each(m, function(e) {
                        m[e] = e
                    }),
                    s["default"].each(y, function(e) {
                        y[e] = e
                    }),
                    s["default"].each(b, function(e) {
                        b[e] = e
                    }),
                    s["default"].each(w, function(e) {
                        w[e] = e
                    }),
                    s["default"].each(E, function(e) {
                        E[e] = e
                    }),
                    s["default"].each(S, function(e) {
                        S[e] = e
                    }),
                    e.exports = {
                        SQT_FRQ: o,
                        SQT_SERVER: u,
                        SUPPORT_MKT_SQT: f,
                        MAX_LENGTH: h,
                        $head: c,
                        READY_STATE: a,
                        SCRIPT_TYPE: l,
                        HS_SQT_MAP: p,
                        HS_INVERSE_SQT_MAP: y,
                        HK_SQT_MAP: d,
                        HK_INVERSE_SQT_MAP: b,
                        US_SQT_MAP: v,
                        US_INVERSE_SQT_MAP: w,
                        JJ_SQT_MAP: g,
                        JJ_INVERSE_SQT_MAP: E,
                        S_JJ_SQT_MAP: m,
                        S_JJ_INVERSE_SQT_MAP: S
                    }
            }
            , function(e, t, n) {
                "use strict";
                function r(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                function i() {
                    var e = {}
                        , t = {};
                    u["default"].forEach(g, function(n) {
                        var r = n.req;
                        u["default"].assign(t, u["default"].zipObject(u["default"].isArray(r[d.REQ_KEYS]) ? r[d.REQ_KEYS] : [])),
                            u["default"].assign(e, u["default"].zipObject(r[d.REQ_SYMBOL]))
                    });
                    var n = {};
                    return n[d.REQ_SYMBOL] = u["default"].keys(e),
                        n[d.REQ_KEYS] = u["default"].keys(t),
                        n
                }
                function s(e) {
                    var t = e[d.REQ_SYMBOL];
                    return {
                        basedOn: function(n) {
                            var r = {};
                            return r[d.REQ_SYMBOL] = u["default"].reduce(t, function(e, t) {
                                return n.test(t) && e.push(t),
                                    e
                            }, []),
                                u["default"].assign({}, e, r)
                        },
                        restrictAs: function(e) {
                            var t = this.basedOn(d.SUPPORT_MKT_SOCKET)
                                , n = this.basedOn(d.SUPPORT_MKT_SQT);
                            return t[d.REQ_SYMBOL].length > e && (n[d.REQ_SYMBOL] = n[d.REQ_SYMBOL].concat(t[d.REQ_SYMBOL].slice(v)),
                                t[d.REQ_SYMBOL] = t[d.REQ_SYMBOL].slice(0, v)),
                            {
                                wsRequest: t,
                                sqtRequest: n
                            }
                        }
                    }
                }
                var o = n(2)
                    , u = r(o)
                    , a = n(4)
                    , f = r(a)
                    , l = n(15)
                    , c = r(l)
                    , h = n(13)
                    , p = r(h)
                    , d = n(1)
                    , v = 50
                    , m = 1
                    , g = {}
                    , y = {
                        set: function(e) {
                            var t = e.regID;
                            switch (g[t] = e,
                                f["default"].reg(e),
                                f["default"].checkState(t)) {
                                case d.State_Loading:
                                    break;
                                case d.State_Ready:
                                    if (e.count === m) {
                                        e.fn(f["default"].getData(t));
                                        break
                                    }
                                    ;
                                case d.State_Uninitialized:
                                    this.request()
                            }
                        },
                        unset: function(e) {
                            f["default"].unreg(e),
                                delete g[e]
                        },
                        request: function() {
                            var e = i();
                            if (d.ON_STATE.test(c["default"].state)) {
                                var t = s(e).restrictAs(d.AMOUNT_LIMIT);
                                c["default"].request(t.wsRequest),
                                    p["default"].request(t.sqtRequest)
                            } else
                                p["default"].request(e)
                        },
                        setUser: function(e) {
                            c["default"].connect(e)
                        },
                        unsetUser: function() {
                            c["default"].disconnect()
                        }
                    };
                d.GLOBAL_EVENT.wsStateUpdate = function() {
                    return y.request()
                }
                    ,
                    d.GLOBAL_EVENT.emitRequest = function() {
                        return y.request()
                    }
                    ,
                    e.exports = y
            }
            , function(e, t, n) {
                "use strict";
                function r(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                var i = n(2)
                    , s = r(i);
                s["default"].mixin({
                    newCompact: function(e) {
                        for (var t = -1, n = -1, r = e ? e.length : 0, i = []; ++t < r; ) {
                            var s = e[t];
                            (s || 0 === s) && (i[++n] = s)
                        }
                        return i
                    }
                })
            }
            , function(e, t, n) {
                "use strict";
                var r = n(14)
                    , i = n(1)
                    , s = {
                        timer: null ,
                        request: function(e) {
                            clearInterval(this.timer),
                                this.timer = setInterval(function() {
                                    return r.Request.get(e)
                                }, i.SQT_FRQ),
                                r.Request.get(e)
                        }
                    };
                e.exports = s
            }
            , function(e, t, n) {
                "use strict";
                function r(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                function i(e) {
                    return new Promise(function(t) {
                            var n = document.createElement("script");
                            n.type = h.SCRIPT_TYPE,
                                n.src = e,
                                h.$head.appendChild(n),
                                n.onload = n.onerror = n.onreadystatechange = function() {
                                    h.READY_STATE.test(n.readyState) && (h.$head.removeChild(n),
                                        t("Im Data"))
                                }
                        }
                    )
                }
                function s(e, t) {
                    var n = {};
                    return a["default"].forEach(e, function(r, i) {
                        var s = h.MARKETS.exec(i)[0]
                            , o = n[s] || (n[s] = function() {
                                    var e = (0,
                                        c.getInverseMap)(s);
                                    return 0 === t.length ? e : a["default"].reduce(t, function(t, n) {
                                        return t.push(e[n]),
                                            t
                                    }, [])
                                }());
                        e[i] = a["default"].reduce(r, function(e, t, n) {
                            return a["default"].isUndefined(o[n]) ? e : (e[o[n]] = t,
                                e)
                        }, {})
                    }),
                        e
                }
                function o(e) {
                    if (/^us/.test(e)) {
                        var t = e.split(".").pop().replace(".", "__");
                        return d[t] = e,
                            t
                    }
                    return e
                }
                var u = n(2)
                    , a = r(u)
                    , f = n(4)
                    , l = r(f)
                    , c = n(3)
                    , h = n(1)
                    , p = 0
                    , d = {}
                    , v = {
                        get: function(e) {
                            var t = a["default"].clone(e[h.REQ_SYMBOL])
                                , n = a["default"].clone(e[h.REQ_KEYS]);
                            if (0 !== t.length) {
                                for (var r = (h.SQT_SERVER + "q=").length, u = 0 === n.length ? "" : "&offset=" + a["default"].map(n, function(e) {
                                    return Number(e) + 1
                                }).join(","), f = "&r=" + Math.random() + p++, c = h.MAX_LENGTH - r - u.length - f.length, d = [], v = -1, m = 0; t.length > 0; ) {
                                    var g = t[0]
                                        , y = g.length + 1;
                                    l["default"].setState(g, h.State_Ready),
                                        m > y ? (d[v].push(o(g)),
                                            m -= y,
                                            t.shift()) : (v += 1,
                                            d.push([]),
                                            m = c)
                                }
                                a["default"].forEach(d, function(e) {
                                    i(h.SQT_SERVER + "q=" + e.join(",") + u + f).then(function() {
                                        var t = a["default"].reduce(e, function(e, t) {
                                            return e[t] = window["v_" + o(t)].split("~"),
                                                e
                                        }, {});
                                        return t = s(t, n),
                                            l["default"].set(t),
                                            !0
                                    })
                                })
                            }
                        }
                    };
                e.exports = {
                    Request: v
                }
            }
            , function(e, t, n) {
                "use strict";
                function r(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                var i = n(2)
                    , s = r(i)
                    , o = n(6)
                    , u = r(o)
                    , a = n(4)
                    , f = r(a)
                    , l = n(3)
                    , c = n(19)
                    , h = r(c)
                    , p = n(17)
                    , d = r(p)
                    , v = n(16)
                    , m = r(v)
                    , g = n(18)
                    , y = r(g)
                    , b = n(1)
                    , w = {
                        state: "off",
                        connect: function(e) {
                            var t = this;
                            if (!s["default"].isUndefined(e) && !(s["default"].isString(e) && 0 === e.length || (this.startTime = (0,
                                    l.getTime)(),
                                    s["default"].isUndefined(window.WebSocket)))) {
                                var n = b.WEBSOCKET_SERVER + "?_appName=web&_uin=" + e
                                    , r = this.Connection = new WebSocket(n);
                                r.binaryType = "arraybuffer",
                                    r.onopen = function(e) {
                                        return h["default"].call(t, e)
                                    }
                                    ,
                                    r.onmessage = function(e) {
                                        return d["default"].call(t, e)
                                    }
                                    ,
                                    r.onerror = function(e) {
                                        return y["default"].call(t, e)
                                    }
                                    ,
                                    r.onclose = function(e) {
                                        return m["default"].call(t, e)
                                    }
                            }
                        },
                        disconnect: function() {
                            this.Connection && this.Connection.close()
                        },
                        setState: function(e) {
                            this.state = e,
                                b.GLOBAL_EVENT.wsStateUpdate()
                        },
                        request: function(e, t) {
                            var n = e[b.REQ_SYMBOL]
                                , r = e[b.REQ_KEYS];
                            s["default"].forEach(n, function(e) {
                                f["default"].setState(e, 0)
                            });
                            var i = s["default"].assign({}, e);
                            r && 0 === r.length && (i[b.REQ_KEYS] = "all"),
                                this.Connection.send(u["default"].pack(JSON.stringify(i), t || b.RES_REQUEST))
                        }
                    };
                e.exports = w
            }
            , function(e, t, n) {
                "use strict";
                function r(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                function i(e) {
                    s.call(this);
                    var t = (new Date).valueOf()
                        , n = t - this.startTim;
                    u["default"].report({
                        wsTLCT: n
                    }),
                        u["default"].report({
                            wsClose: e.code
                        }),
                        this.setState("off"),
                        this.connect()
                }
                function s() {
                    clearInterval(this.heartBeatTimer),
                        delete this.heartBeatTimer
                }
                var o = n(5)
                    , u = r(o);
                e.exports = i
            }
            , function(e, t, n) {
                "use strict";
                function r(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                function i(e) {
                    var t = f["default"].unpack(e.data)
                        , n = t.id
                        , r = t.content;
                    switch (n) {
                        case v.RES_REPLY:
                        case v.RES_PUSH:
                            r = s(r),
                                p["default"].set(r);
                            break;
                        case v.RES_HEARTBEAT:
                            var i = {};
                            i[v.REQ_HEARTBEAT] = (0,
                                d.getTime)(),
                                this.request(i, v.RES_HEARTBEAT);
                            break;
                        case v.RES_ERROR:
                            c["default"].report({
                                wsReqError: "" + r.errcode
                            })
                    }
                }
                function s(e) {
                    return u["default"].each(e, function(t, n) {
                        var r = v.MARKETS.exec(n)[0]
                            , i = (0,
                                d.getInverseMap)(r);
                        e[n] = u["default"].reduce(t, function(e, t, n) {
                            return e[i[n]] = t,
                                e
                        }, {})
                    }),
                        e
                }
                var o = n(2)
                    , u = r(o)
                    , a = n(6)
                    , f = r(a)
                    , l = n(5)
                    , c = r(l)
                    , h = n(4)
                    , p = r(h)
                    , d = n(3)
                    , v = n(1);
                e.exports = i
            }
            , function(e, t, n) {
                "use strict";
                function r(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                function i(e) {
                    o["default"].report({
                        wsError: e.timeStamp
                    })
                }
                var s = n(5)
                    , o = r(s);
                e.exports = i
            }
            , function(e, t, n) {
                "use strict";
                function r(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                function i() {
                    s.call(this),
                        this.setState("on"),
                        o.call(this)
                }
                function s() {
                    var e = (0,
                            l.getTime)() - this.startTime;
                    f["default"].report({
                        wsCET: e
                    })
                }
                function o() {
                    var e = this;
                    u.call(this),
                        this.heartBeatTimer = setInterval(function() {
                            var t = {};
                            t[c.REQ_HEARTBEAT] = (0,
                                l.getTime)(),
                                e.request(t, c.RES_HEARTBEAT)
                        }, c.TIMEOUT)
                }
                function u() {
                    clearInterval(this.heartBeatTimer),
                        delete this.heartBeatTimer
                }
                var a = n(5)
                    , f = r(a)
                    , l = n(3)
                    , c = n(1);
                e.exports = i
            }
            , function(e, t, n) {
                "use strict";
                function r(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                n(21),
                    n(22),
                    n(12);
                var i = n(3)
                    , s = n(11)
                    , o = r(s)
                    , u = {
                        get: function(e, t) {
                            return t ? this.reg(e, t, 1) : !1
                        },
                        reg: function(e, t, n) {
                            if (!t || "number" == typeof t)
                                return !1;
                            var r = this;
                            e = (0,
                                i.fmtRequest)(e),
                                n = n || -1;
                            var s = (0,
                                    i.createReqID)(e)
                                , u = {
                                    regID: s,
                                    req: e,
                                    count: n,
                                    fn: function() {
                                        t.apply(this, arguments),
                                            this.reduce()
                                    },
                                    reduce: function() {
                                        this.count -= 1,
                                        0 === this.count && r.unreg(s)
                                    }
                                };
                            return o["default"].set(u),
                                s
                        },
                        unreg: function(e) {
                            return e && "string" == typeof e ? (o["default"].unset(e),
                                !0) : !1
                        },
                        setUser: function(e) {
                            return e && "string" == typeof e ? (o["default"].setUser(e),
                                !0) : !1
                        },
                        unsetUser: function() {
                            o["default"].unsetUser()
                        }
                    };
                e.exports = u
            }
            , function(e, t, n) {
                var r, i;
                !function(s, o) {
                    "use strict";
                    r = o,
                        i = "function" == typeof r ? r.call(t, n, t, e) : r,
                    void 0 === i || !(e.exports = i)
                }(this, function() {
                    var e, t = Array, n = t.prototype, r = Object, i = r.prototype, s = Function, o = s.prototype, u = String, a = u.prototype, f = Number, l = f.prototype, c = n.slice, h = n.splice, p = n.push, d = n.unshift, v = n.concat, m = n.join, g = o.call, y = o.apply, b = Math.max, w = Math.min, E = i.toString, S = "function" == typeof Symbol && "symbol" == typeof Symbol.toStringTag, x = Function.prototype.toString, T = function(e) {
                            try {
                                return x.call(e),
                                    !0
                            } catch (t) {
                                return !1
                            }
                        }
                        , N = "[object Function]", C = "[object GeneratorFunction]";
                    e = function(e) {
                        if ("function" != typeof e)
                            return !1;
                        if (S)
                            return T(e);
                        var t = E.call(e);
                        return t === N || t === C
                    }
                    ;
                    var k, L = RegExp.prototype.exec, A = function(e) {
                            try {
                                return L.call(e),
                                    !0
                            } catch (t) {
                                return !1
                            }
                        }
                        , O = "[object RegExp]";
                    k = function(e) {
                        return "object" != typeof e ? !1 : S ? A(e) : E.call(e) === O
                    }
                    ;
                    var M, _ = String.prototype.valueOf, D = function(e) {
                            try {
                                return _.call(e),
                                    !0
                            } catch (t) {
                                return !1
                            }
                        }
                        , P = "[object String]";
                    M = function(e) {
                        return "string" == typeof e ? !0 : "object" != typeof e ? !1 : S ? D(e) : E.call(e) === P
                    }
                    ;
                    var H = r.defineProperty && function() {
                                try {
                                    var e = {};
                                    r.defineProperty(e, "x", {
                                        enumerable: !1,
                                        value: e
                                    });
                                    for (var t in e)
                                        return !1;
                                    return e.x === e
                                } catch (n) {
                                    return !1
                                }
                            }()
                        , B = function(e) {
                            var t;
                            return t = H ? function(e, t, n, i) {
                                !i && t in e || r.defineProperty(e, t, {
                                    configurable: !0,
                                    enumerable: !1,
                                    writable: !0,
                                    value: n
                                })
                            }
                                : function(e, t, n, r) {
                                !r && t in e || (e[t] = n)
                            }
                                ,
                                function(n, r, i) {
                                    for (var s in r)
                                        e.call(r, s) && t(n, s, r[s], i)
                                }
                        }(i.hasOwnProperty)
                        , j = function(e) {
                            var t = typeof e;
                            return null === e || "object" !== t && "function" !== t
                        }
                        , F = f.isNaN || function(e) {
                                return e !== e
                            }
                        , I = {
                            ToInteger: function(e) {
                                var t = +e;
                                return F(t) ? t = 0 : 0 !== t && t !== 1 / 0 && t !== -1 / 0 && (t = (t > 0 || -1) * Math.floor(Math.abs(t))),
                                    t
                            },
                            ToPrimitive: function(t) {
                                var n, r, i;
                                if (j(t))
                                    return t;
                                if (r = t.valueOf,
                                    e(r) && (n = r.call(t),
                                        j(n)))
                                    return n;
                                if (i = t.toString,
                                    e(i) && (n = i.call(t),
                                        j(n)))
                                    return n;
                                throw new TypeError
                            },
                            ToObject: function(e) {
                                if (null == e)
                                    throw new TypeError("can't convert " + e + " to object");
                                return r(e)
                            },
                            ToUint32: function(e) {
                                return e >>> 0
                            }
                        }
                        , q = function() {}
                        ;
                    B(o, {
                        bind: function(t) {
                            var n = this;
                            if (!e(n))
                                throw new TypeError("Function.prototype.bind called on incompatible " + n);
                            for (var i, o = c.call(arguments, 1), u = function() {
                                    if (this instanceof i) {
                                        var e = y.call(n, this, v.call(o, c.call(arguments)));
                                        return r(e) === e ? e : this
                                    }
                                    return y.call(n, t, v.call(o, c.call(arguments)))
                                }
                                     , a = b(0, n.length - o.length), f = [], l = 0; a > l; l++)
                                p.call(f, "$" + l);
                            return i = s("binder", "return function (" + m.call(f, ",") + "){ return binder.apply(this, arguments); }")(u),
                            n.prototype && (q.prototype = n.prototype,
                                i.prototype = new q,
                                q.prototype = null ),
                                i
                        }
                    });
                    var R = g.bind(i.hasOwnProperty)
                        , U = g.bind(i.toString)
                        , z = g.bind(c)
                        , W = y.bind(c)
                        , X = g.bind(a.slice)
                        , V = g.bind(a.split)
                        , $ = g.bind(a.indexOf)
                        , J = g.bind(p)
                        , K = g.bind(i.propertyIsEnumerable)
                        , Q = g.bind(n.sort)
                        , G = t.isArray || function(e) {
                                return "[object Array]" === U(e)
                            }
                        , Y = 1 !== [].unshift(0);
                    B(n, {
                        unshift: function() {
                            return d.apply(this, arguments),
                                this.length
                        }
                    }, Y),
                        B(t, {
                            isArray: G
                        });
                    var Z = r("a")
                        , et = "a" !== Z[0] || !(0 in Z)
                        , tt = function(e) {
                            var t = !0
                                , n = !0
                                , r = !1;
                            if (e)
                                try {
                                    e.call("foo", function(e, n, r) {
                                        "object" != typeof r && (t = !1)
                                    }),
                                        e.call([1], function() {
                                            "use strict";
                                            n = "string" == typeof this
                                        }, "x")
                                } catch (i) {
                                    r = !0
                                }
                            return !!e && !r && t && n
                        }
                        ;
                    B(n, {
                        forEach: function(t) {
                            var n, r = I.ToObject(this), i = et && M(this) ? V(this, "") : r, s = -1, o = I.ToUint32(i.length);
                            if (arguments.length > 1 && (n = arguments[1]),
                                    !e(t))
                                throw new TypeError("Array.prototype.forEach callback must be a function");
                            for (; ++s < o; )
                                s in i && ("undefined" == typeof n ? t(i[s], s, r) : t.call(n, i[s], s, r))
                        }
                    }, !tt(n.forEach)),
                        B(n, {
                            map: function(n) {
                                var r, i = I.ToObject(this), s = et && M(this) ? V(this, "") : i, o = I.ToUint32(s.length), u = t(o);
                                if (arguments.length > 1 && (r = arguments[1]),
                                        !e(n))
                                    throw new TypeError("Array.prototype.map callback must be a function");
                                for (var a = 0; o > a; a++)
                                    a in s && ("undefined" == typeof r ? u[a] = n(s[a], a, i) : u[a] = n.call(r, s[a], a, i));
                                return u
                            }
                        }, !tt(n.map)),
                        B(n, {
                            filter: function(t) {
                                var n, r, i = I.ToObject(this), s = et && M(this) ? V(this, "") : i, o = I.ToUint32(s.length), u = [];
                                if (arguments.length > 1 && (r = arguments[1]),
                                        !e(t))
                                    throw new TypeError("Array.prototype.filter callback must be a function");
                                for (var a = 0; o > a; a++)
                                    a in s && (n = s[a],
                                    ("undefined" == typeof r ? t(n, a, i) : t.call(r, n, a, i)) && J(u, n));
                                return u
                            }
                        }, !tt(n.filter)),
                        B(n, {
                            every: function(t) {
                                var n, r = I.ToObject(this), i = et && M(this) ? V(this, "") : r, s = I.ToUint32(i.length);
                                if (arguments.length > 1 && (n = arguments[1]),
                                        !e(t))
                                    throw new TypeError("Array.prototype.every callback must be a function");
                                for (var o = 0; s > o; o++)
                                    if (o in i && ("undefined" == typeof n ? !t(i[o], o, r) : !t.call(n, i[o], o, r)))
                                        return !1;
                                return !0
                            }
                        }, !tt(n.every)),
                        B(n, {
                            some: function(t) {
                                var n, r = I.ToObject(this), i = et && M(this) ? V(this, "") : r, s = I.ToUint32(i.length);
                                if (arguments.length > 1 && (n = arguments[1]),
                                        !e(t))
                                    throw new TypeError("Array.prototype.some callback must be a function");
                                for (var o = 0; s > o; o++)
                                    if (o in i && ("undefined" == typeof n ? t(i[o], o, r) : t.call(n, i[o], o, r)))
                                        return !0;
                                return !1
                            }
                        }, !tt(n.some));
                    var nt = !1;
                    n.reduce && (nt = "object" == typeof n.reduce.call("es5", function(e, t, n, r) {
                        return r
                    })),
                        B(n, {
                            reduce: function(t) {
                                var n = I.ToObject(this)
                                    , r = et && M(this) ? V(this, "") : n
                                    , i = I.ToUint32(r.length);
                                if (!e(t))
                                    throw new TypeError("Array.prototype.reduce callback must be a function");
                                if (0 === i && 1 === arguments.length)
                                    throw new TypeError("reduce of empty array with no initial value");
                                var s, o = 0;
                                if (arguments.length >= 2)
                                    s = arguments[1];
                                else
                                    for (; ; ) {
                                        if (o in r) {
                                            s = r[o++];
                                            break
                                        }
                                        if (++o >= i)
                                            throw new TypeError("reduce of empty array with no initial value")
                                    }
                                for (; i > o; o++)
                                    o in r && (s = t(s, r[o], o, n));
                                return s
                            }
                        }, !nt);
                    var rt = !1;
                    n.reduceRight && (rt = "object" == typeof n.reduceRight.call("es5", function(e, t, n, r) {
                        return r
                    })),
                        B(n, {
                            reduceRight: function(t) {
                                var n = I.ToObject(this)
                                    , r = et && M(this) ? V(this, "") : n
                                    , i = I.ToUint32(r.length);
                                if (!e(t))
                                    throw new TypeError("Array.prototype.reduceRight callback must be a function");
                                if (0 === i && 1 === arguments.length)
                                    throw new TypeError("reduceRight of empty array with no initial value");
                                var s, o = i - 1;
                                if (arguments.length >= 2)
                                    s = arguments[1];
                                else
                                    for (; ; ) {
                                        if (o in r) {
                                            s = r[o--];
                                            break
                                        }
                                        if (--o < 0)
                                            throw new TypeError("reduceRight of empty array with no initial value")
                                    }
                                if (0 > o)
                                    return s;
                                do
                                    o in r && (s = t(s, r[o], o, n));
                                while (o--);return s
                            }
                        }, !rt);
                    var it = n.indexOf && -1 !== [0, 1].indexOf(1, 2);
                    B(n, {
                        indexOf: function(e) {
                            var t = et && M(this) ? V(this, "") : I.ToObject(this)
                                , n = I.ToUint32(t.length);
                            if (0 === n)
                                return -1;
                            var r = 0;
                            for (arguments.length > 1 && (r = I.ToInteger(arguments[1])),
                                     r = r >= 0 ? r : b(0, n + r); n > r; r++)
                                if (r in t && t[r] === e)
                                    return r;
                            return -1
                        }
                    }, it);
                    var st = n.lastIndexOf && -1 !== [0, 1].lastIndexOf(0, -3);
                    B(n, {
                        lastIndexOf: function(e) {
                            var t = et && M(this) ? V(this, "") : I.ToObject(this)
                                , n = I.ToUint32(t.length);
                            if (0 === n)
                                return -1;
                            var r = n - 1;
                            for (arguments.length > 1 && (r = w(r, I.ToInteger(arguments[1]))),
                                     r = r >= 0 ? r : n - Math.abs(r); r >= 0; r--)
                                if (r in t && e === t[r])
                                    return r;
                            return -1
                        }
                    }, st);
                    var ot = function() {
                        var e = [1, 2]
                            , t = e.splice();
                        return 2 === e.length && G(t) && 0 === t.length
                    }();
                    B(n, {
                        splice: function(e, t) {
                            return 0 === arguments.length ? [] : h.apply(this, arguments)
                        }
                    }, !ot);
                    var ut = function() {
                        var e = {};
                        return n.splice.call(e, 0, 0, 1),
                        1 === e.length
                    }();
                    B(n, {
                        splice: function(e, t) {
                            if (0 === arguments.length)
                                return [];
                            var n = arguments;
                            return this.length = b(I.ToInteger(this.length), 0),
                            arguments.length > 0 && "number" != typeof t && (n = z(arguments),
                                n.length < 2 ? J(n, this.length - e) : n[1] = I.ToInteger(t)),
                                h.apply(this, n)
                        }
                    }, !ut);
                    var at = function() {
                            var e = new t(1e5);
                            return e[8] = "x",
                                e.splice(1, 1),
                            7 === e.indexOf("x")
                        }()
                        , ft = function() {
                            var e = 256
                                , t = [];
                            return t[e] = "a",
                                t.splice(e + 1, 0, "b"),
                            "a" === t[e]
                        }();
                    B(n, {
                        splice: function(e, t) {
                            for (var n, r = I.ToObject(this), i = [], s = I.ToUint32(r.length), o = I.ToInteger(e), a = 0 > o ? b(s + o, 0) : w(o, s), f = w(b(I.ToInteger(t), 0), s - a), l = 0; f > l; )
                                n = u(a + l),
                                R(r, n) && (i[l] = r[n]),
                                    l += 1;
                            var c, h = z(arguments, 2), p = h.length;
                            if (f > p) {
                                l = a;
                                for (var d = s - f; d > l; )
                                    n = u(l + f),
                                        c = u(l + p),
                                        R(r, n) ? r[c] = r[n] : delete r[c],
                                        l += 1;
                                l = s;
                                for (var v = s - f + p; l > v; )
                                    delete r[l - 1],
                                        l -= 1
                            } else if (p > f)
                                for (l = s - f; l > a; )
                                    n = u(l + f - 1),
                                        c = u(l + p - 1),
                                        R(r, n) ? r[c] = r[n] : delete r[c],
                                        l -= 1;
                            l = a;
                            for (var m = 0; m < h.length; ++m)
                                r[l] = h[m],
                                    l += 1;
                            return r.length = s - f + p,
                                i
                        }
                    }, !at || !ft);
                    var lt, ct = n.join;
                    try {
                        lt = "1,2,3" !== Array.prototype.join.call("123", ",")
                    } catch (ht) {
                        lt = !0
                    }
                    lt && B(n, {
                        join: function(e) {
                            var t = "undefined" == typeof e ? "," : e;
                            return ct.call(M(this) ? V(this, "") : this, t)
                        }
                    }, lt);
                    var pt = "1,2" !== [1, 2].join(void 0);
                    pt && B(n, {
                        join: function(e) {
                            var t = "undefined" == typeof e ? "," : e;
                            return ct.call(this, t)
                        }
                    }, pt);
                    var dt = function(e) {
                            for (var t = I.ToObject(this), n = I.ToUint32(t.length), r = 0; r < arguments.length; )
                                t[n + r] = arguments[r],
                                    r += 1;
                            return t.length = n + r,
                            n + r
                        }
                        , vt = function() {
                            var e = {}
                                , t = Array.prototype.push.call(e, void 0);
                            return 1 !== t || 1 !== e.length || "undefined" != typeof e[0] || !R(e, 0)
                        }();
                    B(n, {
                        push: function(e) {
                            return G(this) ? p.apply(this, arguments) : dt.apply(this, arguments)
                        }
                    }, vt);
                    var mt = function() {
                        var e = []
                            , t = e.push(void 0);
                        return 1 !== t || 1 !== e.length || "undefined" != typeof e[0] || !R(e, 0)
                    }();
                    B(n, {
                        push: dt
                    }, mt),
                        B(n, {
                            slice: function(e, t) {
                                var n = M(this) ? V(this, "") : this;
                                return W(n, arguments)
                            }
                        }, et);
                    var gt = function() {
                            try {
                                return [1, 2].sort(null ),
                                    [1, 2].sort({}),
                                    !0
                            } catch (e) {}
                            return !1
                        }()
                        , yt = function() {
                            try {
                                return [1, 2].sort(/a/),
                                    !1
                            } catch (e) {}
                            return !0
                        }()
                        , bt = function() {
                            try {
                                return [1, 2].sort(void 0),
                                    !0
                            } catch (e) {}
                            return !1
                        }();
                    B(n, {
                        sort: function(t) {
                            if ("undefined" == typeof t)
                                return Q(this);
                            if (!e(t))
                                throw new TypeError("Array.prototype.sort callback must be a function");
                            return Q(this, t)
                        }
                    }, gt || !bt || !yt);
                    var wt = !{
                            toString: null
                        }.propertyIsEnumerable("toString")
                        , Et = function() {}
                            .propertyIsEnumerable("prototype")
                        , St = !R("x", "0")
                        , xt = function(e) {
                            var t = e.constructor;
                            return t && t.prototype === e
                        }
                        , Tt = {
                            $window: !0,
                            $console: !0,
                            $parent: !0,
                            $self: !0,
                            $frame: !0,
                            $frames: !0,
                            $frameElement: !0,
                            $webkitIndexedDB: !0,
                            $webkitStorageInfo: !0,
                            $external: !0
                        }
                        , Nt = function() {
                            if ("undefined" == typeof window)
                                return !1;
                            for (var e in window)
                                try {
                                    !Tt["$" + e] && R(window, e) && null !== window[e] && "object" == typeof window[e] && xt(window[e])
                                } catch (t) {
                                    return !0
                                }
                            return !1
                        }()
                        , Ct = function(e) {
                            if ("undefined" == typeof window || !Nt)
                                return xt(e);
                            try {
                                return xt(e)
                            } catch (t) {
                                return !1
                            }
                        }
                        , kt = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"]
                        , Lt = kt.length
                        , At = function(e) {
                            return "[object Arguments]" === U(e)
                        }
                        , Ot = function(t) {
                            return null !== t && "object" == typeof t && "number" == typeof t.length && t.length >= 0 && !G(t) && e(t.callee)
                        }
                        , Mt = At(arguments) ? At : Ot;
                    B(r, {
                        keys: function(t) {
                            var n = e(t)
                                , r = Mt(t)
                                , i = null !== t && "object" == typeof t
                                , s = i && M(t);
                            if (!i && !n && !r)
                                throw new TypeError("Object.keys called on a non-object");
                            var o = []
                                , a = Et && n;
                            if (s && St || r)
                                for (var f = 0; f < t.length; ++f)
                                    J(o, u(f));
                            if (!r)
                                for (var l in t)
                                    a && "prototype" === l || !R(t, l) || J(o, u(l));
                            if (wt)
                                for (var c = Ct(t), h = 0; Lt > h; h++) {
                                    var p = kt[h];
                                    c && "constructor" === p || !R(t, p) || J(o, p)
                                }
                            return o
                        }
                    });
                    var _t = r.keys && function() {
                                return 2 === r.keys(arguments).length
                            }(1, 2)
                        , Dt = r.keys && function() {
                                var e = r.keys(arguments);
                                return 1 !== arguments.length || 1 !== e.length || 1 !== e[0]
                            }(1)
                        , Pt = r.keys;
                    B(r, {
                        keys: function(e) {
                            return Pt(Mt(e) ? z(e) : e)
                        }
                    }, !_t || Dt);
                    var Ht, Bt, jt = 0 !== (new Date(-0xc782b5b342b24)).getUTCMonth(), Ft = new Date(-0x55d318d56a724), It = new Date(14496624e5), qt = "Mon, 01 Jan -45875 11:59:59 GMT" !== Ft.toUTCString(), Rt = Ft.getTimezoneOffset();
                    -720 > Rt ? (Ht = "Tue Jan 02 -45875" !== Ft.toDateString(),
                        Bt = !/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(It.toString())) : (Ht = "Mon Jan 01 -45875" !== Ft.toDateString(),
                        Bt = !/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(It.toString()));
                    var Ut = g.bind(Date.prototype.getFullYear)
                        , zt = g.bind(Date.prototype.getMonth)
                        , Wt = g.bind(Date.prototype.getDate)
                        , Xt = g.bind(Date.prototype.getUTCFullYear)
                        , Vt = g.bind(Date.prototype.getUTCMonth)
                        , $t = g.bind(Date.prototype.getUTCDate)
                        , Jt = g.bind(Date.prototype.getUTCDay)
                        , Kt = g.bind(Date.prototype.getUTCHours)
                        , Qt = g.bind(Date.prototype.getUTCMinutes)
                        , Gt = g.bind(Date.prototype.getUTCSeconds)
                        , Yt = g.bind(Date.prototype.getUTCMilliseconds)
                        , Zt = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"]
                        , en = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
                        , tn = function(e, t) {
                            return Wt(new Date(t,e,0))
                        }
                        ;
                    B(Date.prototype, {
                        getFullYear: function() {
                            if (!(this && this instanceof Date))
                                throw new TypeError("this is not a Date object.");
                            var e = Ut(this);
                            return 0 > e && zt(this) > 11 ? e + 1 : e
                        },
                        getMonth: function() {
                            if (!(this && this instanceof Date))
                                throw new TypeError("this is not a Date object.");
                            var e = Ut(this)
                                , t = zt(this);
                            return 0 > e && t > 11 ? 0 : t
                        },
                        getDate: function() {
                            if (!(this && this instanceof Date))
                                throw new TypeError("this is not a Date object.");
                            var e = Ut(this)
                                , t = zt(this)
                                , n = Wt(this);
                            if (0 > e && t > 11) {
                                if (12 === t)
                                    return n;
                                var r = tn(0, e + 1);
                                return r - n + 1
                            }
                            return n
                        },
                        getUTCFullYear: function() {
                            if (!(this && this instanceof Date))
                                throw new TypeError("this is not a Date object.");
                            var e = Xt(this);
                            return 0 > e && Vt(this) > 11 ? e + 1 : e
                        },
                        getUTCMonth: function() {
                            if (!(this && this instanceof Date))
                                throw new TypeError("this is not a Date object.");
                            var e = Xt(this)
                                , t = Vt(this);
                            return 0 > e && t > 11 ? 0 : t
                        },
                        getUTCDate: function() {
                            if (!(this && this instanceof Date))
                                throw new TypeError("this is not a Date object.");
                            var e = Xt(this)
                                , t = Vt(this)
                                , n = $t(this);
                            if (0 > e && t > 11) {
                                if (12 === t)
                                    return n;
                                var r = tn(0, e + 1);
                                return r - n + 1
                            }
                            return n
                        }
                    }, jt),
                        B(Date.prototype, {
                            toUTCString: function() {
                                if (!(this && this instanceof Date))
                                    throw new TypeError("this is not a Date object.");
                                var e = Jt(this)
                                    , t = $t(this)
                                    , n = Vt(this)
                                    , r = Xt(this)
                                    , i = Kt(this)
                                    , s = Qt(this)
                                    , o = Gt(this);
                                return Zt[e] + ", " + (10 > t ? "0" + t : t) + " " + en[n] + " " + r + " " + (10 > i ? "0" + i : i) + ":" + (10 > s ? "0" + s : s) + ":" + (10 > o ? "0" + o : o) + " GMT"
                            }
                        }, jt || qt),
                        B(Date.prototype, {
                            toDateString: function() {
                                if (!(this && this instanceof Date))
                                    throw new TypeError("this is not a Date object.");
                                var e = this.getDay()
                                    , t = this.getDate()
                                    , n = this.getMonth()
                                    , r = this.getFullYear();
                                return Zt[e] + " " + en[n] + " " + (10 > t ? "0" + t : t) + " " + r
                            }
                        }, jt || Ht),
                    (jt || Bt) && (Date.prototype.toString = function() {
                        if (!(this && this instanceof Date))
                            throw new TypeError("this is not a Date object.");
                        var e = this.getDay()
                            , t = this.getDate()
                            , n = this.getMonth()
                            , r = this.getFullYear()
                            , i = this.getHours()
                            , s = this.getMinutes()
                            , o = this.getSeconds()
                            , u = this.getTimezoneOffset()
                            , a = Math.floor(Math.abs(u) / 60)
                            , f = Math.floor(Math.abs(u) % 60);
                        return Zt[e] + " " + en[n] + " " + (10 > t ? "0" + t : t) + " " + r + " " + (10 > i ? "0" + i : i) + ":" + (10 > s ? "0" + s : s) + ":" + (10 > o ? "0" + o : o) + " GMT" + (u > 0 ? "-" : "+") + (10 > a ? "0" + a : a) + (10 > f ? "0" + f : f)
                    }
                        ,
                    H && r.defineProperty(Date.prototype, "toString", {
                        configurable: !0,
                        enumerable: !1,
                        writable: !0
                    }));
                    var nn = -621987552e5
                        , rn = "-000001"
                        , sn = Date.prototype.toISOString && -1 === (new Date(nn)).toISOString().indexOf(rn)
                        , on = Date.prototype.toISOString && "1969-12-31T23:59:59.999Z" !== (new Date(-1)).toISOString();
                    B(Date.prototype, {
                        toISOString: function() {
                            if (!isFinite(this))
                                throw new RangeError("Date.prototype.toISOString called on non-finite value.");
                            var e = Xt(this)
                                , t = Vt(this);
                            e += Math.floor(t / 12),
                                t = (t % 12 + 12) % 12;
                            var n = [t + 1, $t(this), Kt(this), Qt(this), Gt(this)];
                            e = (0 > e ? "-" : e > 9999 ? "+" : "") + X("00000" + Math.abs(e), e >= 0 && 9999 >= e ? -4 : -6);
                            for (var r = 0; r < n.length; ++r)
                                n[r] = X("00" + n[r], -2);
                            return e + "-" + z(n, 0, 2).join("-") + "T" + z(n, 2).join(":") + "." + X("000" + Yt(this), -3) + "Z"
                        }
                    }, sn || on);
                    var un = function() {
                        try {
                            return Date.prototype.toJSON && null === (new Date(NaN)).toJSON() && -1 !== (new Date(nn)).toJSON().indexOf(rn) && Date.prototype.toJSON.call({
                                    toISOString: function() {
                                        return !0
                                    }
                                })
                        } catch (e) {
                            return !1
                        }
                    }();
                    un || (Date.prototype.toJSON = function(t) {
                        var n = r(this)
                            , i = I.ToPrimitive(n);
                        if ("number" == typeof i && !isFinite(i))
                            return null ;
                        var s = n.toISOString;
                        if (!e(s))
                            throw new TypeError("toISOString property is not callable");
                        return s.call(n)
                    }
                    );
                    var an = 1e15 === Date.parse("+033658-09-27T01:46:40.000Z")
                        , fn = !isNaN(Date.parse("2012-04-04T24:00:00.500Z")) || !isNaN(Date.parse("2012-11-31T23:59:59.000Z")) || !isNaN(Date.parse("2012-12-31T23:59:60.000Z"))
                        , ln = isNaN(Date.parse("2000-01-01T00:00:00.000Z"));
                    if (ln || fn || !an) {
                        var cn = Math.pow(2, 31) - 1
                            , hn = F((new Date(1970,0,1,0,0,0,cn + 1)).getTime());
                        Date = function(e) {
                            var t = function(n, r, i, s, o, a, f) {
                                    var l, c = arguments.length;
                                    if (this instanceof e) {
                                        var h = a
                                            , p = f;
                                        if (hn && c >= 7 && f > cn) {
                                            var d = Math.floor(f / cn) * cn
                                                , v = Math.floor(d / 1e3);
                                            h += v,
                                                p -= 1e3 * v
                                        }
                                        l = 1 === c && u(n) === n ? new e(t.parse(n)) : c >= 7 ? new e(n,r,i,s,o,h,p) : c >= 6 ? new e(n,r,i,s,o,h) : c >= 5 ? new e(n,r,i,s,o) : c >= 4 ? new e(n,r,i,s) : c >= 3 ? new e(n,r,i) : c >= 2 ? new e(n,r) : c >= 1 ? new e(n) : new e
                                    } else
                                        l = e.apply(this, arguments);
                                    return j(l) || B(l, {
                                        constructor: t
                                    }, !0),
                                        l
                                }
                                , n = new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$")
                                , r = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365]
                                , i = function(e, t) {
                                    var n = t > 1 ? 1 : 0;
                                    return r[t] + Math.floor((e - 1969 + n) / 4) - Math.floor((e - 1901 + n) / 100) + Math.floor((e - 1601 + n) / 400) + 365 * (e - 1970)
                                }
                                , s = function(t) {
                                    var n = 0
                                        , r = t;
                                    if (hn && r > cn) {
                                        var i = Math.floor(r / cn) * cn
                                            , s = Math.floor(i / 1e3);
                                        n += s,
                                            r -= 1e3 * s
                                    }
                                    return f(new e(1970,0,1,0,0,n,r))
                                }
                                ;
                            for (var o in e)
                                R(e, o) && (t[o] = e[o]);
                            B(t, {
                                now: e.now,
                                UTC: e.UTC
                            }, !0),
                                t.prototype = e.prototype,
                                B(t.prototype, {
                                    constructor: t
                                }, !0);
                            var a = function(t) {
                                    var r = n.exec(t);
                                    if (r) {
                                        var o, u = f(r[1]), a = f(r[2] || 1) - 1, l = f(r[3] || 1) - 1, c = f(r[4] || 0), h = f(r[5] || 0), p = f(r[6] || 0), d = Math.floor(1e3 * f(r[7] || 0)), v = Boolean(r[4] && !r[8]), m = "-" === r[9] ? 1 : -1, g = f(r[10] || 0), y = f(r[11] || 0), b = h > 0 || p > 0 || d > 0;
                                        return (b ? 24 : 25) > c && 60 > h && 60 > p && 1e3 > d && a > -1 && 12 > a && 24 > g && 60 > y && l > -1 && l < i(u, a + 1) - i(u, a) && (o = 60 * (24 * (i(u, a) + l) + c + g * m),
                                            o = 1e3 * (60 * (o + h + y * m) + p) + d,
                                        v && (o = s(o)),
                                        o >= -864e13 && 864e13 >= o) ? o : NaN
                                    }
                                    return e.parse.apply(this, arguments)
                                }
                                ;
                            return B(t, {
                                parse: a
                            }),
                                t
                        }(Date)
                    }
                    Date.now || (Date.now = function() {
                        return (new Date).getTime()
                    }
                    );
                    var pn = l.toFixed && ("0.000" !== 8e-5.toFixed(3) || "1" !== .9.toFixed(0) || "1.25" !== 1.255.toFixed(2) || "1000000000000000128" !== 0xde0b6b3a7640080.toFixed(0))
                        , dn = {
                            base: 1e7,
                            size: 6,
                            data: [0, 0, 0, 0, 0, 0],
                            multiply: function(e, t) {
                                for (var n = -1, r = t; ++n < dn.size; )
                                    r += e * dn.data[n],
                                        dn.data[n] = r % dn.base,
                                        r = Math.floor(r / dn.base)
                            },
                            divide: function(e) {
                                for (var t = dn.size, n = 0; --t >= 0; )
                                    n += dn.data[t],
                                        dn.data[t] = Math.floor(n / e),
                                        n = n % e * dn.base
                            },
                            numToString: function() {
                                for (var e = dn.size, t = ""; --e >= 0; )
                                    if ("" !== t || 0 === e || 0 !== dn.data[e]) {
                                        var n = u(dn.data[e]);
                                        "" === t ? t = n : t += X("0000000", 0, 7 - n.length) + n
                                    }
                                return t
                            },
                            pow: function Pn(e, t, n) {
                                return 0 === t ? n : t % 2 === 1 ? Pn(e, t - 1, n * e) : Pn(e * e, t / 2, n)
                            },
                            log: function(e) {
                                for (var t = 0, n = e; n >= 4096; )
                                    t += 12,
                                        n /= 4096;
                                for (; n >= 2; )
                                    t += 1,
                                        n /= 2;
                                return t
                            }
                        }
                        , vn = function(e) {
                            var t, n, r, i, s, o, a, l;
                            if (t = f(e),
                                    t = F(t) ? 0 : Math.floor(t),
                                0 > t || t > 20)
                                throw new RangeError("Number.toFixed called with invalid number of decimals");
                            if (n = f(this),
                                    F(n))
                                return "NaN";
                            if (-1e21 >= n || n >= 1e21)
                                return u(n);
                            if (r = "",
                                0 > n && (r = "-",
                                    n = -n),
                                    i = "0",
                                n > 1e-21)
                                if (s = dn.log(n * dn.pow(2, 69, 1)) - 69,
                                        o = 0 > s ? n * dn.pow(2, -s, 1) : n / dn.pow(2, s, 1),
                                        o *= 4503599627370496,
                                        s = 52 - s,
                                    s > 0) {
                                    for (dn.multiply(0, o),
                                             a = t; a >= 7; )
                                        dn.multiply(1e7, 0),
                                            a -= 7;
                                    for (dn.multiply(dn.pow(10, a, 1), 0),
                                             a = s - 1; a >= 23; )
                                        dn.divide(1 << 23),
                                            a -= 23;
                                    dn.divide(1 << a),
                                        dn.multiply(1, 1),
                                        dn.divide(2),
                                        i = dn.numToString()
                                } else
                                    dn.multiply(0, o),
                                        dn.multiply(1 << -s, 0),
                                        i = dn.numToString() + X("0.00000000000000000000", 2, 2 + t);
                            return t > 0 ? (l = i.length,
                                i = t >= l ? r + X("0.0000000000000000000", 0, t - l + 2) + i : r + X(i, 0, l - t) + "." + X(i, l - t)) : i = r + i,
                                i
                        }
                        ;
                    B(l, {
                        toFixed: vn
                    }, pn);
                    var mn = function() {
                            try {
                                return "1" === 1..toPrecision(void 0)
                            } catch (e) {
                                return !0
                            }
                        }()
                        , gn = l.toPrecision;
                    B(l, {
                        toPrecision: function(e) {
                            return "undefined" == typeof e ? gn.call(this) : gn.call(this, e)
                        }
                    }, mn),
                        2 !== "ab".split(/(?:ab)*/).length || 4 !== ".".split(/(.?)(.?)/).length || "t" === "tesst".split(/(s)*/)[1] || 4 !== "test".split(/(?:)/, -1).length || "".split(/.?/).length || ".".split(/()()/).length > 1 ? !function() {
                            var e = "undefined" == typeof /()??/.exec("")[1]
                                , t = Math.pow(2, 32) - 1;
                            a.split = function(n, r) {
                                var i = String(this);
                                if ("undefined" == typeof n && 0 === r)
                                    return [];
                                if (!k(n))
                                    return V(this, n, r);
                                var s, o, u, a, f = [], l = (n.ignoreCase ? "i" : "") + (n.multiline ? "m" : "") + (n.unicode ? "u" : "") + (n.sticky ? "y" : ""), c = 0, h = new RegExp(n.source,l + "g");
                                e || (s = new RegExp("^" + h.source + "$(?!\\s)",l));
                                var d = "undefined" == typeof r ? t : I.ToUint32(r);
                                for (o = h.exec(i); o && (u = o.index + o[0].length,
                                    !(u > c && (J(f, X(i, c, o.index)),
                                    !e && o.length > 1 && o[0].replace(s, function() {
                                        for (var e = 1; e < arguments.length - 2; e++)
                                            "undefined" == typeof arguments[e] && (o[e] = void 0)
                                    }),
                                    o.length > 1 && o.index < i.length && p.apply(f, z(o, 1)),
                                        a = o[0].length,
                                        c = u,
                                    f.length >= d))); )
                                    h.lastIndex === o.index && h.lastIndex++,
                                        o = h.exec(i);
                                return c === i.length ? (a || !h.test("")) && J(f, "") : J(f, X(i, c)),
                                    f.length > d ? z(f, 0, d) : f
                            }
                        }() : "0".split(void 0, 0).length && (a.split = function(e, t) {
                            return "undefined" == typeof e && 0 === t ? [] : V(this, e, t)
                        }
                        );
                    var yn = a.replace
                        , bn = function() {
                            var e = [];
                            return "x".replace(/x(.)?/g, function(t, n) {
                                J(e, n)
                            }),
                            1 === e.length && "undefined" == typeof e[0]
                        }();
                    bn || (a.replace = function(t, n) {
                        var r = e(n)
                            , i = k(t) && /\)[*?]/.test(t.source);
                        if (r && i) {
                            var s = function(e) {
                                    var r = arguments.length
                                        , i = t.lastIndex;
                                    t.lastIndex = 0;
                                    var s = t.exec(e) || [];
                                    return t.lastIndex = i,
                                        J(s, arguments[r - 2], arguments[r - 1]),
                                        n.apply(this, s)
                                }
                                ;
                            return yn.call(this, t, s)
                        }
                        return yn.call(this, t, n)
                    }
                    );
                    var wn = a.substr
                        , En = "".substr && "b" !== "0b".substr(-1);
                    B(a, {
                        substr: function(e, t) {
                            var n = e;
                            return 0 > e && (n = b(this.length + e, 0)),
                                wn.call(this, n, t)
                        }
                    }, En);
                    var Sn = "	\n\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"
                        , xn = "\u200b"
                        , Tn = "[" + Sn + "]"
                        , Nn = new RegExp("^" + Tn + Tn + "*")
                        , Cn = new RegExp(Tn + Tn + "*$")
                        , kn = a.trim && (Sn.trim() || !xn.trim());
                    B(a, {
                        trim: function() {
                            if ("undefined" == typeof this || null === this)
                                throw new TypeError("can't convert " + this + " to object");
                            return u(this).replace(Nn, "").replace(Cn, "")
                        }
                    }, kn);
                    var Ln = g.bind(String.prototype.trim)
                        , An = a.lastIndexOf && -1 !== "abc\u3042\u3044".lastIndexOf("\u3042\u3044", 2);
                    B(a, {
                        lastIndexOf: function(e) {
                            if ("undefined" == typeof this || null === this)
                                throw new TypeError("can't convert " + this + " to object");
                            for (var t = u(this), n = u(e), r = arguments.length > 1 ? f(arguments[1]) : NaN, i = F(r) ? 1 / 0 : I.ToInteger(r), s = w(b(i, 0), t.length), o = n.length, a = s + o; a > 0; ) {
                                a = b(0, a - o);
                                var l = $(X(t, a, s + o), n);
                                if (-1 !== l)
                                    return a + l
                            }
                            return -1
                        }
                    }, An);
                    var On = a.lastIndexOf;
                    if (B(a, {
                            lastIndexOf: function(e) {
                                return On.apply(this, arguments)
                            }
                        }, 1 !== a.lastIndexOf.length),
                        (8 !== parseInt(Sn + "08") || 22 !== parseInt(Sn + "0x16")) && (parseInt = function(e) {
                            var t = /^[\-+]?0[xX]/;
                            return function(n, r) {
                                var i = Ln(n)
                                    , s = f(r) || (t.test(i) ? 16 : 10);
                                return e(i, s)
                            }
                        }(parseInt)),
                        1 / parseFloat("-0") !== -1 / 0 && (parseFloat = function(e) {
                            return function(t) {
                                var n = Ln(t)
                                    , r = e(n);
                                return 0 === r && "-" === X(n, 0, 1) ? 0 : r
                            }
                        }(parseFloat)),
                        "RangeError: test" !== String(new RangeError("test"))) {
                        var Mn = function() {
                                if ("undefined" == typeof this || null === this)
                                    throw new TypeError("can't convert " + this + " to object");
                                var e = this.name;
                                "undefined" == typeof e ? e = "Error" : "string" != typeof e && (e = u(e));
                                var t = this.message;
                                return "undefined" == typeof t ? t = "" : "string" != typeof t && (t = u(t)),
                                    e ? t ? e + ": " + t : e : t
                            }
                            ;
                        Error.prototype.toString = Mn
                    }
                    if (H) {
                        var _n = function(e, t) {
                                if (K(e, t)) {
                                    var n = Object.getOwnPropertyDescriptor(e, t);
                                    n.enumerable = !1,
                                        Object.defineProperty(e, t, n)
                                }
                            }
                            ;
                        _n(Error.prototype, "message"),
                        "" !== Error.prototype.message && (Error.prototype.message = ""),
                            _n(Error.prototype, "name")
                    }
                    if ("/a/gim" !== String(/a/gim)) {
                        var Dn = function() {
                                var e = "/" + this.source + "/";
                                return this.global && (e += "g"),
                                this.ignoreCase && (e += "i"),
                                this.multiline && (e += "m"),
                                    e
                            }
                            ;
                        RegExp.prototype.toString = Dn
                    }
                })
            }
            , function(e, t, n) {
                var r;
                (function(e, i, s) {
                    (function() {
                        "use strict";
                        function u(e) {
                            return "function" == typeof e || "object" == typeof e && null !== e
                        }
                        function a(e) {
                            return "function" == typeof e
                        }
                        function f(e) {
                            J = e
                        }
                        function l(e) {
                            Y = e
                        }
                        function c() {
                            return function() {
                                e.nextTick(m)
                            }
                        }
                        function h() {
                            return function() {
                                $(m)
                            }
                        }
                        function p() {
                            var e = 0
                                , t = new tt(m)
                                , n = document.createTextNode("");
                            return t.observe(n, {
                                characterData: !0
                            }),
                                function() {
                                    n.data = e = ++e % 2
                                }
                        }
                        function d() {
                            var e = new MessageChannel;
                            return e.port1.onmessage = m,
                                function() {
                                    e.port2.postMessage(0)
                                }
                        }
                        function v() {
                            return function() {
                                setTimeout(m, 1)
                            }
                        }
                        function m() {
                            for (var e = 0; G > e; e += 2) {
                                var t = it[e]
                                    , n = it[e + 1];
                                t(n),
                                    it[e] = void 0,
                                    it[e + 1] = void 0
                            }
                            G = 0
                        }
                        function g() {
                            try {
                                var e = n(25);
                                return $ = e.runOnLoop || e.runOnContext,
                                    h()
                            } catch (t) {
                                return v()
                            }
                        }
                        function y(e, t) {
                            var n = this
                                , r = n._state;
                            if (r === at && !e || r === ft && !t)
                                return this;
                            var i = new this.constructor(w)
                                , s = n._result;
                            if (r) {
                                var o = arguments[r - 1];
                                Y(function() {
                                    B(r, i, o, s)
                                })
                            } else
                                _(n, i, e, t);
                            return i
                        }
                        function b(e) {
                            var t = this;
                            if (e && "object" == typeof e && e.constructor === t)
                                return e;
                            var n = new t(w);
                            return L(n, e),
                                n
                        }
                        function w() {}
                        function E() {
                            return new TypeError("You cannot resolve a promise with itself")
                        }
                        function S() {
                            return new TypeError("A promises callback cannot return that same promise.")
                        }
                        function x(e) {
                            try {
                                return e.then
                            } catch (t) {
                                return lt.error = t,
                                    lt
                            }
                        }
                        function T(e, t, n, r) {
                            try {
                                e.call(t, n, r)
                            } catch (i) {
                                return i
                            }
                        }
                        function N(e, t, n) {
                            Y(function(e) {
                                var r = !1
                                    , i = T(n, t, function(n) {
                                        r || (r = !0,
                                            t !== n ? L(e, n) : O(e, n))
                                    }, function(t) {
                                        r || (r = !0,
                                            M(e, t))
                                    }, "Settle: " + (e._label || " unknown promise"));
                                !r && i && (r = !0,
                                    M(e, i))
                            }, e)
                        }
                        function C(e, t) {
                            t._state === at ? O(e, t._result) : t._state === ft ? M(e, t._result) : _(t, void 0, function(t) {
                                L(e, t)
                            }, function(t) {
                                M(e, t)
                            })
                        }
                        function k(e, t, n) {
                            t.constructor === e.constructor && n === st && constructor.resolve === ot ? C(e, t) : n === lt ? M(e, lt.error) : void 0 === n ? O(e, t) : a(n) ? N(e, t, n) : O(e, t)
                        }
                        function L(e, t) {
                            e === t ? M(e, E()) : u(t) ? k(e, t, x(t)) : O(e, t)
                        }
                        function A(e) {
                            e._onerror && e._onerror(e._result),
                                D(e)
                        }
                        function O(e, t) {
                            e._state === ut && (e._result = t,
                                e._state = at,
                            0 !== e._subscribers.length && Y(D, e))
                        }
                        function M(e, t) {
                            e._state === ut && (e._state = ft,
                                e._result = t,
                                Y(A, e))
                        }
                        function _(e, t, n, r) {
                            var i = e._subscribers
                                , s = i.length;
                            e._onerror = null ,
                                i[s] = t,
                                i[s + at] = n,
                                i[s + ft] = r,
                            0 === s && e._state && Y(D, e)
                        }
                        function D(e) {
                            var t = e._subscribers
                                , n = e._state;
                            if (0 !== t.length) {
                                for (var r, i, s = e._result, o = 0; o < t.length; o += 3)
                                    r = t[o],
                                        i = t[o + n],
                                        r ? B(n, r, i, s) : i(s);
                                e._subscribers.length = 0
                            }
                        }
                        function P() {
                            this.error = null
                        }
                        function H(e, t) {
                            try {
                                return e(t)
                            } catch (n) {
                                return ct.error = n,
                                    ct
                            }
                        }
                        function B(e, t, n, r) {
                            var i, s, o, u, f = a(n);
                            if (f) {
                                if (i = H(n, r),
                                        i === ct ? (u = !0,
                                            s = i.error,
                                            i = null ) : o = !0,
                                    t === i)
                                    return void M(t, S())
                            } else
                                i = r,
                                    o = !0;
                            t._state !== ut || (f && o ? L(t, i) : u ? M(t, s) : e === at ? O(t, i) : e === ft && M(t, i))
                        }
                        function j(e, t) {
                            try {
                                t(function(t) {
                                    L(e, t)
                                }, function(t) {
                                    M(e, t)
                                })
                            } catch (n) {
                                M(e, n)
                            }
                        }
                        function F(e) {
                            return (new gt(this,e)).promise
                        }
                        function I(e) {
                            function t(e) {
                                L(i, e)
                            }
                            function n(e) {
                                M(i, e)
                            }
                            var r = this
                                , i = new r(w);
                            if (!Q(e))
                                return M(i, new TypeError("You must pass an array to race.")),
                                    i;
                            for (var s = e.length, o = 0; i._state === ut && s > o; o++)
                                _(r.resolve(e[o]), void 0, t, n);
                            return i
                        }
                        function q(e) {
                            var t = this
                                , n = new t(w);
                            return M(n, e),
                                n
                        }
                        function R() {
                            throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")
                        }
                        function U() {
                            throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")
                        }
                        function z(e) {
                            this._id = vt++,
                                this._state = void 0,
                                this._result = void 0,
                                this._subscribers = [],
                            w !== e && ("function" != typeof e && R(),
                                this instanceof z ? j(this, e) : U())
                        }
                        function W(e, t) {
                            this._instanceConstructor = e,
                                this.promise = new e(w),
                                Array.isArray(t) ? (this._input = t,
                                    this.length = t.length,
                                    this._remaining = t.length,
                                    this._result = new Array(this.length),
                                    0 === this.length ? O(this.promise, this._result) : (this.length = this.length || 0,
                                        this._enumerate(),
                                    0 === this._remaining && O(this.promise, this._result))) : M(this.promise, this._validationError())
                        }
                        function X() {
                            var e;
                            if ("undefined" != typeof i)
                                e = i;
                            else if ("undefined" != typeof self)
                                e = self;
                            else
                                try {
                                    e = Function("return this")()
                                } catch (t) {
                                    throw new Error("polyfill failed because global object is unavailable in this environment")
                                }
                            var n = e.Promise;
                            (!n || "[object Promise]" !== Object.prototype.toString.call(n.resolve()) || n.cast) && (e.Promise = mt)
                        }
                        var V;
                        V = Array.isArray ? Array.isArray : function(e) {
                            return "[object Array]" === Object.prototype.toString.call(e)
                        }
                        ;
                        var $, J, K, Q = V, G = 0, Y = function(e, t) {
                                it[G] = e,
                                    it[G + 1] = t,
                                    G += 2,
                                2 === G && (J ? J(m) : K())
                            }
                            , Z = "undefined" != typeof window ? window : void 0, et = Z || {}, tt = et.MutationObserver || et.WebKitMutationObserver, nt = "undefined" != typeof e && "[object process]" === {}.toString.call(e), rt = "undefined" != typeof Uint8ClampedArray && "undefined" != typeof importScripts && "undefined" != typeof MessageChannel, it = new Array(1e3);
                        K = nt ? c() : tt ? p() : rt ? d() : void 0 === Z ? g() : v();
                        var st = y
                            , ot = b
                            , ut = void 0
                            , at = 1
                            , ft = 2
                            , lt = new P
                            , ct = new P
                            , ht = F
                            , pt = I
                            , dt = q
                            , vt = 0
                            , mt = z;
                        z.all = ht,
                            z.race = pt,
                            z.resolve = ot,
                            z.reject = dt,
                            z._setScheduler = f,
                            z._setAsap = l,
                            z._asap = Y,
                            z.prototype = {
                                constructor: z,
                                then: st,
                                "catch": function(e) {
                                    return this.then(null , e)
                                }
                            };
                        var gt = W;
                        W.prototype._validationError = function() {
                            return new Error("Array Methods must be provided an Array")
                        }
                            ,
                            W.prototype._enumerate = function() {
                                for (var e = this.length, t = this._input, n = 0; this._state === ut && e > n; n++)
                                    this._eachEntry(t[n], n)
                            }
                            ,
                            W.prototype._eachEntry = function(e, t) {
                                var n = this._instanceConstructor
                                    , r = n.resolve;
                                if (r === ot) {
                                    var i = x(e);
                                    if (i === st && e._state !== ut)
                                        this._settledAt(e._state, t, e._result);
                                    else if ("function" != typeof i)
                                        this._remaining--,
                                            this._result[t] = e;
                                    else if (n === mt) {
                                        var s = new n(w);
                                        k(s, e, i),
                                            this._willSettleAt(s, t)
                                    } else
                                        this._willSettleAt(new n(function(t) {
                                                t(e)
                                            }
                                        ), t)
                                } else
                                    this._willSettleAt(r(e), t)
                            }
                            ,
                            W.prototype._settledAt = function(e, t, n) {
                                var r = this.promise;
                                r._state === ut && (this._remaining--,
                                    e === ft ? M(r, n) : this._result[t] = n),
                                0 === this._remaining && O(r, this._result)
                            }
                            ,
                            W.prototype._willSettleAt = function(e, t) {
                                var n = this;
                                _(e, void 0, function(e) {
                                    n._settledAt(at, t, e)
                                }, function(e) {
                                    n._settledAt(ft, t, e)
                                })
                            }
                        ;
                        var yt = X
                            , bt = {
                                Promise: mt,
                                polyfill: yt
                            };
                        n(23).amd ? (r = function() {
                            return bt
                        }
                            .call(t, n, t, s),
                        void 0 === r || !(s.exports = r)) : "undefined" != typeof s && s.exports ? s.exports = bt : "undefined" != typeof this && (this.ES6Promise = bt),
                            yt()
                    }
                    ).call(this)
                }
                ).call(t, n(24), function() {
                        return this
                    }(), n(7)(e))
            }
            , function(e, t) {
                e.exports = function() {
                    throw new Error("define cannot be used indirect")
                }
            }
            , function(e, t) {
                function n() {
                    f = !1,
                        o.length ? a = o.concat(a) : l = -1,
                    a.length && r()
                }
                function r() {
                    if (!f) {
                        var e = setTimeout(n);
                        f = !0;
                        for (var t = a.length; t; ) {
                            for (o = a,
                                     a = []; ++l < t; )
                                o && o[l].run();
                            l = -1,
                                t = a.length
                        }
                        o = null ,
                            f = !1,
                            clearTimeout(e)
                    }
                }
                function i(e, t) {
                    this.fun = e,
                        this.array = t
                }
                function s() {}
                var o, u = e.exports = {}, a = [], f = !1, l = -1;
                u.nextTick = function(e) {
                    var t = new Array(arguments.length - 1);
                    if (arguments.length > 1)
                        for (var n = 1; n < arguments.length; n++)
                            t[n - 1] = arguments[n];
                    a.push(new i(e,t)),
                    1 !== a.length || f || setTimeout(r, 0)
                }
                    ,
                    i.prototype.run = function() {
                        this.fun.apply(null , this.array)
                    }
                    ,
                    u.title = "browser",
                    u.browser = !0,
                    u.env = {},
                    u.argv = [],
                    u.version = "",
                    u.versions = {},
                    u.on = s,
                    u.addListener = s,
                    u.once = s,
                    u.off = s,
                    u.removeListener = s,
                    u.removeAllListeners = s,
                    u.emit = s,
                    u.binding = function(e) {
                        throw new Error("process.binding is not supported")
                    }
                    ,
                    u.cwd = function() {
                        return "/"
                    }
                    ,
                    u.chdir = function(e) {
                        throw new Error("process.chdir is not supported")
                    }
                    ,
                    u.umask = function() {
                        return 0
                    }
            }
            , function(e, t) {}
        ])
    }),
    function(e) {
        var t = function(e, n) {
                return t[typeof n == "string" ? "compile" : "render"].apply(t, arguments)
            }
            ;
        t.version = "2.0.4",
            t.openTag = "<%",
            t.closeTag = "%>",
            t.isEscape = !0,
            t.isCompress = !1,
            t.parser = null ,
            t.render = function(e, n) {
                var r = t.get(e) || i({
                        id: e,
                        name: "Render Error",
                        message: "No Template"
                    });
                return r(n)
            }
            ,
            t.compile = function(e, r) {
                function c(n, s) {
                    try {
                        if (s)
                            for (var o in s)
                                t.helper(o, s[o]);
                        return new f(n,e) + ""
                    } catch (a) {
                        return u ? i(a)() : t.compile(e, r, !0)(n)
                    }
                }
                var o = arguments
                    , u = o[2]
                    , a = "anonymous";
                typeof r != "string" && (u = o[1],
                    r = o[0],
                    e = a);
                try {
                    var f = s(e, r, u)
                } catch (l) {
                    return l.id = e || r,
                        l.name = "Syntax Error",
                        i(l)
                }
                return c.prototype = f.prototype,
                    c.toString = function() {
                        return f.toString()
                    }
                    ,
                e !== a && (n[e] = c),
                    c
            }
        ;
        var n = t.cache = {}
            , r = t.helpers = function() {
                var e = function(t, n) {
                        return typeof t != "string" && (n = typeof t,
                            n === "number" ? t += "" : n === "function" ? t = e(t.call(t)) : t = ""),
                            t
                    }
                    , n = {
                        "<": "&#60;",
                        ">": "&#62;",
                        '"': "&#34;",
                        "'": "&#39;",
                        "&": "&#38;"
                    }
                    , r = function(t) {
                        return e(t).replace(/&(?![\w#]+;)|[<>"']/g, function(e) {
                            return n[e]
                        })
                    }
                    , i = Array.isArray || function(e) {
                            return {}.toString.call(e) === "[object Array]"
                        }
                    , s = function(e, t) {
                        if (i(e))
                            for (var n = 0, r = e.length; n < r; n++)
                                t.call(e, e[n], n, e);
                        else
                            for (n in e)
                                t.call(e, e[n], n)
                    }
                    ;
                return {
                    $include: t.render,
                    $string: e,
                    $escape: r,
                    $each: s
                }
            }();
        t.helper = function(e, t) {
            r[e] = t
        }
            ,
            t.onerror = function(t) {
                var n = "Template Error\n\n";
                for (var r in t)
                    n += "<" + r + ">\n" + t[r] + "\n\n";
                app.boss.stack("Template Error", n),
                e.console && 0
            }
            ,
            t.get = function(r) {
                var i;
                if (n.hasOwnProperty(r))
                    i = n[r];
                else if ("document"in e) {
                    var s = document.getElementById(r);
                    if (s) {
                        var o = s.value || s.innerHTML;
                        i = t.compile(r, o.replace(/^\s*|\s*$/g, ""))
                    }
                }
                return i
            }
        ;
        var i = function(e) {
                return t.onerror(e),
                    function() {
                        return "{Template Error}"
                    }
            }
            , s = function() {
                var e = r.$each
                    , n = "break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined"
                    , i = /\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g
                    , s = /[^\w$]+/g
                    , o = new RegExp(["\\b" + n.replace(/,/g, "\\b|\\b") + "\\b"].join("|"),"g")
                    , u = /^\d[^,]*|,\d[^,]*/g
                    , a = /^,+|,+$/g
                    , f = function(e) {
                        return e.replace(i, "").replace(s, ",").replace(o, "").replace(u, "").replace(a, "").split(/^$|,+/)
                    }
                    ;
                return function(n, i, s) {
                    function x(e) {
                        return h += e.split(/\n/).length - 1,
                        t.isCompress && (e = e.replace(/[\n\r\t\s]+/g, " ").replace(/<!--.*?-->/g, "")),
                        e && (e = g[1] + k(e) + g[2] + "\n"),
                            e
                    }
                    function T(e) {
                        var n = h;
                        a ? e = a(e) : s && (e = e.replace(/\n/g, function() {
                            return h++,
                            "$line=" + h + ";"
                        }));
                        if (e.indexOf("=") === 0) {
                            var i = !/^=[=#]/.test(e);
                            e = e.replace(/^=[=#]?|[\s;]*$/g, "");
                            if (i && t.isEscape) {
                                var o = e.replace(/\s*\([^\)]+\)/, "");
                                !r.hasOwnProperty(o) && !/^(include|print)$/.test(o) && (e = "$escape(" + e + ")")
                            } else
                                e = "$string(" + e + ")";
                            e = g[1] + e + g[2]
                        }
                        return s && (e = "$line=" + n + ";" + e),
                            N(e),
                        e + "\n"
                    }
                    function N(t) {
                        t = f(t),
                            e(t, function(e) {
                                e && !p.hasOwnProperty(e) && (C(e),
                                    p[e] = !0)
                            })
                    }
                    function C(e) {
                        var t;
                        e === "print" ? t = b : e === "include" ? (d.$include = r.$include,
                            t = w) : (e.indexOf("$") === 0 ? t = "$helpers." + e + "?$helpers." + e + ":$data." + e : t = "$data." + e,
                        r.hasOwnProperty(e) && (d[e] = r[e],
                            e.indexOf("$") === 0 ? t = "$helpers." + e : t = t + "===undefined?$helpers." + e + ":" + t)),
                            v += e + "=" + t + ","
                    }
                    function k(e) {
                        return "'" + e.replace(/('|\\)/g, "\\$1").replace(/\r/g, "\\r").replace(/\n/g, "\\n") + "'"
                    }
                    var o = t.openTag
                        , u = t.closeTag
                        , a = t.parser
                        , l = i
                        , c = ""
                        , h = 1
                        , p = {
                            $data: 1,
                            $id: 1,
                            $helpers: 1,
                            $out: 1,
                            $line: 1
                        }
                        , d = {}
                        , v = "var $helpers=this," + (s ? "$line=0," : "")
                        , m = "".trim
                        , g = m ? ["$out='';", "$out+=", ";", "$out"] : ["$out=[];", "$out.push(", ");", "$out.join('')"]
                        , y = m ? "$out+=$text;return $text;" : "$out.push($text);"
                        , b = "function($text){" + y + "}"
                        , w = "function(id,data){data=data||$data;var $text=$helpers.$include(id,data,$id);" + y + "}";
                    e(l.split(o), function(e) {
                        e = e.split(u);
                        var t = e[0]
                            , n = e[1];
                        e.length === 1 ? c += x(t) : (c += T(t),
                        n && (c += x(n)))
                    }),
                        l = c,
                    s && (l = "try{" + l + "}catch(e){" + "throw {" + "id:$id," + "name:'Render Error'," + "message:e.message," + "line:$line," + "source:" + k(i) + ".split(/\\n/)[$line-1].replace(/^[\\s\\t]+/,'')" + "};" + "}"),
                        l = v + g[0] + l + "return new String(" + g[3] + ");";
                    try {
                        var E = new Function("$data","$id",l);
                        return E.prototype = d,
                            E
                    } catch (S) {
                        throw S.temp = "function anonymous($data,$id) {" + l + "}",
                            S
                    }
                }
            }();
        typeof define == "function" ? define("art", [], function() {
            return t
        }) : typeof exports != "undefined" && (module.exports = t),
            e.template = t
    }(this),
    define("Class", ["require", "exports", "module"], function(e, t, n) {
        function r(e) {
            if (!(this instanceof r) && c(e))
                return s(e)
        }
        function i(e) {
            var t, n;
            for (t in e)
                n = e[t],
                    r.Mutators.hasOwnProperty(t) ? r.Mutators[t].call(this, n) : this.prototype[t] = n
        }
        function s(e) {
            return e.extend = r.extend,
                e.implement = i,
                e
        }
        function o() {}
        function a(e, t, n) {
            for (var r in t)
                if (t.hasOwnProperty(r)) {
                    if (n && h(n, r) === -1)
                        continue;r !== "prototype" && (e[r] = t[r])
                }
        }
        n.exports = r,
            r.create = function(e, t) {
                function n() {
                    e.apply(this, arguments),
                    this.constructor === n && this.initialize && this.initialize.apply(this, arguments)
                }
                return c(e) || (t = e,
                    e = null ),
                t || (t = {}),
                e || (e = t.Extends || r),
                    t.Extends = e,
                e !== r && a(n, e, e.StaticsWhiteList),
                    i.call(n, t),
                    s(n)
            }
            ,
            r.extend = function(e) {
                return e || (e = {}),
                    e.Extends = this,
                    r.create(e)
            }
            ,
            r.Mutators = {
                Extends: function(e) {
                    var t = this.prototype
                        , n = u(e.prototype);
                    a(n, t),
                        n.constructor = this,
                        this.prototype = n,
                        this.superclass = e.prototype
                },
                Implements: function(e) {
                    l(e) || (e = [e]);
                    var t = this.prototype, n;
                    while (n = e.shift())
                        a(t, n.prototype || n)
                },
                Statics: function(e) {
                    a(this, e)
                }
            };
        var u = Object.__proto__ ? function(e) {
                return {
                    __proto__: e
                }
            }
                : function(e) {
                return o.prototype = e,
                    new o
            }
            , f = Object.prototype.toString
            , l = Array.isArray || function(e) {
                    return f.call(e) === "[object Array]"
                }
            , c = function(e) {
                return f.call(e) === "[object Function]"
            }
            , h = Array.prototype.indexOf ? function(e, t) {
                return e.indexOf(t)
            }
                : function(e, t) {
                for (var n = 0, r = e.length; n < r; n++)
                    if (e[n] === t)
                        return n;
                return -1
            }
    }),
    define("events", [], function() {
        function t() {}
        function r(e, t, n) {
            var r = !0;
            if (e) {
                var i = 0
                    , s = e.length
                    , o = t[0]
                    , u = t[1]
                    , a = t[2];
                switch (t.length) {
                    case 0:
                        for (; i < s; i += 2)
                            r = e[i].call(e[i + 1] || n) !== !1 && r;
                        break;
                    case 1:
                        for (; i < s; i += 2)
                            r = e[i].call(e[i + 1] || n, o) !== !1 && r;
                        break;
                    case 2:
                        for (; i < s; i += 2)
                            r = e[i].call(e[i + 1] || n, o, u) !== !1 && r;
                        break;
                    case 3:
                        for (; i < s; i += 2)
                            r = e[i].call(e[i + 1] || n, o, u, a) !== !1 && r;
                        break;
                    default:
                        for (; i < s; i += 2)
                            r = e[i].apply(e[i + 1] || n, t) !== !1 && r
                }
            }
            return r
        }
        function i(e) {
            return Object.prototype.toString.call(e) === "[object Function]"
        }
        var e = /\s+/;
        t.prototype.on = function(t, n, r) {
            var i, s, o;
            if (!n)
                return this;
            i = this.__events || (this.__events = {}),
                t = t.split(e);
            while (s = t.shift())
                o = i[s] || (i[s] = []),
                    o.push(n, r);
            return this
        }
            ,
            t.prototype.once = function(e, t, n) {
                var r = this
                    , i = function() {
                        r.off(e, i),
                            t.apply(n || r, arguments)
                    }
                    ;
                return this.on(e, i, n)
            }
            ,
            t.prototype.off = function(t, r, i) {
                var s, o, u, a;
                if (!(s = this.__events))
                    return this;
                if (!(t || r || i))
                    return delete this.__events,
                        this;
                t = t ? t.split(e) : n(s);
                while (o = t.shift()) {
                    u = s[o];
                    if (!u)
                        continue;if (!r && !i) {
                        delete s[o];
                        continue
                    }
                    for (a = u.length - 2; a >= 0; a -= 2)
                        r && u[a] !== r || i && u[a + 1] !== i || u.splice(a, 2)
                }
                return this
            }
            ,
            t.prototype.trigger = function(t) {
                var n, i, s, o, u, a, f = [], l, c = !0;
                if (!(n = this.__events))
                    return this;
                t = t.split(e);
                for (u = 1,
                         a = arguments.length; u < a; u++)
                    f[u - 1] = arguments[u];
                while (i = t.shift()) {
                    if (s = n.all)
                        s = s.slice();
                    if (o = n[i])
                        o = o.slice();
                    i !== "all" && (c = r(o, f, this) && c),
                        c = r(s, [i].concat(f), this) && c
                }
                return c
            }
            ,
            t.prototype.emit = t.prototype.trigger;
        var n = Object.keys;
        return n || (n = function(e) {
            var t = [];
            for (var n in e)
                e.hasOwnProperty(n) && t.push(n);
            return t
        }
        ),
            t.mixTo = function(e) {
                e = i(e) ? e.prototype : e;
                var n = t.prototype
                    , r = new t;
                Object.keys(n).forEach(function(t) {
                    e[t] = function() {
                        return n[t].apply(r, Array.prototype.slice.call(arguments)),
                            this
                    }
                })
            }
            ,
            t
    }),
    define("aspect", ["require", "exports", "module"], function(e, t) {
        function r(e, t, r, o) {
            var u = t.split(n), a, f;
            while (a = u.shift())
                f = i(this, a),
                f.__isAspected || s.call(this, a),
                    this.on(e + ":" + a, r, o);
            return this
        }
        function i(e, t) {
            var n = e[t];
            if (!n)
                throw new Error("Invalid method name: " + t);
            return n
        }
        function s(e) {
            var t = this[e];
            this[e] = function() {
                var n = Array.prototype.slice.call(arguments)
                    , r = ["before:" + e].concat(n);
                if (this.trigger.apply(this, r) === !1)
                    return;
                var i = t.apply(this, arguments)
                    , s = ["after:" + e, i].concat(n);
                return this.trigger.apply(this, s),
                    i
            }
                ,
                this[e].__isAspected = !0
        }
        t.before = function(e, t, n) {
            return r.call(this, "before", e, t, n)
        }
            ,
            t.after = function(e, t, n) {
                return r.call(this, "after", e, t, n)
            }
        ;
        var n = /\s+/
    }),
    define("attribute", ["require", "exports", "module"], function(e, t) {
        function o(e) {
            return n.call(e) === "[object String]"
        }
        function u(e) {
            return n.call(e) === "[object Function]"
        }
        function a(e) {
            return e != null && e == e.window
        }
        function f(e) {
            if (!e || n.call(e) !== "[object Object]" || e.nodeType || a(e))
                return !1;
            try {
                if (e.constructor && !r.call(e, "constructor") && !r.call(e.constructor.prototype, "isPrototypeOf"))
                    return !1
            } catch (t) {
                return !1
            }
            var s;
            if (i)
                for (s in e)
                    return r.call(e, s);
            for (s in e)
                ;
            return s === undefined || r.call(e, s)
        }
        function l(e) {
            if (!e || n.call(e) !== "[object Object]" || e.nodeType || a(e) || !e.hasOwnProperty)
                return !1;
            for (var t in e)
                if (e.hasOwnProperty(t))
                    return !1;
            return !0
        }
        function c(e, t) {
            var n, r;
            for (n in t)
                t.hasOwnProperty(n) && (e[n] = h(t[n], e[n]));
            return e
        }
        function h(e, t) {
            return s(e) ? e = e.slice() : f(e) && (f(t) || (t = {}),
                e = c(t, e)),
                e
        }
        function d(e, t, n) {
            var r = []
                , i = t.constructor.prototype;
            while (i)
                i.hasOwnProperty("attrs") || (i.attrs = {}),
                    m(n, i.attrs, i),
                l(i.attrs) || r.unshift(i.attrs),
                    i = i.constructor.superclass;
            for (var s = 0, o = r.length; s < o; s++)
                N(e, x(r[s]))
        }
        function v(e, t) {
            N(e, x(t, !0), !0)
        }
        function m(e, t, n, r) {
            for (var i = 0, s = e.length; i < s; i++) {
                var o = e[i];
                n.hasOwnProperty(o) && (t[o] = r ? t.get(o) : n[o])
            }
        }
        function b(e, t) {
            for (var n in t)
                if (t.hasOwnProperty(n)) {
                    var r = t[n].value, i;
                    u(r) && (i = n.match(g)) && (e[i[1]](w(i[2]), r),
                        delete t[n])
                }
        }
        function w(e) {
            var t = e.match(y)
                , n = t[1] ? "change:" : "";
            return n += t[2].toLowerCase() + t[3],
                n
        }
        function E(e, t, n) {
            var r = {
                silent: !0
            };
            e.__initializingAttrs = !0;
            for (var i in n)
                n.hasOwnProperty(i) && t[i].setter && e.set(i, n[i], r);
            delete e.__initializingAttrs
        }
        function x(e, t) {
            var n = {};
            for (var r in e) {
                var i = e[r];
                if (!t && f(i) && C(i, S)) {
                    n[r] = i;
                    continue
                }
                n[r] = {
                    value: i
                }
            }
            return n
        }
        function N(e, t, n) {
            var r, i, s;
            for (r in t)
                if (t.hasOwnProperty(r)) {
                    i = t[r],
                        s = e[r],
                    s || (s = e[r] = {}),
                    i.value !== undefined && (s.value = h(i.value, s.value));
                    if (n)
                        continue;for (var o in T) {
                        var u = T[o];
                        i[u] !== undefined && (s[u] = i[u])
                    }
                }
            return e
        }
        function C(e, t) {
            for (var n = 0, r = t.length; n < r; n++)
                if (e.hasOwnProperty(t[n]))
                    return !0;
            return !1
        }
        function k(e) {
            return e == null || (o(e) || s(e)) && e.length === 0 || l(e)
        }
        function L(e, t) {
            if (e === t)
                return !0;
            if (k(e) && k(t))
                return !0;
            var r = n.call(e);
            if (r != n.call(t))
                return !1;
            switch (r) {
                case "[object String]":
                    return e == String(t);
                case "[object Number]":
                    return e != +e ? t != +t : e == 0 ? 1 / e == 1 / t : e == +t;
                case "[object Date]":
                case "[object Boolean]":
                    return +e == +t;
                case "[object RegExp]":
                    return e.source == t.source && e.global == t.global && e.multiline == t.multiline && e.ignoreCase == t.ignoreCase;
                case "[object Array]":
                    var i = e.toString()
                        , s = t.toString();
                    return i.indexOf("[object") === -1 && s.indexOf("[object") === -1 && i === s
            }
            if (typeof e != "object" || typeof t != "object")
                return !1;
            if (f(e) && f(t)) {
                if (!L(p(e), p(t)))
                    return !1;
                for (var o in e)
                    if (e[o] !== t[o])
                        return !1;
                return !0
            }
            return !1
        }
        t.initAttrs = function(e) {
            var t = this.attrs = {}
                , n = this.propsInAttrs || [];
            d(t, this, n),
            e && v(t, e),
                E(this, t, e),
                b(this, t),
                m(n, this, t, !0)
        }
            ,
            t.get = function(e) {
                var t = this.attrs[e] || {}
                    , n = t.value;
                return t.getter ? t.getter.call(this, n, e) : n
            }
            ,
            t.set = function(e, t, n) {
                var r = {};
                o(e) ? r[e] = t : (r = e,
                    n = t),
                n || (n = {});
                var i = n.silent
                    , s = n.override
                    , u = n.focus
                    , a = this.attrs
                    , l = this.__changedAttrs || (this.__changedAttrs = {});
                for (e in r) {
                    if (!r.hasOwnProperty(e))
                        continue;var h = a[e] || (a[e] = {});
                    t = r[e];
                    if (h.readOnly)
                        throw new Error("This attribute is readOnly: " + e);
                    h.setter && (t = h.setter.call(this, t, e));
                    var p = this.get(e);
                    !s && f(p) && f(t) && (t = c(c({}, p), t)),
                        a[e].value = t;
                    if (!this.__initializingAttrs && !L(p, t) || u)
                        i ? l[e] = [t, p] : this.trigger("change:" + e, t, p, e)
                }
                return this
            }
            ,
            t.change = function() {
                var e = this.__changedAttrs;
                if (e) {
                    for (var t in e)
                        if (e.hasOwnProperty(t)) {
                            var n = e[t];
                            this.trigger("change:" + t, n[0], n[1], t)
                        }
                    delete this.__changedAttrs
                }
                return this
            }
            ,
            t._isPlainObject = f;
        var n = Object.prototype.toString, r = Object.prototype.hasOwnProperty, i;
        (function() {
            function t() {
                this.x = 1
            }
            var e = [];
            t.prototype = {
                valueOf: 1,
                y: 1
            };
            for (var n in new t)
                e.push(n);
            i = e[0] !== "x"
        })();
        var s = Array.isArray || function(e) {
                    return n.call(e) === "[object Array]"
                }
            , p = Object.keys;
        p || (p = function(e) {
            var t = [];
            for (var n in e)
                e.hasOwnProperty(n) && t.push(n);
            return t
        }
        );
        var g = /^(on|before|after)([A-Z].*)$/
            , y = /^(Change)?([A-Z])(.*)/
            , S = ["value", "getter", "setter", "readOnly"]
            , T = ["setter", "getter", "readOnly"]
    }),
    define("base", ["require", "exports", "module", "Class", "events", "aspect", "attribute"], function(e, t, n) {
        function u(e, t) {
            for (var n in t)
                if (t.hasOwnProperty(n)) {
                    var r = "_onChange" + a(n);
                    e[r] && e.on("change:" + n, e[r])
                }
        }
        function a(e) {
            return e.charAt(0).toUpperCase() + e.substring(1)
        }
        var r = e("Class")
            , i = e("events")
            , s = e("aspect")
            , o = e("attribute");
        n.exports = r.create({
            Implements: [i, s, o],
            initialize: function(e) {
                this.initAttrs(e),
                    u(this, this.attrs)
            },
            destroy: function() {
                this.off();
                for (var e in this)
                    this.hasOwnProperty(e) && delete this[e];
                this.destroy = function() {}
            }
        })
    }),
    function(e, t) {
        typeof module == "object" && typeof module.exports == "object" ? module.exports = e.document ? t(e, !0) : function(e) {
            if (!e.document)
                throw new Error("jQuery requires a window with a document");
            return t(e)
        }
            : t(e)
    }(typeof window != "undefined" ? window : this, function(e, t) {
        function g(e) {
            var t = e.length
                , n = h.type(e);
            return n === "function" || h.isWindow(e) ? !1 : e.nodeType === 1 && t ? !0 : n === "array" || t === 0 || typeof t == "number" && t > 0 && t - 1 in e
        }
        function S(e, t, n) {
            if (h.isFunction(t))
                return h.grep(e, function(e, r) {
                    return !!t.call(e, r, e) !== n
                });
            if (t.nodeType)
                return h.grep(e, function(e) {
                    return e === t !== n
                });
            if (typeof t == "string") {
                if (E.test(t))
                    return h.filter(t, e, n);
                t = h.filter(t, e)
            }
            return h.grep(e, function(e) {
                return h.inArray(e, t) >= 0 !== n
            })
        }
        function A(e, t) {
            do
                e = e[t];
            while (e && e.nodeType !== 1);return e
        }
        function _(e) {
            var t = M[e] = {};
            return h.each(e.match(O) || [], function(e, n) {
                t[n] = !0
            }),
                t
        }
        function P() {
            T.addEventListener ? (T.removeEventListener("DOMContentLoaded", H, !1),
                e.removeEventListener("load", H, !1)) : (T.detachEvent("onreadystatechange", H),
                e.detachEvent("onload", H))
        }
        function H() {
            if (T.addEventListener || event.type === "load" || T.readyState === "complete")
                P(),
                    h.ready()
        }
        function q(e, t, n) {
            if (n === undefined && e.nodeType === 1) {
                var r = "data-" + t.replace(I, "-$1").toLowerCase();
                n = e.getAttribute(r);
                if (typeof n == "string") {
                    try {
                        n = n === "true" ? !0 : n === "false" ? !1 : n === "null" ? null : +n + "" === n ? +n : F.test(n) ? h.parseJSON(n) : n
                    } catch (i) {}
                    h.data(e, t, n)
                } else
                    n = undefined
            }
            return n
        }
        function R(e) {
            var t;
            for (t in e) {
                if (t === "data" && h.isEmptyObject(e[t]))
                    continue;if (t !== "toJSON")
                    return !1
            }
            return !0
        }
        function U(e, t, r, i) {
            if (!h.acceptData(e))
                return;
            var s, o, u = h.expando, a = e.nodeType, f = a ? h.cache : e, l = a ? e[u] : e[u] && u;
            if ((!l || !f[l] || !i && !f[l].data) && r === undefined && typeof t == "string")
                return;
            l || (a ? l = e[u] = n.pop() || h.guid++ : l = u),
            f[l] || (f[l] = a ? {} : {
                toJSON: h.noop
            });
            if (typeof t == "object" || typeof t == "function")
                i ? f[l] = h.extend(f[l], t) : f[l].data = h.extend(f[l].data, t);
            return o = f[l],
            i || (o.data || (o.data = {}),
                o = o.data),
            r !== undefined && (o[h.camelCase(t)] = r),
                typeof t == "string" ? (s = o[t],
                s == null && (s = o[h.camelCase(t)])) : s = o,
                s
        }
        function z(e, t, n) {
            if (!h.acceptData(e))
                return;
            var r, i, s = e.nodeType, o = s ? h.cache : e, u = s ? e[h.expando] : h.expando;
            if (!o[u])
                return;
            if (t) {
                r = n ? o[u] : o[u].data;
                if (r) {
                    h.isArray(t) ? t = t.concat(h.map(t, h.camelCase)) : t in r ? t = [t] : (t = h.camelCase(t),
                        t in r ? t = [t] : t = t.split(" ")),
                        i = t.length;
                    while (i--)
                        delete r[t[i]];
                    if (n ? !R(r) : !h.isEmptyObject(r))
                        return
                }
            }
            if (!n) {
                delete o[u].data;
                if (!R(o[u]))
                    return
            }
            s ? h.cleanData([e], !0) : l.deleteExpando || o != o.window ? delete o[u] : o[u] = null
        }
        function et() {
            return !0
        }
        function tt() {
            return !1
        }
        function nt() {
            try {
                return T.activeElement
            } catch (e) {}
        }
        function rt(e) {
            var t = it.split("|")
                , n = e.createDocumentFragment();
            if (n.createElement)
                while (t.length)
                    n.createElement(t.pop());
            return n
        }
        function wt(e, t) {
            var n, r, i = 0, s = typeof e.getElementsByTagName !== B ? e.getElementsByTagName(t || "*") : typeof e.querySelectorAll !== B ? e.querySelectorAll(t || "*") : undefined;
            if (!s)
                for (s = [],
                         n = e.childNodes || e; (r = n[i]) != null ; i++)
                    !t || h.nodeName(r, t) ? s.push(r) : h.merge(s, wt(r, t));
            return t === undefined || t && h.nodeName(e, t) ? h.merge([e], s) : s
        }
        function Et(e) {
            J.test(e.type) && (e.defaultChecked = e.checked)
        }
        function St(e, t) {
            return h.nodeName(e, "table") && h.nodeName(t.nodeType !== 11 ? t : t.firstChild, "tr") ? e.getElementsByTagName("tbody")[0] || e.appendChild(e.ownerDocument.createElement("tbody")) : e
        }
        function xt(e) {
            return e.type = (h.find.attr(e, "type") !== null ) + "/" + e.type,
                e
        }
        function Tt(e) {
            var t = vt.exec(e.type);
            return t ? e.type = t[1] : e.removeAttribute("type"),
                e
        }
        function Nt(e, t) {
            var n, r = 0;
            for (; (n = e[r]) != null ; r++)
                h._data(n, "globalEval", !t || h._data(t[r], "globalEval"))
        }
        function Ct(e, t) {
            if (t.nodeType !== 1 || !h.hasData(e))
                return;
            var n, r, i, s = h._data(e), o = h._data(t, s), u = s.events;
            if (u) {
                delete o.handle,
                    o.events = {};
                for (n in u)
                    for (r = 0,
                             i = u[n].length; r < i; r++)
                        h.event.add(t, n, u[n][r])
            }
            o.data && (o.data = h.extend({}, o.data))
        }
        function kt(e, t) {
            var n, r, i;
            if (t.nodeType !== 1)
                return;
            n = t.nodeName.toLowerCase();
            if (!l.noCloneEvent && t[h.expando]) {
                i = h._data(t);
                for (r in i.events)
                    h.removeEvent(t, r, i.handle);
                t.removeAttribute(h.expando)
            }
            if (n === "script" && t.text !== e.text)
                xt(t).text = e.text,
                    Tt(t);
            else if (n === "object")
                t.parentNode && (t.outerHTML = e.outerHTML),
                l.html5Clone && e.innerHTML && !h.trim(t.innerHTML) && (t.innerHTML = e.innerHTML);
            else if (n === "input" && J.test(e.type))
                t.defaultChecked = t.checked = e.checked,
                t.value !== e.value && (t.value = e.value);
            else if (n === "option")
                t.defaultSelected = t.selected = e.defaultSelected;
            else if (n === "input" || n === "textarea")
                t.defaultValue = e.defaultValue
        }
        function Ot(t, n) {
            var r, i = h(n.createElement(t)).appendTo(n.body), s = e.getDefaultComputedStyle && (r = e.getDefaultComputedStyle(i[0])) ? r.display : h.css(i[0], "display");
            return i.detach(),
                s
        }
        function Mt(e) {
            var t = T
                , n = At[e];
            if (!n) {
                n = Ot(e, t);
                if (n === "none" || !n)
                    Lt = (Lt || h("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),
                        t = (Lt[0].contentWindow || Lt[0].contentDocument).document,
                        t.write(),
                        t.close(),
                        n = Ot(e, t),
                        Lt.detach();
                At[e] = n
            }
            return n
        }
        function jt(e, t) {
            return {
                get: function() {
                    var n = e();
                    if (n == null )
                        return;
                    if (n) {
                        delete this.get;
                        return
                    }
                    return (this.get = t).apply(this, arguments)
                }
            }
        }
        function Vt(e, t) {
            if (t in e)
                return t;
            var n = t.charAt(0).toUpperCase() + t.slice(1)
                , r = t
                , i = Xt.length;
            while (i--) {
                t = Xt[i] + n;
                if (t in e)
                    return t
            }
            return r
        }
        function $t(e, t) {
            var n, r, i, s = [], o = 0, u = e.length;
            for (; o < u; o++) {
                r = e[o];
                if (!r.style)
                    continue;s[o] = h._data(r, "olddisplay"),
                    n = r.style.display,
                    t ? (!s[o] && n === "none" && (r.style.display = ""),
                    r.style.display === "" && V(r) && (s[o] = h._data(r, "olddisplay", Mt(r.nodeName)))) : (i = V(r),
                    (n && n !== "none" || !i) && h._data(r, "olddisplay", i ? n : h.css(r, "display")))
            }
            for (o = 0; o < u; o++) {
                r = e[o];
                if (!r.style)
                    continue;if (!t || r.style.display === "none" || r.style.display === "")
                    r.style.display = t ? s[o] || "" : "none"
            }
            return e
        }
        function Jt(e, t, n) {
            var r = Rt.exec(t);
            return r ? Math.max(0, r[1] - (n || 0)) + (r[2] || "px") : t
        }
        function Kt(e, t, n, r, i) {
            var s = n === (r ? "border" : "content") ? 4 : t === "width" ? 1 : 0
                , o = 0;
            for (; s < 4; s += 2)
                n === "margin" && (o += h.css(e, n + X[s], !0, i)),
                    r ? (n === "content" && (o -= h.css(e, "padding" + X[s], !0, i)),
                    n !== "margin" && (o -= h.css(e, "border" + X[s] + "Width", !0, i))) : (o += h.css(e, "padding" + X[s], !0, i),
                    n !== "padding" && (o += h.css(e, "border" + X[s] + "Width", !0, i)));
            return o
        }
        function Qt(e, t, n) {
            var r = !0
                , i = t === "width" ? e.offsetWidth : e.offsetHeight
                , s = Pt(e)
                , o = l.boxSizing && h.css(e, "boxSizing", !1, s) === "border-box";
            if (i <= 0 || i == null ) {
                i = Ht(e, t, s);
                if (i < 0 || i == null )
                    i = e.style[t];
                if (Dt.test(i))
                    return i;
                r = o && (l.boxSizingReliable() || i === e.style[t]),
                    i = parseFloat(i) || 0
            }
            return i + Kt(e, t, n || (o ? "border" : "content"), r, s) + "px"
        }
        function Gt(e, t, n, r, i) {
            return new Gt.prototype.init(e,t,n,r,i)
        }
        function on() {
            return setTimeout(function() {
                Yt = undefined
            }),
                Yt = h.now()
        }
        function un(e, t) {
            var n, r = {
                height: e
            }, i = 0;
            t = t ? 1 : 0;
            for (; i < 4; i += 2 - t)
                n = X[i],
                    r["margin" + n] = r["padding" + n] = e;
            return t && (r.opacity = r.width = e),
                r
        }
        function an(e, t, n) {
            var r, i = (sn[t] || []).concat(sn["*"]), s = 0, o = i.length;
            for (; s < o; s++)
                if (r = i[s].call(n, t, e))
                    return r
        }
        function fn(e, t, n) {
            var r, i, s, o, u, a, f, c, p = this, d = {}, v = e.style, m = e.nodeType && V(e), g = h._data(e, "fxshow");
            n.queue || (u = h._queueHooks(e, "fx"),
            u.unqueued == null && (u.unqueued = 0,
                a = u.empty.fire,
                u.empty.fire = function() {
                    u.unqueued || a()
                }
            ),
                u.unqueued++,
                p.always(function() {
                    p.always(function() {
                        u.unqueued--,
                        h.queue(e, "fx").length || u.empty.fire()
                    })
                })),
            e.nodeType === 1 && ("height"in t || "width"in t) && (n.overflow = [v.overflow, v.overflowX, v.overflowY],
                f = h.css(e, "display"),
                c = f === "none" ? h._data(e, "olddisplay") || Mt(e.nodeName) : f,
            c === "inline" && h.css(e, "float") === "none" && (!l.inlineBlockNeedsLayout || Mt(e.nodeName) === "inline" ? v.display = "inline-block" : v.zoom = 1)),
            n.overflow && (v.overflow = "hidden",
            l.shrinkWrapBlocks() || p.always(function() {
                v.overflow = n.overflow[0],
                    v.overflowX = n.overflow[1],
                    v.overflowY = n.overflow[2]
            }));
            for (r in t) {
                i = t[r];
                if (en.exec(i)) {
                    delete t[r],
                        s = s || i === "toggle";
                    if (i === (m ? "hide" : "show")) {
                        if (i !== "show" || !g || g[r] === undefined)
                            continue;m = !0
                    }
                    d[r] = g && g[r] || h.style(e, r)
                } else
                    f = undefined
            }
            if (!h.isEmptyObject(d)) {
                g ? "hidden"in g && (m = g.hidden) : g = h._data(e, "fxshow", {}),
                s && (g.hidden = !m),
                    m ? h(e).show() : p.done(function() {
                        h(e).hide()
                    }),
                    p.done(function() {
                        var t;
                        h._removeData(e, "fxshow");
                        for (t in d)
                            h.style(e, t, d[t])
                    });
                for (r in d)
                    o = an(m ? g[r] : 0, r, p),
                    r in g || (g[r] = o.start,
                    m && (o.end = o.start,
                        o.start = r === "width" || r === "height" ? 1 : 0))
            } else
                (f === "none" ? Mt(e.nodeName) : f) === "inline" && (v.display = f)
        }
        function ln(e, t) {
            var n, r, i, s, o;
            for (n in e) {
                r = h.camelCase(n),
                    i = t[r],
                    s = e[n],
                h.isArray(s) && (i = s[1],
                    s = e[n] = s[0]),
                n !== r && (e[r] = s,
                    delete e[n]),
                    o = h.cssHooks[r];
                if (o && "expand"in o) {
                    s = o.expand(s),
                        delete e[r];
                    for (n in s)
                        n in e || (e[n] = s[n],
                            t[n] = i)
                } else
                    t[r] = i
            }
        }
        function cn(e, t, n) {
            var r, i, s = 0, o = rn.length, u = h.Deferred().always(function() {
                    delete a.elem
                }), a = function() {
                    if (i)
                        return !1;
                    var t = Yt || on()
                        , n = Math.max(0, f.startTime + f.duration - t)
                        , r = n / f.duration || 0
                        , s = 1 - r
                        , o = 0
                        , a = f.tweens.length;
                    for (; o < a; o++)
                        f.tweens[o].run(s);
                    return u.notifyWith(e, [f, s, n]),
                        s < 1 && a ? n : (u.resolveWith(e, [f]),
                            !1)
                }
                , f = u.promise({
                    elem: e,
                    props: h.extend({}, t),
                    opts: h.extend(!0, {
                        specialEasing: {}
                    }, n),
                    originalProperties: t,
                    originalOptions: n,
                    startTime: Yt || on(),
                    duration: n.duration,
                    tweens: [],
                    createTween: function(t, n) {
                        var r = h.Tween(e, f.opts, t, n, f.opts.specialEasing[t] || f.opts.easing);
                        return f.tweens.push(r),
                            r
                    },
                    stop: function(t) {
                        var n = 0
                            , r = t ? f.tweens.length : 0;
                        if (i)
                            return this;
                        i = !0;
                        for (; n < r; n++)
                            f.tweens[n].run(1);
                        return t ? u.resolveWith(e, [f, t]) : u.rejectWith(e, [f, t]),
                            this
                    }
                }), l = f.props;
            ln(l, f.opts.specialEasing);
            for (; s < o; s++) {
                r = rn[s].call(f, e, l, f.opts);
                if (r)
                    return r
            }
            return h.map(l, an, f),
            h.isFunction(f.opts.start) && f.opts.start.call(e, f),
                h.fx.timer(h.extend(a, {
                    elem: e,
                    anim: f,
                    queue: f.opts.queue
                })),
                f.progress(f.opts.progress).done(f.opts.done, f.opts.complete).fail(f.opts.fail).always(f.opts.always)
        }
        function Fn(e) {
            return function(t, n) {
                typeof t != "string" && (n = t,
                    t = "*");
                var r, i = 0, s = t.toLowerCase().match(O) || [];
                if (h.isFunction(n))
                    while (r = s[i++])
                        r.charAt(0) === "+" ? (r = r.slice(1) || "*",
                            (e[r] = e[r] || []).unshift(n)) : (e[r] = e[r] || []).push(n)
            }
        }
        function In(e, t, n, r) {
            function o(u) {
                var a;
                return i[u] = !0,
                    h.each(e[u] || [], function(e, u) {
                        var f = u(t, n, r);
                        if (typeof f == "string" && !s && !i[f])
                            return t.dataTypes.unshift(f),
                                o(f),
                                !1;
                        if (s)
                            return !(a = f)
                    }),
                    a
            }
            var i = {}
                , s = e === Hn;
            return o(t.dataTypes[0]) || !i["*"] && o("*")
        }
        function qn(e, t) {
            var n, r, i = h.ajaxSettings.flatOptions || {};
            for (r in t)
                t[r] !== undefined && ((i[r] ? e : n || (n = {}))[r] = t[r]);
            return n && h.extend(!0, e, n),
                e
        }
        function Rn(e, t, n) {
            var r, i, s, o, u = e.contents, a = e.dataTypes;
            while (a[0] === "*")
                a.shift(),
                i === undefined && (i = e.mimeType || t.getResponseHeader("Content-Type"));
            if (i)
                for (o in u)
                    if (u[o] && u[o].test(i)) {
                        a.unshift(o);
                        break
                    }
            if (a[0]in n)
                s = a[0];
            else {
                for (o in n) {
                    if (!a[0] || e.converters[o + " " + a[0]]) {
                        s = o;
                        break
                    }
                    r || (r = o)
                }
                s = s || r
            }
            if (s)
                return s !== a[0] && a.unshift(s),
                    n[s]
        }
        function Un(e, t, n, r) {
            var i, s, o, u, a, f = {}, l = e.dataTypes.slice();
            if (l[1])
                for (o in e.converters)
                    f[o.toLowerCase()] = e.converters[o];
            s = l.shift();
            while (s) {
                e.responseFields[s] && (n[e.responseFields[s]] = t),
                !a && r && e.dataFilter && (t = e.dataFilter(t, e.dataType)),
                    a = s,
                    s = l.shift();
                if (s)
                    if (s === "*")
                        s = a;
                    else if (a !== "*" && a !== s) {
                        o = f[a + " " + s] || f["* " + s];
                        if (!o)
                            for (i in f) {
                                u = i.split(" ");
                                if (u[1] === s) {
                                    o = f[a + " " + u[0]] || f["* " + u[0]];
                                    if (o) {
                                        o === !0 ? o = f[i] : f[i] !== !0 && (s = u[0],
                                            l.unshift(u[1]));
                                        break
                                    }
                                }
                            }
                        if (o !== !0)
                            if (o && e["throws"])
                                t = o(t);
                            else
                                try {
                                    t = o(t)
                                } catch (c) {
                                    return {
                                        state: "parsererror",
                                        error: o ? c : "No conversion from " + a + " to " + s
                                    }
                                }
                    }
            }
            return {
                state: "success",
                data: t
            }
        }
        function Jn(e, t, n, r) {
            var i;
            if (h.isArray(t))
                h.each(t, function(t, i) {
                    n || Wn.test(e) ? r(e, i) : Jn(e + "[" + (typeof i == "object" ? t : "") + "]", i, n, r)
                });
            else if (!n && h.type(t) === "object")
                for (i in t)
                    Jn(e + "[" + i + "]", t[i], n, r);
            else
                r(e, t)
        }
        function Yn() {
            try {
                return new e.XMLHttpRequest
            } catch (t) {}
        }
        function Zn() {
            try {
                return new e.ActiveXObject("Microsoft.XMLHTTP")
            } catch (t) {}
        }
        function ir(e) {
            return h.isWindow(e) ? e : e.nodeType === 9 ? e.defaultView || e.parentWindow : !1
        }
        var n = []
            , r = n.slice
            , i = n.concat
            , s = n.push
            , o = n.indexOf
            , u = {}
            , a = u.toString
            , f = u.hasOwnProperty
            , l = {}
            , c = "1.11.1"
            , h = function(e, t) {
                return new h.fn.init(e,t)
            }
            , p = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g
            , d = /^-ms-/
            , v = /-([\da-z])/gi
            , m = function(e, t) {
                return t.toUpperCase()
            }
            ;
        h.fn = h.prototype = {
            jquery: c,
            constructor: h,
            selector: "",
            length: 0,
            toArray: function() {
                return r.call(this)
            },
            get: function(e) {
                return e != null ? e < 0 ? this[e + this.length] : this[e] : r.call(this)
            },
            pushStack: function(e) {
                var t = h.merge(this.constructor(), e);
                return t.prevObject = this,
                    t.context = this.context,
                    t
            },
            each: function(e, t) {
                return h.each(this, e, t)
            },
            map: function(e) {
                return this.pushStack(h.map(this, function(t, n) {
                    return e.call(t, n, t)
                }))
            },
            slice: function() {
                return this.pushStack(r.apply(this, arguments))
            },
            first: function() {
                return this.eq(0)
            },
            last: function() {
                return this.eq(-1)
            },
            eq: function(e) {
                var t = this.length
                    , n = +e + (e < 0 ? t : 0);
                return this.pushStack(n >= 0 && n < t ? [this[n]] : [])
            },
            end: function() {
                return this.prevObject || this.constructor(null )
            },
            push: s,
            sort: n.sort,
            splice: n.splice
        },
            h.extend = h.fn.extend = function() {
                var e, t, n, r, i, s, o = arguments[0] || {}, u = 1, a = arguments.length, f = !1;
                typeof o == "boolean" && (f = o,
                    o = arguments[u] || {},
                    u++),
                typeof o != "object" && !h.isFunction(o) && (o = {}),
                u === a && (o = this,
                    u--);
                for (; u < a; u++)
                    if ((i = arguments[u]) != null )
                        for (r in i) {
                            e = o[r],
                                n = i[r];
                            if (o === n)
                                continue;f && n && (h.isPlainObject(n) || (t = h.isArray(n))) ? (t ? (t = !1,
                                s = e && h.isArray(e) ? e : []) : s = e && h.isPlainObject(e) ? e : {},
                                o[r] = h.extend(f, s, n)) : n !== undefined && (o[r] = n)
                        }
                return o
            }
            ,
            h.extend({
                expando: "jQuery" + (c + Math.random()).replace(/\D/g, ""),
                isReady: !0,
                error: function(e) {
                    throw new Error(e)
                },
                noop: function() {},
                isFunction: function(e) {
                    return h.type(e) === "function"
                },
                isArray: Array.isArray || function(e) {
                    return h.type(e) === "array"
                }
                ,
                isWindow: function(e) {
                    return e != null && e == e.window
                },
                isNumeric: function(e) {
                    return !h.isArray(e) && e - parseFloat(e) >= 0
                },
                isEmptyObject: function(e) {
                    var t;
                    for (t in e)
                        return !1;
                    return !0
                },
                isPlainObject: function(e) {
                    var t;
                    if (!e || h.type(e) !== "object" || e.nodeType || h.isWindow(e))
                        return !1;
                    try {
                        if (e.constructor && !f.call(e, "constructor") && !f.call(e.constructor.prototype, "isPrototypeOf"))
                            return !1
                    } catch (n) {
                        return !1
                    }
                    if (l.ownLast)
                        for (t in e)
                            return f.call(e, t);
                    for (t in e)
                        ;
                    return t === undefined || f.call(e, t)
                },
                type: function(e) {
                    return e == null ? e + "" : typeof e == "object" || typeof e == "function" ? u[a.call(e)] || "object" : typeof e
                },
                globalEval: function(t) {
                    t && h.trim(t) && (e.execScript || function(t) {
                        e.eval.call(e, t)
                    }
                    )(t)
                },
                camelCase: function(e) {
                    return e.replace(d, "ms-").replace(v, m)
                },
                nodeName: function(e, t) {
                    return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
                },
                each: function(e, t, n) {
                    var r, i = 0, s = e.length, o = g(e);
                    if (n)
                        if (o)
                            for (; i < s; i++) {
                                r = t.apply(e[i], n);
                                if (r === !1)
                                    break
                            }
                        else
                            for (i in e) {
                                r = t.apply(e[i], n);
                                if (r === !1)
                                    break
                            }
                    else if (o)
                        for (; i < s; i++) {
                            r = t.call(e[i], i, e[i]);
                            if (r === !1)
                                break
                        }
                    else
                        for (i in e) {
                            r = t.call(e[i], i, e[i]);
                            if (r === !1)
                                break
                        }
                    return e
                },
                trim: function(e) {
                    return e == null ? "" : (e + "").replace(p, "")
                },
                makeArray: function(e, t) {
                    var n = t || [];
                    return e != null && (g(Object(e)) ? h.merge(n, typeof e == "string" ? [e] : e) : s.call(n, e)),
                        n
                },
                inArray: function(e, t, n) {
                    var r;
                    if (t) {
                        if (o)
                            return o.call(t, e, n);
                        r = t.length,
                            n = n ? n < 0 ? Math.max(0, r + n) : n : 0;
                        for (; n < r; n++)
                            if (n in t && t[n] === e)
                                return n
                    }
                    return -1
                },
                merge: function(e, t) {
                    var n = +t.length
                        , r = 0
                        , i = e.length;
                    while (r < n)
                        e[i++] = t[r++];
                    if (n !== n)
                        while (t[r] !== undefined)
                            e[i++] = t[r++];
                    return e.length = i,
                        e
                },
                grep: function(e, t, n) {
                    var r, i = [], s = 0, o = e.length, u = !n;
                    for (; s < o; s++)
                        r = !t(e[s], s),
                        r !== u && i.push(e[s]);
                    return i
                },
                map: function(e, t, n) {
                    var r, s = 0, o = e.length, u = g(e), a = [];
                    if (u)
                        for (; s < o; s++)
                            r = t(e[s], s, n),
                            r != null && a.push(r);
                    else
                        for (s in e)
                            r = t(e[s], s, n),
                            r != null && a.push(r);
                    return i.apply([], a)
                },
                guid: 1,
                proxy: function(e, t) {
                    var n, i, s;
                    return typeof t == "string" && (s = e[t],
                        t = e,
                        e = s),
                        h.isFunction(e) ? (n = r.call(arguments, 2),
                            i = function() {
                                return e.apply(t || this, n.concat(r.call(arguments)))
                            }
                            ,
                            i.guid = e.guid = e.guid || h.guid++,
                            i) : undefined
                },
                now: function() {
                    return +(new Date)
                },
                support: l
            }),
            h.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(e, t) {
                u["[object " + t + "]"] = t.toLowerCase()
            });
        var y = function(e) {
            function st(e, t, r, i) {
                var s, u, f, l, c, d, g, y, S, x;
                (t ? t.ownerDocument || t : E) !== p && h(t),
                    t = t || p,
                    r = r || [];
                if (!e || typeof e != "string")
                    return r;
                if ((l = t.nodeType) !== 1 && l !== 9)
                    return [];
                if (v && !i) {
                    if (s = Z.exec(e))
                        if (f = s[1]) {
                            if (l === 9) {
                                u = t.getElementById(f);
                                if (!u || !u.parentNode)
                                    return r;
                                if (u.id === f)
                                    return r.push(u),
                                        r
                            } else if (t.ownerDocument && (u = t.ownerDocument.getElementById(f)) && b(t, u) && u.id === f)
                                return r.push(u),
                                    r
                        } else {
                            if (s[2])
                                return P.apply(r, t.getElementsByTagName(e)),
                                    r;
                            if ((f = s[3]) && n.getElementsByClassName && t.getElementsByClassName)
                                return P.apply(r, t.getElementsByClassName(f)),
                                    r
                        }
                    if (n.qsa && (!m || !m.test(e))) {
                        y = g = w,
                            S = t,
                            x = l === 9 && e;
                        if (l === 1 && t.nodeName.toLowerCase() !== "object") {
                            d = o(e),
                                (g = t.getAttribute("id")) ? y = g.replace(tt, "\\$&") : t.setAttribute("id", y),
                                y = "[id='" + y + "'] ",
                                c = d.length;
                            while (c--)
                                d[c] = y + mt(d[c]);
                            S = et.test(e) && dt(t.parentNode) || t,
                                x = d.join(",")
                        }
                        if (x)
                            try {
                                return P.apply(r, S.querySelectorAll(x)),
                                    r
                            } catch (T) {} finally {
                                g || t.removeAttribute("id")
                            }
                    }
                }
                return a(e.replace(z, "$1"), t, r, i)
            }
            function ot() {
                function t(n, i) {
                    return e.push(n + " ") > r.cacheLength && delete t[e.shift()],
                        t[n + " "] = i
                }
                var e = [];
                return t
            }
            function ut(e) {
                return e[w] = !0,
                    e
            }
            function at(e) {
                var t = p.createElement("div");
                try {
                    return !!e(t)
                } catch (n) {
                    return !1
                } finally {
                    t.parentNode && t.parentNode.removeChild(t),
                        t = null
                }
            }
            function ft(e, t) {
                var n = e.split("|")
                    , i = e.length;
                while (i--)
                    r.attrHandle[n[i]] = t
            }
            function lt(e, t) {
                var n = t && e
                    , r = n && e.nodeType === 1 && t.nodeType === 1 && (~t.sourceIndex || A) - (~e.sourceIndex || A);
                if (r)
                    return r;
                if (n)
                    while (n = n.nextSibling)
                        if (n === t)
                            return -1;
                return e ? 1 : -1
            }
            function ct(e) {
                return function(t) {
                    var n = t.nodeName.toLowerCase();
                    return n === "input" && t.type === e
                }
            }
            function ht(e) {
                return function(t) {
                    var n = t.nodeName.toLowerCase();
                    return (n === "input" || n === "button") && t.type === e
                }
            }
            function pt(e) {
                return ut(function(t) {
                    return t = +t,
                        ut(function(n, r) {
                            var i, s = e([], n.length, t), o = s.length;
                            while (o--)
                                n[i = s[o]] && (n[i] = !(r[i] = n[i]))
                        })
                })
            }
            function dt(e) {
                return e && typeof e.getElementsByTagName !== L && e
            }
            function vt() {}
            function mt(e) {
                var t = 0
                    , n = e.length
                    , r = "";
                for (; t < n; t++)
                    r += e[t].value;
                return r
            }
            function gt(e, t, n) {
                var r = t.dir
                    , i = n && r === "parentNode"
                    , s = x++;
                return t.first ? function(t, n, s) {
                    while (t = t[r])
                        if (t.nodeType === 1 || i)
                            return e(t, n, s)
                }
                    : function(t, n, o) {
                    var u, a, f = [S, s];
                    if (o) {
                        while (t = t[r])
                            if (t.nodeType === 1 || i)
                                if (e(t, n, o))
                                    return !0
                    } else
                        while (t = t[r])
                            if (t.nodeType === 1 || i) {
                                a = t[w] || (t[w] = {});
                                if ((u = a[r]) && u[0] === S && u[1] === s)
                                    return f[2] = u[2];
                                a[r] = f;
                                if (f[2] = e(t, n, o))
                                    return !0
                            }
                }
            }
            function yt(e) {
                return e.length > 1 ? function(t, n, r) {
                    var i = e.length;
                    while (i--)
                        if (!e[i](t, n, r))
                            return !1;
                    return !0
                }
                    : e[0]
            }
            function bt(e, t, n) {
                var r = 0
                    , i = t.length;
                for (; r < i; r++)
                    st(e, t[r], n);
                return n
            }
            function wt(e, t, n, r, i) {
                var s, o = [], u = 0, a = e.length, f = t != null ;
                for (; u < a; u++)
                    if (s = e[u])
                        if (!n || n(s, r, i))
                            o.push(s),
                            f && t.push(u);
                return o
            }
            function Et(e, t, n, r, i, s) {
                return r && !r[w] && (r = Et(r)),
                i && !i[w] && (i = Et(i, s)),
                    ut(function(s, o, u, a) {
                        var f, l, c, h = [], p = [], d = o.length, v = s || bt(t || "*", u.nodeType ? [u] : u, []), m = e && (s || !t) ? wt(v, h, e, u, a) : v, g = n ? i || (s ? e : d || r) ? [] : o : m;
                        n && n(m, g, u, a);
                        if (r) {
                            f = wt(g, p),
                                r(f, [], u, a),
                                l = f.length;
                            while (l--)
                                if (c = f[l])
                                    g[p[l]] = !(m[p[l]] = c)
                        }
                        if (s) {
                            if (i || e) {
                                if (i) {
                                    f = [],
                                        l = g.length;
                                    while (l--)
                                        (c = g[l]) && f.push(m[l] = c);
                                    i(null , g = [], f, a)
                                }
                                l = g.length;
                                while (l--)
                                    (c = g[l]) && (f = i ? B.call(s, c) : h[l]) > -1 && (s[f] = !(o[f] = c))
                            }
                        } else
                            g = wt(g === o ? g.splice(d, g.length) : g),
                                i ? i(null , o, g, a) : P.apply(o, g)
                    })
            }
            function St(e) {
                var t, n, i, s = e.length, o = r.relative[e[0].type], u = o || r.relative[" "], a = o ? 1 : 0, l = gt(function(e) {
                    return e === t
                }, u, !0), c = gt(function(e) {
                    return B.call(t, e) > -1
                }, u, !0), h = [function(e, n, r) {
                    return !o && (r || n !== f) || ((t = n).nodeType ? l(e, n, r) : c(e, n, r))
                }
                ];
                for (; a < s; a++)
                    if (n = r.relative[e[a].type])
                        h = [gt(yt(h), n)];
                    else {
                        n = r.filter[e[a].type].apply(null , e[a].matches);
                        if (n[w]) {
                            i = ++a;
                            for (; i < s; i++)
                                if (r.relative[e[i].type])
                                    break;
                            return Et(a > 1 && yt(h), a > 1 && mt(e.slice(0, a - 1).concat({
                                value: e[a - 2].type === " " ? "*" : ""
                            })).replace(z, "$1"), n, a < i && St(e.slice(a, i)), i < s && St(e = e.slice(i)), i < s && mt(e))
                        }
                        h.push(n)
                    }
                return yt(h)
            }
            function xt(e, t) {
                var n = t.length > 0
                    , i = e.length > 0
                    , s = function(s, o, u, a, l) {
                        var c, h, d, v = 0, m = "0", g = s && [], y = [], b = f, w = s || i && r.find.TAG("*", l), E = S += b == null ? 1 : Math.random() || .1, x = w.length;
                        l && (f = o !== p && o);
                        for (; m !== x && (c = w[m]) != null ; m++) {
                            if (i && c) {
                                h = 0;
                                while (d = e[h++])
                                    if (d(c, o, u)) {
                                        a.push(c);
                                        break
                                    }
                                l && (S = E)
                            }
                            n && ((c = !d && c) && v--,
                            s && g.push(c))
                        }
                        v += m;
                        if (n && m !== v) {
                            h = 0;
                            while (d = t[h++])
                                d(g, y, o, u);
                            if (s) {
                                if (v > 0)
                                    while (m--)
                                        !g[m] && !y[m] && (y[m] = _.call(a));
                                y = wt(y)
                            }
                            P.apply(a, y),
                            l && !s && y.length > 0 && v + t.length > 1 && st.uniqueSort(a)
                        }
                        return l && (S = E,
                            f = b),
                            g
                    }
                    ;
                return n ? ut(s) : s
            }
            var t, n, r, i, s, o, u, a, f, l, c, h, p, d, v, m, g, y, b, w = "sizzle" + -(new Date), E = e.document, S = 0, x = 0, T = ot(), N = ot(), C = ot(), k = function(e, t) {
                    return e === t && (c = !0),
                        0
                }
                , L = typeof undefined, A = 1 << 31, O = {}.hasOwnProperty, M = [], _ = M.pop, D = M.push, P = M.push, H = M.slice, B = M.indexOf || function(e) {
                        var t = 0
                            , n = this.length;
                        for (; t < n; t++)
                            if (this[t] === e)
                                return t;
                        return -1
                    }
                , j = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", F = "[\\x20\\t\\r\\n\\f]", I = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", q = I.replace("w", "w#"), R = "\\[" + F + "*(" + I + ")(?:" + F + "*([*^$|!~]?=)" + F + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + q + "))|)" + F + "*\\]", U = ":(" + I + ")(?:\\((" + "('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" + "((?:\\\\.|[^\\\\()[\\]]|" + R + ")*)|" + ".*" + ")\\)|)", z = new RegExp("^" + F + "+|((?:^|[^\\\\])(?:\\\\.)*)" + F + "+$","g"), W = new RegExp("^" + F + "*," + F + "*"), X = new RegExp("^" + F + "*([>+~]|" + F + ")" + F + "*"), V = new RegExp("=" + F + "*([^\\]'\"]*?)" + F + "*\\]","g"), $ = new RegExp(U), J = new RegExp("^" + q + "$"), K = {
                    ID: new RegExp("^#(" + I + ")"),
                    CLASS: new RegExp("^\\.(" + I + ")"),
                    TAG: new RegExp("^(" + I.replace("w", "w*") + ")"),
                    ATTR: new RegExp("^" + R),
                    PSEUDO: new RegExp("^" + U),
                    CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + F + "*(even|odd|(([+-]|)(\\d*)n|)" + F + "*(?:([+-]|)" + F + "*(\\d+)|))" + F + "*\\)|)","i"),
                    bool: new RegExp("^(?:" + j + ")$","i"),
                    needsContext: new RegExp("^" + F + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + F + "*((?:-\\d)?\\d*)" + F + "*\\)|)(?=[^-]|$)","i")
                }, Q = /^(?:input|select|textarea|button)$/i, G = /^h\d$/i, Y = /^[^{]+\{\s*\[native \w/, Z = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, et = /[+~]/, tt = /'|\\/g, nt = new RegExp("\\\\([\\da-f]{1,6}" + F + "?|(" + F + ")|.)","ig"), rt = function(e, t, n) {
                    var r = "0x" + t - 65536;
                    return r !== r || n ? t : r < 0 ? String.fromCharCode(r + 65536) : String.fromCharCode(r >> 10 | 55296, r & 1023 | 56320)
                }
                ;
            try {
                P.apply(M = H.call(E.childNodes), E.childNodes),
                    M[E.childNodes.length].nodeType
            } catch (it) {
                P = {
                    apply: M.length ? function(e, t) {
                        D.apply(e, H.call(t))
                    }
                        : function(e, t) {
                        var n = e.length
                            , r = 0;
                        while (e[n++] = t[r++])
                            ;
                        e.length = n - 1
                    }
                }
            }
            n = st.support = {},
                s = st.isXML = function(e) {
                    var t = e && (e.ownerDocument || e).documentElement;
                    return t ? t.nodeName !== "HTML" : !1
                }
                ,
                h = st.setDocument = function(e) {
                    var t, i = e ? e.ownerDocument || e : E, o = i.defaultView;
                    if (i === p || i.nodeType !== 9 || !i.documentElement)
                        return p;
                    p = i,
                        d = i.documentElement,
                        v = !s(i),
                    o && o !== o.top && (o.addEventListener ? o.addEventListener("unload", function() {
                        h()
                    }, !1) : o.attachEvent && o.attachEvent("onunload", function() {
                        h()
                    })),
                        n.attributes = at(function(e) {
                            return e.className = "i",
                                !e.getAttribute("className")
                        }),
                        n.getElementsByTagName = at(function(e) {
                            return e.appendChild(i.createComment("")),
                                !e.getElementsByTagName("*").length
                        }),
                        n.getElementsByClassName = Y.test(i.getElementsByClassName) && at(function(e) {
                            return e.innerHTML = "<div class='a'></div><div class='a i'></div>",
                                e.firstChild.className = "i",
                            e.getElementsByClassName("i").length === 2
                        }),
                        n.getById = at(function(e) {
                            return d.appendChild(e).id = w,
                            !i.getElementsByName || !i.getElementsByName(w).length
                        }),
                        n.getById ? (r.find.ID = function(e, t) {
                            if (typeof t.getElementById !== L && v) {
                                var n = t.getElementById(e);
                                return n && n.parentNode ? [n] : []
                            }
                        }
                            ,
                            r.filter.ID = function(e) {
                                var t = e.replace(nt, rt);
                                return function(e) {
                                    return e.getAttribute("id") === t
                                }
                            }
                        ) : (delete r.find.ID,
                            r.filter.ID = function(e) {
                                var t = e.replace(nt, rt);
                                return function(e) {
                                    var n = typeof e.getAttributeNode !== L && e.getAttributeNode("id");
                                    return n && n.value === t
                                }
                            }
                        ),
                        r.find.TAG = n.getElementsByTagName ? function(e, t) {
                            if (typeof t.getElementsByTagName !== L)
                                return t.getElementsByTagName(e)
                        }
                            : function(e, t) {
                            var n, r = [], i = 0, s = t.getElementsByTagName(e);
                            if (e === "*") {
                                while (n = s[i++])
                                    n.nodeType === 1 && r.push(n);
                                return r
                            }
                            return s
                        }
                        ,
                        r.find.CLASS = n.getElementsByClassName && function(e, t) {
                            if (typeof t.getElementsByClassName !== L && v)
                                return t.getElementsByClassName(e)
                        }
                        ,
                        g = [],
                        m = [];
                    if (n.qsa = Y.test(i.querySelectorAll))
                        at(function(e) {
                            e.innerHTML = "<select msallowclip=''><option selected=''></option></select>",
                            e.querySelectorAll("[msallowclip^='']").length && m.push("[*^$]=" + F + "*(?:''|\"\")"),
                            e.querySelectorAll("[selected]").length || m.push("\\[" + F + "*(?:value|" + j + ")"),
                            e.querySelectorAll(":checked").length || m.push(":checked")
                        }),
                            at(function(e) {
                                var t = i.createElement("input");
                                t.setAttribute("type", "hidden"),
                                    e.appendChild(t).setAttribute("name", "D"),
                                e.querySelectorAll("[name=d]").length && m.push("name" + F + "*[*^$|!~]?="),
                                e.querySelectorAll(":enabled").length || m.push(":enabled", ":disabled"),
                                    e.querySelectorAll("*,:x"),
                                    m.push(",.*:")
                            });
                    return (n.matchesSelector = Y.test(y = d.matches || d.webkitMatchesSelector || d.mozMatchesSelector || d.oMatchesSelector || d.msMatchesSelector)) && at(function(e) {
                        n.disconnectedMatch = y.call(e, "div"),
                            y.call(e, "[s!='']:x"),
                            g.push("!=", U)
                    }),
                        m = m.length && new RegExp(m.join("|")),
                        g = g.length && new RegExp(g.join("|")),
                        t = Y.test(d.compareDocumentPosition),
                        b = t || Y.test(d.contains) ? function(e, t) {
                            var n = e.nodeType === 9 ? e.documentElement : e
                                , r = t && t.parentNode;
                            return e === r || !!r && r.nodeType === 1 && !!(n.contains ? n.contains(r) : e.compareDocumentPosition && e.compareDocumentPosition(r) & 16)
                        }
                            : function(e, t) {
                            if (t)
                                while (t = t.parentNode)
                                    if (t === e)
                                        return !0;
                            return !1
                        }
                        ,
                        k = t ? function(e, t) {
                            if (e === t)
                                return c = !0,
                                    0;
                            var r = !e.compareDocumentPosition - !t.compareDocumentPosition;
                            return r ? r : (r = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1,
                                r & 1 || !n.sortDetached && t.compareDocumentPosition(e) === r ? e === i || e.ownerDocument === E && b(E, e) ? -1 : t === i || t.ownerDocument === E && b(E, t) ? 1 : l ? B.call(l, e) - B.call(l, t) : 0 : r & 4 ? -1 : 1)
                        }
                            : function(e, t) {
                            if (e === t)
                                return c = !0,
                                    0;
                            var n, r = 0, s = e.parentNode, o = t.parentNode, u = [e], a = [t];
                            if (!s || !o)
                                return e === i ? -1 : t === i ? 1 : s ? -1 : o ? 1 : l ? B.call(l, e) - B.call(l, t) : 0;
                            if (s === o)
                                return lt(e, t);
                            n = e;
                            while (n = n.parentNode)
                                u.unshift(n);
                            n = t;
                            while (n = n.parentNode)
                                a.unshift(n);
                            while (u[r] === a[r])
                                r++;
                            return r ? lt(u[r], a[r]) : u[r] === E ? -1 : a[r] === E ? 1 : 0
                        }
                        ,
                        i
                }
                ,
                st.matches = function(e, t) {
                    return st(e, null , null , t)
                }
                ,
                st.matchesSelector = function(e, t) {
                    (e.ownerDocument || e) !== p && h(e),
                        t = t.replace(V, "='$1']");
                    if (n.matchesSelector && v && (!g || !g.test(t)) && (!m || !m.test(t)))
                        try {
                            var r = y.call(e, t);
                            if (r || n.disconnectedMatch || e.document && e.document.nodeType !== 11)
                                return r
                        } catch (i) {}
                    return st(t, p, null , [e]).length > 0
                }
                ,
                st.contains = function(e, t) {
                    return (e.ownerDocument || e) !== p && h(e),
                        b(e, t)
                }
                ,
                st.attr = function(e, t) {
                    (e.ownerDocument || e) !== p && h(e);
                    var i = r.attrHandle[t.toLowerCase()]
                        , s = i && O.call(r.attrHandle, t.toLowerCase()) ? i(e, t, !v) : undefined;
                    return s !== undefined ? s : n.attributes || !v ? e.getAttribute(t) : (s = e.getAttributeNode(t)) && s.specified ? s.value : null
                }
                ,
                st.error = function(e) {
                    throw new Error("Syntax error, unrecognized expression: " + e)
                }
                ,
                st.uniqueSort = function(e) {
                    var t, r = [], i = 0, s = 0;
                    c = !n.detectDuplicates,
                        l = !n.sortStable && e.slice(0),
                        e.sort(k);
                    if (c) {
                        while (t = e[s++])
                            t === e[s] && (i = r.push(s));
                        while (i--)
                            e.splice(r[i], 1)
                    }
                    return l = null ,
                        e
                }
                ,
                i = st.getText = function(e) {
                    var t, n = "", r = 0, s = e.nodeType;
                    if (!s)
                        while (t = e[r++])
                            n += i(t);
                    else if (s === 1 || s === 9 || s === 11) {
                        if (typeof e.textContent == "string")
                            return e.textContent;
                        for (e = e.firstChild; e; e = e.nextSibling)
                            n += i(e)
                    } else if (s === 3 || s === 4)
                        return e.nodeValue;
                    return n
                }
                ,
                r = st.selectors = {
                    cacheLength: 50,
                    createPseudo: ut,
                    match: K,
                    attrHandle: {},
                    find: {},
                    relative: {
                        ">": {
                            dir: "parentNode",
                            first: !0
                        },
                        " ": {
                            dir: "parentNode"
                        },
                        "+": {
                            dir: "previousSibling",
                            first: !0
                        },
                        "~": {
                            dir: "previousSibling"
                        }
                    },
                    preFilter: {
                        ATTR: function(e) {
                            return e[1] = e[1].replace(nt, rt),
                                e[3] = (e[3] || e[4] || e[5] || "").replace(nt, rt),
                            e[2] === "~=" && (e[3] = " " + e[3] + " "),
                                e.slice(0, 4)
                        },
                        CHILD: function(e) {
                            return e[1] = e[1].toLowerCase(),
                                e[1].slice(0, 3) === "nth" ? (e[3] || st.error(e[0]),
                                    e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * (e[3] === "even" || e[3] === "odd")),
                                    e[5] = +(e[7] + e[8] || e[3] === "odd")) : e[3] && st.error(e[0]),
                                e
                        },
                        PSEUDO: function(e) {
                            var t, n = !e[6] && e[2];
                            return K.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : n && $.test(n) && (t = o(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t),
                                e[2] = n.slice(0, t)),
                                e.slice(0, 3))
                        }
                    },
                    filter: {
                        TAG: function(e) {
                            var t = e.replace(nt, rt).toLowerCase();
                            return e === "*" ? function() {
                                return !0
                            }
                                : function(e) {
                                return e.nodeName && e.nodeName.toLowerCase() === t
                            }
                        },
                        CLASS: function(e) {
                            var t = T[e + " "];
                            return t || (t = new RegExp("(^|" + F + ")" + e + "(" + F + "|$)")) && T(e, function(e) {
                                    return t.test(typeof e.className == "string" && e.className || typeof e.getAttribute !== L && e.getAttribute("class") || "")
                                })
                        },
                        ATTR: function(e, t, n) {
                            return function(r) {
                                var i = st.attr(r, e);
                                return i == null ? t === "!=" : t ? (i += "",
                                    t === "=" ? i === n : t === "!=" ? i !== n : t === "^=" ? n && i.indexOf(n) === 0 : t === "*=" ? n && i.indexOf(n) > -1 : t === "$=" ? n && i.slice(-n.length) === n : t === "~=" ? (" " + i + " ").indexOf(n) > -1 : t === "|=" ? i === n || i.slice(0, n.length + 1) === n + "-" : !1) : !0
                            }
                        },
                        CHILD: function(e, t, n, r, i) {
                            var s = e.slice(0, 3) !== "nth"
                                , o = e.slice(-4) !== "last"
                                , u = t === "of-type";
                            return r === 1 && i === 0 ? function(e) {
                                return !!e.parentNode
                            }
                                : function(t, n, a) {
                                var f, l, c, h, p, d, v = s !== o ? "nextSibling" : "previousSibling", m = t.parentNode, g = u && t.nodeName.toLowerCase(), y = !a && !u;
                                if (m) {
                                    if (s) {
                                        while (v) {
                                            c = t;
                                            while (c = c[v])
                                                if (u ? c.nodeName.toLowerCase() === g : c.nodeType === 1)
                                                    return !1;
                                            d = v = e === "only" && !d && "nextSibling"
                                        }
                                        return !0
                                    }
                                    d = [o ? m.firstChild : m.lastChild];
                                    if (o && y) {
                                        l = m[w] || (m[w] = {}),
                                            f = l[e] || [],
                                            p = f[0] === S && f[1],
                                            h = f[0] === S && f[2],
                                            c = p && m.childNodes[p];
                                        while (c = ++p && c && c[v] || (h = p = 0) || d.pop())
                                            if (c.nodeType === 1 && ++h && c === t) {
                                                l[e] = [S, p, h];
                                                break
                                            }
                                    } else if (y && (f = (t[w] || (t[w] = {}))[e]) && f[0] === S)
                                        h = f[1];
                                    else
                                        while (c = ++p && c && c[v] || (h = p = 0) || d.pop())
                                            if ((u ? c.nodeName.toLowerCase() === g : c.nodeType === 1) && ++h) {
                                                y && ((c[w] || (c[w] = {}))[e] = [S, h]);
                                                if (c === t)
                                                    break
                                            }
                                    return h -= i,
                                    h === r || h % r === 0 && h / r >= 0
                                }
                            }
                        },
                        PSEUDO: function(e, t) {
                            var n, i = r.pseudos[e] || r.setFilters[e.toLowerCase()] || st.error("unsupported pseudo: " + e);
                            return i[w] ? i(t) : i.length > 1 ? (n = [e, e, "", t],
                                r.setFilters.hasOwnProperty(e.toLowerCase()) ? ut(function(e, n) {
                                    var r, s = i(e, t), o = s.length;
                                    while (o--)
                                        r = B.call(e, s[o]),
                                            e[r] = !(n[r] = s[o])
                                }) : function(e) {
                                    return i(e, 0, n)
                                }
                            ) : i
                        }
                    },
                    pseudos: {
                        not: ut(function(e) {
                            var t = []
                                , n = []
                                , r = u(e.replace(z, "$1"));
                            return r[w] ? ut(function(e, t, n, i) {
                                var s, o = r(e, null , i, []), u = e.length;
                                while (u--)
                                    if (s = o[u])
                                        e[u] = !(t[u] = s)
                            }) : function(e, i, s) {
                                return t[0] = e,
                                    r(t, null , s, n),
                                    !n.pop()
                            }
                        }),
                        has: ut(function(e) {
                            return function(t) {
                                return st(e, t).length > 0
                            }
                        }),
                        contains: ut(function(e) {
                            return function(t) {
                                return (t.textContent || t.innerText || i(t)).indexOf(e) > -1
                            }
                        }),
                        lang: ut(function(e) {
                            return J.test(e || "") || st.error("unsupported lang: " + e),
                                e = e.replace(nt, rt).toLowerCase(),
                                function(t) {
                                    var n;
                                    do
                                        if (n = v ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang"))
                                            return n = n.toLowerCase(),
                                            n === e || n.indexOf(e + "-") === 0;
                                    while ((t = t.parentNode) && t.nodeType === 1);return !1
                                }
                        }),
                        target: function(t) {
                            var n = e.location && e.location.hash;
                            return n && n.slice(1) === t.id
                        },
                        root: function(e) {
                            return e === d
                        },
                        focus: function(e) {
                            return e === p.activeElement && (!p.hasFocus || p.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                        },
                        enabled: function(e) {
                            return e.disabled === !1
                        },
                        disabled: function(e) {
                            return e.disabled === !0
                        },
                        checked: function(e) {
                            var t = e.nodeName.toLowerCase();
                            return t === "input" && !!e.checked || t === "option" && !!e.selected
                        },
                        selected: function(e) {
                            return e.parentNode && e.parentNode.selectedIndex,
                            e.selected === !0
                        },
                        empty: function(e) {
                            for (e = e.firstChild; e; e = e.nextSibling)
                                if (e.nodeType < 6)
                                    return !1;
                            return !0
                        },
                        parent: function(e) {
                            return !r.pseudos.empty(e)
                        },
                        header: function(e) {
                            return G.test(e.nodeName)
                        },
                        input: function(e) {
                            return Q.test(e.nodeName)
                        },
                        button: function(e) {
                            var t = e.nodeName.toLowerCase();
                            return t === "input" && e.type === "button" || t === "button"
                        },
                        text: function(e) {
                            var t;
                            return e.nodeName.toLowerCase() === "input" && e.type === "text" && ((t = e.getAttribute("type")) == null || t.toLowerCase() === "text")
                        },
                        first: pt(function() {
                            return [0]
                        }),
                        last: pt(function(e, t) {
                            return [t - 1]
                        }),
                        eq: pt(function(e, t, n) {
                            return [n < 0 ? n + t : n]
                        }),
                        even: pt(function(e, t) {
                            var n = 0;
                            for (; n < t; n += 2)
                                e.push(n);
                            return e
                        }),
                        odd: pt(function(e, t) {
                            var n = 1;
                            for (; n < t; n += 2)
                                e.push(n);
                            return e
                        }),
                        lt: pt(function(e, t, n) {
                            var r = n < 0 ? n + t : n;
                            for (; --r >= 0; )
                                e.push(r);
                            return e
                        }),
                        gt: pt(function(e, t, n) {
                            var r = n < 0 ? n + t : n;
                            for (; ++r < t; )
                                e.push(r);
                            return e
                        })
                    }
                },
                r.pseudos.nth = r.pseudos.eq;
            for (t in {
                radio: !0,
                checkbox: !0,
                file: !0,
                password: !0,
                image: !0
            })
                r.pseudos[t] = ct(t);
            for (t in {
                submit: !0,
                reset: !0
            })
                r.pseudos[t] = ht(t);
            return vt.prototype = r.filters = r.pseudos,
                r.setFilters = new vt,
                o = st.tokenize = function(e, t) {
                    var n, i, s, o, u, a, f, l = N[e + " "];
                    if (l)
                        return t ? 0 : l.slice(0);
                    u = e,
                        a = [],
                        f = r.preFilter;
                    while (u) {
                        if (!n || (i = W.exec(u)))
                            i && (u = u.slice(i[0].length) || u),
                                a.push(s = []);
                        n = !1;
                        if (i = X.exec(u))
                            n = i.shift(),
                                s.push({
                                    value: n,
                                    type: i[0].replace(z, " ")
                                }),
                                u = u.slice(n.length);
                        for (o in r.filter)
                            (i = K[o].exec(u)) && (!f[o] || (i = f[o](i))) && (n = i.shift(),
                                s.push({
                                    value: n,
                                    type: o,
                                    matches: i
                                }),
                                u = u.slice(n.length));
                        if (!n)
                            break
                    }
                    return t ? u.length : u ? st.error(e) : N(e, a).slice(0)
                }
                ,
                u = st.compile = function(e, t) {
                    var n, r = [], i = [], s = C[e + " "];
                    if (!s) {
                        t || (t = o(e)),
                            n = t.length;
                        while (n--)
                            s = St(t[n]),
                                s[w] ? r.push(s) : i.push(s);
                        s = C(e, xt(i, r)),
                            s.selector = e
                    }
                    return s
                }
                ,
                a = st.select = function(e, t, i, s) {
                    var a, f, l, c, h, p = typeof e == "function" && e, d = !s && o(e = p.selector || e);
                    i = i || [];
                    if (d.length === 1) {
                        f = d[0] = d[0].slice(0);
                        if (f.length > 2 && (l = f[0]).type === "ID" && n.getById && t.nodeType === 9 && v && r.relative[f[1].type]) {
                            t = (r.find.ID(l.matches[0].replace(nt, rt), t) || [])[0];
                            if (!t)
                                return i;
                            p && (t = t.parentNode),
                                e = e.slice(f.shift().value.length)
                        }
                        a = K.needsContext.test(e) ? 0 : f.length;
                        while (a--) {
                            l = f[a];
                            if (r.relative[c = l.type])
                                break;
                            if (h = r.find[c])
                                if (s = h(l.matches[0].replace(nt, rt), et.test(f[0].type) && dt(t.parentNode) || t)) {
                                    f.splice(a, 1),
                                        e = s.length && mt(f);
                                    if (!e)
                                        return P.apply(i, s),
                                            i;
                                    break
                                }
                        }
                    }
                    return (p || u(e, d))(s, t, !v, i, et.test(e) && dt(t.parentNode) || t),
                        i
                }
                ,
                n.sortStable = w.split("").sort(k).join("") === w,
                n.detectDuplicates = !!c,
                h(),
                n.sortDetached = at(function(e) {
                    return e.compareDocumentPosition(p.createElement("div")) & 1
                }),
            at(function(e) {
                return e.innerHTML = "<a href='#'></a>",
                e.firstChild.getAttribute("href") === "#"
            }) || ft("type|href|height|width", function(e, t, n) {
                if (!n)
                    return e.getAttribute(t, t.toLowerCase() === "type" ? 1 : 2)
            }),
            (!n.attributes || !at(function(e) {
                return e.innerHTML = "<input/>",
                    e.firstChild.setAttribute("value", ""),
                e.firstChild.getAttribute("value") === ""
            })) && ft("value", function(e, t, n) {
                if (!n && e.nodeName.toLowerCase() === "input")
                    return e.defaultValue
            }),
            at(function(e) {
                return e.getAttribute("disabled") == null
            }) || ft(j, function(e, t, n) {
                var r;
                if (!n)
                    return e[t] === !0 ? t.toLowerCase() : (r = e.getAttributeNode(t)) && r.specified ? r.value : null
            }),
                st
        }(e);
        h.find = y,
            h.expr = y.selectors,
            h.expr[":"] = h.expr.pseudos,
            h.unique = y.uniqueSort,
            h.text = y.getText,
            h.isXMLDoc = y.isXML,
            h.contains = y.contains;
        var b = h.expr.match.needsContext
            , w = /^<(\w+)\s*\/?>(?:<\/\1>|)$/
            , E = /^.[^:#\[\.,]*$/;
        h.filter = function(e, t, n) {
            var r = t[0];
            return n && (e = ":not(" + e + ")"),
                t.length === 1 && r.nodeType === 1 ? h.find.matchesSelector(r, e) ? [r] : [] : h.find.matches(e, h.grep(t, function(e) {
                    return e.nodeType === 1
                }))
        }
            ,
            h.fn.extend({
                find: function(e) {
                    var t, n = [], r = this, i = r.length;
                    if (typeof e != "string")
                        return this.pushStack(h(e).filter(function() {
                            for (t = 0; t < i; t++)
                                if (h.contains(r[t], this))
                                    return !0
                        }));
                    for (t = 0; t < i; t++)
                        h.find(e, r[t], n);
                    return n = this.pushStack(i > 1 ? h.unique(n) : n),
                        n.selector = this.selector ? this.selector + " " + e : e,
                        n
                },
                filter: function(e) {
                    return this.pushStack(S(this, e || [], !1))
                },
                not: function(e) {
                    return this.pushStack(S(this, e || [], !0))
                },
                is: function(e) {
                    return !!S(this, typeof e == "string" && b.test(e) ? h(e) : e || [], !1).length
                }
            });
        var x, T = e.document, N = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/, C = h.fn.init = function(e, t) {
                var n, r;
                if (!e)
                    return this;
                if (typeof e == "string") {
                    e.charAt(0) === "<" && e.charAt(e.length - 1) === ">" && e.length >= 3 ? n = [null , e, null ] : n = N.exec(e);
                    if (n && (n[1] || !t)) {
                        if (n[1]) {
                            t = t instanceof h ? t[0] : t,
                                h.merge(this, h.parseHTML(n[1], t && t.nodeType ? t.ownerDocument || t : T, !0));
                            if (w.test(n[1]) && h.isPlainObject(t))
                                for (n in t)
                                    h.isFunction(this[n]) ? this[n](t[n]) : this.attr(n, t[n]);
                            return this
                        }
                        r = T.getElementById(n[2]);
                        if (r && r.parentNode) {
                            if (r.id !== n[2])
                                return x.find(e);
                            this.length = 1,
                                this[0] = r
                        }
                        return this.context = T,
                            this.selector = e,
                            this
                    }
                    return !t || t.jquery ? (t || x).find(e) : this.constructor(t).find(e)
                }
                return e.nodeType ? (this.context = this[0] = e,
                    this.length = 1,
                    this) : h.isFunction(e) ? typeof x.ready != "undefined" ? x.ready(e) : e(h) : (e.selector !== undefined && (this.selector = e.selector,
                    this.context = e.context),
                    h.makeArray(e, this))
            }
            ;
        C.prototype = h.fn,
            x = h(T);
        var k = /^(?:parents|prev(?:Until|All))/
            , L = {
                children: !0,
                contents: !0,
                next: !0,
                prev: !0
            };
        h.extend({
            dir: function(e, t, n) {
                var r = []
                    , i = e[t];
                while (i && i.nodeType !== 9 && (n === undefined || i.nodeType !== 1 || !h(i).is(n)))
                    i.nodeType === 1 && r.push(i),
                        i = i[t];
                return r
            },
            sibling: function(e, t) {
                var n = [];
                for (; e; e = e.nextSibling)
                    e.nodeType === 1 && e !== t && n.push(e);
                return n
            }
        }),
            h.fn.extend({
                has: function(e) {
                    var t, n = h(e, this), r = n.length;
                    return this.filter(function() {
                        for (t = 0; t < r; t++)
                            if (h.contains(this, n[t]))
                                return !0
                    })
                },
                closest: function(e, t) {
                    var n, r = 0, i = this.length, s = [], o = b.test(e) || typeof e != "string" ? h(e, t || this.context) : 0;
                    for (; r < i; r++)
                        for (n = this[r]; n && n !== t; n = n.parentNode)
                            if (n.nodeType < 11 && (o ? o.index(n) > -1 : n.nodeType === 1 && h.find.matchesSelector(n, e))) {
                                s.push(n);
                                break
                            }
                    return this.pushStack(s.length > 1 ? h.unique(s) : s)
                },
                index: function(e) {
                    return e ? typeof e == "string" ? h.inArray(this[0], h(e)) : h.inArray(e.jquery ? e[0] : e, this) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
                },
                add: function(e, t) {
                    return this.pushStack(h.unique(h.merge(this.get(), h(e, t))))
                },
                addBack: function(e) {
                    return this.add(e == null ? this.prevObject : this.prevObject.filter(e))
                }
            }),
            h.each({
                parent: function(e) {
                    var t = e.parentNode;
                    return t && t.nodeType !== 11 ? t : null
                },
                parents: function(e) {
                    return h.dir(e, "parentNode")
                },
                parentsUntil: function(e, t, n) {
                    return h.dir(e, "parentNode", n)
                },
                next: function(e) {
                    return A(e, "nextSibling")
                },
                prev: function(e) {
                    return A(e, "previousSibling")
                },
                nextAll: function(e) {
                    return h.dir(e, "nextSibling")
                },
                prevAll: function(e) {
                    return h.dir(e, "previousSibling")
                },
                nextUntil: function(e, t, n) {
                    return h.dir(e, "nextSibling", n)
                },
                prevUntil: function(e, t, n) {
                    return h.dir(e, "previousSibling", n)
                },
                siblings: function(e) {
                    return h.sibling((e.parentNode || {}).firstChild, e)
                },
                children: function(e) {
                    return h.sibling(e.firstChild)
                },
                contents: function(e) {
                    return h.nodeName(e, "iframe") ? e.contentDocument || e.contentWindow.document : h.merge([], e.childNodes)
                }
            }, function(e, t) {
                h.fn[e] = function(n, r) {
                    var i = h.map(this, t, n);
                    return e.slice(-5) !== "Until" && (r = n),
                    r && typeof r == "string" && (i = h.filter(r, i)),
                    this.length > 1 && (L[e] || (i = h.unique(i)),
                    k.test(e) && (i = i.reverse())),
                        this.pushStack(i)
                }
            });
        var O = /\S+/g
            , M = {};
        h.Callbacks = function(e) {
            e = typeof e == "string" ? M[e] || _(e) : h.extend({}, e);
            var t, n, r, i, s, o, u = [], a = !e.once && [], f = function(c) {
                    n = e.memory && c,
                        r = !0,
                        s = o || 0,
                        o = 0,
                        i = u.length,
                        t = !0;
                    for (; u && s < i; s++)
                        if (u[s].apply(c[0], c[1]) === !1 && e.stopOnFalse) {
                            n = !1;
                            break
                        }
                    t = !1,
                    u && (a ? a.length && f(a.shift()) : n ? u = [] : l.disable())
                }
                , l = {
                    add: function() {
                        if (u) {
                            var r = u.length;
                            (function s(t) {
                                h.each(t, function(t, n) {
                                    var r = h.type(n);
                                    r === "function" ? (!e.unique || !l.has(n)) && u.push(n) : n && n.length && r !== "string" && s(n)
                                })
                            })(arguments),
                                t ? i = u.length : n && (o = r,
                                    f(n))
                        }
                        return this
                    },
                    remove: function() {
                        return u && h.each(arguments, function(e, n) {
                            var r;
                            while ((r = h.inArray(n, u, r)) > -1)
                                u.splice(r, 1),
                                t && (r <= i && i--,
                                r <= s && s--)
                        }),
                            this
                    },
                    has: function(e) {
                        return e ? h.inArray(e, u) > -1 : !!u && !!u.length
                    },
                    empty: function() {
                        return u = [],
                            i = 0,
                            this
                    },
                    disable: function() {
                        return u = a = n = undefined,
                            this
                    },
                    disabled: function() {
                        return !u
                    },
                    lock: function() {
                        return a = undefined,
                        n || l.disable(),
                            this
                    },
                    locked: function() {
                        return !a
                    },
                    fireWith: function(e, n) {
                        return u && (!r || a) && (n = n || [],
                            n = [e, n.slice ? n.slice() : n],
                            t ? a.push(n) : f(n)),
                            this
                    },
                    fire: function() {
                        return l.fireWith(this, arguments),
                            this
                    },
                    fired: function() {
                        return !!r
                    }
                };
            return l
        }
            ,
            h.extend({
                Deferred: function(e) {
                    var t = [["resolve", "done", h.Callbacks("once memory"), "resolved"], ["reject", "fail", h.Callbacks("once memory"), "rejected"], ["notify", "progress", h.Callbacks("memory")]]
                        , n = "pending"
                        , r = {
                            state: function() {
                                return n
                            },
                            always: function() {
                                return i.done(arguments).fail(arguments),
                                    this
                            },
                            then: function() {
                                var e = arguments;
                                return h.Deferred(function(n) {
                                    h.each(t, function(t, s) {
                                        var o = h.isFunction(e[t]) && e[t];
                                        i[s[1]](function() {
                                            var e = o && o.apply(this, arguments);
                                            e && h.isFunction(e.promise) ? e.promise().done(n.resolve).fail(n.reject).progress(n.notify) : n[s[0] + "With"](this === r ? n.promise() : this, o ? [e] : arguments)
                                        })
                                    }),
                                        e = null
                                }).promise()
                            },
                            promise: function(e) {
                                return e != null ? h.extend(e, r) : r
                            }
                        }
                        , i = {};
                    return r.pipe = r.then,
                        h.each(t, function(e, s) {
                            var o = s[2]
                                , u = s[3];
                            r[s[1]] = o.add,
                            u && o.add(function() {
                                n = u
                            }, t[e ^ 1][2].disable, t[2][2].lock),
                                i[s[0]] = function() {
                                    return i[s[0] + "With"](this === i ? r : this, arguments),
                                        this
                                }
                                ,
                                i[s[0] + "With"] = o.fireWith
                        }),
                        r.promise(i),
                    e && e.call(i, i),
                        i
                },
                when: function(e) {
                    var t = 0, n = r.call(arguments), i = n.length, s = i !== 1 || e && h.isFunction(e.promise) ? i : 0, o = s === 1 ? e : h.Deferred(), u = function(e, t, n) {
                            return function(i) {
                                t[e] = this,
                                    n[e] = arguments.length > 1 ? r.call(arguments) : i,
                                    n === a ? o.notifyWith(t, n) : --s || o.resolveWith(t, n)
                            }
                        }
                        , a, f, l;
                    if (i > 1) {
                        a = new Array(i),
                            f = new Array(i),
                            l = new Array(i);
                        for (; t < i; t++)
                            n[t] && h.isFunction(n[t].promise) ? n[t].promise().done(u(t, l, n)).fail(o.reject).progress(u(t, f, a)) : --s
                    }
                    return s || o.resolveWith(l, n),
                        o.promise()
                }
            });
        var D;
        h.fn.ready = function(e) {
            return h.ready.promise().done(e),
                this
        }
            ,
            h.extend({
                isReady: !1,
                readyWait: 1,
                holdReady: function(e) {
                    e ? h.readyWait++ : h.ready(!0)
                },
                ready: function(e) {
                    if (e === !0 ? --h.readyWait : h.isReady)
                        return;
                    if (!T.body)
                        return setTimeout(h.ready);
                    h.isReady = !0;
                    if (e !== !0 && --h.readyWait > 0)
                        return;
                    D.resolveWith(T, [h]),
                    h.fn.triggerHandler && (h(T).triggerHandler("ready"),
                        h(T).off("ready"))
                }
            }),
            h.ready.promise = function(t) {
                if (!D) {
                    D = h.Deferred();
                    if (T.readyState === "complete")
                        setTimeout(h.ready);
                    else if (T.addEventListener)
                        T.addEventListener("DOMContentLoaded", H, !1),
                            e.addEventListener("load", H, !1);
                    else {
                        T.attachEvent("onreadystatechange", H),
                            e.attachEvent("onload", H);
                        var n = !1;
                        try {
                            n = e.frameElement == null && T.documentElement
                        } catch (r) {}
                        n && n.doScroll && function i() {
                            if (!h.isReady) {
                                try {
                                    n.doScroll("left")
                                } catch (e) {
                                    return setTimeout(i, 50)
                                }
                                P(),
                                    h.ready()
                            }
                        }()
                    }
                }
                return D.promise(t)
            }
        ;
        var B = typeof undefined, j;
        for (j in h(l))
            break;
        l.ownLast = j !== "0",
            l.inlineBlockNeedsLayout = !1,
            h(function() {
                var e, t, n, r;
                n = T.getElementsByTagName("body")[0];
                if (!n || !n.style)
                    return;
                t = T.createElement("div"),
                    r = T.createElement("div"),
                    r.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px",
                    n.appendChild(r).appendChild(t),
                typeof t.style.zoom !== B && (t.style.cssText = "display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",
                    l.inlineBlockNeedsLayout = e = t.offsetWidth === 3,
                e && (n.style.zoom = 1)),
                    n.removeChild(r)
            }),
            function() {
                var e = T.createElement("div");
                if (l.deleteExpando == null ) {
                    l.deleteExpando = !0;
                    try {
                        delete e.test
                    } catch (t) {
                        l.deleteExpando = !1
                    }
                }
                e = null
            }(),
            h.acceptData = function(e) {
                var t = h.noData[(e.nodeName + " ").toLowerCase()]
                    , n = +e.nodeType || 1;
                return n !== 1 && n !== 9 ? !1 : !t || t !== !0 && e.getAttribute("classid") === t
            }
        ;
        var F = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/
            , I = /([A-Z])/g;
        h.extend({
            cache: {},
            noData: {
                "applet ": !0,
                "embed ": !0,
                "object ": "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
            },
            hasData: function(e) {
                return e = e.nodeType ? h.cache[e[h.expando]] : e[h.expando],
                !!e && !R(e)
            },
            data: function(e, t, n) {
                return U(e, t, n)
            },
            removeData: function(e, t) {
                return z(e, t)
            },
            _data: function(e, t, n) {
                return U(e, t, n, !0)
            },
            _removeData: function(e, t) {
                return z(e, t, !0)
            }
        }),
            h.fn.extend({
                data: function(e, t) {
                    var n, r, i, s = this[0], o = s && s.attributes;
                    if (e === undefined) {
                        if (this.length) {
                            i = h.data(s);
                            if (s.nodeType === 1 && !h._data(s, "parsedAttrs")) {
                                n = o.length;
                                while (n--)
                                    o[n] && (r = o[n].name,
                                    r.indexOf("data-") === 0 && (r = h.camelCase(r.slice(5)),
                                        q(s, r, i[r])));
                                h._data(s, "parsedAttrs", !0)
                            }
                        }
                        return i
                    }
                    return typeof e == "object" ? this.each(function() {
                        h.data(this, e)
                    }) : arguments.length > 1 ? this.each(function() {
                        h.data(this, e, t)
                    }) : s ? q(s, e, h.data(s, e)) : undefined
                },
                removeData: function(e) {
                    return this.each(function() {
                        h.removeData(this, e)
                    })
                }
            }),
            h.extend({
                queue: function(e, t, n) {
                    var r;
                    if (e)
                        return t = (t || "fx") + "queue",
                            r = h._data(e, t),
                        n && (!r || h.isArray(n) ? r = h._data(e, t, h.makeArray(n)) : r.push(n)),
                        r || []
                },
                dequeue: function(e, t) {
                    t = t || "fx";
                    var n = h.queue(e, t)
                        , r = n.length
                        , i = n.shift()
                        , s = h._queueHooks(e, t)
                        , o = function() {
                            h.dequeue(e, t)
                        }
                        ;
                    i === "inprogress" && (i = n.shift(),
                        r--),
                    i && (t === "fx" && n.unshift("inprogress"),
                        delete s.stop,
                        i.call(e, o, s)),
                    !r && s && s.empty.fire()
                },
                _queueHooks: function(e, t) {
                    var n = t + "queueHooks";
                    return h._data(e, n) || h._data(e, n, {
                            empty: h.Callbacks("once memory").add(function() {
                                h._removeData(e, t + "queue"),
                                    h._removeData(e, n)
                            })
                        })
                }
            }),
            h.fn.extend({
                queue: function(e, t) {
                    var n = 2;
                    return typeof e != "string" && (t = e,
                        e = "fx",
                        n--),
                        arguments.length < n ? h.queue(this[0], e) : t === undefined ? this : this.each(function() {
                            var n = h.queue(this, e, t);
                            h._queueHooks(this, e),
                            e === "fx" && n[0] !== "inprogress" && h.dequeue(this, e)
                        })
                },
                dequeue: function(e) {
                    return this.each(function() {
                        h.dequeue(this, e)
                    })
                },
                clearQueue: function(e) {
                    return this.queue(e || "fx", [])
                },
                promise: function(e, t) {
                    var n, r = 1, i = h.Deferred(), s = this, o = this.length, u = function() {
                            --r || i.resolveWith(s, [s])
                        }
                        ;
                    typeof e != "string" && (t = e,
                        e = undefined),
                        e = e || "fx";
                    while (o--)
                        n = h._data(s[o], e + "queueHooks"),
                        n && n.empty && (r++,
                            n.empty.add(u));
                    return u(),
                        i.promise(t)
                }
            });
        var W = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source
            , X = ["Top", "Right", "Bottom", "Left"]
            , V = function(e, t) {
                return e = t || e,
                h.css(e, "display") === "none" || !h.contains(e.ownerDocument, e)
            }
            , $ = h.access = function(e, t, n, r, i, s, o) {
                var u = 0
                    , a = e.length
                    , f = n == null ;
                if (h.type(n) === "object") {
                    i = !0;
                    for (u in n)
                        h.access(e, t, u, n[u], !0, s, o)
                } else if (r !== undefined) {
                    i = !0,
                    h.isFunction(r) || (o = !0),
                    f && (o ? (t.call(e, r),
                        t = null ) : (f = t,
                        t = function(e, t, n) {
                            return f.call(h(e), n)
                        }
                    ));
                    if (t)
                        for (; u < a; u++)
                            t(e[u], n, o ? r : r.call(e[u], u, t(e[u], n)))
                }
                return i ? e : f ? t.call(e) : a ? t(e[0], n) : s
            }
            , J = /^(?:checkbox|radio)$/i;
        (function() {
            var e = T.createElement("input")
                , t = T.createElement("div")
                , n = T.createDocumentFragment();
            t.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
                l.leadingWhitespace = t.firstChild.nodeType === 3,
                l.tbody = !t.getElementsByTagName("tbody").length,
                l.htmlSerialize = !!t.getElementsByTagName("link").length,
                l.html5Clone = T.createElement("nav").cloneNode(!0).outerHTML !== "<:nav></:nav>",
                e.type = "checkbox",
                e.checked = !0,
                n.appendChild(e),
                l.appendChecked = e.checked,
                t.innerHTML = "<textarea>x</textarea>",
                l.noCloneChecked = !!t.cloneNode(!0).lastChild.defaultValue,
                n.appendChild(t),
                t.innerHTML = "<input type='radio' checked='checked' name='t'/>",
                l.checkClone = t.cloneNode(!0).cloneNode(!0).lastChild.checked,
                l.noCloneEvent = !0,
            t.attachEvent && (t.attachEvent("onclick", function() {
                l.noCloneEvent = !1
            }),
                t.cloneNode(!0).click());
            if (l.deleteExpando == null ) {
                l.deleteExpando = !0;
                try {
                    delete t.test
                } catch (r) {
                    l.deleteExpando = !1
                }
            }
        })(),
            function() {
                var t, n, r = T.createElement("div");
                for (t in {
                    submit: !0,
                    change: !0,
                    focusin: !0
                })
                    n = "on" + t,
                    (l[t + "Bubbles"] = n in e) || (r.setAttribute(n, "t"),
                        l[t + "Bubbles"] = r.attributes[n].expando === !1);
                r = null
            }();
        var K = /^(?:input|select|textarea)$/i
            , Q = /^key/
            , G = /^(?:mouse|pointer|contextmenu)|click/
            , Y = /^(?:focusinfocus|focusoutblur)$/
            , Z = /^([^.]*)(?:\.(.+)|)$/;
        h.event = {
            global: {},
            add: function(e, t, n, r, i) {
                var s, o, u, a, f, l, c, p, d, v, m, g = h._data(e);
                if (!g)
                    return;
                n.handler && (a = n,
                    n = a.handler,
                    i = a.selector),
                n.guid || (n.guid = h.guid++),
                (o = g.events) || (o = g.events = {}),
                (l = g.handle) || (l = g.handle = function(e) {
                    return typeof h === B || !!e && h.event.triggered === e.type ? undefined : h.event.dispatch.apply(l.elem, arguments)
                }
                    ,
                    l.elem = e),
                    t = (t || "").match(O) || [""],
                    u = t.length;
                while (u--) {
                    s = Z.exec(t[u]) || [],
                        d = m = s[1],
                        v = (s[2] || "").split(".").sort();
                    if (!d)
                        continue;f = h.event.special[d] || {},
                        d = (i ? f.delegateType : f.bindType) || d,
                        f = h.event.special[d] || {},
                        c = h.extend({
                            type: d,
                            origType: m,
                            data: r,
                            handler: n,
                            guid: n.guid,
                            selector: i,
                            needsContext: i && h.expr.match.needsContext.test(i),
                            namespace: v.join(".")
                        }, a);
                    if (!(p = o[d])) {
                        p = o[d] = [],
                            p.delegateCount = 0;
                        if (!f.setup || f.setup.call(e, r, v, l) === !1)
                            e.addEventListener ? e.addEventListener(d, l, !1) : e.attachEvent && e.attachEvent("on" + d, l)
                    }
                    f.add && (f.add.call(e, c),
                    c.handler.guid || (c.handler.guid = n.guid)),
                        i ? p.splice(p.delegateCount++, 0, c) : p.push(c),
                        h.event.global[d] = !0
                }
                e = null
            },
            remove: function(e, t, n, r, i) {
                var s, o, u, a, f, l, c, p, d, v, m, g = h.hasData(e) && h._data(e);
                if (!g || !(l = g.events))
                    return;
                t = (t || "").match(O) || [""],
                    f = t.length;
                while (f--) {
                    u = Z.exec(t[f]) || [],
                        d = m = u[1],
                        v = (u[2] || "").split(".").sort();
                    if (!d) {
                        for (d in l)
                            h.event.remove(e, d + t[f], n, r, !0);
                        continue
                    }
                    c = h.event.special[d] || {},
                        d = (r ? c.delegateType : c.bindType) || d,
                        p = l[d] || [],
                        u = u[2] && new RegExp("(^|\\.)" + v.join("\\.(?:.*\\.|)") + "(\\.|$)"),
                        a = s = p.length;
                    while (s--)
                        o = p[s],
                        (i || m === o.origType) && (!n || n.guid === o.guid) && (!u || u.test(o.namespace)) && (!r || r === o.selector || r === "**" && o.selector) && (p.splice(s, 1),
                        o.selector && p.delegateCount--,
                        c.remove && c.remove.call(e, o));
                    a && !p.length && ((!c.teardown || c.teardown.call(e, v, g.handle) === !1) && h.removeEvent(e, d, g.handle),
                        delete l[d])
                }
                h.isEmptyObject(l) && (delete g.handle,
                    h._removeData(e, "events"))
            },
            trigger: function(t, n, r, i) {
                var s, o, u, a, l, c, p, d = [r || T], v = f.call(t, "type") ? t.type : t, m = f.call(t, "namespace") ? t.namespace.split(".") : [];
                u = c = r = r || T;
                if (r.nodeType === 3 || r.nodeType === 8)
                    return;
                if (Y.test(v + h.event.triggered))
                    return;
                v.indexOf(".") >= 0 && (m = v.split("."),
                    v = m.shift(),
                    m.sort()),
                    o = v.indexOf(":") < 0 && "on" + v,
                    t = t[h.expando] ? t : new h.Event(v,typeof t == "object" && t),
                    t.isTrigger = i ? 2 : 3,
                    t.namespace = m.join("."),
                    t.namespace_re = t.namespace ? new RegExp("(^|\\.)" + m.join("\\.(?:.*\\.|)") + "(\\.|$)") : null ,
                    t.result = undefined,
                t.target || (t.target = r),
                    n = n == null ? [t] : h.makeArray(n, [t]),
                    l = h.event.special[v] || {};
                if (!i && l.trigger && l.trigger.apply(r, n) === !1)
                    return;
                if (!i && !l.noBubble && !h.isWindow(r)) {
                    a = l.delegateType || v,
                    Y.test(a + v) || (u = u.parentNode);
                    for (; u; u = u.parentNode)
                        d.push(u),
                            c = u;
                    c === (r.ownerDocument || T) && d.push(c.defaultView || c.parentWindow || e)
                }
                p = 0;
                while ((u = d[p++]) && !t.isPropagationStopped())
                    t.type = p > 1 ? a : l.bindType || v,
                        s = (h._data(u, "events") || {})[t.type] && h._data(u, "handle"),
                    s && s.apply(u, n),
                        s = o && u[o],
                    s && s.apply && h.acceptData(u) && (t.result = s.apply(u, n),
                    t.result === !1 && t.preventDefault());
                t.type = v;
                if (!i && !t.isDefaultPrevented() && (!l._default || l._default.apply(d.pop(), n) === !1) && h.acceptData(r) && o && r[v] && !h.isWindow(r)) {
                    c = r[o],
                    c && (r[o] = null ),
                        h.event.triggered = v;
                    try {
                        r[v]()
                    } catch (g) {}
                    h.event.triggered = undefined,
                    c && (r[o] = c)
                }
                return t.result
            },
            dispatch: function(e) {
                e = h.event.fix(e);
                var t, n, i, s, o, u = [], a = r.call(arguments), f = (h._data(this, "events") || {})[e.type] || [], l = h.event.special[e.type] || {};
                a[0] = e,
                    e.delegateTarget = this;
                if (l.preDispatch && l.preDispatch.call(this, e) === !1)
                    return;
                u = h.event.handlers.call(this, e, f),
                    t = 0;
                while ((s = u[t++]) && !e.isPropagationStopped()) {
                    e.currentTarget = s.elem,
                        o = 0;
                    while ((i = s.handlers[o++]) && !e.isImmediatePropagationStopped())
                        if (!e.namespace_re || e.namespace_re.test(i.namespace))
                            e.handleObj = i,
                                e.data = i.data,
                                n = ((h.event.special[i.origType] || {}).handle || i.handler).apply(s.elem, a),
                            n !== undefined && (e.result = n) === !1 && (e.preventDefault(),
                                e.stopPropagation())
                }
                return l.postDispatch && l.postDispatch.call(this, e),
                    e.result
            },
            handlers: function(e, t) {
                var n, r, i, s, o = [], u = t.delegateCount, a = e.target;
                if (u && a.nodeType && (!e.button || e.type !== "click"))
                    for (; a != this; a = a.parentNode || this)
                        if (a.nodeType === 1 && (a.disabled !== !0 || e.type !== "click")) {
                            i = [];
                            for (s = 0; s < u; s++)
                                r = t[s],
                                    n = r.selector + " ",
                                i[n] === undefined && (i[n] = r.needsContext ? h(n, this).index(a) >= 0 : h.find(n, this, null , [a]).length),
                                i[n] && i.push(r);
                            i.length && o.push({
                                elem: a,
                                handlers: i
                            })
                        }
                return u < t.length && o.push({
                    elem: this,
                    handlers: t.slice(u)
                }),
                    o
            },
            fix: function(e) {
                if (e[h.expando])
                    return e;
                var t, n, r, i = e.type, s = e, o = this.fixHooks[i];
                o || (this.fixHooks[i] = o = G.test(i) ? this.mouseHooks : Q.test(i) ? this.keyHooks : {}),
                    r = o.props ? this.props.concat(o.props) : this.props,
                    e = new h.Event(s),
                    t = r.length;
                while (t--)
                    n = r[t],
                        e[n] = s[n];
                return e.target || (e.target = s.srcElement || T),
                e.target.nodeType === 3 && (e.target = e.target.parentNode),
                    e.metaKey = !!e.metaKey,
                    o.filter ? o.filter(e, s) : e
            },
            props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
            fixHooks: {},
            keyHooks: {
                props: "char charCode key keyCode".split(" "),
                filter: function(e, t) {
                    return e.which == null && (e.which = t.charCode != null ? t.charCode : t.keyCode),
                        e
                }
            },
            mouseHooks: {
                props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
                filter: function(e, t) {
                    var n, r, i, s = t.button, o = t.fromElement;
                    return e.pageX == null && t.clientX != null && (r = e.target.ownerDocument || T,
                        i = r.documentElement,
                        n = r.body,
                        e.pageX = t.clientX + (i && i.scrollLeft || n && n.scrollLeft || 0) - (i && i.clientLeft || n && n.clientLeft || 0),
                        e.pageY = t.clientY + (i && i.scrollTop || n && n.scrollTop || 0) - (i && i.clientTop || n && n.clientTop || 0)),
                    !e.relatedTarget && o && (e.relatedTarget = o === e.target ? t.toElement : o),
                    !e.which && s !== undefined && (e.which = s & 1 ? 1 : s & 2 ? 3 : s & 4 ? 2 : 0),
                        e
                }
            },
            special: {
                load: {
                    noBubble: !0
                },
                focus: {
                    trigger: function() {
                        if (this !== nt() && this.focus)
                            try {
                                return this.focus(),
                                    !1
                            } catch (e) {}
                    },
                    delegateType: "focusin"
                },
                blur: {
                    trigger: function() {
                        if (this === nt() && this.blur)
                            return this.blur(),
                                !1
                    },
                    delegateType: "focusout"
                },
                click: {
                    trigger: function() {
                        if (h.nodeName(this, "input") && this.type === "checkbox" && this.click)
                            return this.click(),
                                !1
                    },
                    _default: function(e) {
                        return h.nodeName(e.target, "a")
                    }
                },
                beforeunload: {
                    postDispatch: function(e) {
                        e.result !== undefined && e.originalEvent && (e.originalEvent.returnValue = e.result)
                    }
                }
            },
            simulate: function(e, t, n, r) {
                var i = h.extend(new h.Event, n, {
                    type: e,
                    isSimulated: !0,
                    originalEvent: {}
                });
                r ? h.event.trigger(i, null , t) : h.event.dispatch.call(t, i),
                i.isDefaultPrevented() && n.preventDefault()
            }
        },
            h.removeEvent = T.removeEventListener ? function(e, t, n) {
                e.removeEventListener && e.removeEventListener(t, n, !1)
            }
                : function(e, t, n) {
                var r = "on" + t;
                e.detachEvent && (typeof e[r] === B && (e[r] = null ),
                    e.detachEvent(r, n))
            }
            ,
            h.Event = function(e, t) {
                if (!(this instanceof h.Event))
                    return new h.Event(e,t);
                e && e.type ? (this.originalEvent = e,
                    this.type = e.type,
                    this.isDefaultPrevented = e.defaultPrevented || e.defaultPrevented === undefined && e.returnValue === !1 ? et : tt) : this.type = e,
                t && h.extend(this, t),
                    this.timeStamp = e && e.timeStamp || h.now(),
                    this[h.expando] = !0
            }
            ,
            h.Event.prototype = {
                isDefaultPrevented: tt,
                isPropagationStopped: tt,
                isImmediatePropagationStopped: tt,
                preventDefault: function() {
                    var e = this.originalEvent;
                    this.isDefaultPrevented = et;
                    if (!e)
                        return;
                    e.preventDefault ? e.preventDefault() : e.returnValue = !1
                },
                stopPropagation: function() {
                    var e = this.originalEvent;
                    this.isPropagationStopped = et;
                    if (!e)
                        return;
                    e.stopPropagation && e.stopPropagation(),
                        e.cancelBubble = !0
                },
                stopImmediatePropagation: function() {
                    var e = this.originalEvent;
                    this.isImmediatePropagationStopped = et,
                    e && e.stopImmediatePropagation && e.stopImmediatePropagation(),
                        this.stopPropagation()
                }
            },
            h.each({
                mouseenter: "mouseover",
                mouseleave: "mouseout",
                pointerenter: "pointerover",
                pointerleave: "pointerout"
            }, function(e, t) {
                h.event.special[e] = {
                    delegateType: t,
                    bindType: t,
                    handle: function(e) {
                        var n, r = this, i = e.relatedTarget, s = e.handleObj;
                        if (!i || i !== r && !h.contains(r, i))
                            e.type = s.origType,
                                n = s.handler.apply(this, arguments),
                                e.type = t;
                        return n
                    }
                }
            }),
        l.submitBubbles || (h.event.special.submit = {
            setup: function() {
                if (h.nodeName(this, "form"))
                    return !1;
                h.event.add(this, "click._submit keypress._submit", function(e) {
                    var t = e.target
                        , n = h.nodeName(t, "input") || h.nodeName(t, "button") ? t.form : undefined;
                    n && !h._data(n, "submitBubbles") && (h.event.add(n, "submit._submit", function(e) {
                        e._submit_bubble = !0
                    }),
                        h._data(n, "submitBubbles", !0))
                })
            },
            postDispatch: function(e) {
                e._submit_bubble && (delete e._submit_bubble,
                this.parentNode && !e.isTrigger && h.event.simulate("submit", this.parentNode, e, !0))
            },
            teardown: function() {
                if (h.nodeName(this, "form"))
                    return !1;
                h.event.remove(this, "._submit")
            }
        }),
        l.changeBubbles || (h.event.special.change = {
            setup: function() {
                if (K.test(this.nodeName)) {
                    if (this.type === "checkbox" || this.type === "radio")
                        h.event.add(this, "propertychange._change", function(e) {
                            e.originalEvent.propertyName === "checked" && (this._just_changed = !0)
                        }),
                            h.event.add(this, "click._change", function(e) {
                                this._just_changed && !e.isTrigger && (this._just_changed = !1),
                                    h.event.simulate("change", this, e, !0)
                            });
                    return !1
                }
                h.event.add(this, "beforeactivate._change", function(e) {
                    var t = e.target;
                    K.test(t.nodeName) && !h._data(t, "changeBubbles") && (h.event.add(t, "change._change", function(e) {
                        this.parentNode && !e.isSimulated && !e.isTrigger && h.event.simulate("change", this.parentNode, e, !0)
                    }),
                        h._data(t, "changeBubbles", !0))
                })
            },
            handle: function(e) {
                var t = e.target;
                if (this !== t || e.isSimulated || e.isTrigger || t.type !== "radio" && t.type !== "checkbox")
                    return e.handleObj.handler.apply(this, arguments)
            },
            teardown: function() {
                return h.event.remove(this, "._change"),
                    !K.test(this.nodeName)
            }
        }),
        l.focusinBubbles || h.each({
            focus: "focusin",
            blur: "focusout"
        }, function(e, t) {
            var n = function(e) {
                    h.event.simulate(t, e.target, h.event.fix(e), !0)
                }
                ;
            h.event.special[t] = {
                setup: function() {
                    var r = this.ownerDocument || this
                        , i = h._data(r, t);
                    i || r.addEventListener(e, n, !0),
                        h._data(r, t, (i || 0) + 1)
                },
                teardown: function() {
                    var r = this.ownerDocument || this
                        , i = h._data(r, t) - 1;
                    i ? h._data(r, t, i) : (r.removeEventListener(e, n, !0),
                        h._removeData(r, t))
                }
            }
        }),
            h.fn.extend({
                on: function(e, t, n, r, i) {
                    var s, o;
                    if (typeof e == "object") {
                        typeof t != "string" && (n = n || t,
                            t = undefined);
                        for (s in e)
                            this.on(s, t, n, e[s], i);
                        return this
                    }
                    n == null && r == null ? (r = t,
                        n = t = undefined) : r == null && (typeof t == "string" ? (r = n,
                        n = undefined) : (r = n,
                        n = t,
                        t = undefined));
                    if (r === !1)
                        r = tt;
                    else if (!r)
                        return this;
                    return i === 1 && (o = r,
                        r = function(e) {
                            return h().off(e),
                                o.apply(this, arguments)
                        }
                        ,
                        r.guid = o.guid || (o.guid = h.guid++)),
                        this.each(function() {
                            h.event.add(this, e, r, n, t)
                        })
                },
                one: function(e, t, n, r) {
                    return this.on(e, t, n, r, 1)
                },
                off: function(e, t, n) {
                    var r, i;
                    if (e && e.preventDefault && e.handleObj)
                        return r = e.handleObj,
                            h(e.delegateTarget).off(r.namespace ? r.origType + "." + r.namespace : r.origType, r.selector, r.handler),
                            this;
                    if (typeof e == "object") {
                        for (i in e)
                            this.off(i, t, e[i]);
                        return this
                    }
                    if (t === !1 || typeof t == "function")
                        n = t,
                            t = undefined;
                    return n === !1 && (n = tt),
                        this.each(function() {
                            h.event.remove(this, e, n, t)
                        })
                },
                trigger: function(e, t) {
                    return this.each(function() {
                        h.event.trigger(e, t, this)
                    })
                },
                triggerHandler: function(e, t) {
                    var n = this[0];
                    if (n)
                        return h.event.trigger(e, t, n, !0)
                }
            });
        var it = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video"
            , st = / jQuery\d+="(?:null|\d+)"/g
            , ot = new RegExp("<(?:" + it + ")[\\s/>]","i")
            , ut = /^\s+/
            , at = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi
            , ft = /<([\w:]+)/
            , lt = /<tbody/i
            , ct = /<|&#?\w+;/
            , ht = /<(?:script|style|link)/i
            , pt = /checked\s*(?:[^=]|=\s*.checked.)/i
            , dt = /^$|\/(?:java|ecma)script/i
            , vt = /^true\/(.*)/
            , mt = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g
            , gt = {
                option: [1, "<select multiple='multiple'>", "</select>"],
                legend: [1, "<fieldset>", "</fieldset>"],
                area: [1, "<map>", "</map>"],
                param: [1, "<object>", "</object>"],
                thead: [1, "<table>", "</table>"],
                tr: [2, "<table><tbody>", "</tbody></table>"],
                col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
                td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
                _default: l.htmlSerialize ? [0, "", ""] : [1, "X<div>", "</div>"]
            }
            , yt = rt(T)
            , bt = yt.appendChild(T.createElement("div"));
        gt.optgroup = gt.option,
            gt.tbody = gt.tfoot = gt.colgroup = gt.caption = gt.thead,
            gt.th = gt.td,
            h.extend({
                clone: function(e, t, n) {
                    var r, i, s, o, u, a = h.contains(e.ownerDocument, e);
                    l.html5Clone || h.isXMLDoc(e) || !ot.test("<" + e.nodeName + ">") ? s = e.cloneNode(!0) : (bt.innerHTML = e.outerHTML,
                        bt.removeChild(s = bt.firstChild));
                    if ((!l.noCloneEvent || !l.noCloneChecked) && (e.nodeType === 1 || e.nodeType === 11) && !h.isXMLDoc(e)) {
                        r = wt(s),
                            u = wt(e);
                        for (o = 0; (i = u[o]) != null ; ++o)
                            r[o] && kt(i, r[o])
                    }
                    if (t)
                        if (n) {
                            u = u || wt(e),
                                r = r || wt(s);
                            for (o = 0; (i = u[o]) != null ; o++)
                                Ct(i, r[o])
                        } else
                            Ct(e, s);
                    return r = wt(s, "script"),
                    r.length > 0 && Nt(r, !a && wt(e, "script")),
                        r = u = i = null ,
                        s
                },
                buildFragment: function(e, t, n, r) {
                    var i, s, o, u, a, f, c, p = e.length, d = rt(t), v = [], m = 0;
                    for (; m < p; m++) {
                        s = e[m];
                        if (s || s === 0)
                            if (h.type(s) === "object")
                                h.merge(v, s.nodeType ? [s] : s);
                            else if (!ct.test(s))
                                v.push(t.createTextNode(s));
                            else {
                                u = u || d.appendChild(t.createElement("div")),
                                    a = (ft.exec(s) || ["", ""])[1].toLowerCase(),
                                    c = gt[a] || gt._default,
                                    u.innerHTML = c[1] + s.replace(at, "<$1></$2>") + c[2],
                                    i = c[0];
                                while (i--)
                                    u = u.lastChild;
                                !l.leadingWhitespace && ut.test(s) && v.push(t.createTextNode(ut.exec(s)[0]));
                                if (!l.tbody) {
                                    s = a === "table" && !lt.test(s) ? u.firstChild : c[1] === "<table>" && !lt.test(s) ? u : 0,
                                        i = s && s.childNodes.length;
                                    while (i--)
                                        h.nodeName(f = s.childNodes[i], "tbody") && !f.childNodes.length && s.removeChild(f)
                                }
                                h.merge(v, u.childNodes),
                                    u.textContent = "";
                                while (u.firstChild)
                                    u.removeChild(u.firstChild);
                                u = d.lastChild
                            }
                    }
                    u && d.removeChild(u),
                    l.appendChecked || h.grep(wt(v, "input"), Et),
                        m = 0;
                    while (s = v[m++]) {
                        if (r && h.inArray(s, r) !== -1)
                            continue;o = h.contains(s.ownerDocument, s),
                            u = wt(d.appendChild(s), "script"),
                        o && Nt(u);
                        if (n) {
                            i = 0;
                            while (s = u[i++])
                                dt.test(s.type || "") && n.push(s)
                        }
                    }
                    return u = null ,
                        d
                },
                cleanData: function(e, t) {
                    var r, i, s, o, u = 0, a = h.expando, f = h.cache, c = l.deleteExpando, p = h.event.special;
                    for (; (r = e[u]) != null ; u++)
                        if (t || h.acceptData(r)) {
                            s = r[a],
                                o = s && f[s];
                            if (o) {
                                if (o.events)
                                    for (i in o.events)
                                        p[i] ? h.event.remove(r, i) : h.removeEvent(r, i, o.handle);
                                f[s] && (delete f[s],
                                    c ? delete r[a] : typeof r.removeAttribute !== B ? r.removeAttribute(a) : r[a] = null ,
                                    n.push(s))
                            }
                        }
                }
            }),
            h.fn.extend({
                text: function(e) {
                    return $(this, function(e) {
                        return e === undefined ? h.text(this) : this.empty().append((this[0] && this[0].ownerDocument || T).createTextNode(e))
                    }, null , e, arguments.length)
                },
                append: function() {
                    return this.domManip(arguments, function(e) {
                        if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                            var t = St(this, e);
                            t.appendChild(e)
                        }
                    })
                },
                prepend: function() {
                    return this.domManip(arguments, function(e) {
                        if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                            var t = St(this, e);
                            t.insertBefore(e, t.firstChild)
                        }
                    })
                },
                before: function() {
                    return this.domManip(arguments, function(e) {
                        this.parentNode && this.parentNode.insertBefore(e, this)
                    })
                },
                after: function() {
                    return this.domManip(arguments, function(e) {
                        this.parentNode && this.parentNode.insertBefore(e, this.nextSibling)
                    })
                },
                remove: function(e, t) {
                    var n, r = e ? h.filter(e, this) : this, i = 0;
                    for (; (n = r[i]) != null ; i++)
                        !t && n.nodeType === 1 && h.cleanData(wt(n)),
                        n.parentNode && (t && h.contains(n.ownerDocument, n) && Nt(wt(n, "script")),
                            n.parentNode.removeChild(n));
                    return this
                },
                empty: function() {
                    var e, t = 0;
                    for (; (e = this[t]) != null ; t++) {
                        e.nodeType === 1 && h.cleanData(wt(e, !1));
                        while (e.firstChild)
                            e.removeChild(e.firstChild);
                        e.options && h.nodeName(e, "select") && (e.options.length = 0)
                    }
                    return this
                },
                clone: function(e, t) {
                    return e = e == null ? !1 : e,
                        t = t == null ? e : t,
                        this.map(function() {
                            return h.clone(this, e, t)
                        })
                },
                html: function(e) {
                    return $(this, function(e) {
                        var t = this[0] || {}
                            , n = 0
                            , r = this.length;
                        if (e === undefined)
                            return t.nodeType === 1 ? t.innerHTML.replace(st, "") : undefined;
                        if (typeof e == "string" && !ht.test(e) && (l.htmlSerialize || !ot.test(e)) && (l.leadingWhitespace || !ut.test(e)) && !gt[(ft.exec(e) || ["", ""])[1].toLowerCase()]) {
                            e = e.replace(at, "<$1></$2>");
                            try {
                                for (; n < r; n++)
                                    t = this[n] || {},
                                    t.nodeType === 1 && (h.cleanData(wt(t, !1)),
                                        t.innerHTML = e);
                                t = 0
                            } catch (i) {}
                        }
                        t && this.empty().append(e)
                    }, null , e, arguments.length)
                },
                replaceWith: function() {
                    var e = arguments[0];
                    return this.domManip(arguments, function(t) {
                        e = this.parentNode,
                            h.cleanData(wt(this)),
                        e && e.replaceChild(t, this)
                    }),
                        e && (e.length || e.nodeType) ? this : this.remove()
                },
                detach: function(e) {
                    return this.remove(e, !0)
                },
                domManip: function(e, t) {
                    e = i.apply([], e);
                    var n, r, s, o, u, a, f = 0, c = this.length, p = this, d = c - 1, v = e[0], m = h.isFunction(v);
                    if (m || c > 1 && typeof v == "string" && !l.checkClone && pt.test(v))
                        return this.each(function(n) {
                            var r = p.eq(n);
                            m && (e[0] = v.call(this, n, r.html())),
                                r.domManip(e, t)
                        });
                    if (c) {
                        a = h.buildFragment(e, this[0].ownerDocument, !1, this),
                            n = a.firstChild,
                        a.childNodes.length === 1 && (a = n);
                        if (n) {
                            o = h.map(wt(a, "script"), xt),
                                s = o.length;
                            for (; f < c; f++)
                                r = a,
                                f !== d && (r = h.clone(r, !0, !0),
                                s && h.merge(o, wt(r, "script"))),
                                    t.call(this[f], r, f);
                            if (s) {
                                u = o[o.length - 1].ownerDocument,
                                    h.map(o, Tt);
                                for (f = 0; f < s; f++)
                                    r = o[f],
                                    dt.test(r.type || "") && !h._data(r, "globalEval") && h.contains(u, r) && (r.src ? h._evalUrl && h._evalUrl(r.src) : h.globalEval((r.text || r.textContent || r.innerHTML || "").replace(mt, "")))
                            }
                            a = n = null
                        }
                    }
                    return this
                }
            }),
            h.each({
                appendTo: "append",
                prependTo: "prepend",
                insertBefore: "before",
                insertAfter: "after",
                replaceAll: "replaceWith"
            }, function(e, t) {
                h.fn[e] = function(e) {
                    var n, r = 0, i = [], o = h(e), u = o.length - 1;
                    for (; r <= u; r++)
                        n = r === u ? this : this.clone(!0),
                            h(o[r])[t](n),
                            s.apply(i, n.get());
                    return this.pushStack(i)
                }
            });
        var Lt, At = {};
        (function() {
            var e;
            l.shrinkWrapBlocks = function() {
                if (e != null )
                    return e;
                e = !1;
                var t, n, r;
                n = T.getElementsByTagName("body")[0];
                if (!n || !n.style)
                    return;
                return t = T.createElement("div"),
                    r = T.createElement("div"),
                    r.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px",
                    n.appendChild(r).appendChild(t),
                typeof t.style.zoom !== B && (t.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",
                    t.appendChild(T.createElement("div")).style.width = "5px",
                    e = t.offsetWidth !== 3),
                    n.removeChild(r),
                    e
            }
        })();
        var _t = /^margin/, Dt = new RegExp("^(" + W + ")(?!px)[a-z%]+$","i"), Pt, Ht, Bt = /^(top|right|bottom|left)$/;
        e.getComputedStyle ? (Pt = function(e) {
            return e.ownerDocument.defaultView.getComputedStyle(e, null )
        }
            ,
            Ht = function(e, t, n) {
                var r, i, s, o, u = e.style;
                return n = n || Pt(e),
                    o = n ? n.getPropertyValue(t) || n[t] : undefined,
                n && (o === "" && !h.contains(e.ownerDocument, e) && (o = h.style(e, t)),
                Dt.test(o) && _t.test(t) && (r = u.width,
                    i = u.minWidth,
                    s = u.maxWidth,
                    u.minWidth = u.maxWidth = u.width = o,
                    o = n.width,
                    u.width = r,
                    u.minWidth = i,
                    u.maxWidth = s)),
                    o === undefined ? o : o + ""
            }
        ) : T.documentElement.currentStyle && (Pt = function(e) {
            return e.currentStyle
        }
            ,
            Ht = function(e, t, n) {
                var r, i, s, o, u = e.style;
                return n = n || Pt(e),
                    o = n ? n[t] : undefined,
                o == null && u && u[t] && (o = u[t]),
                Dt.test(o) && !Bt.test(t) && (r = u.left,
                    i = e.runtimeStyle,
                    s = i && i.left,
                s && (i.left = e.currentStyle.left),
                    u.left = t === "fontSize" ? "1em" : o,
                    o = u.pixelLeft + "px",
                    u.left = r,
                s && (i.left = s)),
                    o === undefined ? o : o + "" || "auto"
            }
        ),
            function() {
                function a() {
                    var t, n, r, a;
                    n = T.getElementsByTagName("body")[0];
                    if (!n || !n.style)
                        return;
                    t = T.createElement("div"),
                        r = T.createElement("div"),
                        r.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px",
                        n.appendChild(r).appendChild(t),
                        t.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",
                        i = s = !1,
                        u = !0,
                    e.getComputedStyle && (i = (e.getComputedStyle(t, null ) || {}).top !== "1%",
                        s = (e.getComputedStyle(t, null ) || {
                            width: "4px"
                        }).width === "4px",
                        a = t.appendChild(T.createElement("div")),
                        a.style.cssText = t.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",
                        a.style.marginRight = a.style.width = "0",
                        t.style.width = "1px",
                        u = !parseFloat((e.getComputedStyle(a, null ) || {}).marginRight)),
                        t.innerHTML = "<table><tr><td></td><td>t</td></tr></table>",
                        a = t.getElementsByTagName("td"),
                        a[0].style.cssText = "margin:0;border:0;padding:0;display:none",
                        o = a[0].offsetHeight === 0,
                    o && (a[0].style.display = "",
                        a[1].style.display = "none",
                        o = a[0].offsetHeight === 0),
                        n.removeChild(r)
                }
                var t, n, r, i, s, o, u;
                t = T.createElement("div"),
                    t.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
                    r = t.getElementsByTagName("a")[0],
                    n = r && r.style;
                if (!n)
                    return;
                n.cssText = "float:left;opacity:.5",
                    l.opacity = n.opacity === "0.5",
                    l.cssFloat = !!n.cssFloat,
                    t.style.backgroundClip = "content-box",
                    t.cloneNode(!0).style.backgroundClip = "",
                    l.clearCloneStyle = t.style.backgroundClip === "content-box",
                    l.boxSizing = n.boxSizing === "" || n.MozBoxSizing === "" || n.WebkitBoxSizing === "",
                    h.extend(l, {
                        reliableHiddenOffsets: function() {
                            return o == null && a(),
                                o
                        },
                        boxSizingReliable: function() {
                            return s == null && a(),
                                s
                        },
                        pixelPosition: function() {
                            return i == null && a(),
                                i
                        },
                        reliableMarginRight: function() {
                            return u == null && a(),
                                u
                        }
                    })
            }(),
            h.swap = function(e, t, n, r) {
                var i, s, o = {};
                for (s in t)
                    o[s] = e.style[s],
                        e.style[s] = t[s];
                i = n.apply(e, r || []);
                for (s in t)
                    e.style[s] = o[s];
                return i
            }
        ;
        var Ft = /alpha\([^)]*\)/i
            , It = /opacity\s*=\s*([^)]*)/
            , qt = /^(none|table(?!-c[ea]).+)/
            , Rt = new RegExp("^(" + W + ")(.*)$","i")
            , Ut = new RegExp("^([+-])=(" + W + ")","i")
            , zt = {
                position: "absolute",
                visibility: "hidden",
                display: "block"
            }
            , Wt = {
                letterSpacing: "0",
                fontWeight: "400"
            }
            , Xt = ["Webkit", "O", "Moz", "ms"];
        h.extend({
            cssHooks: {
                opacity: {
                    get: function(e, t) {
                        if (t) {
                            var n = Ht(e, "opacity");
                            return n === "" ? "1" : n
                        }
                    }
                }
            },
            cssNumber: {
                columnCount: !0,
                fillOpacity: !0,
                flexGrow: !0,
                flexShrink: !0,
                fontWeight: !0,
                lineHeight: !0,
                opacity: !0,
                order: !0,
                orphans: !0,
                widows: !0,
                zIndex: !0,
                zoom: !0
            },
            cssProps: {
                "float": l.cssFloat ? "cssFloat" : "styleFloat"
            },
            style: function(e, t, n, r) {
                if (!e || e.nodeType === 3 || e.nodeType === 8 || !e.style)
                    return;
                var i, s, o, u = h.camelCase(t), a = e.style;
                t = h.cssProps[u] || (h.cssProps[u] = Vt(a, u)),
                    o = h.cssHooks[t] || h.cssHooks[u];
                if (n === undefined)
                    return o && "get"in o && (i = o.get(e, !1, r)) !== undefined ? i : a[t];
                s = typeof n,
                s === "string" && (i = Ut.exec(n)) && (n = (i[1] + 1) * i[2] + parseFloat(h.css(e, t)),
                    s = "number");
                if (n == null || n !== n)
                    return;
                s === "number" && !h.cssNumber[u] && (n += "px"),
                !l.clearCloneStyle && n === "" && t.indexOf("background") === 0 && (a[t] = "inherit");
                if (!o || !("set"in o) || (n = o.set(e, n, r)) !== undefined)
                    try {
                        a[t] = n
                    } catch (f) {}
            },
            css: function(e, t, n, r) {
                var i, s, o, u = h.camelCase(t);
                return t = h.cssProps[u] || (h.cssProps[u] = Vt(e.style, u)),
                    o = h.cssHooks[t] || h.cssHooks[u],
                o && "get"in o && (s = o.get(e, !0, n)),
                s === undefined && (s = Ht(e, t, r)),
                s === "normal" && t in Wt && (s = Wt[t]),
                    n === "" || n ? (i = parseFloat(s),
                        n === !0 || h.isNumeric(i) ? i || 0 : s) : s
            }
        }),
            h.each(["height", "width"], function(e, t) {
                h.cssHooks[t] = {
                    get: function(e, n, r) {
                        if (n)
                            return qt.test(h.css(e, "display")) && e.offsetWidth === 0 ? h.swap(e, zt, function() {
                                return Qt(e, t, r)
                            }) : Qt(e, t, r)
                    },
                    set: function(e, n, r) {
                        var i = r && Pt(e);
                        return Jt(e, n, r ? Kt(e, t, r, l.boxSizing && h.css(e, "boxSizing", !1, i) === "border-box", i) : 0)
                    }
                }
            }),
        l.opacity || (h.cssHooks.opacity = {
            get: function(e, t) {
                return It.test((t && e.currentStyle ? e.currentStyle.filter : e.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "" : t ? "1" : ""
            },
            set: function(e, t) {
                var n = e.style
                    , r = e.currentStyle
                    , i = h.isNumeric(t) ? "alpha(opacity=" + t * 100 + ")" : ""
                    , s = r && r.filter || n.filter || "";
                n.zoom = 1;
                if ((t >= 1 || t === "") && h.trim(s.replace(Ft, "")) === "" && n.removeAttribute) {
                    n.removeAttribute("filter");
                    if (t === "" || r && !r.filter)
                        return
                }
                n.filter = Ft.test(s) ? s.replace(Ft, i) : s + " " + i
            }
        }),
            h.cssHooks.marginRight = jt(l.reliableMarginRight, function(e, t) {
                if (t)
                    return h.swap(e, {
                        display: "inline-block"
                    }, Ht, [e, "marginRight"])
            }),
            h.each({
                margin: "",
                padding: "",
                border: "Width"
            }, function(e, t) {
                h.cssHooks[e + t] = {
                    expand: function(n) {
                        var r = 0
                            , i = {}
                            , s = typeof n == "string" ? n.split(" ") : [n];
                        for (; r < 4; r++)
                            i[e + X[r] + t] = s[r] || s[r - 2] || s[0];
                        return i
                    }
                },
                _t.test(e) || (h.cssHooks[e + t].set = Jt)
            }),
            h.fn.extend({
                css: function(e, t) {
                    return $(this, function(e, t, n) {
                        var r, i, s = {}, o = 0;
                        if (h.isArray(t)) {
                            r = Pt(e),
                                i = t.length;
                            for (; o < i; o++)
                                s[t[o]] = h.css(e, t[o], !1, r);
                            return s
                        }
                        return n !== undefined ? h.style(e, t, n) : h.css(e, t)
                    }, e, t, arguments.length > 1)
                },
                show: function() {
                    return $t(this, !0)
                },
                hide: function() {
                    return $t(this)
                },
                toggle: function(e) {
                    return typeof e == "boolean" ? e ? this.show() : this.hide() : this.each(function() {
                        V(this) ? h(this).show() : h(this).hide()
                    })
                }
            }),
            h.Tween = Gt,
            Gt.prototype = {
                constructor: Gt,
                init: function(e, t, n, r, i, s) {
                    this.elem = e,
                        this.prop = n,
                        this.easing = i || "swing",
                        this.options = t,
                        this.start = this.now = this.cur(),
                        this.end = r,
                        this.unit = s || (h.cssNumber[n] ? "" : "px")
                },
                cur: function() {
                    var e = Gt.propHooks[this.prop];
                    return e && e.get ? e.get(this) : Gt.propHooks._default.get(this)
                },
                run: function(e) {
                    var t, n = Gt.propHooks[this.prop];
                    return this.options.duration ? this.pos = t = h.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : this.pos = t = e,
                        this.now = (this.end - this.start) * t + this.start,
                    this.options.step && this.options.step.call(this.elem, this.now, this),
                        n && n.set ? n.set(this) : Gt.propHooks._default.set(this),
                        this
                }
            },
            Gt.prototype.init.prototype = Gt.prototype,
            Gt.propHooks = {
                _default: {
                    get: function(e) {
                        var t;
                        return e.elem[e.prop] == null || !!e.elem.style && e.elem.style[e.prop] != null ? (t = h.css(e.elem, e.prop, ""),
                            !t || t === "auto" ? 0 : t) : e.elem[e.prop]
                    },
                    set: function(e) {
                        h.fx.step[e.prop] ? h.fx.step[e.prop](e) : e.elem.style && (e.elem.style[h.cssProps[e.prop]] != null || h.cssHooks[e.prop]) ? h.style(e.elem, e.prop, e.now + e.unit) : e.elem[e.prop] = e.now
                    }
                }
            },
            Gt.propHooks.scrollTop = Gt.propHooks.scrollLeft = {
                set: function(e) {
                    e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now)
                }
            },
            h.easing = {
                linear: function(e) {
                    return e
                },
                swing: function(e) {
                    return .5 - Math.cos(e * Math.PI) / 2
                }
            },
            h.fx = Gt.prototype.init,
            h.fx.step = {};
        var Yt, Zt, en = /^(?:toggle|show|hide)$/, tn = new RegExp("^(?:([+-])=|)(" + W + ")([a-z%]*)$","i"), nn = /queueHooks$/, rn = [fn], sn = {
            "*": [function(e, t) {
                var n = this.createTween(e, t)
                    , r = n.cur()
                    , i = tn.exec(t)
                    , s = i && i[3] || (h.cssNumber[e] ? "" : "px")
                    , o = (h.cssNumber[e] || s !== "px" && +r) && tn.exec(h.css(n.elem, e))
                    , u = 1
                    , a = 20;
                if (o && o[3] !== s) {
                    s = s || o[3],
                        i = i || [],
                        o = +r || 1;
                    do
                        u = u || ".5",
                            o /= u,
                            h.style(n.elem, e, o + s);
                    while (u !== (u = n.cur() / r) && u !== 1 && --a)
                }
                return i && (o = n.start = +o || +r || 0,
                    n.unit = s,
                    n.end = i[1] ? o + (i[1] + 1) * i[2] : +i[2]),
                    n
            }
            ]
        };
        h.Animation = h.extend(cn, {
            tweener: function(e, t) {
                h.isFunction(e) ? (t = e,
                    e = ["*"]) : e = e.split(" ");
                var n, r = 0, i = e.length;
                for (; r < i; r++)
                    n = e[r],
                        sn[n] = sn[n] || [],
                        sn[n].unshift(t)
            },
            prefilter: function(e, t) {
                t ? rn.unshift(e) : rn.push(e)
            }
        }),
            h.speed = function(e, t, n) {
                var r = e && typeof e == "object" ? h.extend({}, e) : {
                    complete: n || !n && t || h.isFunction(e) && e,
                    duration: e,
                    easing: n && t || t && !h.isFunction(t) && t
                };
                r.duration = h.fx.off ? 0 : typeof r.duration == "number" ? r.duration : r.duration in h.fx.speeds ? h.fx.speeds[r.duration] : h.fx.speeds._default;
                if (r.queue == null || r.queue === !0)
                    r.queue = "fx";
                return r.old = r.complete,
                    r.complete = function() {
                        h.isFunction(r.old) && r.old.call(this),
                        r.queue && h.dequeue(this, r.queue)
                    }
                    ,
                    r
            }
            ,
            h.fn.extend({
                fadeTo: function(e, t, n, r) {
                    return this.filter(V).css("opacity", 0).show().end().animate({
                        opacity: t
                    }, e, n, r)
                },
                animate: function(e, t, n, r) {
                    var i = h.isEmptyObject(e)
                        , s = h.speed(t, n, r)
                        , o = function() {
                            var t = cn(this, h.extend({}, e), s);
                            (i || h._data(this, "finish")) && t.stop(!0)
                        }
                        ;
                    return o.finish = o,
                        i || s.queue === !1 ? this.each(o) : this.queue(s.queue, o)
                },
                stop: function(e, t, n) {
                    var r = function(e) {
                            var t = e.stop;
                            delete e.stop,
                                t(n)
                        }
                        ;
                    return typeof e != "string" && (n = t,
                        t = e,
                        e = undefined),
                    t && e !== !1 && this.queue(e || "fx", []),
                        this.each(function() {
                            var t = !0
                                , i = e != null && e + "queueHooks"
                                , s = h.timers
                                , o = h._data(this);
                            if (i)
                                o[i] && o[i].stop && r(o[i]);
                            else
                                for (i in o)
                                    o[i] && o[i].stop && nn.test(i) && r(o[i]);
                            for (i = s.length; i--; )
                                s[i].elem === this && (e == null || s[i].queue === e) && (s[i].anim.stop(n),
                                    t = !1,
                                    s.splice(i, 1));
                            (t || !n) && h.dequeue(this, e)
                        })
                },
                finish: function(e) {
                    return e !== !1 && (e = e || "fx"),
                        this.each(function() {
                            var t, n = h._data(this), r = n[e + "queue"], i = n[e + "queueHooks"], s = h.timers, o = r ? r.length : 0;
                            n.finish = !0,
                                h.queue(this, e, []),
                            i && i.stop && i.stop.call(this, !0);
                            for (t = s.length; t--; )
                                s[t].elem === this && s[t].queue === e && (s[t].anim.stop(!0),
                                    s.splice(t, 1));
                            for (t = 0; t < o; t++)
                                r[t] && r[t].finish && r[t].finish.call(this);
                            delete n.finish
                        })
                }
            }),
            h.each(["toggle", "show", "hide"], function(e, t) {
                var n = h.fn[t];
                h.fn[t] = function(e, r, i) {
                    return e == null || typeof e == "boolean" ? n.apply(this, arguments) : this.animate(un(t, !0), e, r, i)
                }
            }),
            h.each({
                slideDown: un("show"),
                slideUp: un("hide"),
                slideToggle: un("toggle"),
                fadeIn: {
                    opacity: "show"
                },
                fadeOut: {
                    opacity: "hide"
                },
                fadeToggle: {
                    opacity: "toggle"
                }
            }, function(e, t) {
                h.fn[e] = function(e, n, r) {
                    return this.animate(t, e, n, r)
                }
            }),
            h.timers = [],
            h.fx.tick = function() {
                var e, t = h.timers, n = 0;
                Yt = h.now();
                for (; n < t.length; n++)
                    e = t[n],
                    !e() && t[n] === e && t.splice(n--, 1);
                t.length || h.fx.stop(),
                    Yt = undefined
            }
            ,
            h.fx.timer = function(e) {
                h.timers.push(e),
                    e() ? h.fx.start() : h.timers.pop()
            }
            ,
            h.fx.interval = 13,
            h.fx.start = function() {
                Zt || (Zt = setInterval(h.fx.tick, h.fx.interval))
            }
            ,
            h.fx.stop = function() {
                clearInterval(Zt),
                    Zt = null
            }
            ,
            h.fx.speeds = {
                slow: 600,
                fast: 200,
                _default: 400
            },
            h.fn.delay = function(e, t) {
                return e = h.fx ? h.fx.speeds[e] || e : e,
                    t = t || "fx",
                    this.queue(t, function(t, n) {
                        var r = setTimeout(t, e);
                        n.stop = function() {
                            clearTimeout(r)
                        }
                    })
            }
            ,
            function() {
                var e, t, n, r, i;
                t = T.createElement("div"),
                    t.setAttribute("className", "t"),
                    t.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
                    r = t.getElementsByTagName("a")[0],
                    n = T.createElement("select"),
                    i = n.appendChild(T.createElement("option")),
                    e = t.getElementsByTagName("input")[0],
                    r.style.cssText = "top:1px",
                    l.getSetAttribute = t.className !== "t",
                    l.style = /top/.test(r.getAttribute("style")),
                    l.hrefNormalized = r.getAttribute("href") === "/a",
                    l.checkOn = !!e.value,
                    l.optSelected = i.selected,
                    l.enctype = !!T.createElement("form").enctype,
                    n.disabled = !0,
                    l.optDisabled = !i.disabled,
                    e = T.createElement("input"),
                    e.setAttribute("value", ""),
                    l.input = e.getAttribute("value") === "",
                    e.value = "t",
                    e.setAttribute("type", "radio"),
                    l.radioValue = e.value === "t"
            }();
        var hn = /\r/g;
        h.fn.extend({
            val: function(e) {
                var t, n, r, i = this[0];
                if (!arguments.length) {
                    if (i)
                        return t = h.valHooks[i.type] || h.valHooks[i.nodeName.toLowerCase()],
                            t && "get"in t && (n = t.get(i, "value")) !== undefined ? n : (n = i.value,
                                typeof n == "string" ? n.replace(hn, "") : n == null ? "" : n);
                    return
                }
                return r = h.isFunction(e),
                    this.each(function(n) {
                        var i;
                        if (this.nodeType !== 1)
                            return;
                        r ? i = e.call(this, n, h(this).val()) : i = e,
                            i == null ? i = "" : typeof i == "number" ? i += "" : h.isArray(i) && (i = h.map(i, function(e) {
                                return e == null ? "" : e + ""
                            })),
                            t = h.valHooks[this.type] || h.valHooks[this.nodeName.toLowerCase()];
                        if (!t || !("set"in t) || t.set(this, i, "value") === undefined)
                            this.value = i
                    })
            }
        }),
            h.extend({
                valHooks: {
                    option: {
                        get: function(e) {
                            var t = h.find.attr(e, "value");
                            return t != null ? t : h.trim(h.text(e))
                        }
                    },
                    select: {
                        get: function(e) {
                            var t, n, r = e.options, i = e.selectedIndex, s = e.type === "select-one" || i < 0, o = s ? null : [], u = s ? i + 1 : r.length, a = i < 0 ? u : s ? i : 0;
                            for (; a < u; a++) {
                                n = r[a];
                                if ((n.selected || a === i) && (l.optDisabled ? !n.disabled : n.getAttribute("disabled") === null ) && (!n.parentNode.disabled || !h.nodeName(n.parentNode, "optgroup"))) {
                                    t = h(n).val();
                                    if (s)
                                        return t;
                                    o.push(t)
                                }
                            }
                            return o
                        },
                        set: function(e, t) {
                            var n, r, i = e.options, s = h.makeArray(t), o = i.length;
                            while (o--) {
                                r = i[o];
                                if (h.inArray(h.valHooks.option.get(r), s) >= 0)
                                    try {
                                        r.selected = n = !0
                                    } catch (u) {
                                        r.scrollHeight
                                    }
                                else
                                    r.selected = !1
                            }
                            return n || (e.selectedIndex = -1),
                                i
                        }
                    }
                }
            }),
            h.each(["radio", "checkbox"], function() {
                h.valHooks[this] = {
                    set: function(e, t) {
                        if (h.isArray(t))
                            return e.checked = h.inArray(h(e).val(), t) >= 0
                    }
                },
                l.checkOn || (h.valHooks[this].get = function(e) {
                    return e.getAttribute("value") === null ? "on" : e.value
                }
                )
            });
        var pn, dn, vn = h.expr.attrHandle, mn = /^(?:checked|selected)$/i, gn = l.getSetAttribute, yn = l.input;
        h.fn.extend({
            attr: function(e, t) {
                return $(this, h.attr, e, t, arguments.length > 1)
            },
            removeAttr: function(e) {
                return this.each(function() {
                    h.removeAttr(this, e)
                })
            }
        }),
            h.extend({
                attr: function(e, t, n) {
                    var r, i, s = e.nodeType;
                    if (!e || s === 3 || s === 8 || s === 2)
                        return;
                    if (typeof e.getAttribute === B)
                        return h.prop(e, t, n);
                    if (s !== 1 || !h.isXMLDoc(e))
                        t = t.toLowerCase(),
                            r = h.attrHooks[t] || (h.expr.match.bool.test(t) ? dn : pn);
                    if (n === undefined)
                        return r && "get"in r && (i = r.get(e, t)) !== null ? i : (i = h.find.attr(e, t),
                            i == null ? undefined : i);
                    if (n !== null )
                        return r && "set"in r && (i = r.set(e, n, t)) !== undefined ? i : (e.setAttribute(t, n + ""),
                            n);
                    h.removeAttr(e, t)
                },
                removeAttr: function(e, t) {
                    var n, r, i = 0, s = t && t.match(O);
                    if (s && e.nodeType === 1)
                        while (n = s[i++])
                            r = h.propFix[n] || n,
                                h.expr.match.bool.test(n) ? yn && gn || !mn.test(n) ? e[r] = !1 : e[h.camelCase("default-" + n)] = e[r] = !1 : h.attr(e, n, ""),
                                e.removeAttribute(gn ? n : r)
                },
                attrHooks: {
                    type: {
                        set: function(e, t) {
                            if (!l.radioValue && t === "radio" && h.nodeName(e, "input")) {
                                var n = e.value;
                                return e.setAttribute("type", t),
                                n && (e.value = n),
                                    t
                            }
                        }
                    }
                }
            }),
            dn = {
                set: function(e, t, n) {
                    return t === !1 ? h.removeAttr(e, n) : yn && gn || !mn.test(n) ? e.setAttribute(!gn && h.propFix[n] || n, n) : e[h.camelCase("default-" + n)] = e[n] = !0,
                        n
                }
            },
            h.each(h.expr.match.bool.source.match(/\w+/g), function(e, t) {
                var n = vn[t] || h.find.attr;
                vn[t] = yn && gn || !mn.test(t) ? function(e, t, r) {
                    var i, s;
                    return r || (s = vn[t],
                        vn[t] = i,
                        i = n(e, t, r) != null ? t.toLowerCase() : null ,
                        vn[t] = s),
                        i
                }
                    : function(e, t, n) {
                    if (!n)
                        return e[h.camelCase("default-" + t)] ? t.toLowerCase() : null
                }
            });
        if (!yn || !gn)
            h.attrHooks.value = {
                set: function(e, t, n) {
                    if (!h.nodeName(e, "input"))
                        return pn && pn.set(e, t, n);
                    e.defaultValue = t
                }
            };
        gn || (pn = {
            set: function(e, t, n) {
                var r = e.getAttributeNode(n);
                r || e.setAttributeNode(r = e.ownerDocument.createAttribute(n)),
                    r.value = t += "";
                if (n === "value" || t === e.getAttribute(n))
                    return t
            }
        },
            vn.id = vn.name = vn.coords = function(e, t, n) {
                var r;
                if (!n)
                    return (r = e.getAttributeNode(t)) && r.value !== "" ? r.value : null
            }
            ,
            h.valHooks.button = {
                get: function(e, t) {
                    var n = e.getAttributeNode(t);
                    if (n && n.specified)
                        return n.value
                },
                set: pn.set
            },
            h.attrHooks.contenteditable = {
                set: function(e, t, n) {
                    pn.set(e, t === "" ? !1 : t, n)
                }
            },
            h.each(["width", "height"], function(e, t) {
                h.attrHooks[t] = {
                    set: function(e, n) {
                        if (n === "")
                            return e.setAttribute(t, "auto"),
                                n
                    }
                }
            })),
        l.style || (h.attrHooks.style = {
            get: function(e) {
                return e.style.cssText || undefined
            },
            set: function(e, t) {
                return e.style.cssText = t + ""
            }
        });
        var bn = /^(?:input|select|textarea|button|object)$/i
            , wn = /^(?:a|area)$/i;
        h.fn.extend({
            prop: function(e, t) {
                return $(this, h.prop, e, t, arguments.length > 1)
            },
            removeProp: function(e) {
                return e = h.propFix[e] || e,
                    this.each(function() {
                        try {
                            this[e] = undefined,
                                delete this[e]
                        } catch (t) {}
                    })
            }
        }),
            h.extend({
                propFix: {
                    "for": "htmlFor",
                    "class": "className"
                },
                prop: function(e, t, n) {
                    var r, i, s, o = e.nodeType;
                    if (!e || o === 3 || o === 8 || o === 2)
                        return;
                    return s = o !== 1 || !h.isXMLDoc(e),
                    s && (t = h.propFix[t] || t,
                        i = h.propHooks[t]),
                        n !== undefined ? i && "set"in i && (r = i.set(e, n, t)) !== undefined ? r : e[t] = n : i && "get"in i && (r = i.get(e, t)) !== null ? r : e[t]
                },
                propHooks: {
                    tabIndex: {
                        get: function(e) {
                            var t = h.find.attr(e, "tabindex");
                            return t ? parseInt(t, 10) : bn.test(e.nodeName) || wn.test(e.nodeName) && e.href ? 0 : -1
                        }
                    }
                }
            }),
        l.hrefNormalized || h.each(["href", "src"], function(e, t) {
            h.propHooks[t] = {
                get: function(e) {
                    return e.getAttribute(t, 4)
                }
            }
        }),
        l.optSelected || (h.propHooks.selected = {
            get: function(e) {
                var t = e.parentNode;
                return t && (t.selectedIndex,
                t.parentNode && t.parentNode.selectedIndex),
                    null
            }
        }),
            h.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
                h.propFix[this.toLowerCase()] = this
            }),
        l.enctype || (h.propFix.enctype = "encoding");
        var En = /[\t\r\n\f]/g;
        h.fn.extend({
            addClass: function(e) {
                var t, n, r, i, s, o, u = 0, a = this.length, f = typeof e == "string" && e;
                if (h.isFunction(e))
                    return this.each(function(t) {
                        h(this).addClass(e.call(this, t, this.className))
                    });
                if (f) {
                    t = (e || "").match(O) || [];
                    for (; u < a; u++) {
                        n = this[u],
                            r = n.nodeType === 1 && (n.className ? (" " + n.className + " ").replace(En, " ") : " ");
                        if (r) {
                            s = 0;
                            while (i = t[s++])
                                r.indexOf(" " + i + " ") < 0 && (r += i + " ");
                            o = h.trim(r),
                            n.className !== o && (n.className = o)
                        }
                    }
                }
                return this
            },
            removeClass: function(e) {
                var t, n, r, i, s, o, u = 0, a = this.length, f = arguments.length === 0 || typeof e == "string" && e;
                if (h.isFunction(e))
                    return this.each(function(t) {
                        h(this).removeClass(e.call(this, t, this.className))
                    });
                if (f) {
                    t = (e || "").match(O) || [];
                    for (; u < a; u++) {
                        n = this[u],
                            r = n.nodeType === 1 && (n.className ? (" " + n.className + " ").replace(En, " ") : "");
                        if (r) {
                            s = 0;
                            while (i = t[s++])
                                while (r.indexOf(" " + i + " ") >= 0)
                                    r = r.replace(" " + i + " ", " ");
                            o = e ? h.trim(r) : "",
                            n.className !== o && (n.className = o)
                        }
                    }
                }
                return this
            },
            toggleClass: function(e, t) {
                var n = typeof e;
                return typeof t == "boolean" && n === "string" ? t ? this.addClass(e) : this.removeClass(e) : h.isFunction(e) ? this.each(function(n) {
                    h(this).toggleClass(e.call(this, n, this.className, t), t)
                }) : this.each(function() {
                    if (n === "string") {
                        var t, r = 0, i = h(this), s = e.match(O) || [];
                        while (t = s[r++])
                            i.hasClass(t) ? i.removeClass(t) : i.addClass(t)
                    } else if (n === B || n === "boolean")
                        this.className && h._data(this, "__className__", this.className),
                            this.className = this.className || e === !1 ? "" : h._data(this, "__className__") || ""
                })
            },
            hasClass: function(e) {
                var t = " " + e + " "
                    , n = 0
                    , r = this.length;
                for (; n < r; n++)
                    if (this[n].nodeType === 1 && (" " + this[n].className + " ").replace(En, " ").indexOf(t) >= 0)
                        return !0;
                return !1
            }
        }),
            h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(e, t) {
                h.fn[t] = function(e, n) {
                    return arguments.length > 0 ? this.on(t, null , e, n) : this.trigger(t)
                }
            }),
            h.fn.extend({
                hover: function(e, t) {
                    return this.mouseenter(e).mouseleave(t || e)
                },
                bind: function(e, t, n) {
                    return this.on(e, null , t, n)
                },
                unbind: function(e, t) {
                    return this.off(e, null , t)
                },
                delegate: function(e, t, n, r) {
                    return this.on(t, e, n, r)
                },
                undelegate: function(e, t, n) {
                    return arguments.length === 1 ? this.off(e, "**") : this.off(t, e || "**", n)
                }
            });
        var Sn = h.now()
            , xn = /\?/
            , Tn = /(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
        h.parseJSON = function(t) {
            if (e.JSON && e.JSON.parse)
                return e.JSON.parse(t + "");
            var n, r = null , i = h.trim(t + "");
            return i && !h.trim(i.replace(Tn, function(e, t, i, s) {
                return n && t && (r = 0),
                    r === 0 ? e : (n = i || t,
                        r += !s - !i,
                        "")
            })) ? Function("return " + i)() : h.error("Invalid JSON: " + t)
        }
            ,
            h.parseXML = function(t) {
                var n, r;
                if (!t || typeof t != "string")
                    return null ;
                try {
                    e.DOMParser ? (r = new DOMParser,
                        n = r.parseFromString(t, "text/xml")) : (n = new ActiveXObject("Microsoft.XMLDOM"),
                        n.async = "false",
                        n.loadXML(t))
                } catch (i) {
                    n = undefined
                }
                return (!n || !n.documentElement || n.getElementsByTagName("parsererror").length) && h.error("Invalid XML: " + t),
                    n
            }
        ;
        var Nn, Cn, kn = /#.*$/, Ln = /([?&])_=[^&]*/, An = /^(.*?):[ \t]*([^\r\n]*)\r?$/mg, On = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, Mn = /^(?:GET|HEAD)$/, _n = /^\/\//, Dn = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/, Pn = {}, Hn = {}, Bn = "*/".concat("*");
        try {
            Cn = location.href
        } catch (jn) {
            Cn = T.createElement("a"),
                Cn.href = "",
                Cn = Cn.href
        }
        Nn = Dn.exec(Cn.toLowerCase()) || [],
            h.extend({
                active: 0,
                lastModified: {},
                etag: {},
                ajaxSettings: {
                    url: Cn,
                    type: "GET",
                    isLocal: On.test(Nn[1]),
                    global: !0,
                    processData: !0,
                    async: !0,
                    contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                    accepts: {
                        "*": Bn,
                        text: "text/plain",
                        html: "text/html",
                        xml: "application/xml, text/xml",
                        json: "application/json, text/javascript"
                    },
                    contents: {
                        xml: /xml/,
                        html: /html/,
                        json: /json/
                    },
                    responseFields: {
                        xml: "responseXML",
                        text: "responseText",
                        json: "responseJSON"
                    },
                    converters: {
                        "* text": String,
                        "text html": !0,
                        "text json": h.parseJSON,
                        "text xml": h.parseXML
                    },
                    flatOptions: {
                        url: !0,
                        context: !0
                    }
                },
                ajaxSetup: function(e, t) {
                    return t ? qn(qn(e, h.ajaxSettings), t) : qn(h.ajaxSettings, e)
                },
                ajaxPrefilter: Fn(Pn),
                ajaxTransport: Fn(Hn),
                ajax: function(e, t) {
                    function x(e, t, n, r) {
                        var f, g, y, w, S, x = t;
                        if (b === 2)
                            return;
                        b = 2,
                        o && clearTimeout(o),
                            a = undefined,
                            s = r || "",
                            E.readyState = e > 0 ? 4 : 0,
                            f = e >= 200 && e < 300 || e === 304,
                        n && (w = Rn(l, E, n)),
                            w = Un(l, w, E, f);
                        if (f)
                            l.ifModified && (S = E.getResponseHeader("Last-Modified"),
                            S && (h.lastModified[i] = S),
                                S = E.getResponseHeader("etag"),
                            S && (h.etag[i] = S)),
                                e === 204 || l.type === "HEAD" ? x = "nocontent" : e === 304 ? x = "notmodified" : (x = w.state,
                                    g = w.data,
                                    y = w.error,
                                    f = !y);
                        else {
                            y = x;
                            if (e || !x)
                                x = "error",
                                e < 0 && (e = 0)
                        }
                        E.status = e,
                            E.statusText = (t || x) + "",
                            f ? d.resolveWith(c, [g, x, E]) : d.rejectWith(c, [E, x, y]),
                            E.statusCode(m),
                            m = undefined,
                        u && p.trigger(f ? "ajaxSuccess" : "ajaxError", [E, l, f ? g : y]),
                            v.fireWith(c, [E, x]),
                        u && (p.trigger("ajaxComplete", [E, l]),
                        --h.active || h.event.trigger("ajaxStop"))
                    }
                    typeof e == "object" && (t = e,
                        e = undefined),
                        t = t || {};
                    var n, r, i, s, o, u, a, f, l = h.ajaxSetup({}, t), c = l.context || l, p = l.context && (c.nodeType || c.jquery) ? h(c) : h.event, d = h.Deferred(), v = h.Callbacks("once memory"), m = l.statusCode || {}, g = {}, y = {}, b = 0, w = "canceled", E = {
                        readyState: 0,
                        getResponseHeader: function(e) {
                            var t;
                            if (b === 2) {
                                if (!f) {
                                    f = {};
                                    while (t = An.exec(s))
                                        f[t[1].toLowerCase()] = t[2]
                                }
                                t = f[e.toLowerCase()]
                            }
                            return t == null ? null : t
                        },
                        getAllResponseHeaders: function() {
                            return b === 2 ? s : null
                        },
                        setRequestHeader: function(e, t) {
                            var n = e.toLowerCase();
                            return b || (e = y[n] = y[n] || e,
                                g[e] = t),
                                this
                        },
                        overrideMimeType: function(e) {
                            return b || (l.mimeType = e),
                                this
                        },
                        statusCode: function(e) {
                            var t;
                            if (e)
                                if (b < 2)
                                    for (t in e)
                                        m[t] = [m[t], e[t]];
                                else
                                    E.always(e[E.status]);
                            return this
                        },
                        abort: function(e) {
                            var t = e || w;
                            return a && a.abort(t),
                                x(0, t),
                                this
                        }
                    };
                    d.promise(E).complete = v.add,
                        E.success = E.done,
                        E.error = E.fail,
                        l.url = ((e || l.url || Cn) + "").replace(kn, "").replace(_n, Nn[1] + "//"),
                        l.type = t.method || t.type || l.method || l.type,
                        l.dataTypes = h.trim(l.dataType || "*").toLowerCase().match(O) || [""],
                    l.crossDomain == null && (n = Dn.exec(l.url.toLowerCase()),
                        l.crossDomain = !(!n || n[1] === Nn[1] && n[2] === Nn[2] && (n[3] || (n[1] === "http:" ? "80" : "443")) === (Nn[3] || (Nn[1] === "http:" ? "80" : "443")))),
                    l.data && l.processData && typeof l.data != "string" && (l.data = h.param(l.data, l.traditional)),
                        In(Pn, l, t, E);
                    if (b === 2)
                        return E;
                    u = l.global,
                    u && h.active++ === 0 && h.event.trigger("ajaxStart"),
                        l.type = l.type.toUpperCase(),
                        l.hasContent = !Mn.test(l.type),
                        i = l.url,
                    l.hasContent || (l.data && (i = l.url += (xn.test(i) ? "&" : "?") + l.data,
                        delete l.data),
                    l.cache === !1 && (l.url = Ln.test(i) ? i.replace(Ln, "$1_=" + Sn++) : i + (xn.test(i) ? "&" : "?") + "_=" + Sn++)),
                    l.ifModified && (h.lastModified[i] && E.setRequestHeader("If-Modified-Since", h.lastModified[i]),
                    h.etag[i] && E.setRequestHeader("If-None-Match", h.etag[i])),
                    (l.data && l.hasContent && l.contentType !== !1 || t.contentType) && E.setRequestHeader("Content-Type", l.contentType),
                        E.setRequestHeader("Accept", l.dataTypes[0] && l.accepts[l.dataTypes[0]] ? l.accepts[l.dataTypes[0]] + (l.dataTypes[0] !== "*" ? ", " + Bn + "; q=0.01" : "") : l.accepts["*"]);
                    for (r in l.headers)
                        E.setRequestHeader(r, l.headers[r]);
                    if (!l.beforeSend || l.beforeSend.call(c, E, l) !== !1 && b !== 2) {
                        w = "abort";
                        for (r in {
                            success: 1,
                            error: 1,
                            complete: 1
                        })
                            E[r](l[r]);
                        a = In(Hn, l, t, E);
                        if (!a)
                            x(-1, "No Transport");
                        else {
                            E.readyState = 1,
                            u && p.trigger("ajaxSend", [E, l]),
                            l.async && l.timeout > 0 && (o = setTimeout(function() {
                                E.abort("timeout")
                            }, l.timeout));
                            try {
                                b = 1,
                                    a.send(g, x)
                            } catch (S) {
                                if (!(b < 2))
                                    throw S;
                                x(-1, S)
                            }
                        }
                        return E
                    }
                    return E.abort()
                },
                getJSON: function(e, t, n) {
                    return h.get(e, t, n, "json")
                },
                getScript: function(e, t) {
                    return h.get(e, undefined, t, "script")
                }
            }),
            h.each(["get", "post"], function(e, t) {
                h[t] = function(e, n, r, i) {
                    return h.isFunction(n) && (i = i || r,
                        r = n,
                        n = undefined),
                        h.ajax({
                            url: e,
                            type: t,
                            dataType: i,
                            data: n,
                            success: r
                        })
                }
            }),
            h.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(e, t) {
                h.fn[t] = function(e) {
                    return this.on(t, e)
                }
            }),
            h._evalUrl = function(e) {
                return h.ajax({
                    url: e,
                    type: "GET",
                    dataType: "script",
                    async: !1,
                    global: !1,
                    "throws": !0
                })
            }
            ,
            h.fn.extend({
                wrapAll: function(e) {
                    if (h.isFunction(e))
                        return this.each(function(t) {
                            h(this).wrapAll(e.call(this, t))
                        });
                    if (this[0]) {
                        var t = h(e, this[0].ownerDocument).eq(0).clone(!0);
                        this[0].parentNode && t.insertBefore(this[0]),
                            t.map(function() {
                                var e = this;
                                while (e.firstChild && e.firstChild.nodeType === 1)
                                    e = e.firstChild;
                                return e
                            }).append(this)
                    }
                    return this
                },
                wrapInner: function(e) {
                    return h.isFunction(e) ? this.each(function(t) {
                        h(this).wrapInner(e.call(this, t))
                    }) : this.each(function() {
                        var t = h(this)
                            , n = t.contents();
                        n.length ? n.wrapAll(e) : t.append(e)
                    })
                },
                wrap: function(e) {
                    var t = h.isFunction(e);
                    return this.each(function(n) {
                        h(this).wrapAll(t ? e.call(this, n) : e)
                    })
                },
                unwrap: function() {
                    return this.parent().each(function() {
                        h.nodeName(this, "body") || h(this).replaceWith(this.childNodes)
                    }).end()
                }
            }),
            h.expr.filters.hidden = function(e) {
                return e.offsetWidth <= 0 && e.offsetHeight <= 0 || !l.reliableHiddenOffsets() && (e.style && e.style.display || h.css(e, "display")) === "none"
            }
            ,
            h.expr.filters.visible = function(e) {
                return !h.expr.filters.hidden(e)
            }
        ;
        var zn = /%20/g
            , Wn = /\[\]$/
            , Xn = /\r?\n/g
            , Vn = /^(?:submit|button|image|reset|file)$/i
            , $n = /^(?:input|select|textarea|keygen)/i;
        h.param = function(e, t) {
            var n, r = [], i = function(e, t) {
                    t = h.isFunction(t) ? t() : t == null ? "" : t,
                        r[r.length] = encodeURIComponent(e) + "=" + encodeURIComponent(t)
                }
                ;
            t === undefined && (t = h.ajaxSettings && h.ajaxSettings.traditional);
            if (h.isArray(e) || e.jquery && !h.isPlainObject(e))
                h.each(e, function() {
                    i(this.name, this.value)
                });
            else
                for (n in e)
                    Jn(n, e[n], t, i);
            return r.join("&").replace(zn, "+")
        }
            ,
            h.fn.extend({
                serialize: function() {
                    return h.param(this.serializeArray())
                },
                serializeArray: function() {
                    return this.map(function() {
                        var e = h.prop(this, "elements");
                        return e ? h.makeArray(e) : this
                    }).filter(function() {
                        var e = this.type;
                        return this.name && !h(this).is(":disabled") && $n.test(this.nodeName) && !Vn.test(e) && (this.checked || !J.test(e))
                    }).map(function(e, t) {
                        var n = h(this).val();
                        return n == null ? null : h.isArray(n) ? h.map(n, function(e) {
                            return {
                                name: t.name,
                                value: e.replace(Xn, "\r\n")
                            }
                        }) : {
                            name: t.name,
                            value: n.replace(Xn, "\r\n")
                        }
                    }).get()
                }
            }),
            h.ajaxSettings.xhr = e.ActiveXObject !== undefined ? function() {
                return !this.isLocal && /^(get|post|head|put|delete|options)$/i.test(this.type) && Yn() || Zn()
            }
                : Yn;
        var Kn = 0
            , Qn = {}
            , Gn = h.ajaxSettings.xhr();
        e.ActiveXObject && h(e).on("unload", function() {
            for (var e in Qn)
                Qn[e](undefined, !0)
        }),
            l.cors = !!Gn && "withCredentials"in Gn,
            Gn = l.ajax = !!Gn,
        Gn && h.ajaxTransport(function(e) {
            if (!e.crossDomain || l.cors) {
                var t;
                return {
                    send: function(n, r) {
                        var i, s = e.xhr(), o = ++Kn;
                        s.open(e.type, e.url, e.async, e.username, e.password);
                        if (e.xhrFields)
                            for (i in e.xhrFields)
                                s[i] = e.xhrFields[i];
                        e.mimeType && s.overrideMimeType && s.overrideMimeType(e.mimeType),
                        !e.crossDomain && !n["X-Requested-With"] && (n["X-Requested-With"] = "XMLHttpRequest");
                        for (i in n)
                            n[i] !== undefined && s.setRequestHeader(i, n[i] + "");
                        s.send(e.hasContent && e.data || null ),
                            t = function(n, i) {
                                var u, a, f;
                                if (t && (i || s.readyState === 4)) {
                                    delete Qn[o],
                                        t = undefined,
                                        s.onreadystatechange = h.noop;
                                    if (i)
                                        s.readyState !== 4 && s.abort();
                                    else {
                                        f = {},
                                            u = s.status,
                                        typeof s.responseText == "string" && (f.text = s.responseText);
                                        try {
                                            a = s.statusText
                                        } catch (l) {
                                            a = ""
                                        }
                                        !u && e.isLocal && !e.crossDomain ? u = f.text ? 200 : 404 : u === 1223 && (u = 204)
                                    }
                                }
                                f && r(u, a, f, s.getAllResponseHeaders())
                            }
                            ,
                            e.async ? s.readyState === 4 ? setTimeout(t) : s.onreadystatechange = Qn[o] = t : t()
                    },
                    abort: function() {
                        t && t(undefined, !0)
                    }
                }
            }
        }),
            h.ajaxSetup({
                accepts: {
                    script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
                },
                contents: {
                    script: /(?:java|ecma)script/
                },
                converters: {
                    "text script": function(e) {
                        return h.globalEval(e),
                            e
                    }
                }
            }),
            h.ajaxPrefilter("script", function(e) {
                e.cache === undefined && (e.cache = !1),
                e.crossDomain && (e.type = "GET",
                    e.global = !1)
            }),
            h.ajaxTransport("script", function(e) {
                if (e.crossDomain) {
                    var t, n = T.head || h("head")[0] || T.documentElement;
                    return {
                        send: function(r, i) {
                            t = T.createElement("script"),
                                t.async = !0,
                            e.scriptCharset && (t.charset = e.scriptCharset),
                                t.src = e.url,
                                t.onload = t.onreadystatechange = function(e, n) {
                                    if (n || !t.readyState || /loaded|complete/.test(t.readyState))
                                        t.onload = t.onreadystatechange = null ,
                                        t.parentNode && t.parentNode.removeChild(t),
                                            t = null ,
                                        n || i(200, "success")
                                }
                                ,
                                n.insertBefore(t, n.firstChild)
                        },
                        abort: function() {
                            t && t.onload(undefined, !0)
                        }
                    }
                }
            });
        var er = []
            , tr = /(=)\?(?=&|$)|\?\?/;
        h.ajaxSetup({
            jsonp: "callback",
            jsonpCallback: function() {
                var e = er.pop() || h.expando + "_" + Sn++;
                return this[e] = !0,
                    e
            }
        }),
            h.ajaxPrefilter("json jsonp", function(t, n, r) {
                var i, s, o, u = t.jsonp !== !1 && (tr.test(t.url) ? "url" : typeof t.data == "string" && !(t.contentType || "").indexOf("application/x-www-form-urlencoded") && tr.test(t.data) && "data");
                if (u || t.dataTypes[0] === "jsonp")
                    return i = t.jsonpCallback = h.isFunction(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback,
                        u ? t[u] = t[u].replace(tr, "$1" + i) : t.jsonp !== !1 && (t.url += (xn.test(t.url) ? "&" : "?") + t.jsonp + "=" + i),
                        t.converters["script json"] = function() {
                            return o || h.error(i + " was not called"),
                                o[0]
                        }
                        ,
                        t.dataTypes[0] = "json",
                        s = e[i],
                        e[i] = function() {
                            o = arguments
                        }
                        ,
                        r.always(function() {
                            e[i] = s,
                            t[i] && (t.jsonpCallback = n.jsonpCallback,
                                er.push(i)),
                            o && h.isFunction(s) && s(o[0]),
                                o = s = undefined
                        }),
                        "script"
            }),
            h.parseHTML = function(e, t, n) {
                if (!e || typeof e != "string")
                    return null ;
                typeof t == "boolean" && (n = t,
                    t = !1),
                    t = t || T;
                var r = w.exec(e)
                    , i = !n && [];
                return r ? [t.createElement(r[1])] : (r = h.buildFragment([e], t, i),
                i && i.length && h(i).remove(),
                    h.merge([], r.childNodes))
            }
        ;
        var nr = h.fn.load;
        h.fn.load = function(e, t, n) {
            if (typeof e != "string" && nr)
                return nr.apply(this, arguments);
            var r, i, s, o = this, u = e.indexOf(" ");
            return u >= 0 && (r = h.trim(e.slice(u, e.length)),
                e = e.slice(0, u)),
                h.isFunction(t) ? (n = t,
                    t = undefined) : t && typeof t == "object" && (s = "POST"),
            o.length > 0 && h.ajax({
                url: e,
                type: s,
                dataType: "html",
                data: t
            }).done(function(e) {
                i = arguments,
                    o.html(r ? h("<div>").append(h.parseHTML(e)).find(r) : e)
            }).complete(n && function(e, t) {
                    o.each(n, i || [e.responseText, t, e])
                }
            ),
                this
        }
            ,
            h.expr.filters.animated = function(e) {
                return h.grep(h.timers, function(t) {
                    return e === t.elem
                }).length
            }
        ;
        var rr = e.document.documentElement;
        h.offset = {
            setOffset: function(e, t, n) {
                var r, i, s, o, u, a, f, l = h.css(e, "position"), c = h(e), p = {};
                l === "static" && (e.style.position = "relative"),
                    u = c.offset(),
                    s = h.css(e, "top"),
                    a = h.css(e, "left"),
                    f = (l === "absolute" || l === "fixed") && h.inArray("auto", [s, a]) > -1,
                    f ? (r = c.position(),
                        o = r.top,
                        i = r.left) : (o = parseFloat(s) || 0,
                        i = parseFloat(a) || 0),
                h.isFunction(t) && (t = t.call(e, n, u)),
                t.top != null && (p.top = t.top - u.top + o),
                t.left != null && (p.left = t.left - u.left + i),
                    "using"in t ? t.using.call(e, p) : c.css(p)
            }
        },
            h.fn.extend({
                offset: function(e) {
                    if (arguments.length)
                        return e === undefined ? this : this.each(function(t) {
                            h.offset.setOffset(this, e, t)
                        });
                    var t, n, r = {
                        top: 0,
                        left: 0
                    }, i = this[0], s = i && i.ownerDocument;
                    if (!s)
                        return;
                    return t = s.documentElement,
                        h.contains(t, i) ? (typeof i.getBoundingClientRect !== B && (r = i.getBoundingClientRect()),
                            n = ir(s),
                        {
                            top: r.top + (n.pageYOffset || t.scrollTop) - (t.clientTop || 0),
                            left: r.left + (n.pageXOffset || t.scrollLeft) - (t.clientLeft || 0)
                        }) : r
                },
                position: function() {
                    if (!this[0])
                        return;
                    var e, t, n = {
                        top: 0,
                        left: 0
                    }, r = this[0];
                    return h.css(r, "position") === "fixed" ? t = r.getBoundingClientRect() : (e = this.offsetParent(),
                        t = this.offset(),
                    h.nodeName(e[0], "html") || (n = e.offset()),
                        n.top += h.css(e[0], "borderTopWidth", !0),
                        n.left += h.css(e[0], "borderLeftWidth", !0)),
                    {
                        top: t.top - n.top - h.css(r, "marginTop", !0),
                        left: t.left - n.left - h.css(r, "marginLeft", !0)
                    }
                },
                offsetParent: function() {
                    return this.map(function() {
                        var e = this.offsetParent || rr;
                        while (e && !h.nodeName(e, "html") && h.css(e, "position") === "static")
                            e = e.offsetParent;
                        return e || rr
                    })
                }
            }),
            h.each({
                scrollLeft: "pageXOffset",
                scrollTop: "pageYOffset"
            }, function(e, t) {
                var n = /Y/.test(t);
                h.fn[e] = function(r) {
                    return $(this, function(e, r, i) {
                        var s = ir(e);
                        if (i === undefined)
                            return s ? t in s ? s[t] : s.document.documentElement[r] : e[r];
                        s ? s.scrollTo(n ? h(s).scrollLeft() : i, n ? i : h(s).scrollTop()) : e[r] = i
                    }, e, r, arguments.length, null )
                }
            }),
            h.each(["top", "left"], function(e, t) {
                h.cssHooks[t] = jt(l.pixelPosition, function(e, n) {
                    if (n)
                        return n = Ht(e, t),
                            Dt.test(n) ? h(e).position()[t] + "px" : n
                })
            }),
            h.each({
                Height: "height",
                Width: "width"
            }, function(e, t) {
                h.each({
                    padding: "inner" + e,
                    content: t,
                    "": "outer" + e
                }, function(n, r) {
                    h.fn[r] = function(r, i) {
                        var s = arguments.length && (n || typeof r != "boolean")
                            , o = n || (r === !0 || i === !0 ? "margin" : "border");
                        return $(this, function(t, n, r) {
                            var i;
                            return h.isWindow(t) ? t.document.documentElement["client" + e] : t.nodeType === 9 ? (i = t.documentElement,
                                Math.max(t.body["scroll" + e], i["scroll" + e], t.body["offset" + e], i["offset" + e], i["client" + e])) : r === undefined ? h.css(t, n, o) : h.style(t, n, r, o)
                        }, t, s ? r : undefined, s, null )
                    }
                })
            }),
            h.fn.size = function() {
                return this.length
            }
            ,
            h.fn.andSelf = h.fn.addBack,
        typeof define == "function" && define.amd && define("jquery", [], function() {
            return h
        });
        var sr = e.jQuery
            , or = e.$;
        return h.noConflict = function(t) {
            return e.$ === h && (e.$ = or),
            t && e.jQuery === h && (e.jQuery = sr),
                h
        }
            ,
        typeof t === B && (e.jQuery = e.$ = h),
            h
    }),
    define("widget", ["require", "exports", "module", "base", "jquery"], function(e, t, n) {
        function h() {
            return "widget-" + c++
        }
        function p(e) {
            return l.call(e) === "[object String]"
        }
        function d(e) {
            return l.call(e) === "[object Function]"
        }
        function m(e) {
            return v(document.documentElement, e)
        }
        function g(e) {
            return e.charAt(0).toUpperCase() + e.substring(1)
        }
        function E(e) {
            return d(e.events) && (e.events = e.events()),
                e.events
        }
        function S(e, t) {
            var n = e.match(y)
                , r = n[1] + s + t.cid
                , i = n[2] || undefined;
            return i && i.indexOf("{{") > -1 && (i = x(i, t)),
            {
                type: r,
                selector: i
            }
        }
        function x(e, t) {
            return e.replace(b, function(e, n) {
                var r = n.split("."), i = t, s;
                while (s = r.shift())
                    i === t.attrs ? i = t.get(s) : i = i[s];
                return p(i) ? i : w
            })
        }
        function T(e) {
            return e == null || e === undefined
        }
        function N(e) {
            for (var t = e.length - 1; t >= 0; t--) {
                if (e[t] !== undefined)
                    break;
                e.pop()
            }
            return e
        }
        var r = e("base")
            , i = e("jquery")
            , s = ".delegate-events-"
            , o = "_onRender"
            , u = "data-widget-cid"
            , a = {}
            , f = r.extend({
                propsInAttrs: ["initElement", "element", "events"],
                element: null ,
                events: null ,
                attrs: {
                    id: null ,
                    className: null ,
                    style: null ,
                    tagName: null ,
                    template: "<div></div>",
                    model: null ,
                    parentNode: document.body
                },
                initialize: function(e) {
                    this.cid = h(),
                        f.superclass.initialize.call(this, e),
                        this.parseElement(),
                        this.initProps(),
                        this.delegateEvents(),
                        this.setup(),
                        this._stamp(),
                        this._isTemplate = !e || !e.element
                },
                parseElement: function() {
                    var e = this.element;
                    e ? this.element = i(e) : this.get("template") && this.parseElementFromTemplate();
                    if (!this.element || !this.element[0])
                        throw new Error("element is invalid")
                },
                parseElementFromTemplate: function() {
                    this.element = i(this.get("template"))
                },
                initProps: function() {},
                delegateEvents: function(e, t, n) {
                    var r = N(Array.prototype.slice.call(arguments));
                    r.length === 0 ? (t = E(this),
                        e = this.element) : r.length === 1 ? (t = e,
                        e = this.element) : r.length === 2 ? (n = t,
                        t = e,
                        e = this.element) : (e || (e = this.element),
                    this._delegateElements || (this._delegateElements = []),
                        this._delegateElements.push(i(e)));
                    if (p(t) && d(n)) {
                        var s = {};
                        s[t] = n,
                            t = s
                    }
                    for (var o in t) {
                        if (!t.hasOwnProperty(o))
                            continue;var u = S(o, this)
                            , a = u.type
                            , f = u.selector;
                        (function(t, n) {
                            var r = function(e) {
                                    d(t) ? t.call(n, e) : n[t](e)
                                }
                                ;
                            f ? i(e).on(a, f, r) : i(e).on(a, r)
                        })(t[o], this)
                    }
                    return this
                },
                undelegateEvents: function(e, t) {
                    var n = N(Array.prototype.slice.call(arguments));
                    t || (t = e,
                        e = null );
                    if (n.length === 0) {
                        var r = s + this.cid;
                        this.element && this.element.off(r);
                        if (this._delegateElements)
                            for (var o in this._delegateElements) {
                                if (!this._delegateElements.hasOwnProperty(o))
                                    continue;this._delegateElements[o].off(r)
                            }
                    } else {
                        var u = S(t, this);
                        e ? i(e).off(u.type, u.selector) : this.element && this.element.off(u.type, u.selector)
                    }
                    return this
                },
                setup: function() {},
                render: function() {
                    this.rendered || (this._renderAndBindAttrs(),
                        this.rendered = !0);
                    var e = this.get("parentNode");
                    if (e && !m(this.element[0])) {
                        var t = this.constructor.outerBoxClass;
                        if (t) {
                            var n = this._outerBox = i("<div></div>").addClass(t);
                            n.append(this.element).appendTo(e)
                        } else
                            this.element.appendTo(e)
                    }
                    return this
                },
                _renderAndBindAttrs: function() {
                    var e = this
                        , t = e.attrs;
                    for (var n in t) {
                        if (!t.hasOwnProperty(n))
                            continue;var r = o + g(n);
                        if (this[r]) {
                            var i = this.get(n);
                            T(i) || this[r](i, undefined, n),
                                function(t) {
                                    e.on("change:" + n, function(n, r, i) {
                                        e[t](n, r, i)
                                    })
                                }(r)
                        }
                    }
                },
                _onRenderId: function(e) {
                    this.element.attr("id", e)
                },
                _onRenderClassName: function(e) {
                    this.element.addClass(e)
                },
                _onRenderStyle: function(e) {
                    this.element.css(e)
                },
                _stamp: function() {
                    var e = this.cid;
                    (this.initElement || this.element).attr(u, e),
                        a[e] = this
                },
                $: function(e) {
                    return this.element.find(e)
                },
                destroy: function() {
                    this.undelegateEvents(),
                        delete a[this.cid],
                    this.element && this._isTemplate && (this.element.off(),
                        this._outerBox ? this._outerBox.remove() : this.element.remove()),
                        this.element = null ,
                        f.superclass.destroy.call(this)
                }
            });
        i(window).unload(function() {
            for (var e in a)
                a[e].destroy()
        }),
            f.query = function(e) {
                var t = i(e).eq(0), n;
                return t && (n = t.attr(u)),
                    a[n]
            }
            ,
            n.exports = f;
        var l = Object.prototype.toString
            , c = 0
            , v = i.contains || function(e, t) {
                    return !!(e.compareDocumentPosition(t) & 16)
                }
            , y = /^(\S+)\s*(.*)$/
            , b = /{{([^}]+)}}/g
            , w = "INVALID_SELECTOR"
    }),
    define("templatable", ["require", "exports", "module", "art"], function(e, t, n) {
        function o(e) {
            return l(e) ? null : $(a(e))
        }
        function u(e, t) {
            if (!e)
                return;
            var n;
            if (t) {
                n = e.find(t);
                if (n.length === 0)
                    throw new Error("Invalid template selector: " + t)
            } else
                n = e;
            return f(n.html())
        }
        function a(e) {
            return e.replace(/({[^}]+}})/g, "<!--$1-->").replace(/\s(src|href)\s*=\s*(['"])(.*?\{.+?)\2/g, " data-templatable-$1=$2$3$2")
        }
        function f(e) {
            return e.replace(/(?:<|&lt;)!--({{[^}]+}})--(?:>|&gt;)/g, "$1").replace(/data-templatable-/ig, "")
        }
        function l(e) {
            return typeof e == "function"
        }
        function c(e) {
            if (!e)
                return {};
            var t = {};
            for (var n in e) {
                var r = e[n];
                t[n] = l(r) ? r : Handlebars.compile(r)
            }
            return t
        }
        var r = e("art")
            , i = {};
        n.exports = {
            templateHelpers: null ,
            templatePartials: null ,
            templateObject: null ,
            parseElementFromTemplate: function() {
                var e, t = this.get("template");
                /^#/.test(t) && (e = document.getElementById(t.substring(1))) && (t = e.innerHTML,
                    this.set("template", t)),
                    this.templateObject = o(t),
                    this.element = $(this.compile())
            },
            compile: function(e, t) {
                e || (e = this.get("template")),
                t || (t = this.get("model")) || (t = {}),
                t.toJSON && (t = t.toJSON());
                var n = this.templateHelpers;
                if (n)
                    for (helper in n)
                        n.hasOwnProperty(helper) && r.helper(helper, n[helper]);
                var s = i[e];
                s || (s = i[e] = r.compile(e));
                var o = s(t);
                if (n)
                    for (helper in n)
                        n.hasOwnProperty(helper) && delete r.helpers[helper];
                return o
            },
            renderPartial: function(e, t) {
                if (this.templateObject) {
                    var n = u(this.templateObject, e);
                    n ? e ? this.$(e).html(this.compile(n)) : this.element.html(this.compile(n)) : this.element.html(this.compile())
                } else {
                    var r = $(this.compile())
                        , i = r.find(e);
                    i.length ? this.$(e).html(i.html()) : this.element.html(r.html())
                }
                return t && t(),
                    this
            }
        };
        var s = r.compile;
        r.compile = function(e) {
            return app.isDebug ? l(e) ? e : s.call(r, e, !0) : l(e) ? e : s.call(r, e)
        }
    }),
    define("position", ["require", "exports", "module", "jquery"], function(e, t, n) {
        function f(e) {
            e = d(e) || {},
            e.nodeType && (e = {
                element: e
            });
            var t = d(e.element) || i;
            if (t.nodeType !== 1)
                throw new Error("posObject.element is invalid.");
            var n = {
                    element: t,
                    x: e.x || 0,
                    y: e.y || 0
                }
                , r = t === i || t._id === "VIEWPORT";
            return n.offset = function() {
                return o ? {
                    left: 0,
                    top: 0
                } : r ? {
                    left: s(document).scrollLeft(),
                    top: s(document).scrollTop()
                } : v(s(t)[0])
            }
                ,
                n.size = function() {
                    var e = r ? s(window) : s(t);
                    return {
                        width: e.outerWidth(),
                        height: e.outerHeight()
                    }
                }
                ,
                n
        }
        function l(e) {
            e.x = c(e.x, e, "width"),
                e.y = c(e.y, e, "height")
        }
        function c(e, t, n) {
            e += "",
                e = e.replace(/px/gi, ""),
            /\D/.test(e) && (e = e.replace(/(?:top|left)/gi, "0%").replace(/center/gi, "50%").replace(/(?:bottom|right)/gi, "100%")),
            e.indexOf("%") !== -1 && (e = e.replace(/(\d+(?:\.\d+)?)%/gi, function(e, r) {
                return t.size()[n] * (r / 100)
            }));
            if (/[+\-*\/]/.test(e))
                try {
                    e = (new Function("return " + e))()
                } catch (r) {
                    throw new Error("Invalid position value: " + e)
                }
            return p(e)
        }
        function h(e) {
            var t = e.offsetParent();
            t[0] === document.documentElement && (t = s(document.body)),
            a && t.css("zoom", 1);
            var n;
            return t[0] === document.body && t.css("position") === "static" ? n = {
                top: 0,
                left: 0
            } : n = v(t[0]),
                n.top += p(t.css("border-top-width")),
                n.left += p(t.css("border-left-width")),
                n
        }
        function p(e) {
            return parseFloat(e, 10) || 0
        }
        function d(e) {
            return s(e)[0]
        }
        function v(e) {
            var t = e.getBoundingClientRect()
                , n = document.documentElement;
            return {
                left: t.left + (window.pageXOffset || n.scrollLeft) - (n.clientLeft || document.body.clientLeft || 0),
                top: t.top + (window.pageYOffset || n.scrollTop) - (n.clientTop || document.body.clientTop || 0)
            }
        }
        var r = t
            , i = {
                _id: "VIEWPORT",
                nodeType: 1
            }
            , s = e("jquery")
            , o = !1
            , u = (window.navigator.userAgent || "").toLowerCase()
            , a = u.indexOf("msie 6") !== -1;
        r.pin = function(e, t) {
            e = f(e),
                t = f(t);
            var n = s(e.element);
            n.css("position") !== "fixed" || a ? (n.css("position", "absolute"),
                o = !1) : o = !0,
                l(e),
                l(t);
            var r = h(n)
                , i = t.offset()
                , u = i.top + t.y - e.y - r.top
                , c = i.left + t.x - e.x - r.left;
            n.css({
                left: c,
                top: u
            })
        }
            ,
            r.center = function(e, t) {
                r.pin({
                    element: e,
                    x: "50%",
                    y: "50%"
                }, {
                    element: t,
                    x: "50%",
                    y: "50%"
                })
            }
            ,
            r.VIEWPORT = i
    }),
    define("iframe-shim", ["require", "exports", "module", "jquery", "position"], function(e, t, n) {
        function o(e) {
            this.target = r(e).eq(0)
        }
        function a(e) {
            var t = {
                    display: "none",
                    border: "none",
                    opacity: 0,
                    position: "absolute"
                }
                , n = e.css("zIndex");
            return n && n > 0 && (t.zIndex = n - 1),
                r("<iframe>", {
                    src: "javascript:''",
                    frameborder: 0,
                    css: t
                }).insertBefore(e)
        }
        var r = e("jquery")
            , i = e("position")
            , s = (window.navigator.userAgent || "").toLowerCase().indexOf("msie 6") !== -1;
        o.prototype.sync = function() {
            var e = this.target
                , t = this.iframe;
            if (!e.length)
                return this;
            var n = e.outerHeight()
                , r = e.outerWidth();
            return !n || !r || e.is(":hidden") ? t && t.hide() : (t || (t = this.iframe = a(e)),
                t.css({
                    height: n,
                    width: r
                }),
                i.pin(t[0], e[0]),
                t.show()),
                this
        }
            ,
            o.prototype.destroy = function() {
                this.iframe && (this.iframe.remove(),
                    delete this.iframe),
                    delete this.target
            }
        ;
        if (s)
            n.exports = o;
        else {
            function u() {}
            u.prototype.sync = function() {
                return this
            }
                ,
                u.prototype.destroy = u,
                n.exports = u
        }
    }),
    define("overlay", ["require", "exports", "module", "jquery", "position", "iframe-shim", "widget"], function(e, t, n) {
        function c(e) {
            return r.contains(document.documentElement, e)
        }
        function h(e) {
            r(u.blurOverlays).each(function(t, n) {
                if (!n || !n.get("visible"))
                    return;
                for (var i = 0; i < n._relativeElements.length; i++) {
                    var s = r(n._relativeElements[i])[0];
                    if (s === e.target || r.contains(s, e.target))
                        return
                }
                n.hide()
            })
        }
        function p(e, t) {
            for (var n = 0; n < t.length; n++)
                if (e === t[n])
                    return t.splice(n, 1),
                        t
        }
        var r = e("jquery")
            , i = e("position")
            , s = e("iframe-shim")
            , o = e("widget")
            , u = o.extend({
                attrs: {
                    width: null ,
                    height: null ,
                    zIndex: 99,
                    visible: !1,
                    align: {
                        selfXY: [0, 0],
                        baseElement: i.VIEWPORT,
                        baseXY: [0, 0]
                    },
                    parentNode: document.body
                },
                show: function() {
                    return this.rendered || this.render(),
                        this.set("visible", !0),
                        this
                },
                hide: function() {
                    return this.set("visible", !1),
                        this
                },
                setup: function() {
                    var e = this;
                    this._setupShim(),
                        this._setupResize(),
                        this.after("render", function() {
                            var e = this.element.css("position");
                            (e === "static" || e === "relative") && this.element.css({
                                position: "absolute",
                                left: "-9999px",
                                top: "-9999px"
                            })
                        }),
                        this.after("show", function() {
                            e._setPosition()
                        })
                },
                destroy: function() {
                    return p(this, u.allOverlays),
                        p(this, u.blurOverlays),
                        u.superclass.destroy.call(this)
                },
                _setPosition: function(e) {
                    if (!c(this.element[0]))
                        return;
                    e || (e = this.get("align"));
                    if (!e)
                        return;
                    var t = this.element.css("display") === "none";
                    return t && this.element.css({
                        visibility: "hidden",
                        display: "block"
                    }),
                        i.pin({
                            element: this.element,
                            x: e.selfXY[0],
                            y: e.selfXY[1]
                        }, {
                            element: e.baseElement,
                            x: e.baseXY[0],
                            y: e.baseXY[1]
                        }),
                    t && this.element.css({
                        visibility: "",
                        display: "none"
                    }),
                        this
                },
                _setupShim: function() {
                    var e = new s(this.element);
                    this.after("hide _setPosition", e.sync, e);
                    var t = ["width", "height"];
                    for (var n in t)
                        t.hasOwnProperty(n) && this.on("change:" + n, e.sync, e);
                    this.before("destroy", e.destroy, e)
                },
                _setupResize: function() {
                    u.allOverlays.push(this)
                },
                _blurHide: function(e) {
                    e = r.makeArray(e),
                        e.push(this.element),
                        this._relativeElements = e,
                        u.blurOverlays.push(this)
                },
                _onRenderWidth: function(e) {
                    this.element.css("width", e)
                },
                _onRenderHeight: function(e) {
                    this.element.css("height", e)
                },
                _onRenderZIndex: function(e) {
                    this.element.css("zIndex", e)
                },
                _onRenderAlign: function(e) {
                    this._setPosition(e)
                },
                _onRenderVisible: function(e) {
                    this.element[e ? "show" : "hide"]()
                }
            });
        u.blurOverlays = [],
            r(document).on("click", function(e) {
                h(e)
            });
        var a, f = r(window).width(), l = r(window).height();
        u.allOverlays = [],
            r(window).resize(function() {
                a && clearTimeout(a),
                    a = setTimeout(function() {
                        var e = r(window).width()
                            , t = r(window).height();
                        (f !== e || l !== t) && r(u.allOverlays).each(function(e, t) {
                            if (!t || !t.get("visible"))
                                return;
                            t._setPosition()
                        }),
                            f = e,
                            l = t
                    }, 80)
            }),
            n.exports = u
    }),
    define("view", ["require", "art", "widget", "templatable", "underscore", "overlay"], function(e) {
        "use strict";
        function a(e) {
            return Array.isArray ? Array.isArray(e) : Object.prototype.toString.call(e) == "[object Array]"
        }
        var t = e("art"), n = e("widget"), r = e("templatable"), i = e("underscore"), s = e("overlay"), o = n.extend({
            attrs: {
                title: null ,
                styleList: null
            },
            views: {},
            Implements: r,
            initialize: function(e) {
                e = e || {},
                    o.superclass.initialize.call(this, e),
                    i.each(this.models, i.bind(function(e, t) {
                        this.models[t] = e.single()
                    }, this)),
                    i.each(this.views, i.bind(function(e, t) {
                        e.config = e.config || {},
                            this.views[t] = new e.init(e.config),
                            this.views[t].parent = this,
                        this.models && (this.views[t].models = this.models)
                    }, this))
            },
            render: function() {
                return o.superclass.render.call(this),
                    i.each(this.views, function(e) {
                        e.render()
                    }),
                    this
            },
            _onRenderStyleList: function(e) {
                var t = a(e) ? e.join("\n") : e;
                $("<style>" + t + "</style>").appendTo($("head"))
            },
            _onRenderTitle: function(e) {
                document.title = e
            }
        }), u;
        return o.alert = function(e, t, n) {
            typeof u == "undefined" && ($('<div id="msg"></div>').appendTo(".zxg-wrapper"),
                u = new s({
                    element: "#msg",
                    height: 30,
                    zIndex: 9999,
                    align: {
                        baseXY: ["40%", "30%"]
                    }
                })),
                t === "ok" ? e = '<div class="ok" />' + e : t === "error" && (e = '<div class="error" />' + e),
                $("#msg").html(e),
                u.show(),
            n && n.call(u),
                setTimeout(function() {
                    u.hide()
                }, 2e3)
        }
            ,
            o
    }),
    function() {
        function f(e) {
            this._projectName = e || "",
                this._timeArr = [],
                this._ispush = !1,
                this._IMGOBJ = new Image
        }
        var e, t = "0.0.1", n = [], r = n.push, i = n.slice, s = n.splice, o, u = this, a = typeof module != "undefined" && module.exports;
        e = function(e) {
            if (!this.__singleton) {
                o = u.Qtimes || (new Date).getTime();
                if (!e || typeof e != "string")
                    throw new TypeError("Project Name is not String");
                this.__singleton = new f(e)
            }
            return this.__singleton
        }
            ,
            e.version = t,
            e.fn = f.prototype = {
                push: function() {
                    var e = " http://qos.report.qq.com/collect?type=1&name=" + this._projectName;
                    for (var t = 0, n = this._timeArr.length; t < n; t++)
                        e = e + "&" + (t + 1) + "=" + (this._timeArr[t].realTime ? this._timeArr[t].time : this._timeArr[t].time - o);
                    this._IMGOBJ.src = e
                },
                times: function() {
                    var e = i.call(arguments, 0, 2);
                    if (this._timeArr.length >= 5)
                        throw new Error("Value length max 5");
                    return this._timeArr.push({
                        key: e[0] || "null",
                        time: e[1] || (new Date).getTime(),
                        realTime: e[1] ? e[1] : !1
                    }),
                        this
                }
            },
        a && (module.exports = e),
        typeof ender == "undefined" && (this.RT = e),
        typeof define == "function" && define.amd && define("rt", [], function() {
            return e
        })
    }
        .call(this),
    define("text", ["module"], function(e) {
        "use strict";
        var t, n, r, i, s = ["Msxml2.XMLHTTP", "Microsoft.XMLHTTP", "Msxml2.XMLHTTP.4.0"], o = /^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im, u = /<body[^>]*>\s*([\s\S]+)\s*<\/body>/im, a = typeof location != "undefined" && location.href, f = a && location.protocol && location.protocol.replace(/\:/, ""), l = a && location.hostname, c = a && (location.port || undefined), h = [], p = e.config && e.config() || {};
        t = {
            version: "2.0.6",
            strip: function(e) {
                if (e) {
                    e = e.replace(o, "");
                    var t = e.match(u);
                    t && (e = t[1])
                } else
                    e = "";
                return e
            },
            jsEscape: function(e) {
                return e.replace(/(['\\])/g, "\\$1").replace(/[\f]/g, "\\f").replace(/[\b]/g, "\\b").replace(/[\n]/g, "\\n").replace(/[\t]/g, "\\t").replace(/[\r]/g, "\\r").replace(/[\u2028]/g, "\\u2028").replace(/[\u2029]/g, "\\u2029")
            },
            createXhr: p.createXhr || function() {
                var e, t, n;
                if (typeof XMLHttpRequest != "undefined")
                    return new XMLHttpRequest;
                if (typeof ActiveXObject != "undefined")
                    for (t = 0; t < 3; t += 1) {
                        n = s[t];
                        try {
                            e = new ActiveXObject(n)
                        } catch (r) {}
                        if (e) {
                            s = [n];
                            break
                        }
                    }
                return e
            }
            ,
            parseName: function(e) {
                var t, n, r, i = !1, s = e.indexOf("."), o = e.indexOf("./") === 0 || e.indexOf("../") === 0;
                return s !== -1 && (!o || s > 1) ? (t = e.substring(0, s),
                    n = e.substring(s + 1, e.length)) : t = e,
                    r = n || t,
                    s = r.indexOf("!"),
                s !== -1 && (i = r.substring(s + 1) === "strip",
                    r = r.substring(0, s),
                    n ? n = r : t = r),
                {
                    moduleName: t,
                    ext: n,
                    strip: i
                }
            },
            xdRegExp: /^((\w+)\:)?\/\/([^\/\\]+)/,
            useXhr: function(e, n, r, i) {
                var s, o, u, a = t.xdRegExp.exec(e);
                return a ? (s = a[2],
                    o = a[3],
                    o = o.split(":"),
                    u = o[1],
                    o = o[0],
                (!s || s === n) && (!o || o.toLowerCase() === r.toLowerCase()) && (!u && !o || u === i)) : !0
            },
            finishLoad: function(e, n, r, i) {
                r = n ? t.strip(r) : r,
                p.isBuild && (h[e] = r),
                    i(r)
            },
            load: function(e, n, r, i) {
                if (i.isBuild && !i.inlineText) {
                    r();
                    return
                }
                p.isBuild = i.isBuild;
                var s = t.parseName(e)
                    , o = s.moduleName + (s.ext ? "." + s.ext : "")
                    , u = n.toUrl(o)
                    , h = p.useXhr || t.useXhr;
                !a || h(u, f, l, c) ? t.get(u, function(n) {
                    t.finishLoad(e, s.strip, n, r)
                }, function(e) {
                    r.error && r.error(e)
                }) : n([o], function(e) {
                    t.finishLoad(s.moduleName + "." + s.ext, s.strip, e, r)
                })
            },
            write: function(e, n, r, i) {
                if (h.hasOwnProperty(n)) {
                    var s = h[n];
                    /^\s*define\s*\(\s*function\s*\(/.test(s) || (s = "define(function () { return '" + t.jsEscape(s) + "';});"),
                        r.asModule(e + "!" + n, s + "\n")
                }
            },
            writeFile: function(e, n, r, i, s) {
                var o = t.parseName(n)
                    , u = o.ext ? "." + o.ext : ""
                    , a = o.moduleName + u
                    , f = r.toUrl(o.moduleName + u) + ".js";
                t.load(a, r, function(n) {
                    var r = function(e) {
                            return i(f, e)
                        }
                        ;
                    r.asModule = function(e, t) {
                        return i.asModule(e, f, t)
                    }
                        ,
                        t.write(e, a, r, s)
                }, s)
            }
        };
        if (p.env === "node" || !p.env && typeof process != "undefined" && process.versions && !!process.versions.node)
            n = require.nodeRequire("fs"),
                t.get = function(e, t) {
                    var r = n.readFileSync(e, "utf8");
                    r.indexOf("\ufeff") === 0 && (r = r.substring(1)),
                        t(r)
                }
            ;
        else if (p.env === "xhr" || !p.env && t.createXhr())
            t.get = function(e, n, r, i) {
                var s = t.createXhr(), o;
                s.open("GET", e, !0);
                if (i)
                    for (o in i)
                        i.hasOwnProperty(o) && s.setRequestHeader(o.toLowerCase(), i[o]);
                p.onXhr && p.onXhr(s, e),
                    s.onreadystatechange = function(t) {
                        var i, o;
                        s.readyState === 4 && (i = s.status,
                            i > 399 && i < 600 ? (o = new Error(e + " HTTP status: " + i),
                                o.xhr = s,
                                r(o)) : n(s.responseText),
                        p.onXhrComplete && p.onXhrComplete(s, e))
                    }
                    ,
                    s.send(null )
            }
            ;
        else if (p.env === "rhino" || !p.env && typeof Packages != "undefined" && typeof java != "undefined")
            t.get = function(e, t) {
                var n, r, i = "utf-8", s = new java.io.File(e), o = java.lang.System.getProperty("line.separator"), u = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)), a = "";
                try {
                    n = new java.lang.StringBuffer,
                        r = u.readLine(),
                    r && r.length() && r.charAt(0) === 65279 && (r = r.substring(1)),
                        n.append(r);
                    while ((r = u.readLine()) !== null )
                        n.append(o),
                            n.append(r);
                    a = String(n.toString())
                } finally {
                    u.close()
                }
                t(a)
            }
            ;
        else if (p.env === "xpconnect" || !p.env && typeof Components != "undefined" && Components.classes && Components.interfaces)
            r = Components.classes,
                i = Components.interfaces,
                Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),
                t.get = function(e, t) {
                    var n, s, o = {}, u = new FileUtils.File(e);
                    try {
                        n = r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),
                            n.init(u, 1, 0, !1),
                            s = r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),
                            s.init(n, "utf-8", n.available(), i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),
                            s.readString(n.available(), o),
                            s.close(),
                            n.close(),
                            t(o.value)
                    } catch (a) {
                        throw new Error((u && u.path || "") + ": " + a)
                    }
                }
            ;
        return t
    }),
    define("text!pages/index.html", [], function() {
        return '<div>\n  <div id="zxg-header"></div>\n  <div id="zxg-body">\n    <div id="dora_notes"></div>\n    <div id="zxg-tip"></div>\n  </div>\n  <div id="zxg-footer"></div>\n  <div id="dndProxy">\n    <div class="d-left span2"></div>\n    <div class="d-left span2"></div>\n  </div>\n</div>'
    }),
    define("text!pages/base.css", [], function() {
        return '*{-webkit-tap-highlight-color:rgba(0,0,0,0)}html{-webkit-text-size-adjust:100%;-webkit-touch-callout:none;-webkit-user-select:none}a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,p,pre,q,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;outline:0;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}audio,canvas,video{display:inline-block;*display:inline;*zoom:1}a:link{background:0 0}a:hover{text-decoration:underline}a,ins{text-decoration:none}ol,ul{list-style:none}fieldset,img{border:0}table{border-collapse:collapse;border-spacing:0}th{text-align:inherit}iframe{display:block}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:500}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}.d-clear:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}.d-clear{zoom:1}.d-left,.d-right{display:inline}.d-left{float:left}.d-right{float:right}.d-text-overflow{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}'
    }),
    define("text!pages/index.css", [], function() {
        return "body{background:#fff;font:12px/1.5 Arial,Helvetica,sans-serif}.fall{color:#090!important}.en .fall,.rise{color:#fe0002!important}.en .rise{color:#090!important}.up-arrow span{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/up-arrow.png) no-repeat right 2px;padding-right:5px;position:relative;right:-5px}.down-arrow span{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/down-arrow.png) no-repeat right 2px;padding-right:5px;position:relative;right:-5px}.en .up-arrow span{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/up-arrow-turn.png) no-repeat right 2px;padding-right:5px;position:relative;right:-5px}.en .down-arrow span{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/down-arrow-turn.png) no-repeat right 2px;padding-right:5px;position:relative;right:-5px}.zxg-wrapper{max-width:1160px;margin:0 auto;position:relative;min-width:1000px;padding:0 10px;_width:1000px}#msg{background-color:#F5EF83;color:#625E18;padding:10px 52px;border:1px solid #bfba66;z-index:21;opacity:.8;vertical-align:middle;line-height:30px;font-weight:700;font-size:16px;box-shadow:0 1px 4px rgba(49,49,64,.1);-webkit-box-shadow:0 0 2px #BBB;-moz-box-shadow:0 0 2px #bbb}#msg .ok{background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/icon.png) no-repeat -84px -61px;width:30px;height:24px;position:absolute;top:12px;left:18px}#msg .error{background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/icon.png) no-repeat -118px -62px;width:30px;height:24px;position:absolute;top:12px;left:18px}#dora_notes{display:none;background-color:#fff8c1;border:1px solid #fdd66e;position:absolute;padding:15px 25px;z-index:111}#zxg-tip{display:none;background-color:#fff8c1;border:1px solid #fdd66e;position:absolute;padding:5px 10px;z-index:111}.error_box{display:none;background-color:#fff8c1;border:1px solid #fdd66e;position:absolute;padding:0 10px;line-height:22px;z-index:111}.col{line-height:34px;float:left}.span1{width:70px}.span2{width:77px}.span3{width:88px}.span62p{width:62px}.span62p a{text-align:left;text-indent:22px}.span79p{width:102px;text-align:left;text-indent:2em;white-space:nowrap;position:relative}.quotation .span79p{text-align:left}.span70p{width:70px;padding-right:5px}.span59p{width:59px}.span60p{width:60px}.span64p{width:64px}.span50p{width:50px}.span55p{width:55px}.margin0{margin:0!important}.span164p{width:164px}.span27_{width:3.9%}.span30_{width:4.06%}.span43_{width:6.34%}.span63_{width:9.62%}.span52_,.span54_{width:8.02%}.span62_{width:9.21%}.span64_{width:9.6%}.span67_{width:9.99%}.span80_{width:11.88%}.span86_{width:12.78%}.span128_{width:19.01%}.span565_{width:83.9%}.span_dilutionCost,.span_numbers{width:9.68%}.span_holdMarketValue{width:10.43%}.span_holdPl,.span_todayPL{width:11.63%}.span_holdPlRatio{width:9.85%}.span_allPL{width:11.63%}.span_ratePL{width:9.85%}.spanper1{width:7%}.ui-dialog{background-color:rgba(0,0,0,.5);FILTER:progid:DXImageTransform.Microsoft.Gradient(startColorstr=#88000000, endColorstr=#88000000);outline:0;border:1px solid #9da8bf}.ui-dialog-content{background:#fff}.ui-dialog-close{color:#999;cursor:pointer;display:block;font-family:tahoma;font-size:24px;font-weight:700;height:18px;line-height:14px;position:absolute;right:16px;text-decoration:none;top:16px;z-index:10}.ui-dialog-close:hover{color:#666;text-shadow:0 0 2px #aaa}.ui-dialog-title{height:40px;font-size:16px;line-height:40px;border-bottom:1px solid #E1E1E1;color:#fff;background-color:#598cc7;padding-left:15px}.ui-dialog-title .ui_stock_title{color:#fff}.ui-dialog-title .ui_stock_title em{display:block;width:25px;height:24px;margin-top:8px;float:left}.ui-dialog-title .ui_stock_title .ui_stock_icon0{background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/icon.png) no-repeat -29px -322px;margin-right:10px}.ui-dialog-title .ui_stock_title .ui_stock_icon1{background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/icon.png) no-repeat -95px -321px;margin-right:10px}.ui-dialog-title .ui_stock_title .ui_stock_icon2{background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/icon.png) no-repeat -62px -321px;margin-right:10px}.ui-dialog-title .ui_stock_title .ui_stock_icon3{background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/icon.png) no-repeat -29px -322px;margin-right:10px}.ui-dialog-container{padding:15px 20px 20px;font-size:12px}.ui-dialog-message{min-height:100px}.ui-dialog-message .ui_stock_group{height:150px;position:relative}.ui-dialog-message .ui_stock_group input{position:absolute;top:38px;left:35px;width:400px;height:25px;padding:5px 10px;border:1px solid #9da8bf;background-color:#eff2f6;color:#6a6a6a;text-align:center}.ui-dialog-message .ui_stock_group .hint{position:absolute;top:93px;left:140px;color:#9D9D9D}.ui-dialog-message .ui_stock_group .error{color:red}.ui-dialog-message .ui_stock_group_del{height:100px}.ui-dialog-message .ui_stock_group_del .delinfo{color:#4f4f4f;font-size:17px;height:47px;line-height:47px;text-indent:50px;float:left;margin:27px 0 0;background:url(http://mat1.gtimg.com/finance/images/stock/p/webstock/v0.1/confirm//error.png) no-repeat 0}.ui-dialog-message .ui_stock_group_del i{font-style:normal}.ui-dialog-yingkui{height:200px;position:relative;padding:15px 0 25px}.ui-dialog-yingkui .head{height:30px}.ui-dialog-yingkui .head h3{font-size:16px;float:left;margin:3px 0 0 10px;font-weight:700;color:#3374ca}.ui-dialog-yingkui .head .price{float:left;margin:8px 0 0 10px}.ui-dialog-yingkui .head .price span{margin:0 5px}.ui-dialog-yingkui table{border-collapse:collapse;border-spacing:0;text-align:center;width:100%}.ui-dialog-yingkui table td{vertical-align:middle}.ui-dialog-yingkui .table{margin:18px 0}.ui-dialog-yingkui .content .h{border-top:1px #D7DCEF solid;background-color:#EFF0F6;border-bottom:1px #D7DCEF solid;vertical-align:middle;height:25px;line-height:25px}.ui-dialog-yingkui .content .span0{width:25px}.ui-dialog-yingkui .content .span1{width:50px}.ui-dialog-yingkui .content .span2{width:70px}.ui-dialog-yingkui .content .span3{width:100px}.ui-dialog-yingkui .content .g{border-bottom:1px solid #E5E5E5;height:33px;line-height:33px;color:#929BA5}.ui-dialog-yingkui .content .c{border-bottom:1px solid #E5E5E5;height:33px;line-height:33px}.ui-dialog-yingkui .content .c .type{width:60px;border:1px solid #ccc;height:20px}.ui-dialog-yingkui .content .c .type:focus{outline:0}.ui-dialog-yingkui .content .c .date{height:17px;display:block;width:20px;background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/icon.png) no-repeat -31px -295px}.ui-dialog-yingkui .content .c .del{display:block;width:30px;height:29px;margin-left:17px;background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/icon.png) no-repeat -87px -283px}#ui-dialog-list{margin-right:18px}.ui-dialog-yingkui .content .c input{border:1px solid #ccc;width:90px;height:15px;padding:3px 0;color:#494D4E;text-align:center}.ui-dialog-yingkui .content .c input:focus{outline:0}.ui-dialog-operation{zoom:1;height:54px;background-color:#ebf1f7;border-top:1px solid #fff}.ui-dialog-operation a.ui-dialog-add{position:absolute;bottom:10px;left:10px;display:block;width:145px;height:30px;line-height:30px;text-decoration:none;text-align:center;color:#3d80d9;border:1px solid #3d80d9;background-color:#e2eaf2}.ui-dialog-operation a.ui-dialog-add em{width:25px;height:25px;position:absolute;top:3px;left:19px;background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/icon.png) no-repeat -123px -221px}.ui-dialog-operation a.ui-dialog-add:hover{background-color:#c0daf4}.ui-dialog-operation a.ui-dialog-add:hover em{background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/icon.png) no-repeat -125px -184px}.ui-dialog-cancel,.ui-dialog-confirm{position:absolute;bottom:10px;right:10px}.ui-dialog-operation .ui-dialog-confirm{position:absolute;bottom:10px;right:120px}.ui-dialog-operation a.ui-dialog-button-disabled,.ui-dialog-operation a.ui-dialog-button-orange,.ui-dialog-operation a.ui-dialog-button-white{display:inline-block;*display:inline;*zoom:1;text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;font-size:12px;font-weight:700;border-radius:2px;padding:0 12px;line-height:33px;height:33px;width:70px;*overflow:visible;border:1px solid #b8cfdf}.ui-dialog-operation a.ui-dialog-button-orange:hover,.ui-dialog-operation a.ui-dialog-button-white:hover{text-decoration:none}.ui-dialog-operation a.ui-dialog-button-orange{color:#4f4f4f;background-color:#fafdff}.ui-dialog-operation a.ui-dialog-button-orange:hover{background-color:#c0daf4}.ui-dialog-operation a.ui-dialog-button-white{color:#676d70}.ui-dialog-operation a.ui-dialog-button-white:hover{background-color:#c0daf4}.ui-dialog-operation a.ui-dialog-button-disabled{color:#676d70}.ui-dialog-operation .error{display:none;color:#FE2121;position:absolute;bottom:18px;left:20px}.msgbox{padding:6px 8px 5px;width:143px;line-height:16px;border:1px solid #fdd66f;background-color:#fff8c1;position:absolute;left:215px;top:18px;display:none}.ui_stock_remind{color:#4f4f4f}.remind_ad{position:absolute;right:1px;top:75px;padding:18px 37px 0 40px;background-color:#fff}.remind_ol{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/b18a62f19c347072.png) no-repeat;width:8px;height:8px;position:absolute;top:88px;right:192px}.remind_ad img{width:115px;height:177px}.ui_stock_remind #ss_notes_text{margin:10px 0 20px 20px;width:413px;height:57px;font-size:12px;resize:none}.ui_stock_remind .f{height:50px;border-bottom:1px solid #d7dbe3}.ui_stock_remind .m{border-top:1px solid #fff;padding:10px 20px}.ui_stock_remind .f h3{line-height:50px;float:left;text-indent:20px;font-weight:700;font-size:18px;color:#3374ca}.ui_stock_remind .f .info{float:left;line-height:55px;height:50px}.ui_stock_remind .f .info .scode{margin-left:5px}.ui_stock_remind .f .info .price{font-weight:700}.ui_stock_remind .m .inputbox{padding-left:5px;padding-top:3px;height:17px;position:relative}.ui_stock_remind .m .cl{color:#9D9D9D}.ui_stock_remind .m .tl{margin-bottom:10px}.ui_stock_remind .m hr{margin:10px 14px;border:none;border-top-width:1px;border-top-style:dotted;border-top-color:#CCC}.ui_stock_remind .m .ml li{height:35px;line-height:35px}.ui_stock_remind .m .msg{position:absolute;top:97px;left:12px}.ui_stock_remind .m .tt1{position:absolute;top:122px;left:12px}.ui_stock_remind .m .tt2{position:absolute;top:248px;left:12px}.ui_stock_remind .m .tt3{position:absolute;top:339px;left:12px}.ui_stock_remind .m .fr{display:block;text-align:right}.ui_stock_remind .m table{display:table}.ui_stock_remind .m .t1{margin:50px 0 0 10px}.ui_stock_remind .m .t2{margin:30px 0 0 10px}.ui_stock_remind .m .t3{margin:20px 0 0 10px}.ui_stock_remind .m tr{display:table-row;vertical-align:inherit;height:30px}.ui_stock_remind .m td{padding:0 3px;vertical-align:middle}#dndProxy{height:30px;line-height:30px;border:1px dashed #8ab7dd;display:none;position:absolute;\u3000filter:Alpha(Opacity=80,Style=0);opacity:.8;background-color:#d7e6f2;z-index:111}.ui-poptip{border:1px solid #fdd66f;padding:3px 10px;background:#fff8c1;text-align:left}.ui-poptip em{color:red;font-style:normal}.ui-dropdownmenu{color:#000;text-decoration:none;display:inline-block;_display:inline;_width:93px;*display:inline!important;*width:93px!important;zoom:1;overflow:hidden;vertical-align:middle;height:26px;border:1px solid #fff;text-indent:0;padding:0;margin:0}.ui-dropdownmenu li{padding:0 5px;cursor:pointer;line-height:26px;background:#fff;text-align:left;margin:0}.ui-dropdownmenu .color{padding-right:15px;display:block;_padding:0;_display:inline;*padding:0!important;*display:inline!important}.ui-dropdownmenu .down{float:right;background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon2.png) no-repeat;width:15px;height:11px;margin-top:8px}.ui-dropdownmenu-show{border:1px solid #4d7ab6;overflow:visible;vertical-align:top;height:auto}.ui-dropdownmenu-show li:hover{background:#e2effa}.quotation .quotation-inner .etf,.quotation .quotation-inner .fj,.quotation .quotation-inner .hk,.quotation .quotation-inner .kj,.quotation .quotation-inner .lof,.quotation .quotation-inner .us,.quotation .quotation-inner .zq,.sline .stock_name .etf,.sline .stock_name .fj,.sline .stock_name .hk,.sline .stock_name .kj,.sline .stock_name .lof,.sline .stock_name .us,.sline .stock_name .zq{position:absolute;top:6px;left:82px;width:15px;height:15px}.quotation .quotation-inner .us,.sline .stock_name .us{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon_151125.png) no-repeat -124px -126px}.quotation .quotation-inner .hk,.sline .stock_name .hk{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon_151125.png) no-repeat -154px -126px}.quotation .quotation-inner .etf,.sline .stock_name .etf{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon_151125.png) no-repeat -66px -126px}.quotation .quotation-inner .lof,.sline .stock_name .lof{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon_151125.png) no-repeat -94px -126px}.quotation .quotation-inner .kj,.sline .stock_name .kj{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon_151125.png) no-repeat -36px -126px}.quotation .quotation-inner .fj,.sline .stock_name .fj{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon_151125.png) no-repeat -5px -126px}.quotation .quotation-inner .zq,.sline .stock_name .zq{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon_151125.png) no-repeat -182px -126px}"
    }),
    define("text!plugin/lhgcalendar/skins/lhgcalendar.css", [], function() {
        return '/*!\n * lhgcore Calendar Plugin StyleSheet\n * Copyright (c) 2009 - 2012 By Li Hui Gang\n */.lcui_border{font:12px/1.333 tahoma,arial,\\5b8b\\4f53,sans-serif;background-color:#fff}.cui_nm,.cui_ny,.cui_pm,.cui_py,.lcui_l,.lcui_lb,.lcui_lt,.lcui_r,.lcui_rb,.lcui_rt{width:3px;background-color:#598CC7;color:#598CC7;font-weight:700}.lcui_lt,.lcui_rt{height:10px}.lcui_lt{background-position:-65px 0}.lcui_rt{background-position:-69px 0}.lcui_lb,.lcui_rb{height:3px}.lcui_lb{background-position:-65px -11px}.lcui_rb{background-position:-69px -11px}.lcui_l,.lcui_r{background-repeat:repeat-y}.lcui_l{background-position:-73px 0}.lcui_r{background-position:-77px 0}.lcui_b,.lcui_t{background-color:#598CC7;:repeat-x;font-size:0}.lcui_t{background-position:0 0}.lcui_b{background-position:0 -10px}.lcui_head{padding:5px 8px 3px}.lcui_body thead{text-align:center;color:#598CC7;font:14px "\u5e7c\u5706",Tahoma,Arial,sans-serif;font-weight:700;height:18px}.cui_py{display:block;width:9px;height:16px;background-position:-25px 0}.cui_ny{display:block;width:9px;height:16px;background-position:-35px 0}.cui_iy{width:40px;margin:0;padding:0;border:1px solid #eee;height:14px;font:12px tahoma,arial;cursor:pointer;text-align:center;_vertical-align:middle;margin-right:2px}.cui_pm{display:block;width:9px;height:16px;background-position:-45px 0}.cui_nm{display:block;width:9px;height:16px;background-position:-55px 0}.cui_im{width:20px;margin:0;padding:0;border:1px solid #eee;height:14px;font:12px tahoma,arial;cursor:pointer;text-align:center;_vertical-align:middle;margin-right:2px}.cui_db td{background-color:#f7f7f7;color:#999;font:11px verdana,arial,sans-serif;cursor:default;height:20px;width:24px;text-align:center}.cui_db a{color:#000;text-decoration:none;display:block;height:20px;line-height:20px;width:24px;cursor:default}.cui_db a:hover,.cui_today a{background-color:#AACAF3}.cui_foot{padding:2px 0 1px;_padding:1px 0 0;display:none}.lcui_empty,.lcui_today{width:44px}.cui_dbtn,.cui_tbtn{display:block;border:1px solid #999;color:#000;text-decoration:none;background-color:#f2f2f2;width:38px;height:17px;line-height:17px;line-height:20px\\0}.cui_dbtn:hover,.cui_tbtn:hover{border:1px solid #0a246a;background-color:#c2cbe0}.lcui_time input{margin:0;padding:0;border:1px solid #999;width:20px;height:17px;font:11px Verdana,Arial;text-align:center;background-color:#f2f2f2;line-height:17px}.cui_ymlist{position:absolute;border:1px solid #0093d1;background-color:#fff;width:120px}.cui_lbox a{display:block;padding:3px 0;background:#f7f7f7;text-decoration:none;cursor:default;color:#000;text-align:center;font:11px verdana,arial,sans-serif}.cui_lbox a:hover{background:#3991d1;color:#fff}.cui_ybar{background-color:#f7f7f7}.cui_ybar a{display:block;text-decoration:none;text-align:center;color:#000}'
    }),
    define("text!plugin/qtip/jquery.qtip.css", [], function() {
        return ".qtip{position:absolute;left:-28000px;top:-28000px;display:none;max-width:280px;min-width:50px;font-size:10.5px;line-height:12px;direction:ltr;box-shadow:none;padding:0}.qtip-content{position:relative;padding:5px 9px;overflow:hidden;text-align:left;word-wrap:break-word}.qtip-titlebar{position:relative;padding:5px 35px 5px 10px;overflow:hidden;border-width:0 0 1px;font-weight:700}.qtip-titlebar+.qtip-content{border-top-width:0!important}.qtip-close{position:absolute;right:-9px;top:-9px;cursor:pointer;outline:medium none;border-width:1px;border-style:solid;border-color:transparent}.qtip-titlebar .qtip-close{right:4px;top:50%;margin-top:-9px}* html .qtip-titlebar .qtip-close{top:16px}.qtip-icon .ui-icon,.qtip-titlebar .ui-icon{display:block;text-indent:-1000em;direction:ltr}.qtip-icon,.qtip-icon .ui-icon{-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;text-decoration:none}.qtip-icon .ui-icon{width:18px;height:14px;line-height:14px;text-align:center;text-indent:0;font:normal bold 10px/13px Tahoma,sans-serif;color:inherit;background:transparent none no-repeat -100em -100em}.qtip-default{border-width:1px;border-style:solid;border-color:#F1D031;background-color:#FFFFA3;color:#555}.qtip-default .qtip-titlebar{background-color:#FFEF93}.qtip-default .qtip-icon{border-color:#CCC;background:#F1F1F1;color:#777}.qtip-default .qtip-titlebar .qtip-close{border-color:#AAA;color:#111}/*! Light tooltip style */.qtip-light{background-color:#fff;border-color:#E2E2E2;color:#454545}.qtip-light .qtip-titlebar{background-color:#f1f1f1}/*! Dark tooltip style */.qtip-dark{background-color:#505050;border-color:#303030;color:#f3f3f3}.qtip-dark .qtip-titlebar{background-color:#404040}.qtip-dark .qtip-icon{border-color:#444}.qtip-dark .qtip-titlebar .ui-state-hover{border-color:#303030}/*! Cream tooltip style */.qtip-cream{background-color:#FBF7AA;border-color:#F9E98E;color:#A27D35}.qtip-cream .qtip-titlebar{background-color:#F0DE7D}.qtip-cream .qtip-close .qtip-icon{background-position:-82px 0}/*! Red tooltip style */.qtip-red{background-color:#F78B83;border-color:#D95252;color:#912323}.qtip-red .qtip-titlebar{background-color:#F06D65}.qtip-red .qtip-close .qtip-icon{background-position:-102px 0}.qtip-red .qtip-icon,.qtip-red .qtip-titlebar .ui-state-hover{border-color:#D95252}/*! Green tooltip style */.qtip-green{background-color:#CAED9E;border-color:#90D93F;color:#3F6219}.qtip-green .qtip-titlebar{background-color:#B0DE78}.qtip-green .qtip-close .qtip-icon{background-position:-42px 0}/*! Blue tooltip style */.qtip-blue{background-color:#E5F6FE;border-color:#ADD9ED;color:#5E99BD}.qtip-blue .qtip-titlebar{background-color:#D0E9F5}.qtip-blue .qtip-close .qtip-icon{background-position:-2px 0}"
    }),
    define("http", ["require", "exports", "module", "jquery"], function(e, t) {
        "use strict";
        var n = e("jquery")
            , r = {
                type: "GET",
                url: "",
                charset: "utf-8",
                timeout: 1e4,
                data: {},
                jsonp: "callback",
                jsonpCallback: function() {
                    var e = i || 0;
                    return e++,
                        i = e,
                        [this.type, e].join("_")
                },
                success: function() {},
                error: function() {}
            }
            , i = 0
            , s = ""
            , o = t;
        o._formatCfg = function(e) {
            var t = {};
            return n.extend(t, r, e),
                t.type = t.type.toUpperCase(),
                t
        }
            ,
            o.post = function(e) {
                //document.domain = "qq.com",
                e.type = "post";
                var t = this._formatCfg(e), r, o, u, a;
                s = t.jsonpCallback(),
                    u = t.url,
                    r = n('<iframe style="display:none" id="' + ["iframe", i].join("_") + '" name="' + ["iframe", i].join("_") + '"/>').appendTo("body"),
                    o = n('<form method="post" action="' + u + '" target="' + ["iframe", i].join("_") + '"/>').appendTo("body");
                for (var f in t.data)
                    t.data.hasOwnProperty(f) && n('<input name="' + f + '" type="hidden" value="' + t.data[f] + '"/>').appendTo(o);
                n('<input name="' + t.jsonp + '" type="hidden" value="' + s + '"/>').appendTo(o),
                    window[s] = function(e) {
                        t.success(e),
                            r.remove(),
                            o.remove()
                    }
                    ,
                    o.submit()
            }
    }),
    define("model-init", ["require", "exports", "module", "base", "q", "underscore", "http", "jquery"], function(e, t, n) {
        "use strict";
        function l(e, t) {
            e = app.apiUrl(e);
            var n = i.defer()
                , r = document.createElement("script");
            return t = t || {},
                r.type = "text/javascript",
                r.charset = t.charset || "utf-8",
                r.async = !0,
                r.onload = r.onerror = r.onreadystatechange = function() {
                    f.test(r.readyState) && (r.onload = r.onerror = r.onreadystatechange = null ,
                        a.removeChild(r),
                        r = undefined,
                        n.resolve())
                }
                ,
                r.src = e,
                a.appendChild(r),
                n.promise
        }
        function c(e, t) {
            var t = app.apiObj(t)
                , n = i.defer();
            return o.post({
                url: e,
                data: t,
                jsonp: "_callback",
                success: function(e) {
                    e = e || {
                        code: -99,
                        error_info: "\u6570\u636e\u4e3a\u7a7a"
                    };
                    if (Number(e.code) === 0)
                        return n.resolve(e);
                    n.reject(e)
                },
                error: function(e, t, r) {
                    n.reject({
                        code: t,
                        error_info: r || "\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e"
                    })
                }
            }),
                n.promise
        }
        function h(e, t, n, r) {
            var t = app.apiObj(t)
                , s = i.defer();
            return n = n || "get",
                r = r || "callback",
                u.ajax({
                    type: n,
                    url: e,
                    data: t,
                    traditional: !0,
                    dataType: n === "post" ? "json" : "jsonp",
                    crossDomain: !0,
                    jsonp: r,
                    jsonpCallback: function() {
                        var e = app.reqTime || 0;
                        return e++,
                            app.reqTime = e,
                        n.toUpperCase() + "_" + e
                    },
                    success: function(e) {
                        e = e || {
                            code: -99,
                            error_info: "\u6570\u636e\u4e3a\u7a7a"
                        };
                        if (Number(e.code) === 0)
                            return s.resolve(e);
                        s.reject(e)
                    },
                    error: function(e, t, n) {
                        s.reject({
                            code: t,
                            error_info: n || "\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e"
                        })
                    }
                }),
                s.promise
        }
        var r = e("base")
            , i = e("q")
            , s = e("underscore")
            , o = e("http")
            , u = e("jquery")
            , a = document.head || document.getElementsByTagName("head")[0] || document.documentElement
            , f = /loaded|complete|undefined/
            , p = r.extend({
                load: l,
                ajax: h,
                post: c,
                toJSON: function() {
                    var e = {};
                    return s.each(this.attrs, function(t, n) {
                        e[n] = this.get(n)
                    }, this),
                        e
                }
            });
        p.Q = i,
            p._ = s,
            p.create = function(e) {
                var t = this;
                return new t(e)
            }
            ,
            p.single = function(e) {
                var t = this;
                return this.__singleton || (this.__singleton = new t(e)),
                    this.__singleton
            }
            ,
            n.exports = p
    }),
    define("Tool", ["require", "exports", "module", "Class"], function(e, t, n) {
        "use script";
        var r = e("Class")
            , i = r.extend({
                stringify: function(e) {
                    if (window.JSON)
                        return JSON.stringify(e);
                    var t = typeof e;
                    if (t != "object" || e === null )
                        return t == "string" && (e = '"' + e + '"'),
                            String(e);
                    var n, r, i = [], s = e && e.constructor == Array, o = arguments.callee;
                    for (n in e)
                        r = e[n],
                            t = typeof r,
                        e.hasOwnProperty(n) && (t == "string" ? r = '"' + r + '"' : t == "object" && r !== null && (r = o(r)),
                            i.push((s ? "" : '"' + n + '":') + String(r)));
                    return (s ? "[" : "{") + String(i) + (s ? "]" : "}")
                },
                fucCheckLength: function(e) {
                    var t, n;
                    n = 0;
                    for (t = 0; t < e.length; t++)
                        e.charCodeAt(t) >= 0 && e.charCodeAt(t) <= 255 ? n += 1 : n += 2;
                    return n
                },
                subString: function(e, t, n) {
                    var r = 0
                        , i = ""
                        , s = /[^\x00-\xff]/g
                        , o = ""
                        , u = e.replace(s, "**").length;
                    for (var a = 0; a < u; a++) {
                        o = e.charAt(a).toString(),
                            o.match(s) != null ? r += 2 : r++;
                        if (r > t)
                            break;
                        i += o
                    }
                    return n && u > t && (i += "..."),
                        i
                }
            });
        i.create = function(e) {
            var t = this;
            return new t(e)
        }
            ,
            i.single = function(e) {
                var t = this;
                return this.__singleton || (this.__singleton = new t(e)),
                    this.__singleton
            }
            ,
            n.exports = i
    }),
    function() {
        function s(e) {
            this._value = e
        }
        function o(e, t) {
            var n = Math.pow(10, t), r, i;
            return r = (Math.round(e * n) / n).toFixed(t),
                i = (Math.floor(e * n) / n).toFixed(t),
                i.toString().length != r.toString().length ? i : r
        }
        function u(e, t) {
            return t.indexOf("%") > -1 ? (e._value * 100).toString().split(".")[0].length > 8 ? !0 : !1 : t.indexOf("aw") > -1 ? Math.abs(e._value) > Math.pow(10, 4) : t.indexOf("a") > -1 ? Math.abs(e._value) > Math.pow(10, 8) : !1
        }
        function a(e, t) {
            var n;
            return t.indexOf("%") > -1 ? n = c(e, t) : n = p(e._value, t),
                n
        }
        function f(e, t) {
            var n;
            return t.indexOf("%") > -1 ? n = l(e, t) : n = h(e._value, t),
                n
        }
        function l(e, t) {
            var n = e._value * 100;
            return t.indexOf(" %") > -1 ? (space = " ",
                t = t.replace(" %", "")) : t = t.replace("%", ""),
            h(n, t) + "%"
        }
        function c(e, t) {
            var n = e._value * 100
                , r = n.toString().split(".")[0]
                , i = 8;
            return t.indexOf(" %") > -1 ? t = t.replace(" %", "") : t = t.replace("%", ""),
            r.indexOf("-") > -1 && (r = r.slice(1)),
                r.length > i ? p(n / Math.pow(10, 8), t) + "e+8%" : p(n, t) + "%"
        }
        function h(e, t) {
            var n, i, s, u;
            return e === 0 && r !== null ? r : (t.indexOf("+") > -1 && (u = !0,
                t = t.replace(/\+/g, "")),
                t.indexOf(" a") > -1 ? t = t.replace(" a", "") : t = t.replace("a", ""),
                t.indexOf(" w") > -1 ? t = t.replace(" w", "") : t = t.replace("w", ""),
                n = t.split(".")[1],
                n ? (d = o(e, n.length),
                    w = d.split(".")[0],
                    d.split(".")[1] && d.split(".")[1].length ? d = "." + d.split(".")[1] : d = "") : (w = o(e, null ),
                    d = ""),
            w.indexOf("-") > -1 && (w = w.slice(1),
                s = !0),
                w = w.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1,"),
            t.indexOf(".") === 0 && (w = ""),
            (s ? "-" : "") + (!s && u ? "+" : "") + w + d)
        }
        function p(e, t) {
            var n = Math.abs(e), i = !1, s = !1, u = ["\u4e07", "\u4ebf", "\u4e07\u4ebf"], a = !1, f, l, c, h, p = "";
            return e === 0 && r !== null ? r : (t.indexOf("+") > -1 && (i = !0,
                t = t.replace(/\+/g, "")),
                h = e.toString().split(".")[0],
            h.indexOf("-") > -1 && (h = h.slice(1),
                s = !0),
            t.indexOf("a") > -1 && (a = t.indexOf("aw") >= 0,
                t.indexOf(" a") > -1 ? (c = "",
                    t = t.replace(" a", "")) : t = t.replace("a", ""),
                h.length > 15 ? (c = "e" + h.length,
                    e /= Math.pow(10, h.length - 1),
                    t.indexOf(" w") > -1 ? t = t.replace(" w", "") : t = t.replace("w", "")) : h.length >= 9 ? (n >= Math.pow(10, 12) ? (c = u[2],
                    e /= Math.pow(10, 12)) : n < Math.pow(10, 12) && n >= Math.pow(10, 8) && (c = u[1],
                    e /= Math.pow(10, 8)),
                    t.indexOf(" w") > -1 ? t = t.replace(" w", "") : t = t.replace("w", "")) : a && (t.indexOf(" w") > -1 ? t = t.replace(" w", "") : t = t.replace("w", ""),
                n >= Math.pow(10, 4) && (c = u[0],
                    e /= Math.pow(10, 4)))),
                f = t.split(".")[1],
                l = t.indexOf(","),
                f ? (p = o(e, f.length),
                    h = p.split(".")[0],
                    p.split(".")[1].length ? p = "." + p.split(".")[1] : p = "") : h = o(e, null ),
            l > -1 && (h = h.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1,")),
            t.indexOf(".") === 0 && (h = ""),
            s && (h = h.slice(1)),
            (s ? "-" : "") + (!s && i ? "+" : "") + h + p + (c ? c : ""))
        }
        var e, t = "0.0.1", n = "0,0", r = null , i = typeof module != "undefined" && module.exports;
        e = function(t) {
            return e.isSpf(t) ? t = t.value() : t === 0 || typeof t == "undefined" ? t = 0 : Number(t) || (t = e.fn.unformat(t)),
                new s(Number(t))
        }
            ,
            e.version = t,
            e.isSpf = function(e) {
                return e instanceof s
            }
            ,
            e.defaultFormat = function(e) {
                n = typeof e == "string" ? e : "0.0"
            }
            ,
            e.zeroFormat = function(e) {
                r = typeof e == "string" ? e : null
            }
            ,
            e.fn = s.prototype = {
                clone: function() {
                    return e(this)
                },
                format: function(e) {
                    return a(this, e ? e : n)
                },
                unformat: function(e) {
                    return Object.prototype.toString.call(e) === "[object Number]" ? e : f(this, e ? e : n)
                },
                isformat: function(e) {
                    return Object.prototype.toString.call(e) === "[object Number]" ? !1 : u(this, e ? e : n)
                },
                value: function() {
                    return this._value
                },
                set: function() {
                    return this._value = Number(value),
                        this
                }
            },
        i && (module.exports = e),
        typeof ender == "undefined" && (this.spf = e),
        typeof define == "function" && define.amd && define("spf", [], function() {
            return e
        })
    }
        .call(this),
    define("models/stock", ["require", "exports", "module", "underscore", "model-init", "Tool", "spf"], function(e, t, n) {
        "use strict";
        var r = e("underscore")
            , i = e("model-init")
            , s = e("Tool").single()
            , o = e("spf")
            , u = {
                D: "\u9000\u5e02",
                S: "\u505c\u724c",
                U: "\u672a\u4e0a\u5e02",
                Z: "\u6682\u505c\u4e0a\u5e02"
            }
            , a = i.extend({
                attrs: {
                    index: null ,
                    qtsymbol: null ,
                    remind: !1,
                    symbol: null ,
                    yanshi: !1,
                    ftsymbol: {
                        setter: function(e) {
                            var t = e.substr(0, 2), n;
                            if (t === "us") {
                                var r = e.split(".");
                                r.length > 2 ? n = r.shift() + "__" + r.shift() : n = r.shift(),
                                    n = n.replace(/[^0-9a-zA-Z_]/g, "__")
                            } else
                                t === "jj" ? n = "s_" + e : n = e;
                            return this.set("qtsymbol", n),
                                e
                        }
                    },
                    mk: null ,
                    stockType: {
                        setter: function(e) {
                            var t = {
                                KJ: "kj",
                                "KJ-CX": "kj",
                                "KJ-DQLC": "kj",
                                "QDII-FOF": "kj",
                                QDII: "kj",
                                "QDII-ETF": "etf",
                                "QDII-LOF": "lof",
                                "FJ-CX": "fj",
                                "KJ-HB": "kj"
                            };
                            return r.isUndefined(t[e]) || (e = t[e]),
                                e.toLowerCase()
                        }
                    },
                    mkType: {
                        setter: function() {
                            var e = this.get("stockType");
                            return /^lof|etf|fj|kj$/.test(e) || (e = this.get("market")),
                                e
                        }
                    },
                    name: {
                        setter: function(e) {
                            return e.Name
                        }
                    },
                    lpbg: "none",
                    latestPrice: {
                        setter: function(e) {
                            var t = this.get("latestPrice"), n;
                            return e.Status && this.get("type") != "ZS" ? n = e.Status : (n = Number(e.Price || e.IOPV),
                            t && (t > n ? this.set("lpbg", "down") : t < n ? this.set("lpbg", "up") : this.set("lpbg", "none"))),
                                n
                        }
                    },
                    updownLimit: {
                        setter: function(e) {
                            var t = this.get("type") == "LOF" && this.get("nativeMarket") && e.marketData && e.marketData.Chg != "" && !r.isUndefined(e.marketData.Chg) ? e.marketData.Chg : e.Chg;
                            return Number(t)
                        }
                    },
                    updownExtent: {
                        setter: function(e) {
                            var t = this.get("market") === "jj" ? this.get("type") == "LOF" && this.get("nativeMarket") && e.marketData && e.marketData.ChgRatio != "" && !r.isUndefined(e.marketData.ChgRatio) ? e.marketData.ChgRatio : e.ACCIOPVGR : e.ChgRatio;
                            return Number(t) / 100
                        }
                    },
                    yesterdatPrice: {
                        setter: function(e) {
                            return Number(e.PrevClose)
                        }
                    },
                    todayPrice: {
                        setter: function(e) {
                            return Number(e.Open)
                        }
                    },
                    highPrice: {
                        setter: function(e) {
                            return Number(e.High)
                        }
                    },
                    lowPrice: {
                        setter: function(e) {
                            return Number(e.Low)
                        }
                    },
                    marketValue: {
                        setter: function(e) {
                            return this.get("stockType") === "qz" ? 0 : Number(e.CS || e.MktCap_H || 0)
                        }
                    },
                    volume: {
                        setter: function(e) {
                            var t = this.get("market")
                                , n = Number(e._Vol || e.Vol);
                            return /hk|us/.test(t) || this.get("stockType") === "zs" ? n : n * 100
                        }
                    },
                    turnover: {
                        setter: function(e) {
                            var t = this.get("market")
                                , n = Number(e.Turnover);
                            return t === "hk" ? n : n * 1e4
                        }
                    },
                    turnoverRate: {
                        setter: function(e) {
                            var t = this.get("stockType")
                                , n = this.get("market");
                            return n === "hk" || t === "fj" || r.isEmpty(e.TurnoverRate) || e.TurnoverRate == "D" ? 0 : Number(e.TurnoverRate) / 100
                        }
                    },
                    peRatio: {
                        setter: function(e) {
                            return r.isEmpty(e.PE) ? 0 : Number(e.PE)
                        }
                    },
                    netValue: {
                        setter: function() {
                            return this.get("latestPrice") - this.get("updownLimit")
                        },
                        getter: function(e) {
                            return o(e).format("0.0000")
                        }
                    },
                    netValueDate: {
                        setter: function(e) {
                            var t = e.ExpDate;
                            return t.substring(0, 4) + "\u5e74" + t.substring(4, 6) + "\u6708" + t.substring(6, 8) + "\u65e5"
                        }
                    },
                    numbers: {
                        setter: function(e) {
                            return Number(e)
                        }
                    },
                    allnumbers: {
                        setter: function(e) {
                            return Number(e)
                        }
                    },
                    cost: {
                        setter: function(e) {
                            return Number(e)
                        }
                    },
                    hold_cost: {
                        setter: function(e) {
                            return Number(e)
                        }
                    },
                    holdCost: {
                        setter: function(e) {
                            var t = this.get("allnumbers")
                                , n = this.get("yingkui_cost")
                                , r = this.get("costOfCarry");
                            return n ? n.toFixed(4) : r
                        }
                    },
                    dilutionCost: {
                        setter: function(e) {
                            var t = Number(this.get("tbcb"))
                                , n = this.get("fhTotal")
                                , r = this.get("yingkui_costAll")
                                , i = this.get("numbers");
                            return t ? t : r && i ? (r - n) / i : 0
                        }
                    },
                    holdMarketValue: {
                        setter: function() {
                            var e = this.get("cost")
                                , t = this.get("numbers")
                                , n = this.get("latestPrice")
                                , r = this.get("yesterdatPrice")
                                , i = isNaN(n) ? isNaN(r) ? 0 : r : n;
                            return this.isNotCurrPrice() && (n = r),
                            i * t
                        }
                    },
                    perPL: {
                        setter: function() {
                            var e = this.get("cost")
                                , t = this.get("numbers")
                                , n = this.get("holdMarketValue");
                            return t > 0 ? (n - e) / t : 0
                        }
                    },
                    todayPL: {
                        setter: function() {
                            var e = this.get("latestPrice")
                                , t = this.get("market") === "jj" ? this.get("netValue") : this.get("yesterdatPrice")
                                , n = this.get("numbers")
                                , i = 0
                                , s = this.get("holdHistory");
                            if (!r.isNumber(e))
                                return i;
                            if (this.get("market") == "jj") {
                                if (this.get("mkType") == "kj" || this.get("mkType") == "lof")
                                    i = (e - t) * n
                            } else if (s) {
                                if (this.isNotCurrPrice())
                                    return i;
                                var o = this.get("dilutionCost")
                                    , u = s.before
                                    , a = s.today;
                                a.numbers = a.buy_count - a.sell_count,
                                    u.numbers = u.stock_count,
                                    a.numbers > 0 ? a.dilutionCost = (a.buy_amount - a.sell_amount) / a.numbers : a.dilutionCost = 0;
                                var f = u.buy_flag && u.sell_flag && !a.buy_count && !a.sell_count
                                    , l = u.buy_flag && !u.sell_flag && !a.buy_count && !a.sell_count
                                    , c = u.buy_flag && !u.sell_flag && !a.buy_count && a.sell_count
                                    , h = u.buy_flag && u.sell_flag && !a.buy_count && a.sell_count
                                    , p = !u.buy_flag && !u.sell_flag && a.buy_count && a.sell_count
                                    , d = !u.buy_flag && !u.sell_flag && a.buy_count && !a.sell_count
                                    , v = u.buy_flag && !u.sell_flag && a.buy_count && !a.sell_count
                                    , m = u.buy_flag && u.sell_flag && a.buy_count && !a.sell_count
                                    , g = u.buy_flag && !u.sell_flag && a.buy_count && a.sell_count
                                    , y = u.buy_flag && u.sell_flag && a.buy_count && a.sell_count;
                                if (f || l)
                                    i = (e - t) * n;
                                else if (c || h)
                                    i = a.sell_amount - t * a.sell_count + (e - t) * (u.numbers - a.sell_count);
                                else if (p || d)
                                    n > 0 ? i = (e - (a.buy_amount - a.sell_amount) / a.numbers) * a.numbers : i = a.sell_amount + u.sell_amount - a.buy_amount - u.buy_amount;
                                else if (v || m)
                                    n > 0 ? i = (e - a.dilutionCost) * a.numbers + (e - t) * u.numbers : i = e * n - a.buy_amount - t * u.numbers;
                                else if (g || y)
                                    u.numbers + a.numbers > 0 ? a.sell_count <= a.buy_count ? i = (e - t) * u.numbers + e * a.numbers - (a.buy_amount - a.sell_amount) : i = e * (u.numbers - a.sell_count + a.buy_count) - t * u.numbers + a.sell_amount - a.buy_amount : u.numbers + a.numbers == 0 && (i = a.sell_amount - t * u.numbers - a.buy_amount)
                            }
                            return i
                        }
                    },
                    allPL: {
                        setter: function() {
                            var e = this.get("hold_cost")
                                , t = e - this.get("cost")
                                , n = this.get("holdMarketValue")
                                , r = Number(this.get("fh"));
                            return e ? n - e + t + r : 0
                        }
                    },
                    ratePL: {
                        setter: function() {
                            var e = this.get("hold_cost");
                            return e > 0 ? this.get("allPL") / e : 0
                        }
                    },
                    holdPl: {
                        setter: function() {
                            var e = this.get("latestPrice")
                                , t = this.get("yesterdatPrice")
                                , n = this.get("numbers")
                                , r = this.get("costOfCarry")
                                , i = this.get("holdCost")
                                , s = isNaN(e) ? isNaN(t) ? 0 : t : e;
                            return this.isNotCurrPrice() && (e = t),
                                n > 0 ? i ? n * (s - i) : n * (s - r) : "--"
                        }
                    },
                    holdPlRatio: {
                        setter: function() {
                            var e = this.get("numbers")
                                , t = this.get("holdPl")
                                , n = this.get("holdCost");
                            return e > 0 ? n == 0 ? 0 : t / (n * e) : 0
                        }
                    },
                    holdHistory: null ,
                    reason: ""
                },
                initialize: function(e) {
                    a.superclass.initialize.call(this, e),
                        this.set("stockType", this.get("type")),
                        this.set("mkType")
                },
                isNotCurrPrice: function() {
                    if (!window.v_stdunixtime && !r.isNaN(Number(v_stdunixtime)))
                        return !1;
                    var e = this.get("latestPrice")
                        , t = this.get("mk")
                        , n = new Date(Number(v_stdunixtime) * 1e3);
                    if (e === 0)
                        if (t == "ga") {
                            if (n.getHours() == 9 && n.getMinutes() <= 30 && n.getMinutes() >= 10)
                                return !0
                        } else if (t == "hk" && n.getHours() == 9 && n.getMinutes() <= 30 && n.getMinutes() >= 20)
                            return !0;
                    return !1
                },
                isLongAccuracy: function() {
                    var e = this.get("latestPrice")
                        , t = this.get("stockType")
                        , n = this.get("mk");
                    return n === "hk" && e <= .5 || /^lof|etf|fj|kj|gp-b/.test(t) || /^qz/.test(t) && n === "hk"
                },
                setQtData: function() {
                    var e = this.get("qtsymbol"), t, n;
                    this.get("mk") === "hk" ? this.get("yanshi") || this.get("type").toUpperCase() == "ZS" ? t = window["v_r_" + e] && window["v_r_" + e] || window["v_" + e] && window["v_" + e] : t = window["v_" + e] && window["v_" + e] : t = window["v_" + e] && window["v_" + e];
                    if (!t)
                        return;
                    n = app.clone(t),
                    this.get("mk") === "jj" && (n.Price = n.Price || n.IOPV),
                    this.get("nativeMarket") && window["v_" + this.get("symbol")] && (n.marketData = {},
                        n.marketData.Chg = window["v_" + this.get("symbol")].Chg || n.Chg,
                        n.marketData.ChgRatio = window["v_" + this.get("symbol")].ChgRatio || n.ChgRatio);
                    var i = this.get("latestPrice");
                    this.set("name", n),
                        this.set("updownLimit", n),
                        this.set("updownExtent", n),
                        this.set("latestPrice", n),
                        this.get("market") !== "jj" ? (this.set("yesterdatPrice", n),
                            this.set("todayPrice", n),
                            this.set("highPrice", n),
                            this.set("highPrice", n),
                            this.set("lowPrice", n),
                            this.set("marketValue", n),
                            this.set("volume", n),
                            this.set("turnover", n),
                            this.set("turnoverRate", n),
                            this.set("peRatio", n)) : (this.set("netValue"),
                            this.set("netValueDate", n)),
                        this.set("dilutionCost"),
                        this.set("holdCost"),
                        this.set("holdMarketValue"),
                        this.set("perPL"),
                        this.set("todayPL"),
                        this.set("allPL"),
                        this.set("ratePL"),
                        this.set("holdPl"),
                        this.set("holdPlRatio"),
                    this.get("latestPrice") === "S" && (r.isUndefined(i) || r.isNaN(i) || i !== "S") && this.fetchReason()
                },
                fetchReason: function() {
                    var e = this
                        , t = this.ajax("http://web.ifzq.gtimg.cn/appstock/invest/investment/susReason", {
                            app: "web",
                            symbol: this.get("qtsymbol")
                        }, "get", "_callback").then(function(t) {
                            t.code == 0 && t.data.reason && e.set("reason", (t.data.begin || "") + " " + (t.data.status || "") + t.data.reason),
                                e.fetchReason = function() {}
                        }, function() {
                            e.fetchReason = function() {}
                        })
                },
                calcYK: function() {
                    this.set("dilutionCost", !1, {
                        focus: !0
                    }),
                        this.set("holdCost", !1, {
                            focus: !0
                        }),
                        this.set("holdMarketValue", !1, {
                            focus: !0
                        }),
                        this.set("perPL", !1, {
                            focus: !0
                        }),
                        this.set("todayPL", !1, {
                            focus: !0
                        }),
                        this.set("allPL", !1, {
                            focus: !0
                        }),
                        this.set("ratePL", !1, {
                            focus: !0
                        }),
                        this.set("holdPl", !1, {
                            focus: !0
                        }),
                        this.set("holdPlRatio", !1, {
                            focus: !0
                        })
                },
                getHtmlSymbol: function() {
                    var e = this.get("ftsymbol")
                        , t = e.substring(2).split(".")
                        , n = this.get("market")
                        , r = this.get("stockType");
                    return t.length > 1 && t.pop(),
                        t = t.join("."),
                        n === "hk" ? '<a target="_blank" target="_blank" title="' + t + "(" + t + ')" href="http://gu.qq.com/' + e + '" >' + t + "</a>" : n === "us" ? '<a target="_blank" target="_blank" title="' + t + "(" + e.substring(2) + ')" href="http://gu.qq.com/us' + e.substring(2) + '">' + t + "</a>" : n === "jj" ? '<a target="_blank" target="_blank" title="' + t + "(" + t + ')" href="http://gu.qq.com/' + e + '">' + t + "</a>" : r === "zs" ? '<a target="_blank" target="_blank" title="' + t + "(" + t + ')" href="http://gu.qq.com/' + e + '">' + t + "</a>" : '<a target="_blank" target="_blank" title="' + t + "(" + t + ')" href="http://gu.qq.com/' + e + '">' + t + "</a>"
                },
                getHtmlName: function() {
                    var e = this.get("name")
                        , t = this.get("ftsymbol")
                        , n = t.substring(2).split(".")
                        , i = this.get("market")
                        , o = this.get("stockType");
                    return r.isEmpty(e) ? "--" : (n.length > 1 && n.pop(),
                        i === "hk" ? e = '<a target="_blank" target="_blank" title="' + e + '" href="http://gu.qq.com/' + t + '">' + s.subString(e, 8) + "</a>" : i === "us" ? e = '<a target="_blank" target="_blank" title="' + e + '" href="http://gu.qq.com/us' + t.substring(2) + '">' + s.subString(e, 8) + "</a>" : i === "jj" ? e = '<a target="_blank" target="_blank" title="' + e + '" href="http://gu.qq.com/' + t + '">' + s.subString(e, 8) + "</a>" : o === "zs" ? e = '<a target="_blank" target="_blank" title="' + e + '" href="http://gu.qq.com/' + t + '">' + s.subString(e, 8) + "</a>" : e = '<a target="_blank" target="_blank" title="' + e + '" href="http://gu.qq.com/' + t + '">' + s.subString(e, 8) + "</a>",
                        e)
                },
                getHtmlColorProYk: function(e) {
                    var t = this.get(e)
                        , n = this.get("stockType")
                        , r = this.get("numbers")
                        , i = "0.00";
                    this.isLongAccuracy() && e !== "ratePL" && e !== "holdPlRatio" && (i += "0");
                    if (/^dilutionCost|holdMarketValue|numbers$/.test(e)) {
                        if (t != 0 && !isNaN(t)) {
                            var s = o(t);
                            return i += "aw",
                            e === "numbers" && t < Math.pow(10, 4) && (i = "0"),
                                s.isformat(i) ? '<span data-val="' + s.unformat(i) + '">' + s.format(i) + "</span>" : "<span>" + s.format(i) + "</span>"
                        }
                        return "--"
                    }
                    t !== 0 && (i = "+" + i),
                        e === "ratePL" || e === "holdPlRatio" ? i += "%" : i += "aw";
                    if (t > 0) {
                        var s = o(t);
                        if (s.isformat(i))
                            return '<span style="color :#fe0002" class="rise" data-val="' + s.unformat(i) + '">' + s.format(i) + "</span>";
                        if (t == Infinity)
                            debugger ;return '<span style="color :#fe0002" class="rise">' + s.format(i) + "</span>"
                    }
                    if (t < 0) {
                        var s = o(t);
                        return s.isformat(i) ? '<span style="color :#009900" class="fall" data-val="' + s.unformat(i) + '">' + s.format(i) + "</span>" : '<span style="color :#009900" class="fall">' + s.format(i) + "</span>"
                    }
                    return r === 0 || isNaN(r) || isNaN(t) ? "<span>--</span>" : o(t).format(i)
                },
                getHtmlColorPro: function(e) {
                    var t = this.get(e)
                        , n = this.get("stockType")
                        , r = this.get("updownLimit")
                        , i = "0.00";
                    e !== "updownExtent" && this.isLongAccuracy() && (i += "0");
                    if (e !== "latestPrice" && t !== 0)
                        i = "+" + i;
                    else if (isNaN(t))
                        return u[t];
                    e === "updownExtent" ? i += "%" : i += "a";
                    if (r > 0) {
                        var s = o(t);
                        return s.isformat(i) ? '<span style="color :#fe0002" class="rise" data-val="' + s.unformat(i) + '">' + s.format(i) + "</span>" : '<span style="color :#fe0002" class="rise">' + s.format(i) + "</span>"
                    }
                    if (r < 0) {
                        var s = o(t);
                        return s.isformat(i) ? '<span style="color :#009900" class="fall" data-val="' + s.unformat(i) + '">' + s.format(i) + "</span>" : '<span style="color :#009900" class="fall">' + s.format(i) + "</span>"
                    }
                    var s = o(t);
                    return s.isformat(i) || s != "0.00" || s ? '<span data-val="' + s.unformat(i) + '">' + s.format(i) + "</span>" : "<span>" + s.format(i) + "</span>"
                },
                getFormatData: function(e) {
                    var t = this.get(e)
                        , n = this.get("market")
                        , i = this.get("type");
                    if (r.isUndefined(t) || r.isNaN(t))
                        return "--";
                    if (/^us$/.test(n) && /^turnover|turnoverRate$/.test(e) || /^hk$/.test(n) && /^turnoverRate$/.test(e) || /^ZQ$/.test(i) && /^peRatio|marketValue$/.test(e))
                        return "--";
                    if (/^volume|marketValue|turnover$/.test(e)) {
                        var s = o(t)
                            , u = "0.00aw";
                        return s.isformat(u) ? '<span data-val="' + s.unformat(u) + '">' + s.format(u) + "</span>" : "<span>" + s.format(u) + "</span>"
                    }
                    if (e === "turnoverRate") {
                        var s = o(t)
                            , u = "0.00%";
                        return s.isformat(u) ? '<span data-val="' + s.unformat(u) + '">' + s.format(u) + "</span>" : "<span>" + s.format(u) + "</span>"
                    }
                    return /^yesterdatPrice|todayPrice|highPrice|lowPrice/.test(e) && this.isLongAccuracy() ? o(t).format("0.000") : o(t).format("0.00")
                },
                getJJinfo: function(e) {
                    var t = 0
                        , n = "0.00"
                        , r = Number(this.get("latestPrice"))
                        , i = this.get("numbers")
                        , s = this.get("cost")
                        , u = r * i;
                    return e === "sz" ? t = r * i : e === "ljyk" ? (t = r * i - s,
                        t = Number(t.toFixed(4)),
                    t !== 0 && (n = "+" + n)) : (n += "%",
                        t = (r * i - s) / s),
                        isNaN(i) || isNaN(s) || isNaN(t) || isNaN(u) || u === 0 ? "--" : (t = Number(t.toFixed(4)),
                            e === "sz" ? o(t).format(n) : t > 0 ? '<span style="color :#fe0002" class="rise">' + o(t).format(n) + "</span>" : t < 0 ? '<span style="color :#009900" class="fall">' + o(t).format(n) + "</span>" : "<span>" + o(t).format(n) + "</span>")
                }
            });
        a.getStockUrl = function(e, t, n) {
            return e = e.toLowerCase(),
                n = (n || "").toLowerCase(),
                /hk/.test(e) ? "http://stock.qq.com/hk" + t : /us/.test(e) ? "http://stockhtm.finance.qq.com/astock/ggcx/" + t + ".htm" : /qh/.test(e) ? "http://stockhtm.finance.qq.com/money/future/quotpage/f/" + t + ".htm" : /jj/.test(e) ? "http://stockhtm.finance.qq.com/fund/djj_jjcx/" + t + ".htm" : /zs/.test(n) ? "http://stockhtm.finance.qq.com/hqing/zhishu/" + t + ".htm" : "http://stockhtm.finance.qq.com/sstock/ggcx/" + t + ".shtml"
        }
            ,
            n.exports = a
    }),
    function(e) {
        function O(e, t) {
            return function(n) {
                return j(e.call(this, n), t)
            }
        }
        function M(e) {
            return function(t) {
                return this.lang().ordinal(e.call(this, t))
            }
        }
        function _() {}
        function D(e) {
            H(this, e)
        }
        function P(e) {
            var t = this._data = {}
                , n = e.years || e.year || e.y || 0
                , r = e.months || e.month || e.M || 0
                , i = e.weeks || e.week || e.w || 0
                , s = e.days || e.day || e.d || 0
                , o = e.hours || e.hour || e.h || 0
                , u = e.minutes || e.minute || e.m || 0
                , a = e.seconds || e.second || e.s || 0
                , f = e.milliseconds || e.millisecond || e.ms || 0;
            this._milliseconds = f + a * 1e3 + u * 6e4 + o * 36e5,
                this._days = s + i * 7,
                this._months = r + n * 12,
                t.milliseconds = f % 1e3,
                a += B(f / 1e3),
                t.seconds = a % 60,
                u += B(a / 60),
                t.minutes = u % 60,
                o += B(u / 60),
                t.hours = o % 24,
                s += B(o / 24),
                s += i * 7,
                t.days = s % 30,
                r += B(s / 30),
                t.months = r % 12,
                n += B(r / 12),
                t.years = n
        }
        function H(e, t) {
            for (var n in t)
                t.hasOwnProperty(n) && (e[n] = t[n]);
            return e
        }
        function B(e) {
            return e < 0 ? Math.ceil(e) : Math.floor(e)
        }
        function j(e, t) {
            var n = e + "";
            while (n.length < t)
                n = "0" + n;
            return n
        }
        function F(e, t, n) {
            var r = t._milliseconds, i = t._days, s = t._months, o;
            r && e._d.setTime(+e + r * n),
            i && e.date(e.date() + i * n),
            s && (o = e.date(),
                e.date(1).month(e.month() + s * n).date(Math.min(o, e.daysInMonth())))
        }
        function I(e) {
            return Object.prototype.toString.call(e) === "[object Array]"
        }
        function q(e, t) {
            var n = Math.min(e.length, t.length), r = Math.abs(e.length - t.length), i = 0, s;
            for (s = 0; s < n; s++)
                ~~e[s] !== ~~t[s] && i++;
            return i + r
        }
        function R(e, t) {
            return t.abbr = e,
            s[e] || (s[e] = new _),
                s[e].set(t),
                s[e]
        }
        function U(e) {
            return e ? (!s[e] && o && require("./lang/" + e),
                s[e]) : t.fn._lang
        }
        function z(e) {
            return e.match(/\[.*\]/) ? e.replace(/^\[|\]$/g, "") : e.replace(/\\/g, "")
        }
        function W(e) {
            var t = e.match(a), n, r;
            for (n = 0,
                     r = t.length; n < r; n++)
                A[t[n]] ? t[n] = A[t[n]] : t[n] = z(t[n]);
            return function(i) {
                var s = "";
                for (n = 0; n < r; n++)
                    s += typeof t[n].call == "function" ? t[n].call(i, e) : t[n];
                return s
            }
        }
        function X(e, t) {
            function r(t) {
                return e.lang().longDateFormat(t) || t
            }
            var n = 5;
            while (n-- && f.test(t))
                t = t.replace(f, r);
            return C[t] || (C[t] = W(t)),
                C[t](e)
        }
        function V(e) {
            switch (e) {
                case "DDDD":
                    return p;
                case "YYYY":
                    return d;
                case "YYYYY":
                    return v;
                case "S":
                case "SS":
                case "SSS":
                case "DDD":
                    return h;
                case "MMM":
                case "MMMM":
                case "dd":
                case "ddd":
                case "dddd":
                case "a":
                case "A":
                    return m;
                case "X":
                    return b;
                case "Z":
                case "ZZ":
                    return g;
                case "T":
                    return y;
                case "MM":
                case "DD":
                case "YY":
                case "HH":
                case "hh":
                case "mm":
                case "ss":
                case "M":
                case "D":
                case "d":
                case "H":
                case "h":
                case "m":
                case "s":
                    return c;
                default:
                    return new RegExp(e.replace("\\", ""))
            }
        }
        function $(e, t, n) {
            var r, i, s = n._a;
            switch (e) {
                case "M":
                case "MM":
                    s[1] = t == null ? 0 : ~~t - 1;
                    break;
                case "MMM":
                case "MMMM":
                    r = U(n._l).monthsParse(t),
                        r != null ? s[1] = r : n._isValid = !1;
                    break;
                case "D":
                case "DD":
                case "DDD":
                case "DDDD":
                    t != null && (s[2] = ~~t);
                    break;
                case "YY":
                    s[0] = ~~t + (~~t > 68 ? 1900 : 2e3);
                    break;
                case "YYYY":
                case "YYYYY":
                    s[0] = ~~t;
                    break;
                case "a":
                case "A":
                    n._isPm = (t + "").toLowerCase() === "pm";
                    break;
                case "H":
                case "HH":
                case "h":
                case "hh":
                    s[3] = ~~t;
                    break;
                case "m":
                case "mm":
                    s[4] = ~~t;
                    break;
                case "s":
                case "ss":
                    s[5] = ~~t;
                    break;
                case "S":
                case "SS":
                case "SSS":
                    s[6] = ~~(("0." + t) * 1e3);
                    break;
                case "X":
                    n._d = new Date(parseFloat(t) * 1e3);
                    break;
                case "Z":
                case "ZZ":
                    n._useUTC = !0,
                        r = (t + "").match(x),
                    r && r[1] && (n._tzh = ~~r[1]),
                    r && r[2] && (n._tzm = ~~r[2]),
                    r && r[0] === "+" && (n._tzh = -n._tzh,
                        n._tzm = -n._tzm)
            }
            t == null && (n._isValid = !1)
        }
        function J(e) {
            var t, n, r = [];
            if (e._d)
                return;
            for (t = 0; t < 7; t++)
                e._a[t] = r[t] = e._a[t] == null ? t === 2 ? 1 : 0 : e._a[t];
            r[3] += e._tzh || 0,
                r[4] += e._tzm || 0,
                n = new Date(0),
                e._useUTC ? (n.setUTCFullYear(r[0], r[1], r[2]),
                    n.setUTCHours(r[3], r[4], r[5], r[6])) : (n.setFullYear(r[0], r[1], r[2]),
                    n.setHours(r[3], r[4], r[5], r[6])),
                e._d = n
        }
        function K(e) {
            var t = e._f.match(a), n = e._i, r, i;
            e._a = [];
            for (r = 0; r < t.length; r++)
                i = (V(t[r]).exec(n) || [])[0],
                i && (n = n.slice(n.indexOf(i) + i.length)),
                A[t[r]] && $(t[r], i, e);
            e._isPm && e._a[3] < 12 && (e._a[3] += 12),
            e._isPm === !1 && e._a[3] === 12 && (e._a[3] = 0),
                J(e)
        }
        function Q(e) {
            var t, n, r, i = 99, s, o, u;
            while (e._f.length) {
                t = H({}, e),
                    t._f = e._f.pop(),
                    K(t),
                    n = new D(t);
                if (n.isValid()) {
                    r = n;
                    break
                }
                u = q(t._a, n.toArray()),
                u < i && (i = u,
                    r = n)
            }
            H(e, r)
        }
        function G(e) {
            var t, n = e._i;
            if (w.exec(n)) {
                e._f = "YYYY-MM-DDT";
                for (t = 0; t < 4; t++)
                    if (S[t][1].exec(n)) {
                        e._f += S[t][0];
                        break
                    }
                g.exec(n) && (e._f += " Z"),
                    K(e)
            } else
                e._d = new Date(n)
        }
        function Y(t) {
            var n = t._i
                , r = u.exec(n);
            n === e ? t._d = new Date : r ? t._d = new Date(+r[1]) : typeof n == "string" ? G(t) : I(n) ? (t._a = n.slice(0),
                J(t)) : t._d = n instanceof Date ? new Date(+n) : new Date(n)
        }
        function Z(e, t, n, r, i) {
            return i.relativeTime(t || 1, !!n, e, r)
        }
        function et(e, t, n) {
            var i = r(Math.abs(e) / 1e3)
                , s = r(i / 60)
                , o = r(s / 60)
                , u = r(o / 24)
                , a = r(u / 365)
                , f = i < 45 && ["s", i] || s === 1 && ["m"] || s < 45 && ["mm", s] || o === 1 && ["h"] || o < 22 && ["hh", o] || u === 1 && ["d"] || u <= 25 && ["dd", u] || u <= 45 && ["M"] || u < 345 && ["MM", r(u / 30)] || a === 1 && ["y"] || ["yy", a];
            return f[2] = t,
                f[3] = e > 0,
                f[4] = n,
                Z.apply({}, f)
        }
        function tt(e, n, r) {
            var i = r - n
                , s = r - e.day();
            return s > i && (s -= 7),
            s < i - 7 && (s += 7),
                Math.ceil(t(e).add("d", s).dayOfYear() / 7)
        }
        function nt(e) {
            var n = e._i
                , r = e._f;
            return n === null || n === "" ? null : (typeof n == "string" && (e._i = n = U().preparse(n)),
                t.isMoment(n) ? (e = H({}, n),
                    e._d = new Date(+n._d)) : r ? I(r) ? Q(e) : K(e) : Y(e),
                new D(e))
        }
        function rt(e, n) {
            t.fn[e] = t.fn[e + "s"] = function(e) {
                var t = this._isUTC ? "UTC" : "";
                return e != null ? (this._d["set" + t + n](e),
                    this) : this._d["get" + t + n]()
            }
        }
        function it(e) {
            t.duration.fn[e] = function() {
                return this._data[e]
            }
        }
        function st(e, n) {
            t.duration.fn["as" + e] = function() {
                return +this / n
            }
        }
        var t, n = "2.0.0", r = Math.round, i, s = {}, o = typeof module != "undefined" && module.exports, u = /^\/?Date\((\-?\d+)/i, a = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g, f = /(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g, l = /([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi, c = /\d\d?/, h = /\d{1,3}/, p = /\d{3}/, d = /\d{1,4}/, v = /[+\-]?\d{1,6}/, m = /[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i, g = /Z|[\+\-]\d\d:?\d\d/i, y = /T/i, b = /[\+\-]?\d+(\.\d{1,3})?/, w = /^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/, E = "YYYY-MM-DDTHH:mm:ssZ", S = [["HH:mm:ss.S", /(T| )\d\d:\d\d:\d\d\.\d{1,3}/], ["HH:mm:ss", /(T| )\d\d:\d\d:\d\d/], ["HH:mm", /(T| )\d\d:\d\d/], ["HH", /(T| )\d\d/]], x = /([\+\-]|\d\d)/gi, T = "Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"), N = {
            Milliseconds: 1,
            Seconds: 1e3,
            Minutes: 6e4,
            Hours: 36e5,
            Days: 864e5,
            Months: 2592e6,
            Years: 31536e6
        }, C = {}, k = "DDD w W M D d".split(" "), L = "M D H h m s w W".split(" "), A = {
            M: function() {
                return this.month() + 1
            },
            MMM: function(e) {
                return this.lang().monthsShort(this, e)
            },
            MMMM: function(e) {
                return this.lang().months(this, e)
            },
            D: function() {
                return this.date()
            },
            DDD: function() {
                return this.dayOfYear()
            },
            d: function() {
                return this.day()
            },
            dd: function(e) {
                return this.lang().weekdaysMin(this, e)
            },
            ddd: function(e) {
                return this.lang().weekdaysShort(this, e)
            },
            dddd: function(e) {
                return this.lang().weekdays(this, e)
            },
            w: function() {
                return this.week()
            },
            W: function() {
                return this.isoWeek()
            },
            YY: function() {
                return j(this.year() % 100, 2)
            },
            YYYY: function() {
                return j(this.year(), 4)
            },
            YYYYY: function() {
                return j(this.year(), 5)
            },
            a: function() {
                return this.lang().meridiem(this.hours(), this.minutes(), !0)
            },
            A: function() {
                return this.lang().meridiem(this.hours(), this.minutes(), !1)
            },
            H: function() {
                return this.hours()
            },
            h: function() {
                return this.hours() % 12 || 12
            },
            m: function() {
                return this.minutes()
            },
            s: function() {
                return this.seconds()
            },
            S: function() {
                return ~~(this.milliseconds() / 100)
            },
            SS: function() {
                return j(~~(this.milliseconds() / 10), 2)
            },
            SSS: function() {
                return j(this.milliseconds(), 3)
            },
            Z: function() {
                var e = -this.zone()
                    , t = "+";
                return e < 0 && (e = -e,
                    t = "-"),
                t + j(~~(e / 60), 2) + ":" + j(~~e % 60, 2)
            },
            ZZ: function() {
                var e = -this.zone()
                    , t = "+";
                return e < 0 && (e = -e,
                    t = "-"),
                t + j(~~(10 * e / 6), 4)
            },
            X: function() {
                return this.unix()
            }
        };
        while (k.length)
            i = k.pop(),
                A[i + "o"] = M(A[i]);
        while (L.length)
            i = L.pop(),
                A[i + i] = O(A[i], 2);
        A.DDDD = O(A.DDD, 3),
            _.prototype = {
                set: function(e) {
                    var t, n;
                    for (n in e)
                        t = e[n],
                            typeof t == "function" ? this[n] = t : this["_" + n] = t
                },
                _months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
                months: function(e) {
                    return this._months[e.month()]
                },
                _monthsShort: "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
                monthsShort: function(e) {
                    return this._monthsShort[e.month()]
                },
                monthsParse: function(e) {
                    var n, r, i, s;
                    this._monthsParse || (this._monthsParse = []);
                    for (n = 0; n < 12; n++) {
                        this._monthsParse[n] || (r = t([2e3, n]),
                            i = "^" + this.months(r, "") + "|^" + this.monthsShort(r, ""),
                            this._monthsParse[n] = new RegExp(i.replace(".", ""),"i"));
                        if (this._monthsParse[n].test(e))
                            return n
                    }
                },
                _weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
                weekdays: function(e) {
                    return this._weekdays[e.day()]
                },
                _weekdaysShort: "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
                weekdaysShort: function(e) {
                    return this._weekdaysShort[e.day()]
                },
                _weekdaysMin: "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
                weekdaysMin: function(e) {
                    return this._weekdaysMin[e.day()]
                },
                _longDateFormat: {
                    LT: "h:mm A",
                    L: "MM/DD/YYYY",
                    LL: "MMMM D YYYY",
                    LLL: "MMMM D YYYY LT",
                    LLLL: "dddd, MMMM D YYYY LT"
                },
                longDateFormat: function(e) {
                    var t = this._longDateFormat[e];
                    return !t && this._longDateFormat[e.toUpperCase()] && (t = this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function(e) {
                        return e.slice(1)
                    }),
                        this._longDateFormat[e] = t),
                        t
                },
                meridiem: function(e, t, n) {
                    return e > 11 ? n ? "pm" : "PM" : n ? "am" : "AM"
                },
                _calendar: {
                    sameDay: "[Today at] LT",
                    nextDay: "[Tomorrow at] LT",
                    nextWeek: "dddd [at] LT",
                    lastDay: "[Yesterday at] LT",
                    lastWeek: "[last] dddd [at] LT",
                    sameElse: "L"
                },
                calendar: function(e, t) {
                    var n = this._calendar[e];
                    return typeof n == "function" ? n.apply(t) : n
                },
                _relativeTime: {
                    future: "in %s",
                    past: "%s ago",
                    s: "a few seconds",
                    m: "a minute",
                    mm: "%d minutes",
                    h: "an hour",
                    hh: "%d hours",
                    d: "a day",
                    dd: "%d days",
                    M: "a month",
                    MM: "%d months",
                    y: "a year",
                    yy: "%d years"
                },
                relativeTime: function(e, t, n, r) {
                    var i = this._relativeTime[n];
                    return typeof i == "function" ? i(e, t, n, r) : i.replace(/%d/i, e)
                },
                pastFuture: function(e, t) {
                    var n = this._relativeTime[e > 0 ? "future" : "past"];
                    return typeof n == "function" ? n(t) : n.replace(/%s/i, t)
                },
                ordinal: function(e) {
                    return this._ordinal.replace("%d", e)
                },
                _ordinal: "%d",
                preparse: function(e) {
                    return e
                },
                postformat: function(e) {
                    return e
                },
                week: function(e) {
                    return tt(e, this._week.dow, this._week.doy)
                },
                _week: {
                    dow: 0,
                    doy: 6
                }
            },
            t = function(e, t, n) {
                return nt({
                    _i: e,
                    _f: t,
                    _l: n,
                    _isUTC: !1
                })
            }
            ,
            t.utc = function(e, t, n) {
                return nt({
                    _useUTC: !0,
                    _isUTC: !0,
                    _l: n,
                    _i: e,
                    _f: t
                })
            }
            ,
            t.unix = function(e) {
                return t(e * 1e3)
            }
            ,
            t.duration = function(e, n) {
                var r = t.isDuration(e), i = typeof e == "number", s = r ? e._data : i ? {} : e, o;
                return i && (n ? s[n] = e : s.milliseconds = e),
                    o = new P(s),
                r && e.hasOwnProperty("_lang") && (o._lang = e._lang),
                    o
            }
            ,
            t.version = n,
            t.defaultFormat = E,
            t.lang = function(e, n) {
                var r;
                if (!e)
                    return t.fn._lang._abbr;
                n ? R(e, n) : s[e] || U(e),
                    t.duration.fn._lang = t.fn._lang = U(e)
            }
            ,
            t.langData = function(e) {
                return e && e._lang && e._lang._abbr && (e = e._lang._abbr),
                    U(e)
            }
            ,
            t.isMoment = function(e) {
                return e instanceof D
            }
            ,
            t.isDuration = function(e) {
                return e instanceof P
            }
            ,
            t.fn = D.prototype = {
                clone: function() {
                    return t(this)
                },
                valueOf: function() {
                    return +this._d
                },
                unix: function() {
                    return Math.floor(+this._d / 1e3)
                },
                toString: function() {
                    return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")
                },
                toDate: function() {
                    return this._d
                },
                toJSON: function() {
                    return t.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")
                },
                toArray: function() {
                    var e = this;
                    return [e.year(), e.month(), e.date(), e.hours(), e.minutes(), e.seconds(), e.milliseconds()]
                },
                isValid: function() {
                    return this._isValid == null && (this._a ? this._isValid = !q(this._a, (this._isUTC ? t.utc(this._a) : t(this._a)).toArray()) : this._isValid = !isNaN(this._d.getTime())),
                        !!this._isValid
                },
                utc: function() {
                    return this._isUTC = !0,
                        this
                },
                local: function() {
                    return this._isUTC = !1,
                        this
                },
                format: function(e) {
                    var n = X(this, e || t.defaultFormat);
                    return this.lang().postformat(n)
                },
                add: function(e, n) {
                    var r;
                    return typeof e == "string" ? r = t.duration(+n, e) : r = t.duration(e, n),
                        F(this, r, 1),
                        this
                },
                subtract: function(e, n) {
                    var r;
                    return typeof e == "string" ? r = t.duration(+n, e) : r = t.duration(e, n),
                        F(this, r, -1),
                        this
                },
                diff: function(e, n, r) {
                    var i = this._isUTC ? t(e).utc() : t(e).local(), s = (this.zone() - i.zone()) * 6e4, o, u;
                    return n && (n = n.replace(/s$/, "")),
                        n === "year" || n === "month" ? (o = (this.daysInMonth() + i.daysInMonth()) * 432e5,
                            u = (this.year() - i.year()) * 12 + (this.month() - i.month()),
                            u += (this - t(this).startOf("month") - (i - t(i).startOf("month"))) / o,
                        n === "year" && (u /= 12)) : (o = this - i - s,
                            u = n === "second" ? o / 1e3 : n === "minute" ? o / 6e4 : n === "hour" ? o / 36e5 : n === "day" ? o / 864e5 : n === "week" ? o / 6048e5 : o),
                        r ? u : B(u)
                },
                from: function(e, n) {
                    return t.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!n)
                },
                fromNow: function(e) {
                    return this.from(t(), e)
                },
                calendar: function() {
                    var e = this.diff(t().startOf("day"), "days", !0)
                        , n = e < -6 ? "sameElse" : e < -1 ? "lastWeek" : e < 0 ? "lastDay" : e < 1 ? "sameDay" : e < 2 ? "nextDay" : e < 7 ? "nextWeek" : "sameElse";
                    return this.format(this.lang().calendar(n, this))
                },
                isLeapYear: function() {
                    var e = this.year();
                    return e % 4 === 0 && e % 100 !== 0 || e % 400 === 0
                },
                isDST: function() {
                    return this.zone() < t([this.year()]).zone() || this.zone() < t([this.year(), 5]).zone()
                },
                day: function(e) {
                    var t = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
                    return e == null ? t : this.add({
                        d: e - t
                    })
                },
                startOf: function(e) {
                    e = e.replace(/s$/, "");
                    switch (e) {
                        case "year":
                            this.month(0);
                        case "month":
                            this.date(1);
                        case "week":
                        case "day":
                            this.hours(0);
                        case "hour":
                            this.minutes(0);
                        case "minute":
                            this.seconds(0);
                        case "second":
                            this.milliseconds(0)
                    }
                    return e === "week" && this.day(0),
                        this
                },
                endOf: function(e) {
                    return this.startOf(e).add(e.replace(/s?$/, "s"), 1).subtract("ms", 1)
                },
                isAfter: function(e, n) {
                    return n = typeof n != "undefined" ? n : "millisecond",
                    +this.clone().startOf(n) > +t(e).startOf(n)
                },
                isBefore: function(e, n) {
                    return n = typeof n != "undefined" ? n : "millisecond",
                    +this.clone().startOf(n) < +t(e).startOf(n)
                },
                isSame: function(e, n) {
                    return n = typeof n != "undefined" ? n : "millisecond",
                    +this.clone().startOf(n) === +t(e).startOf(n)
                },
                zone: function() {
                    return this._isUTC ? 0 : this._d.getTimezoneOffset()
                },
                daysInMonth: function() {
                    return t.utc([this.year(), this.month() + 1, 0]).date()
                },
                dayOfYear: function(e) {
                    var n = r((t(this).startOf("day") - t(this).startOf("year")) / 864e5) + 1;
                    return e == null ? n : this.add("d", e - n)
                },
                isoWeek: function(e) {
                    var t = tt(this, 1, 4);
                    return e == null ? t : this.add("d", (e - t) * 7)
                },
                week: function(e) {
                    var t = this.lang().week(this);
                    return e == null ? t : this.add("d", (e - t) * 7)
                },
                lang: function(t) {
                    return t === e ? this._lang : (this._lang = U(t),
                        this)
                }
            };
        for (i = 0; i < T.length; i++)
            rt(T[i].toLowerCase().replace(/s$/, ""), T[i]);
        rt("year", "FullYear"),
            t.fn.days = t.fn.day,
            t.fn.weeks = t.fn.week,
            t.fn.isoWeeks = t.fn.isoWeek,
            t.duration.fn = P.prototype = {
                weeks: function() {
                    return B(this.days() / 7)
                },
                valueOf: function() {
                    return this._milliseconds + this._days * 864e5 + this._months * 2592e6
                },
                humanize: function(e) {
                    var t = +this
                        , n = et(t, !e, this.lang());
                    return e && (n = this.lang().pastFuture(t, n)),
                        this.lang().postformat(n)
                },
                lang: t.fn.lang
            };
        for (i in N)
            N.hasOwnProperty(i) && (st(i, N[i]),
                it(i.toLowerCase()));
        st("Weeks", 6048e5),
            t.lang("en", {
                ordinal: function(e) {
                    var t = e % 10
                        , n = ~~(e % 100 / 10) === 1 ? "th" : t === 1 ? "st" : t === 2 ? "nd" : t === 3 ? "rd" : "th";
                    return e + n
                }
            }),
            t.lang("zh-cn", {
                months: "\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),
                monthsShort: "1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),
                weekdays: "\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),
                weekdaysShort: "\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),
                weekdaysMin: "\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),
                longDateFormat: {
                    LT: "Ah\u70b9mm",
                    L: "YYYY\u5e74MMMD\u65e5",
                    LL: "YYYY\u5e74MMMD\u65e5",
                    LLL: "YYYY\u5e74MMMD\u65e5LT",
                    LLLL: "YYYY\u5e74MMMD\u65e5ddddLT",
                    l: "YYYY\u5e74MMMD\u65e5",
                    ll: "YYYY\u5e74MMMD\u65e5",
                    lll: "YYYY\u5e74MMMD\u65e5LT",
                    llll: "YYYY\u5e74MMMD\u65e5ddddLT"
                },
                meridiem: function(e, t, n) {
                    var r = e * 100 + t;
                    return r < 600 ? "\u51cc\u6668" : r < 900 ? "\u65e9\u4e0a" : r < 1130 ? "\u4e0a\u5348" : r < 1230 ? "\u4e2d\u5348" : r < 1800 ? "\u4e0b\u5348" : "\u665a\u4e0a"
                },
                calendar: {
                    sameDay: function() {
                        return this.minutes() === 0 ? "[\u4eca\u5929]Ah[\u70b9\u6574]" : "[\u4eca\u5929]LT"
                    },
                    nextDay: function() {
                        return this.minutes() === 0 ? "[\u660e\u5929]Ah[\u70b9\u6574]" : "[\u660e\u5929]LT"
                    },
                    lastDay: function() {
                        return this.minutes() === 0 ? "[\u6628\u5929]Ah[\u70b9\u6574]" : "[\u6628\u5929]LT"
                    },
                    nextWeek: function() {
                        var e, n;
                        return e = t().startOf("week"),
                            n = this.unix() - e.unix() >= 604800 ? "[\u4e0b]" : "[\u672c]",
                            this.minutes() === 0 ? n + "dddAh\u70b9\u6574" : n + "dddAh\u70b9mm"
                    },
                    lastWeek: function() {
                        var e, n;
                        return e = t().startOf("week"),
                            n = this.unix() < e.unix() ? "[\u4e0a]" : "[\u672c]",
                            this.minutes() === 0 ? n + "dddAh\u70b9\u6574" : n + "dddAh\u70b9mm"
                    },
                    sameElse: "L"
                },
                ordinal: function(e, t) {
                    switch (t) {
                        case "d":
                        case "D":
                        case "DDD":
                            return e + "\u65e5";
                        case "M":
                            return e + "\u6708";
                        case "w":
                        case "W":
                            return e + "\u5468";
                        default:
                            return e
                    }
                },
                relativeTime: {
                    future: "%s\u5185",
                    past: "%s\u524d",
                    s: "\u51e0\u79d2",
                    m: "1\u5206\u949f",
                    mm: "%d\u5206\u949f",
                    h: "1\u5c0f\u65f6",
                    hh: "%d\u5c0f\u65f6",
                    d: "1\u5929",
                    dd: "%d\u5929",
                    M: "1\u4e2a\u6708",
                    MM: "%d\u4e2a\u6708",
                    y: "1\u5e74",
                    yy: "%d\u5e74"
                },
                week: {
                    dow: 1,
                    doy: 4
                }
            }),
        o && (module.exports = t),
        typeof ender == "undefined" && (this.moment = t),
        typeof define == "function" && define.amd && define("moment", [], function() {
            return t
        })
    }
        .call(this),
    define("models/group", ["require", "exports", "module", "model-init", "./stock", "moment", "Tool", "q", "rt"], function(e, t, n) {
        "use strict";
        var r = e("model-init"), i = e("./stock"), s = e("moment"), o, u = r._, a = e("Tool").single(), f = e("q"), l = 0, c = e("rt"), h = r.extend({
            attrs: {
                grouplist: null ,
                groupid: null ,
                nickname: null ,
                StockList: null ,
                remindArr: null ,
                marketArr: null ,
                marketState: null ,
                msgbox: null ,
                mkdp: "all",
                isSort: !1,
                hkRealtimeGroupId: null ,
                sortName: null ,
                holdHistory: null ,
                usMarketDate: null ,
                isBatchMode: 0,
                isSelected: {},
                StockList_Length: 0
            },
            fetchFromHash: function() {
                var e = location.hash.replace(/^#(\/)?/, "").split("/");
                if (e.length == 3)
                    var t = e[0] || "1"
                        , n = e[1] || "all"
                        , r = e[2] == "yk" ? "yk" : "mk"
                        , i = this;
                else
                    var t = null
                        , n = "all"
                        , r = "mk";
                return {
                    groupid: t,
                    mkdp: n,
                    mk: r
                }
            },
            bindToHashChange: function() {
                this.on("change:groupid", u.bind(this.syncToHash, this)),
                    this.on("change:mkdp", u.bind(this.syncToHash, this)),
                    app.page.views.stock.on("marketChange", u.bind(this.syncToHash, this))
            },
            syncToHash: function() {
                var e = this.get("groupid") || "1"
                    , t = this.get("mkdp") || "all"
                    , n = app.page.views.stock.mk || "mk";
                location.hash = ["", e, t, n].join("/")
            },
            initialize: function(e, t) {
                h.superclass.initialize.call(this, e);
                var n = this.fetchFromHash()
                    , r = this
                    , i = "";
                this.on("change:grouplist", function() {
                    r._resetHKRealTimeGroup()
                }),
                    n.groupid = t ? null : n.groupid,
                    n.groupid === null ? i = "http://webstock.finance.qq.com/stockapp/zixuanguweb/stocklist?uin=" + app.QQuin + "&app=guanwang&range=group" : i = "http://webstock.finance.qq.com/stockapp/zixuanguweb/stocklist?uin=" + app.QQuin + "&app=guanwang&range=group&grpid=" + n.groupid,
                    app.QosS.timePoint6()();
                var s = ""
                    , o = "";
                app.loginType == "wx" ? (s = "http://group.finance.qq.com/newstockgroup/Weixin/userinfo",
                    o = "callback") : (s = "http://stockapp.finance.qq.com/ptlogin/index.php",
                    o = "_callback"),
                    h.Q.all([this.ajax("http://web.ifzq.finance.qq.com/other/tips/hastips/query?&app=web&uin=" + app.QQuin, null , null , "_callback"), this.ajax(s, null , null , o), this.load("http://message.finance.qq.com/tips/get_msg_num.php?uid=" + app.QQuin, {
                        charset: "GB2312"
                    })]).then(function(e) {
                        r.set("remindArr", e[0].data),
                            window.v_msg_num && !u.isEmpty(window.v_msg_num) ? r.set("msgbox", window.v_msg_num) : r.set("msgbox", 0),
                        e[1].data && e[1].data.nickname && r.set("nickname", e[1].data.nickname)
                    });
                var a = function(e) {
                        return e < 10 ? "0" + e : e
                    }
                    , l = new Date
                    , c = l.getFullYear()
                    , p = l.getMonth() + 1
                    , d = l.getDate()
                    , v = l.getHours()
                    , m = l.getMinutes();
                window.v_marketStat = c + "-" + a(p) + "-" + a(d) + " " + a(v) + ":" + a(m) + ":01|HK_close_ |SH_close_ |SZ_close_ |US_close_ |SQ_close_ |DS_close_ |ZS_close_ ",
                    window.v_stdunixtime = l.getTime(),
                    h.Q(r.load("http://qt.gtimg.qq.com/?q=marketStat,stdunixtime&_=" + (new Date).getTime(), {
                        charset: "GB2312"
                    })).then(function(e) {}),
                    h.Q.all([this.ajax(i), app.pushQt(["sh000001", "usIXIC", "r_hkHSI"], ["TimeStamp"])]).then(function(t) {
                        if (!t[0].data.grouplist)
                            return app.ptlogout(!0);
                        t[0].data.grouplist.stocklist || r.initialize(e, 1),
                            r._marketState(t[1]),
                            app.pushQt(["sh000001", "usIXIC", "r_hkHSI"], ["TimeStamp"], function(e) {
                                r._marketState(e)
                            }, "market"),
                            r._timerS = (new Date).getTime() / 1e3 - Number(window.v_stdunixtime),
                            setInterval(function() {
                                r._onSkts(!0)
                            }, 1e3),
                            r.set("groupid", t[0].data.grouplist.groupinfo.id),
                            n.groupid = t[0].data.grouplist.groupinfo.id,
                            r.set("grouplist", t[0].data.groups),
                            f(r.ajax("http://webstock.finance.qq.com/stockapp/zixuanguweb/todayYingkui?grpid=" + n.groupid + "&app=web&uin=" + app.QQuin)).then(function(e) {
                                r.set("holdHistory", e.data.data, {
                                    silent: !0
                                });
                                if (e.data.us_date)
                                    r.set("usMarketDate", e.data.us_date, {
                                        silent: !0
                                    });
                                else {
                                    var e = new Date;
                                    e = e.getTime() - 432e5,
                                        e = new Date(e),
                                        r.set("usMarketDate", e.getFullYear() + "-" + (e.getMonth() + 1) + "-" + e.getDate(), {
                                            silent: !1
                                        })
                                }
                                r.set("StockList", t[0].data.grouplist.stocklist, {
                                    silent: !0
                                }),
                                    app.QosS.timePoint7()();
                                var i = $.map(r.get("StockList"), function(e, t) {
                                    return t
                                }).length;
                                r.set("StockList_Length", i);
                                var s = r._qtFormatData2();
                                s ? s.done(function() {
                                    r.trigger("inited"),
                                    n.mkdp in r.get("marketArr") && r.syncByMk(n.mkdp),
                                        app.page.views.stock.trigger("marketChange", n.mk),
                                        r.bindToHashChange(),
                                        setTimeout(function() {
                                            $(window).trigger("resize")
                                        })
                                }) : (r.trigger("inited"),
                                    r.bindToHashChange()),
                                    setTimeout(function() {
                                        0,
                                        app.groupAdd && app.groupAdd.gid && app.groupAdd.groupList && (0,
                                            r.groupAddStock({
                                                gid: app.groupAdd.gid,
                                                codes: app.groupAdd.groupList
                                            }))
                                    }, 12e4)
                            })
                    }, function(e) {
                        e.code !== 0 && app.ptlogout(!0)
                    })
            },
            _onSkts: function(e, t) {
                var n = this
                    , r = s.unix((new Date).getTime() / 1e3 - n._timerS);
                (e || r.minute() % 30 === 0 && r.seconds() === 0) && h.Q.all([n.load("http://qt.gtimg.qq.com/?q=marketStat,stdunixtime&_=" + (new Date).getTime(), {
                    charset: "GB2312"
                })]).then(function(e) {
                    n._timerS = (new Date).getTime() / 1e3 - Number(window.v_stdunixtime),
                    t && t()
                })
            },
            tmpData: {},
            sortBy: function(e, t) {
                var n = t || 0
                    , r = t == 0 ? "none" : t == 1 ? "down" : "up";
                app.boss.act("sort_" + e + "_" + r),
                    this.set("isSort", n > 0);
                var i = this.get("StockList");
                if (n !== 0) {
                    n === 1 && (this.tmpData = i);
                    var s = u.pairs(i);
                    e === "name" ? s.sort(function(e, t) {
                        var r = ["ga", "hk", "us", "jj"]
                            , i = u.indexOf(r, e[1].get("mk"))
                            , s = u.indexOf(r, t[1].get("mk"));
                        return i === s ? function() {
                            return i = e[1].get("symbol").substring(2),
                                s = t[1].get("symbol").substring(2),
                                i == s ? 0 : n === 1 ? i > s ? 1 : -1 : i < s ? 1 : -1
                        }() : n === 1 ? i > s ? 1 : -1 : i < s ? 1 : -1
                    }) : e === "turnover" ? s.sort(function(t, r) {
                        var i = /lof|kj/.test(t[1].get("mkType")) ? 0 : 1
                            , s = /lof|kj/.test(r[1].get("mkType")) ? 0 : 1;
                        return i === s ? function() {
                            return i = t[1].get("mk") === "us" ? 0 : 1,
                                s = r[1].get("mk") === "us" ? 0 : 1,
                                i === s ? function() {
                                    i = isNaN(t[1].get(e)) ? 0 : t[1].get(e),
                                        s = isNaN(r[1].get(e)) ? 0 : r[1].get(e);
                                    if (i == s)
                                        return 0;
                                    if (n === 1)
                                        return i !== 0 && s === 0 ? -1 : i === 0 && s !== 0 ? 1 : i < s ? 1 : -1;
                                    return i !== 0 && s === 0 ? -1 : i === 0 && s !== 0 ? 1 : i > s ? 1 : -1
                                }() : i < s ? 1 : -1
                        }() : i < s ? 1 : -1
                    }) : e === "turnoverRate" ? s.sort(function(t, r) {
                        var i = /lof|kj/.test(t[1].get("mkType")) ? 0 : 1
                            , s = /lof|kj/.test(r[1].get("mkType")) ? 0 : 1;
                        return i === s ? function() {
                            return i = /hk|us/.test(t[1].get("mk")) ? 0 : 1,
                                s = /hk|us/.test(r[1].get("mk")) ? 0 : 1,
                                i === s ? function() {
                                    i = isNaN(t[1].get(e)) ? 0 : t[1].get(e),
                                        s = isNaN(r[1].get(e)) ? 0 : r[1].get(e);
                                    if (i == s)
                                        return 0;
                                    if (n === 1)
                                        return i !== 0 && s === 0 ? -1 : i === 0 && s !== 0 ? 1 : i < s ? 1 : -1;
                                    return i !== 0 && s === 0 ? -1 : i === 0 && s !== 0 ? 1 : i > s ? 1 : -1
                                }() : i < s ? 1 : -1
                        }() : i < s ? 1 : -1
                    }) : /volume|marketValue|peRatio/.test(e) ? s.sort(function(t, r) {
                        var i = /lof|kj/.test(t[1].get("mkType")) ? 0 : 1
                            , s = /lof|kj/.test(r[1].get("mkType")) ? 0 : 1;
                        return i === s ? function() {
                            i = isNaN(t[1].get(e)) ? 0 : t[1].get(e),
                                s = isNaN(r[1].get(e)) ? 0 : r[1].get(e);
                            if (i == s)
                                return 0;
                            if (n === 1)
                                return i !== 0 && s === 0 ? -1 : i === 0 && s !== 0 ? 1 : i < s ? 1 : -1;
                            return i !== 0 && s === 0 ? -1 : i === 0 && s !== 0 ? 1 : i > s ? 1 : -1
                        }() : i > s ? -1 : 1
                    }) : e === "todayPL" ? s.sort(function(t, r) {
                        var i = t[1].get("allnumbers") ? 1 : 0
                            , s = r[1].get("allnumbers") ? 1 : 0;
                        return i == s ? function() {
                            var i = isNaN(t[1].get(e)) ? 0 : t[1].get(e)
                                , s = isNaN(r[1].get(e)) ? 0 : r[1].get(e);
                            return i == s ? 0 : n === 1 ? i < s ? 1 : -1 : i > s ? 1 : -1
                        }() : i > s ? -1 : 1
                    }) : /latestPrice|updownLimit|updownExtent/.test(e) ? s.sort(function(t, r) {
                        var i = isNaN(t[1].get(e)) ? 0 : t[1].get(e)
                            , s = isNaN(r[1].get(e)) ? 0 : r[1].get(e);
                        return t[1].get("latestPrice") == "S" && r[1].get("latestPrice") == "S" ? 0 : t[1].get("latestPrice") == "S" ? 1 : r[1].get("latestPrice") == "S" ? -1 : i == s ? 0 : n === 1 ? i < s ? 1 : -1 : i > s ? 1 : -1
                    }) : /note|yingkui|remind/.test(e) ? (e == "yingkui" && (e = "allPL"),
                        s.sort(function(t, r) {
                            if (e == "note")
                                var i = (t[1].get(e) || "").length
                                    , s = (r[1].get(e) || "").length;
                            else if (e == "remind")
                                var i = t[1].get(e) ? 1 : 0
                                    , s = r[1].get(e) ? 1 : 0;
                            else
                                var i = t[1].get(e) != 0 ? 1 : 0
                                    , s = r[1].get(e) != 0 ? 1 : 0;
                            return i == s ? 0 : n === 1 ? i < s ? 1 : -1 : i > s ? 1 : -1
                        })) : s.sort(function(t, r) {
                        var i = isNaN(t[1].get(e)) ? 0 : t[1].get(e)
                            , s = isNaN(r[1].get(e)) ? 0 : r[1].get(e);
                        if (i == s)
                            return 0;
                        if (n === 1)
                            return i !== 0 && s === 0 ? -1 : i === 0 && s !== 0 ? 1 : i < s ? 1 : -1;
                        return i !== 0 && s === 0 ? -1 : i === 0 && s !== 0 ? 1 : i > s ? 1 : -1
                    }),
                        this.set("StockList", u.object(s), {
                            silent: !0,
                            override: !0
                        })
                } else
                    u.isEmpty(this.tmpData) || this.set("StockList", this.tmpData, {
                        silent: !0,
                        override: !0
                    });
                return this._checkHKRealTime(),
                    this.checkReminder(),
                    this
            },
            checkReminder: function() {
                var e = this.get("remindArr")
                    , t = this.get("StockList");
                u.each(t, function(t) {
                    $.inArray(t.get("symbol"), e) >= 0 ? t.set("remind", !0) : t.set("remind", !1)
                })
            },
            _marketState: function(e) {
                var t = {}
                    , n = window.v_marketStat && window.v_marketStat.split("|");
                n.shift(),
                    u.each(n, function(e) {
                        var n = e.split("_")
                            , r = n[0].toLowerCase();
                        t[r] = n.shift() && n
                    });
                if (e) {
                    var r = this.get("marketState");
                    if (e.sh000001) {
                        var i = e.sh000001.TimeStamp || window.v_sh000001
                            , s = r && r.sh;
                        if (e.sh000001.TimeStamp) {
                            s = e.sh000001.TimeStamp.substring(8);
                            var o = [];
                            for (var a = 0; a <= 4; a += 2)
                                o.push(s.substring(a, a + 2));
                            s = o.join(":")
                        } else if (window.v_sh000001)
                            s = window.v_sh000001.substring(11);
                        else {
                            var f = new Date
                                , l = [];
                            l.push(f.getHours()),
                                l.push(f.getMinutes()),
                                l.push("00"),
                                s = l.join(":")
                        }
                        t.sh.push(s)
                    }
                    if (e.r_hkHSI) {
                        var i = e.r_hkHSI.TimeStamp || window.v_r_hkHSI
                            , s = r && r.hk;
                        i && (s = i.substring(11)),
                            t.hk.push(s)
                    }
                    if (e.usIXIC) {
                        var i = e.usIXIC.TimeStamp || window.v_usIXIC
                            , s = r && r.us;
                        i && (s = i.substring(11)),
                            t.us.push(s)
                    }
                }
                this.set("marketState", t)
            },
            _qtFormatData2: function() {
                var e = this
                    , t = this.get("remindArr")
                    , n = {
                        ga: 0,
                        hk: 0,
                        us: 0,
                        jj: 0
                    }
                    , r = this.get("StockList")
                    , s = this.get("holdHistory") || {}
                    , a = {};
                e.tmpData = {},
                    clearInterval(o);
                if (u.isEmpty(r)) {
                    e.set("StockList", {}),
                        e.set("marketArr", n, {
                            override: !0
                        }),
                        e.syncByMk("all"),
                        e.trigger("render");
                    return
                }
                return u.each(r, function(e, r) {
                    e.type === "LOF" ? (e.ftsymbol = "jj" + e.symbol.substring(2),
                    e.market != "jj" && (e.nativeMarket = e.market),
                        e.market = "jj") : e.ftsymbol = e.symbol,
                        $.inArray(e.symbol, t) >= 0 ? e.remind = !0 : e.remind = !1,
                        /^hk|us|jj$/.test(e.market) ? (n[e.market]++,
                            e.mk = e.market) : /GP|ZS|QZ|ZQ/.test(e.type) ? (n.ga++,
                            e.mk = "ga") : (n.jj++,
                            e.mk = "jj"),
                        e.holdHistory = s[e.symbol],
                        e.index = r;
                    var o = i.create(e);
                    a[o.get("qtsymbol")] = o
                }),
                    e.set("marketArr", n, {
                        override: !0
                    }),
                    e.set("StockList", a, {
                        silent: !0
                    }),
                    e._checkHKRealTime(),
                    e.renderFirst = 0,
                    e._syncQt("timerupdate")
            },
            _syncQt: function(e) {
                var t = this
                    , n = this.get("StockList")
                    , r = []
                    , i = this.get("marketState")
                    , s = 0;
                u.each(n, function(n) {
                    var i = n.get("symbol").substring(0, 2)
                        , s = function(r) {
                            var i = n.get("qtsymbol");
                            return !!t.renderFirst && e != "update" || !n.get("yanshi") && n.get("type").toUpperCase() != "ZS" || r != "hk" ? i : "r_" + i
                        }(i);
                    r.push(s),
                    n.get("nativeMarket") && r.push(n.get("symbol"))
                }),
                app.pushReg.stocklistReg && (app.Push.unreg(app.pushReg.stocklistReg),
                    app.Push.hkstorage = {}),
                app.pushReg.singleArr && (0,
                    u.each(app.pushReg.singleArr, function(e) {
                        0,
                            app.Push.unreg(e)
                    }));
                var o = function(r) {
                        var i = !t.renderFirst || e == "update" ? !0 : !1;
                        u.each(r, function(e, t) {
                            if (/^[hk|r_hk]/.test(t) && !/r_hkHSI|r_hkHSCEI|r_hkHSCCI/.test(t)) {
                                var n = app.Push.hkstorage["v_" + t]
                                    , r = i ? !0 : n && !u.isUndefined(n.Name) && n.Name != "" ? !1 : !0;
                                window["v_" + t] = r ? e : n,
                                    app.Push.hkstorage["v_" + t] = window["v_" + t]
                            } else
                                window["v_" + t] = e
                        }),
                            t.trigger("onQtData"),
                            u.each(n, function(e) {
                                e.setQtData()
                            }),
                        t.renderFirst || (t.trigger("render"),
                            t.renderFirst = 1),
                        e === "update" && (t.trigger("update"),
                            t._onSkts(!0),
                            e = "timerupdate")
                    }
                    , a = e === "update" ? 1 : 0;
                app.QosS.timePoint10()(),
                    app.Push.hkstorage = {};
                var f = h.Q(app.pushQt(r, app.longKeys, o, "stocklistReg", a)).then(function(e) {
                    app.QosS.timePoint3()(),
                    QosS.t[3] && QosS.t[10] && (app.boss.act("pushTime_" + (QosS.t[3] - QosS.t[10])),
                    app.reportGetData || (app.reportGetData = 1,
                        c("stock_web_pstock").times("getData", QosS.t[3] - QosS.t[10]).push())),
                        0
                }, function() {
                    0
                });
                return f
            },
            resetRegPush: function() {
                var e = this;
                app.Push.unreg(app.pushReg.stocklistReg)
            },
            syncById: function(e) {
                var t = this;
                h.Q.all([this.ajax("http://webstock.finance.qq.com/stockapp/zixuanguweb/stocklist?uin=" + app.QQuin + "&app=web&range=group&grpid=" + e), this.ajax("http://webstock.finance.qq.com/stockapp/zixuanguweb/todayYingkui?grpid=" + e + "&app=web&uin=" + app.QQuin)]).then(function(e) {
                    t.set("groupid", e[0].data.grouplist.groupinfo.id),
                        t.set("grouplist", e[0].data.groups);
                    var n = t.get("remindArr");
                    t.set("StockList", e[0].data.grouplist.stocklist, {
                        silent: !0
                    });
                    var r = $.map(t.get("StockList"), function(e, t) {
                        return t
                    }).length;
                    t.set("StockList_Length", r),
                        t.set("mkdp", "all"),
                        t.set("isSort", !1),
                        t.set("holdHistory", e[1].data.data, {
                            silent: !0
                        });
                    if (e[1].data.us_date)
                        t.set("usMarketDate", e[1].data.us_date, {
                            silent: !0
                        });
                    else {
                        var i = new Date;
                        i = i.getTime() - 432e5,
                            i = new Date(i),
                            t.set("usMarketDate", i.getFullYear() + "-" + (i.getMonth() + 1) + "-" + i.getDate(), {
                                silent: !1
                            })
                    }
                    t._qtFormatData2()
                }, function(e) {
                    if (e.code == -2) {
                        app.ptlogout(!0);
                        return
                    }
                })
            },
            syncByMk: function(e) {
                this.set("mkdp", e),
                    this.trigger("marketDisplay", e);
                var t = $(".h_marketBox ul");
                t.length && app.mktbox && app.mktbox.goToLine(e),
                    this.setColor()
            },
            _actionUrl: function(e) {
                return "http://webstock.finance.qq.com/stockapp/Updstockweb/operseq?&app=web&uin=" + app.QQuin + "&seq=" + encodeURI(e)
            },
            setColor: function() {
                var e = 0;
                $(".zxg-stocklist dl").each(function(t, n) {
                    n.style.display != "none" && ($(n).attr("tabindex", e),
                        e % 2 == 0 ? $(n).removeClass("odd").addClass("even") : $(n).removeClass("even").addClass("odd"),
                        e++)
                })
            },
            addStock: function(e) {
                var t = this
                    , n = f.defer()
                    , r = a.stringify([{
                        grpid: this.get("groupid"),
                        act: "sa",
                        code: e.symbol,
                        timestamp: (new Date).getTime()
                    }])
                    , s = this.get("remindArr");
                e.type === "LOF" ? (e.ftsymbol = "jj" + e.symbol.substring(2),
                    e.market = "jj") : e.ftsymbol = e.symbol,
                    $.inArray(e.symbol, s) > 0 ? e.remind = !0 : e.remind = !1,
                    /^hk|us|jj$/.test(e.market) ? e.mk = e.market : /GP|ZS|ZQ/.test(e.type) ? e.mk = "ga" : e.mk = "jj";
                var o = i.create(e)
                    , l = function(e) {
                        var n = e.substring(0, 2)
                            , r = o.get("qtsymbol");
                        return n === "hk" && o.get("type") !== "ZS" && t.get("groupid") < t.get("hkRealtimeGroupId") ? "r_" + r : r
                    }(o.get("symbol"));
                return f.all([this.ajax(this._actionUrl(r))]).then(function(e) {
                    var r = e[0].data;
                    if (u.isUndefined(r.RetMap)) {
                        var i = [];
                        i.push(l);
                        var s = function(e) {
                                0,
                                    u.each(e, function(e, t) {
                                        window["v_" + t] = e
                                    }),
                                    o.setQtData()
                            }
                            ;
                        f(app.pushQt(i, app.longKeys, s, "single")).then(function(e) {
                            u.each(e, function(e, t) {
                                window["v_" + t] = e
                            });
                            var r = t.get("StockList");
                            o.setQtData();
                            var i = {};
                            i[o.get("qtsymbol")] = o;
                            if (t.get("isSort")) {
                                t.tmpData = u.extend({}, i, t.tmpData);
                                var s = 0;
                                u.each(t.tmpData, function(e, t) {
                                    e.set("index", s),
                                        s++
                                })
                            }
                            r = u.extend({}, i, r);
                            var s = 0;
                            u.each(r, function(e, t) {
                                e.set("index", s),
                                    s++
                            }),
                                t.get("grouplist")[t.get("groupid") - 1].hashk = 1,
                                t.set("StockList", r, {
                                    silent: !0,
                                    override: !0
                                });
                            var a = t.get("StockList_Length");
                            t.set("StockList_Length", a + 1),
                                t._resetHKRealTimeGroup(),
                                t._checkHKRealTime(),
                                n.resolve({
                                    code: 0
                                }),
                                t.set("mkdp", "all"),
                                t._marketType(),
                                t.trigger("render:add", o)
                        })
                    } else
                        r = {
                            code: r.RetMap[1],
                            error_info: "\u6dfb\u52a0\u80a1\u7968\u5931\u8d25"
                        },
                            n.reject(r)
                }),
                    n.promise
            },
            _marketType: function() {
                var e = this.get("StockList")
                    , t = {
                        ga: 0,
                        hk: 0,
                        us: 0,
                        jj: 0
                    };
                u.each(e, function(e) {
                    /^hk|us|jj$/.test(e.get("market")) ? t[e.get("market")]++ : /GP|ZS|ZQ/.test(e.get("type")) ? t.ga++ : t.jj++
                }),
                t[this.get("mkdp")] || this.set("mkdp", "all"),
                    this.set("marketArr", t, {
                        override: !0
                    })
            },
            delStock: function(e) {
                var t = this
                    , n = t.get("StockList")
                    , r = n[e]
                    , i = a.stringify([{
                        grpid: this.get("groupid"),
                        act: "sd",
                        code: r.get("symbol"),
                        timestamp: (new Date).getTime()
                    }]);
                return this.ajax(this._actionUrl(i)).then(function(i) {
                    n[e] = null ,
                        delete n[e],
                    t.get("isSort") && (t.tmpData[e] = null ,
                        delete t.tmpData[e]),
                        t.set("StockList", n, {
                            silent: !0,
                            override: !0
                        });
                    var s = t.get("StockList_Length");
                    t.set("StockList_Length", s - 1),
                        t._checkHKRealTime(),
                        t._marketType(),
                        t.trigger("render:del", r)
                })
            },
            groupAddStock: function(e) {
                var t = this
                    , n = f.defer()
                    , r = e.gid
                    , i = [];
                return u.each(e.codes, function(e) {
                    var t = {
                        grpid: r,
                        act: "sa",
                        code: e,
                        timestamp: (new Date).getTime()
                    };
                    i.push(t)
                }),
                    i = a.stringify(i),
                    f.all([t.post("http://webstock.finance.qq.com/stockapp/Updstockweb/operseq?&app=web&uin=" + app.QQuin, {
                        seq: encodeURI(i)
                    })]).then(function(e) {
                        var t = e[0].data;
                        u.isUndefined(t.RetMap) ? n.resolve({
                            code: 0,
                            data: t
                        }) : (t = {
                            code: t.RetMap[1],
                            error_info: "\u6dfb\u52a0\u80a1\u7968\u5931\u8d25"
                        },
                            n.reject(t))
                    }),
                    n.promise
            },
            groupDelStock: function(e) {
                var t = this
                    , n = f.defer()
                    , r = e.gid
                    , i = [];
                return u.each(e.codes, function(e) {
                    var t = {
                        grpid: r,
                        act: "sd",
                        code: e,
                        timestamp: (new Date).getTime()
                    };
                    i.push(t)
                }),
                    i = a.stringify(i),
                    f.all([this.post("http://webstock.finance.qq.com/stockapp/Updstockweb/operseq?&app=web&uin=" + app.QQuin, {
                        seq: encodeURI(i)
                    })]).then(function(e) {
                        var t = e[0].data;
                        u.isUndefined(t.RetMap) ? n.resolve({
                            code: 0,
                            data: t
                        }) : (t = {
                            code: t.RetMap[1],
                            error_info: "\u6dfb\u52a0\u80a1\u7968\u5931\u8d25"
                        },
                            n.reject(t))
                    }),
                    n.promise
            },
            _checkHKRealTime: function(e) {
                var t = this.get("marketState");
                if (!t)
                    return;
                var n = this
                    , r = this.get("groupid") == this.get("hkRealtimeGroupId");
                e = e ? e : !1;
                var i = new Date(Number(v_stdunixtime) * 1e3)
                    , s = i.getHours() == 16 && i.getMinutes() <= 15;
                if (t.hk && t.hk[0] === "open" || s) {
                    var o = 0;
                    u.each(this.get("StockList"), function(t) {
                        r && o < 20 && t.get("symbol").substring(0, 2) === "hk" && t.get("type") !== "ZS" ? (t.set("yanshi", !0, {
                            silent: e
                        }),
                            o++) : t.set("yanshi", !1, {
                            silent: e
                        })
                    })
                } else
                    u.each(this.get("StockList"), function(t) {
                        t.get("symbol").substring(0, 2) === "hk" && t.get("type") !== "ZS" && t.set("yanshi", !0, {
                            silent: e
                        })
                    })
            },
            _resetHKRealTimeGroup: function() {
                var e = this.get("grouplist");
                for (var t = 0; t < e.length; t++)
                    if (e[t].hashk == 1) {
                        this.set("hkRealtimeGroupId", e[t].id);
                        break
                    }
            }
        });
        n.exports = h
    }),
    function(e) {
        function o() {
            try {
                return r in e && e[r]
            } catch (t) {
                return !1
            }
        }
        var t = {}, n = e.document, r = "localStorage", i = "script", s;
        t.disabled = !1,
            t.set = function(e, t) {}
            ,
            t.get = function(e) {}
            ,
            t.remove = function(e) {}
            ,
            t.clear = function() {}
            ,
            t.transact = function(e, n, r) {
                var i = t.get(e);
                r == null && (r = n,
                    n = null ),
                typeof i == "undefined" && (i = n || {}),
                    r(i),
                    t.set(e, i)
            }
            ,
            t.getAll = function() {}
            ,
            t.forEach = function() {}
            ,
            t.serialize = function(e) {
                return JSON.stringify(e)
            }
            ,
            t.deserialize = function(e) {
                if (typeof e != "string")
                    return undefined;
                try {
                    return JSON.parse(e)
                } catch (t) {
                    return e || undefined
                }
            }
        ;
        if (o())
            s = e[r],
                t.set = function(e, n) {
                    return n === undefined ? t.remove(e) : (s.setItem(e, t.serialize(n)),
                        n)
                }
                ,
                t.get = function(e) {
                    return t.deserialize(s.getItem(e))
                }
                ,
                t.remove = function(e) {
                    s.removeItem(e)
                }
                ,
                t.clear = function() {
                    s.clear()
                }
                ,
                t.getAll = function() {
                    var e = {};
                    return t.forEach(function(t, n) {
                        e[t] = n
                    }),
                        e
                }
                ,
                t.forEach = function(e) {
                    for (var n = 0; n < s.length; n++) {
                        var r = s.key(n);
                        e(r, t.get(r))
                    }
                }
            ;
        else if (n.documentElement.addBehavior) {
            var u, a;
            try {
                a = new ActiveXObject("htmlfile"),
                    a.open(),
                    a.write("<" + i + ">document.w=window</" + i + '><iframe src="/favicon.ico"></iframe>'),
                    a.close(),
                    u = a.w.frames[0].document,
                    s = u.createElement("div")
            } catch (f) {
                s = n.createElement("div"),
                    u = n.body
            }
            function l(e) {
                return function() {
                    var n = Array.prototype.slice.call(arguments, 0);
                    n.unshift(s),
                        u.appendChild(s),
                        s.addBehavior("#default#userData"),
                        s.load(r);
                    var i = e.apply(t, n);
                    return u.removeChild(s),
                        i
                }
            }
            var c = new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");
            function h(e) {
                return e.replace(/^d/, "___$&").replace(c, "___")
            }
            t.set = l(function(e, n, i) {
                return n = h(n),
                    i === undefined ? t.remove(n) : (e.setAttribute(n, t.serialize(i)),
                        e.save(r),
                        i)
            }),
                t.get = l(function(e, n) {
                    return n = h(n),
                        t.deserialize(e.getAttribute(n))
                }),
                t.remove = l(function(e, t) {
                    t = h(t),
                        e.removeAttribute(t),
                        e.save(r)
                }),
                t.clear = l(function(e) {
                    var t = e.XMLDocument.documentElement.attributes;
                    e.load(r);
                    for (var n = 0, i; i = t[n]; n++)
                        e.removeAttribute(i.name);
                    e.save(r)
                }),
                t.getAll = function(e) {
                    var n = {};
                    return t.forEach(function(e, t) {
                        n[e] = t
                    }),
                        n
                }
                ,
                t.forEach = l(function(e, n) {
                    var r = e.XMLDocument.documentElement.attributes;
                    for (var i = 0, s; s = r[i]; ++i)
                        n(s.name, t.deserialize(e.getAttribute(s.name)))
                })
        }
        try {
            var p = "__storejs__";
            t.set(p, p),
            t.get(p) != p && (t.disabled = !0),
                t.remove(p)
        } catch (f) {
            t.disabled = !0
        }
        t.enabled = !t.disabled,
            typeof module != "undefined" && module.exports && this.module !== module ? module.exports = t : typeof define == "function" && define.amd ? define("store", t) : e.store = t
    }(Function("return this")()),
    define("models/setting", ["require", "exports", "module", "model-init", "store", "cookie"], function(e, t, n) {
        "use strict";
        var r = e("model-init")
            , i = e("store")
            , s = e("cookie")
            , o = r.extend({
                attrs: {
                    colorType: {
                        setter: function(e) {
                            return i.disabled ? s.set("w.p." + app.QQuin + ".s.CT", e) : i.set("web.portfolio." + app.QQuin + ".setting.colorType", e),
                                e
                        }
                    }
                },
                initialize: function() {
                    o.superclass.initialize.call(this),
                        i.disabled ? this.set("colorType", s.get("w.p." + app.QQuin + ".s.CT") || "cn") : this.set("colorType", i.get("web.portfolio." + app.QQuin + ".setting.colorType") || "cn")
                }
            });
        return o
    }),
    define("popup", ["require", "exports", "module", "jquery", "overlay"], function(e, t, n) {
        function o(e, t, n, r, i) {
            var s = r && r[0];
            i.delegateEvents(s ? r : t, s ? e + " " + t.selector : e, function(e) {
                n.call(e.currentTarget, e)
            })
        }
        var r = e("jquery")
            , i = e("overlay")
            , s = i.extend({
                attrs: {
                    trigger: {
                        value: null ,
                        getter: function(e) {
                            return r(e)
                        }
                    },
                    triggerType: "hover",
                    delegateNode: {
                        value: null ,
                        getter: function(e) {
                            return r(e)
                        }
                    },
                    align: {
                        value: {
                            baseXY: [0, "100%"],
                            selfXY: [0, 0]
                        },
                        setter: function(e) {
                            if (!e)
                                return;
                            return e.baseElement ? this._specifiedBaseElement = !0 : this.activeTrigger && (e.baseElement = this.activeTrigger),
                                e
                        },
                        getter: function(e) {
                            return r.extend({}, e, this._specifiedBaseElement ? {} : {
                                baseElement: this.activeTrigger
                            })
                        }
                    },
                    delay: 70,
                    disabled: !1,
                    effect: "",
                    duration: 250
                },
                setup: function() {
                    s.superclass.setup.call(this),
                        this._bindTrigger(),
                        this._blurHide(this.get("trigger")),
                        this.activeTrigger = this.get("trigger").eq(0);
                    var e = this;
                    this.get("delegateNode") && this.before("show", function() {
                        e._relativeElements = e.get("trigger"),
                            e._relativeElements.push(e.element)
                    })
                },
                render: function() {
                    return s.superclass.render.call(this),
                        this.element.hide(),
                        this
                },
                show: function() {
                    if (this.get("disabled"))
                        return;
                    return s.superclass.show.call(this)
                },
                hide: function(e) {
                    return e ? this : s.superclass.hide.call(this)
                },
                _bindTrigger: function() {
                    var e = this.get("triggerType");
                    e === "click" ? this._bindClick() : e === "focus" ? this._bindFocus() : this._bindHover()
                },
                _bindClick: function() {
                    function t(t) {
                        if (e.get("disabled"))
                            return;
                        e.get("trigger").each(function(n, i) {
                            t == i ? (i._active = !0,
                                e.activeTrigger = r(i)) : i._active = !1
                        })
                    }
                    var e = this;
                    o("click", this.get("trigger"), function(n) {
                        this._active === !0 ? e.hide() : (t(this),
                            e.show())
                    }, this.get("delegateNode"), this),
                        this.before("hide", function() {
                            t()
                        })
                },
                _bindFocus: function() {
                    var e = this;
                    o("focus", this.get("trigger"), function() {
                        e.activeTrigger = r(this),
                            e.show()
                    }, this.get("delegateNode"), this),
                        o("blur", this.get("trigger"), function() {
                            setTimeout(function() {
                                !e._downOnElement && e.hide(),
                                    e._downOnElement = !1
                            }, e.get("delay"))
                        }, this.get("delegateNode"), this),
                        this.delegateEvents("mousedown", function(e) {
                            this._downOnElement = !0
                        })
                },
                _bindHover: function() {
                    function a(e) {
                        clearTimeout(i),
                            i = null ,
                        u.get("visible") && (s = setTimeout(function() {
                            u.hide()
                        }, n))
                    }
                    var e = this.get("trigger"), t = this.get("delegateNode"), n = this.get("delay"), i, s, u = this;
                    if (n < 0) {
                        this._bindTooltip();
                        return
                    }
                    o("mouseenter", e, function() {
                        clearTimeout(s),
                            s = null ,
                            u.activeTrigger = r(this),
                            i = setTimeout(function() {
                                u.show()
                            }, n)
                    }, t, this),
                        o("mouseleave", e, a, t, this),
                        this.delegateEvents("mouseenter", function() {
                            clearTimeout(s)
                        }),
                        this.delegateEvents("mouseleave", a),
                        this.element.on("mouseleave", "select", function(e) {
                            e.stopPropagation()
                        })
                },
                _bindTooltip: function() {
                    var e = this.get("trigger")
                        , t = this.get("delegateNode")
                        , n = this;
                    o("mouseenter", e, function() {
                        n.activeTrigger = r(this),
                            n.show()
                    }, t, this),
                        o("mouseleave", e, function() {
                            n.hide()
                        }, t, this)
                },
                _onRenderVisible: function(e, t) {
                    if (e === !!t)
                        return;
                    var n = this.get("effect").indexOf("fade") !== -1
                        , r = this.get("effect").indexOf("slide") !== -1
                        , i = {};
                    r && (i.height = e ? "show" : "hide"),
                    n && (i.opacity = e ? "show" : "hide");
                    var s = this
                        , o = e ? function() {
                            s.trigger("animated")
                        }
                            : function() {
                            s.hide(!0),
                                s.trigger("animated")
                        }
                        ;
                    n || r ? this.element.stop(!0, !0).animate(i, this.get("duration"), o).css({
                        visibility: "visible"
                    }) : this.element[e ? "show" : "hide"]()
                }
            });
        n.exports = s
    }),
    define("basic-tip", ["require", "exports", "module", "popup"], function(e, t, n) {
        var r = e("popup");
        n.exports = r.extend({
            attrs: {
                content: null ,
                direction: "up",
                distance: 8,
                arrowShift: 22,
                pointPos: "50%"
            },
            _setAlign: function() {
                var e = {}
                    , t = this.get("arrowShift")
                    , n = this.get("distance")
                    , r = this.get("pointPos")
                    , i = this.get("direction");
                t < 0 && (t = "100%" + t),
                    i === "up" ? (e.baseXY = [r, 0],
                        e.selfXY = [t, "100%+" + n]) : i === "down" ? (e.baseXY = [r, "100%+" + n],
                        e.selfXY = [t, 0]) : i === "left" ? (e.baseXY = [0, r],
                        e.selfXY = ["100%+" + n, t]) : i === "right" && (e.baseXY = ["100%+" + n, r],
                        e.selfXY = [0, t]),
                    e.comeFromArrowPosition = !0,
                    this.set("align", e)
            },
            _onRenderContent: function(e) {
                var t = this.$('[data-role="content"]');
                typeof e != "string" && (e = e.call(this)),
                t && t.html(e)
            }
        })
    }),
    define("text!tip.html", [], function() {
        return '<div class="ui-poptip">\n  <div class="ui-poptip-shadow">\n    <div class="ui-poptip-container">\n      <div class="ui-poptip-arrow">\n        <em></em>\n        <span></span>\n      </div>\n      <div class="ui-poptip-content" data-role="content">\n      </div>\n    </div>\n  </div>\n</div>\n'
    }),
    define("tip", ["require", "exports", "module", "jquery", "basic-tip", "text!./tip.html"], function(e, t, n) {
        var r = e("jquery")
            , i = e("basic-tip")
            , s = i.extend({
                attrs: {
                    template: e("text!./tip.html"),
                    content: "A TIP BOX",
                    arrowPosition: 7,
                    align: {
                        setter: function(e) {
                            return e && !e.comeFromArrowPosition && (this._specifiedAlign = !0),
                                e
                        }
                    },
                    theme: "yellow",
                    inViewport: !1
                },
                setup: function() {
                    i.superclass.setup.call(this),
                        this._originArrowPosition = this.get("arrowPosition"),
                        this.after("show", function() {
                            this._makesureInViewport()
                        })
                },
                _makesureInViewport: function() {
                    if (!this.get("inViewport"))
                        return;
                    var e = this._originArrowPosition
                        , t = r(window).scrollTop()
                        , n = r(window).outerHeight()
                        , i = this.element.height() + this.get("distance")
                        , s = this.get("trigger").offset().top
                        , o = this.get("trigger").height()
                        , u = {
                            1: 5,
                            5: 1,
                            7: 11,
                            11: 7
                        };
                    (e == 11 || e == 1) && s + o > t + n - i ? this.set("arrowPosition", u[e]) : (e == 7 || e == 5) && s < t + i ? this.set("arrowPosition", u[e]) : this.set("arrowPosition", this._originArrowPosition)
                },
                _onRenderArrowPosition: function(e, t) {
                    e = parseInt(e, 10);
                    var n = this.$(".ui-poptip-arrow");
                    n.removeClass("ui-poptip-arrow-" + t).addClass("ui-poptip-arrow-" + e);
                    if (this._specifiedAlign)
                        return;
                    var r = ""
                        , i = 0;
                    e === 10 ? (r = "right",
                        i = 20) : e === 11 ? (r = "down",
                        i = 22) : e === 1 ? (r = "down",
                        i = -22) : e === 2 ? (r = "left",
                        i = 20) : e === 5 ? (r = "up",
                        i = -22) : e === 7 && (r = "up",
                        i = 22),
                        this.set("direction", r),
                        this.set("arrowShift", i),
                        this._setAlign()
                },
                _onRenderWidth: function(e) {
                    this.$('[data-role="content"]').css("width", e)
                },
                _onRenderHeight: function(e) {
                    this.$('[data-role="content"]').css("height", e)
                },
                _onRenderTheme: function(e, t) {
                    this.element.removeClass("ui-poptip-" + t),
                        this.element.addClass("ui-poptip-" + e)
                }
            });
        n.exports = s
    }),
    define("module/smartbox/data", ["require", "exports", "module", "jquery"], function(e, t, n) {
        function i(e) {
            var t = new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>/?~\uff01@#\uffe5\u2026\u2026&*\uff08\uff09\u2014\u2014|{}\u3010\u3011\u2018\uff1b\uff1a\u201d\u201c'\u3002\uff0c\u3001\uff1f]"), n = "", r;
            for (r = 0; r < e.length; r++)
                n += e.substr(r, 1).replace(t, "");
            return n
        }
        var r = e("jquery");
        n.exports = function(e, t, n, s) {
            var o = i(e);
            o = o.replace(/\s+/g, ""),
                r.ajax({
                    url: "http://smartbox.gtimg.cn/s3/?v=2&q=" + o + "&t=" + t,
                    data: {
                        format: "jsonp"
                    },
                    dataType: "jsonp",
                    jsonp: "_callback",
                    jsonpCallback: function() {
                        return "GET_" + Math.ceil(Math.random() * 1e5)
                    },
                    success: function(e) {
                        var r = e, i = [], o, u;
                        if (r && r.data) {
                            r = r.data;
                            for (o = 0; o < r.length; o++)
                                u = r[o],
                                    u = u.split("~"),
                                u.length > 3 && (t == "gp" ? (u[0] == "sz" || u[0] == "sh") && (u[4] == "GP-A" || u[4] == "GP-B" || u[4] == "ZS") && i.push(u) : t == "us" ? u[0] == "us" && i.push(u) : t == "hk" ? u[0] == "hk" && i.push(u) : t === "jj" ? i.push(u) : t === "qh" ? u[0] === "qh" && i.push(u) : t == "all" && (u[4] === "ZS" && (u[1] = u[1].toUpperCase()),
                                    u[0] == "nq" ? i.push(u) : (u[0] != "qh" && s !== "head" || s === "head") && i.push(u)))
                        }
                        n(i)
                    }
                })
        }
    }),
    define("text!module/smartbox/smartbox.css", [], function() {
        return ".dora-ui-smartbox-result{width:311px;border:1px solid #9c9c9c;padding:5px 0;cursor:pointer;font-family:Arial;position:absolute;z-index:999;background-color:#fff}.dora-ui-smartbox-ul li{height:20px;line-height:20px;margin:0 2px}.dora-ui-smartbox-item-hover{background-color:#deefff}.dora-ui-smartbox-ul li>div{margin:0 5px}.dora-ui-smartbox-ul li span{float:left;height:20px}.dora-ui-smartbox-ul li span.items-1{width:49px;margin-right:5px}.dora-ui-smartbox-ul li span.items-2{width:128px;overflow:hidden}.dora-ui-smartbox-ul li span.items-3{width:85px;overflow:hidden}.dora-ui-smartbox-ul li span.items-4{width:30px;text-align:right;color:#a9a9a9}.dora-ui-smartbox-ul li span .lightColor{color:#f45243}"
    }),
    define("module/smartbox/smartbox", ["require", "exports", "module", "jquery", "widget", "./data", "text!./smartbox.css"], function(e, t, n) {
        function l(e) {
            return r.contains(document.documentElement, e)
        }
        var r = e("jquery")
            , i = e("widget")
            , s = e("./data")
            , o = e("text!./smartbox.css")
            , u = {
                sh: "\u4e0a\u6d77",
                sz: "\u6df1\u5733",
                hk: "\u6e2f\u80a1",
                us: "\u7f8e\u80a1",
                jj: "\u57fa\u91d1",
                qh: "\u80a1\u671f",
                nq: "\u4e09\u7248"
            }
            , a = {
                UP: 38,
                DOWN: 40,
                ENTER: 13,
                ESC: 27
            }
            , f = i.extend({
                version: "0.1.0",
                attrs: {
                    trigger: null ,
                    trigger_button: null ,
                    classPrefix: "dora-ui-smartbox",
                    inputValue: null ,
                    selectFirst: !0,
                    selectedIndex: undefined,
                    market: "all",
                    align: {
                        baseElement: "body",
                        baseXY: ["0", "0"],
                        benchmark: ["left", "top"]
                    },
                    source: "head"
                },
                events: {
                    mousedown: function() {
                        this.get("inputValue") && this.show();
                        if (r(this.$el)) {
                            var e = r(this.$el).attr("id")
                                , t = e.split("-")[0];
                            app.boss.act("add_stock_" + t)
                        }
                    }
                },
                parseElement: function() {
                    typeof window["smartbox_v" + this.version] == "undefined" && (window["smartbox_v" + this.version] = r("<style>" + o + "</style>").appendTo(r("head"))),
                    this.get("trigger_button") && this.set("trigger_button", r(this.get("trigger_button"))),
                        this.element = this.get("trigger") || this.element,
                        f.superclass.parseElement.call(this),
                        this.set("idPrefix", "dora-ui-smartbox" + String(Math.random(1e3)).substring(2));
                    var e = this.get("classPrefix")
                        , t = this.get("idPrefix")
                        , n = '<div id="' + t + '-result" class="' + e + '-result" style="display:none; overflow:hidden;"><ul id="' + t + '-ul" class="' + e + '-ul"></ul></div>';
                    r(this.get("trigger")).parent().append(n)
                },
                initialize: function() {
                    f.superclass.initialize.apply(this, arguments);
                    var e = this
                        , t = r(e.get("trigger"));
                    this.queryData = [],
                        this.$el = t,
                        this.$ul = r("#" + this.get("idPrefix") + "-ul"),
                        this.$el.attr("autocomplete", "off");
                    if (this.get("trigger_button")) {
                        var n = this.get("trigger_button");
                        this.delegateEvents(n, "mousedown", function(t) {
                            e.queryData.length > 0 && e._keyEnter(t)
                        })
                    }
                    this.delegateEvents(this.$el, "blur", r.proxy(this._blurEvent, this)),
                        this.delegateEvents(this.$el, "focus", r.proxy(this._focusEvent, this)),
                        this.delegateEvents(this.$el, "keydown", r.proxy(this._keydownEvent, this)),
                        this.delegateEvents(this.$el, "keyup", function() {
                            clearTimeout(e._timeout),
                                e._timeout = setTimeout(function() {
                                    e._timeout = null ,
                                        e._keyupEvent.call(e)
                                }, 100)
                        }),
                        this.delegateEvents(this.$ul, "mousedown", r.proxy(this._selectItem, this)),
                        this.delegateEvents(this.$ul, "mouseover", function(t) {
                            var n = e.get("classPrefix") + "-item-hover";
                            e.$ul.find("li").removeClass(n),
                                r(t.target).closest("li").addClass(n)
                        })
                },
                destroy: function() {
                    window["smartbox_v" + this.version] && window["smartbox_v" + this.version].remove(),
                        this.currentItem = null ,
                        this.queryData = null ,
                        f.superclass.destroy.call(this)
                },
                show: function() {
                    this.$ul.parent().show(),
                        this._setPosition()
                },
                hide: function() {
                    this._timeout && clearTimeout(this._timeout),
                        this.$ul.parent().hide()
                },
                _setPosition: function(e) {
                    var t = this, n, i = r(this.get("align").baseElement), s = i.scrollLeft(), o = i.scrollTop(), u = this.get("align").baseXY[0], a = this.get("align").baseXY[1];
                    if (!l(this.element[0]))
                        return;
                    e || (e = this.get("align"));
                    if (!e)
                        return;
                    n = this.element.css("display") === "none",
                    n && this.element.css({
                        visibility: "hidden",
                        display: "block"
                    }),
                    u.indexOf("%") !== -1 && (u = this.get("align").baseXY[0].replace(/(\d+(?:\.\d+)?)%/gi, function(e, n) {
                        if (i.css("position") == "absolute")
                            return i = r(document),
                            (i.outerWidth(!0) - t.element.outerWidth(!0)) * n / 100;
                        if (t.get("align").baseElement == "body" || i.css("position") == "absolute")
                            return i = r(document),
                            (s + (i.outerWidth(!0) - t.element.outerWidth(!0))) * n / 100
                    })),
                    a.indexOf("%") !== -1 && (a = this.get("align").baseXY[1].replace(/(\d+(?:\.\d+)?)%/gi, function(e, n) {
                        if (i.css("position") == "absolute")
                            return i = r(document),
                            (i.outerHeight(!0) - t.element.outerHeight(!0)) * n / 100;
                        if (t.get("align").baseElement == "body" || i.css("position") == "absolute")
                            return i = r(document),
                            (o + (i.outerHeight(!0) - t.element.outerHeight(!0))) * n / 100
                    }));
                    var f = {
                        position: "absolute"
                    };
                    return f[this.get("align").benchmark[0]] = u + "px",
                        f[this.get("align").benchmark[1]] = a + "px",
                        this.$ul.parent().css(f),
                    n && this.element.css({
                        visibility: "",
                        display: "none"
                    }),
                        this
                },
                _getXhrData: function(e) {
                    var t = this;
                    clearTimeout(t._timeout2),
                        t._timeout2 = setTimeout(function() {
                            s(e, t.get("market"), function(e) {
                                r.proxy(t._parse(e), t)
                            }, t.get("source"))
                        }, 100)
                },
                _parse: function(e) {
                    var t = e.length >= 10 ? 10 : e.length, n = "", r, i, s, o, a, f, l, c = this.get("classPrefix") + "-item-hover";
                    if (t === 0) {
                        this.$ul.html('<li style="text-indent: 5px;">\u672a\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c</li>'),
                            this.queryData = [],
                            this.show();
                        return
                    }
                    this.$ul.html(""),
                        this.queryData = [];
                    for (r = 0; r < t; r++)
                        i = e[r][0],
                            s = e[r][1],
                            o = e[r][2],
                            a = e[r][3],
                            f = e[r][4],
                            l = '<span class="items-1">' + this._highlightItem(s, this.get("inputValue")) + '</span><span class="items-2">' + this._highlightItem(o, this.get("inputValue")) + '</span><span class="items-3">' + a.toUpperCase() + '</span><span class="items-4">' + u[i] + "</span>",
                            n += '<li><div rel="' + r + '">' + l + "</div></li>",
                            e[r][0] == "us" ? this.queryData[r] = [i, s.toUpperCase(), o, f] : this.queryData[r] = [i, s, o, f];
                    this.$ul.html(n),
                    this.get("selectFirst") && (this.set("selectedIndex", 0),
                        this.$ul.find("li").eq(0).addClass(c)),
                        this.show()
                },
                _highlightItem: function(e, t) {
                    if (e === undefined)
                        return;
                    var n = new RegExp("(\\" + ["/", ".", "*", "+", "?", "|", "(", ")", "[", "]", "{", "}", "\\"].join("|\\") + ")","g")
                        , r = "(" + t.replace(n, "\\$1") + ")";
                    return e.replace(new RegExp(r,"gi"), '<strong class="lightColor">$1</strong>')
                },
                _onRenderInputValue: function(e) {
                    this._start && e ? this._getXhrData(e) : (this.queryData = [],
                        this.$ul.empty(),
                        this.hide()),
                        this._start = null
                },
                _onRenderSelectedIndex: function(e) {
                    if (e === -1)
                        return;
                    var t = this.get("classPrefix") + "-item-hover";
                    this.$ul.find("li").removeClass(t),
                        this.currentItem = this.$ul.find("li").eq(e).addClass(t)
                },
                setInputValue: function(e) {
                    this.get("inputValue") !== e && (this._start = !0,
                        this.set("inputValue", e),
                    this.$el.val() !== e && this.$el.val(e))
                },
                _selectItem: function(e) {
                    var t = r(e.target).closest("li>div").attr("rel");
                    this.set("selectedIndex", t),
                        this._firstMousedown = !0,
                        this.trigger("smartbox", {
                            data: this.queryData[t]
                        }),
                        this.currentItem = null ,
                        this.queryData = [],
                        this.set("inputValue", null ),
                        this.$ul.empty(),
                        this.$el.val("")
                },
                _selectItem2: function() {
                    this.hide();
                    var e = this.currentItem
                        , t = this.get("selectedIndex")
                        , n = this.queryData[t];
                    this.trigger("smartbox", {
                        data: n
                    }),
                        this.currentItem = null ,
                        this.queryData = [],
                        this.set("inputValue", null ),
                        this.$ul.empty()
                },
                _blurEvent: function() {
                    this._secondMousedown ? this._firstMousedown && (this.$el.focus(),
                        this.hide()) : this.hide()
                },
                _focusEvent: function() {
                    !this.$el.val()
                },
                _keydownEvent: function(e) {
                    this._keyupStart = null ;
                    switch (e.which) {
                        case a.ESC:
                            this.hide();
                            break;
                        case a.UP:
                            this._keyUp(e);
                            break;
                        case a.DOWN:
                            this._keyDown(e);
                            break;
                        case a.ENTER:
                            this._keyEnter(e);
                            break;
                        default:
                            this._keyupStart = !0
                    }
                },
                _keyUp: function(e) {
                    e.preventDefault(),
                    this.queryData.length && this._step(-1)
                },
                _keyDown: function(e) {
                    e.preventDefault(),
                    this.queryData.length && this._step(1)
                },
                _keyEnter: function(e) {
                    this._selectItem2(),
                        this.$el.val("")
                },
                _step: function(e) {
                    var t = this.get("selectedIndex");
                    e === -1 ? t > 0 ? this.set("selectedIndex", t - 1) : this.set("selectedIndex", this.queryData.length - 1) : e === 1 && (t < this.queryData.length - 1 ? this.set("selectedIndex", t + 1) : this.set("selectedIndex", 0))
                },
                _keyupEvent: function() {
                    if (this._keyupStart) {
                        this._keyupStart = null ;
                        var e = this.$el.val();
                        this.setInputValue(e)
                    }
                }
            });
        n.exports = f
    }),
    define("text!marketBox/index.css", [], function() {
        return ".h_marketBox{float:left;height:38px;margin-left:0}.h_marketBox a{color:#1145BB}#arr_do,#arr_up{float:left;height:13px;overflow:hidden;cursor:pointer;margin-top:12px;background:url(http://mat1.gtimg.com/finance/images/stock/p/hqhk_gg/mainnav_v1.1/sprite-3.png) no-repeat}#arr_up{background-position:0 -30px;width:13px}#arr_do{background-position:-13px -30px;width:12px}.h_marketBox ul{overflow:hidden;height:38px;margin-left:10px;float:left;cursor:default}.stand{width:5px;display:inline-block}"
    }),
    define("text!marketBox/tpl.html", [], function() {
        return '\n  <div title="\u70b9\u51fb\u5411\u4e0a\u6eda\u52a8" id="arr_up" boss="6017"></div>\n  <div title="\u70b9\u51fb\u5411\u4e0b\u6eda\u52a8" id="arr_do" boss="6018"></div>\n  <ul>\n    <li type="all" index="0">\n    <a target="_blank" href="http://gu.qq.com/hqing/zhishu/000001.htm" onmousedown="app.boss.act(\'roll_index_sh\');">\n    <%=sh000001.name %></a>:<%==priceFM(sh000001.price, sh000001.updown) %><span class="stand"></span><%==updownFM(sh000001.upExt,sh000001.updown) %><span class="stand"></span><%=mvFM(sh000001.mv) %>\u4ebf | <a target="_blank" href="http://gu.qq.com/hqing/zhishu/399001.htm" onmousedown="app.boss.act(\'roll_index_sz\');"> <%=sz399001.name %></a>:<%==priceFM(sz399001.price,sz399001.updown) %><span class="stand"></span><%==updownFM(sz399001.upExt,sz399001.updown) %><span class="stand"></span><%=mvFM(sz399001.mv) %>\u4ebf | <a target="_blank" href="http://gu.qq.com/sz399006" onmousedown="app.boss.act(\'roll_index_sz\');"> <%=sz399006.name %></a>:<%==priceFM(sz399006.price,sz399006.updown) %><span class="stand"></span><%==updownFM(sz399006.upExt,sz399006.updown) %><span class="stand"></span><%=mvFM(sz399006.mv) %>\u4ebf\n  </li>\n    <li type="hk" index="1">\n    <a target="_blank" href="http://gu.qq.com/hkHSI" onmousedown="app.boss.act(\'roll_index_hs\');">\n      <%=r_hkHSI.name %></a>:<%==priceFM(r_hkHSI.price,r_hkHSI.updown) %><span class="stand"></span><%==updownFM(r_hkHSI.upExt,r_hkHSI.updown) %><span class="stand"></span><%=mvFM(r_hkHSI.mv) %>\u4ebf | <a target="_blank" href="http://gu.qq.com/hkHSCEI" onmousedown="app.boss.act(\'roll_HSCEI\');"><%=r_hkHSCEI.name %></a>:<%==priceFM(r_hkHSCEI.price,r_hkHSCEI.updown) %><span class="stand"></span><%==updownFM(r_hkHSCEI.upExt,r_hkHSCEI.updown) %><span class="stand"></span><%=mvFM(r_hkHSCEI.mv) %>\u4ebf | <a target="_blank" href="http://gu.qq.com/hkHSCCI" onmousedown="app.boss.act(\'roll_HSCEI\');"><%=r_hkHSCCI.name %></a>:<%==priceFM(r_hkHSCCI.price,r_hkHSCCI.updown) %><span class="stand"></span><%==updownFM(r_hkHSCCI.upExt,r_hkHSCCI.updown) %><span class="stand"></span><%=mvFM(r_hkHSCCI.mv) %>\u4ebf\n    </li>\n    <li type="us" index="2">\n    <a target="_blank" href="http://gu.qq.com/astock/ggcx/DJI.htm" onmousedown="app.boss.act(\'roll_dowJones\');"><%=usDJI.name %></a>:<%==priceFM(usDJI.price,usDJI.updown) %><span class="stand"></span><%==updownNoPFM(usDJI.updown,usDJI.updown) %><span class="stand"></span><%==updownFM(usDJI.upExt,usDJI.updown) %> | <a target="_blank" href="http://gu.qq.com/astock/ggcx/IXIC.htm" onmousedown="app.boss.act(\'roll_IXIC\');">\n      <%=usIXIC.name %></a>:<%==priceFM(usIXIC.price,usIXIC.updown) %><span class="stand"></span><%==updownNoPFM(usIXIC.updown,usIXIC.updown) %><span class="stand"></span><%==updownFM(usIXIC.upExt,usIXIC.updown) %> | <a target="_blank" href="http://gu.qq.com/usINX" onmousedown="app.boss.act(\'roll_usINX\');">\n      <%=usINX.name %></a>:<%==priceFM(usINX.price,usINX.updown) %><span class="stand"></span><%==updownNoPFM(usINX.updown,usINX.updown) %><span class="stand"></span><%==updownFM(usINX.upExt,usINX.updown) %>\n    </li>\n  </ul>'
    }),
    define("marketBox/index", ["require", "exports", "module", "widget", "jquery", "underscore", "q", "spf", "templatable", "text!marketBox/index.css", "text!marketBox/tpl.html"], function(e, t, n) {
        function c(e, t) {
            return {
                symbol: t.Symbol,
                name: t.Name,
                price: t.Price,
                updown: t.Chg,
                upExt: t.ChgRatio,
                mv: t.Turnover
            }
        }
        function d(e) {
            var t = document.createElement("script");
            t.type = "text/javascript",
                t.charset = e.charset || "utf-8",
                t.async = !0,
                t.onload = t.onerror = t.onreadystatechange = function() {
                    p.test(t.readyState) && (t.onload = t.onerror = t.onreadystatechange = null ,
                        h.removeChild(t),
                        t = undefined,
                    e.success && e.success.call(this))
                }
                ,
                t.src = e.url,
                h.appendChild(t)
        }
        var r = e("widget")
            , i = e("jquery")
            , s = e("underscore")
            , o = e("q")
            , u = e("spf")
            , a = e("templatable")
            , f = !0
            , l = r.extend({
                scrollTop: 0,
                timer: null ,
                num: 3,
                listH: 39,
                events: {
                    "click #arr_do": function(e) {
                        if (!f)
                            return;
                        f = !1,
                            app.boss.act("btn_index_down");
                        var t = i(e.currentTarget)
                            , n = t.parent().children("ul")
                            , r = 39
                            , s = Math.floor(this.get("symbolList").length / this.num);
                        if (n.scrollTop() === (s - 1) * this.listH) {
                            var o = i(".stock-box ul li")
                                , u = i(o[0]);
                            i(".stock-box ul").append(u),
                                this.scrollTop = (s - 1) * this.listH,
                                n.scrollTop(this.listH),
                                n.animate({
                                    scrollTop: this.scrollTop
                                }, 500, function() {
                                    f = !0
                                })
                        } else
                            this.scrollTop = n.scrollTop() + this.listH,
                                n.animate({
                                    scrollTop: this.scrollTop
                                }, 500, function() {
                                    f = !0
                                })
                    },
                    "click #arr_up": function(e) {
                        if (!f)
                            return;
                        f = !1,
                            app.boss.act("btn_index_up");
                        var t = i(e.currentTarget)
                            , n = t.parent().children("ul");
                        if (n.scrollTop() === 0) {
                            var r = i(".stock-box ul li")
                                , s = i(r[r.length - 1]);
                            i(".stock-box ul").prepend(s),
                                this.scrollTop = 0,
                                n.scrollTop(n.scrollTop() + this.listH),
                                n.animate({
                                    scrollTop: 0
                                }, 500, function() {
                                    f = !0
                                })
                        } else
                            this.scrollTop = n.scrollTop() - this.listH,
                                n.animate({
                                    scrollTop: this.scrollTop
                                }, 500, function() {
                                    f = !0
                                })
                    }
                },
                attrs: {
                    css: e("text!marketBox/index.css"),
                    className: "h_marketBox",
                    parentNode: {
                        setter: function(e) {
                            return i(e)
                        }
                    },
                    symbolList: {
                        value: [["sh000001", "\u4e0a\u8bc1\u6307\u6570"], ["sz399001", "\u6df1\u8bc1\u6210\u6307"], ["sz399006", "\u521b\u4e1a\u677f\u6307"], ["r_hkHSI", "\u6052\u751f\u6307\u6570"], ["r_hkHSCEI", "\u56fd\u4f01\u6307\u6570"], ["r_hkHSCCI", "\u7ea2\u7b79\u6307\u6570"], ["usDJI", "\u9053\u743c\u65af"], ["usIXIC", "\u7eb3\u65af\u8fbe\u514b"], ["usINX", "\u6807\u666e500"]],
                        readOnly: !0
                    }
                },
                Implements: a,
                templateHelpers: {
                    mvFM: function(e) {
                        return e = Number(e) / 1e4,
                            s.isNaN(e) ? "0.00" : u(e).format("0.00")
                    },
                    priceFM: function(e, t) {
                        var n = Number(t);
                        return e = e.split(",").join(""),
                            n > 0 ? '<span style="color:#fe0002" class="rise">' + Number(e).toFixed(2) + "</span>" : n < 0 ? '<span style="color:#009900" class="fall">' + Number(e).toFixed(2) + "</span>" : "<span>" + Number(e).toFixed(2) + "</span>"
                    },
                    updownFM: function(e, t) {
                        var n = Number(t);
                        return e = Number(e.split(",").join("")),
                            n > 0 ? '<span style="color:#fe0002" class="rise">+' + e.toFixed(2) + "%</span>" : n < 0 ? '<span style="color:#009900" class="fall">' + e.toFixed(2) + "%</span>" : "<span>0.00%</span>"
                    },
                    updownNoPFM: function(e, t) {
                        var n = Number(t);
                        return e = Number(e.split(",").join("")),
                            n > 0 ? '<span style="color:#fe0002" class="rise">+' + e.toFixed(2) + "</span>" : n < 0 ? '<span style="color:#009900" class="fall">' + e.toFixed(2) + "</span>" : "<span>0.00</span>"
                    }
                },
                initialize: function(e) {
                    l.superclass.initialize.call(this, e),
                        this.render()
                },
                goToLine: function(e) {
                    this.timer && clearInterval(this.timer);
                    var t = 0;
                    s.each(i(".h_marketBox ul li"), function(n, r) {
                        var i = n.getAttribute("type");
                        if (i == e || i == "all" && "all|ga|jj".match(e))
                            t = r
                    }),
                        i(".h_marketBox ul").scrollTop(t * 39),
                        this.scrollTop = t * 39,
                        this.showTime()
                },
                showTime: function() {},
                render: function() {
                    var e = this;
                    l.superclass.render.call(e),
                        e._loadData(),
                        e.showTime(),
                        i(".stock-box").delegate(".h_marketBox", "mouseover", s.bind(function(e) {
                            this.timer && clearInterval(this.timer)
                        }, e)),
                        i(".stock-box").delegate(".h_marketBox", "mouseout", s.bind(function(t) {
                            e.showTime()
                        }, e))
                },
                _loadData: function() {
                    var t = this
                        , n = s.map(this.get("symbolList"), function(e) {
                            return e[0]
                        })
                        , r = null
                        , u = 0
                        , a = function(n) {
                            var o = (new Date).getTime();
                            u++;
                            if (r === null || o - r >= 5e3 || u <= 10) {
                                r = o;
                                var a = t.get("symbolList")
                                    , f = {};
                                s.each(a, function(e) {
                                    f[e[0]] = c(e, n[e[0]])
                                }),
                                    t.set("model", f),
                                    t.set("template", e("text!marketBox/tpl.html")),
                                    t.renderPartial(),
                                    i(".h_marketBox ul").scrollTop(t.scrollTop)
                            }
                        }
                        ;
                    o(app.pushQt(n, app.shortKeys, a, "zsLoop")).then(function(e) {})
                },
                _onRenderCss: function(e) {
                    i("<style>" + e + "</style>").appendTo(i("head"))
                }
            })
            , h = document.head || document.getElementsByTagName("head")[0] || document.documentElement
            , p = /loaded|complete|undefined/;
        n.exports = l
    }),
    define("text!views/header/header.html", [], function() {
        return '<div class="header-v1">\n  <div class="nav">\n    <div class="nav-2 d-clear">\n      <div class="top-smartbox">\n        <input type="text" autocomplete="off" class="input" id="top-smartbox" placeholder="\u80a1\u7968\u4ee3\u7801/\u540d\u79f0/\u62fc\u97f3">\n        <div id="trigger">\n          <div class="pptext">\u5168\u90e8</div>\n          <div class="icon"></div>\n        </div>\n        <ul class="ui-popup" id="popup">\n          <li data-market="all">\u5168\u90e8</li>\n          <li data-market="gp">\u6caa\u6df1</li>\n          <li data-market="hk">\u6e2f\u80a1</li>\n          <li data-market="jj">\u57fa\u91d1 </li>\n          <li data-market="us">\u7f8e\u80a1</li>\n          <li data-market="qh">\u671f\u8d27</li>\n        </ul>\n        <input type="submit" value="\u80a1\u7968\u67e5\u8be2" name="submitbtn" id="submitbtn" class="smartbox-submit">\n        <span style="float:left;color:#d70300;margin:2px 2px;display:none;">(<span style="font-weight:bold;" id="h_msgbox">0</span>)</span>\n      </div>\n      <div class="cutline"></div>\n      <div class="stock-box"></div>\n    </div>\n  </div>\n  <div style="width:100%;height:40px;display:block;position:relative;" id="banner">\n    <a href="" target="_blank" data-boss="btn_bannerad">    \n      <img src="" style="width: 100%;height: 40px;">\n    </a>\n\n    <!-- <object style="outline:none;width:100%;height:40px;margin:0 auto;display:block;" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">\n      <param name="Movie" value="http://mat1.gtimg.com/finance/images/stock/p/cms/bab552d40e175994.swf">\n      <param value="always" name="allowscriptaccess">\n      <param value="opaque" name="wmode">\n      <param value="high" name="quality">\n      <param value="application/x-shockwave-flash" name="type">\n      <embed width="100%" height="40px" style="width:100%;height:40px;" wmode="opaque" allowscriptaccess="always" type="application/x-shockwave-flash" bgcolor="#FFFFFF" quality="high" src="http://mat1.gtimg.com/finance/images/stock/p/cms/bab552d40e175994.swf" name="sample" swliveconnect="true" play="true"></object>\n      <a style="filter:alpha(opacity=0);position:absolute;width:100%;height:40px;left:0px;top:0px;cursor:pointer;z-index:10;background-color:#fff;opacity:0;" target="_blank" href="http://finance.qq.com/products/portfolio/download.htm?pgv_ref=web.stock.frontpage"></a> -->\n  </div>\n</div>\n'
    }),
    define("text!views/header/header.css", [], function() {
        return ".header-v1 .logonav{height:33px;line-height:33px;margin:5px 0;overflow:hidden}.header-v1 .logonav .col-1-1{float:left;width:300px}.header-v1 .logonav .col-1-1 .logo{background:url(http://mat1.gtimg.com/finance/tammy/stock2014/zq.png) no-repeat 0 0;display:block;width:134px;height:33px;float:left}.header-v1 .logonav .col-1-1 .adgj-logo{background:url(http://mat1.gtimg.com/finance/images/stock/p/quotpage/guojin_logo.png) no-repeat;display:block;width:142px;height:30px;float:left}.header-v1 .logonav .col-1-2{float:left}.header-v1 .logonav .col-1-2 a.cur{background:url(http://mat1.gtimg.com/finance/png/st/p/hqhk_gg/logonav_v1.1/sprite_v20111121105116.png) no-repeat 0 8px;color:#fff}.header-v1 .logonav .col-1-2 a{margin:0 5px;text-align:center;width:37px;height:27px;display:inline-block}.header-v1 .logonav .col-1-3{float:right;margin-right:10px;display:inline}.header-v1 .logonav .col-1-3 a{color:#838383;text-decoration:none}.header-v1 .logonav .col-1-3 a:hover{color:#C00;text-decoration:underline}.header-v1 .logonav .col-1-3 span{color:#D7D7D7;margin:0 5px}.header-v1 .nav{clear:both;position:relative;z-index:100}.header-v1 .nav .nav-1{height:32px;line-height:32px;background:url(http://mat1.gtimg.com/finance/png/st/p/hqhk_gg/mainnav_v1.1/sprite_v20111121113517.png) repeat-x 0 -214px}.header-v1 .nav .nav-1 a{color:#fff;float:left;padding:0 17px;text-decoration:none}.header-v1 .nav .nav-1 a:hover{text-decoration:underline}.header-v1 .nav .nav-1 span{border-left:1px solid #0E679F;border-right:1px solid #003E6F;float:left;height:13px;line-height:13px;width:0;margin-top:10px;display:inline-block}.header-v1 .nav .nav-1 span.st2{height:32px;line-height:32px;margin:0 4px}.header-v1 .nav .nav-2{background:url(http://mat1.gtimg.com/finance/png/st/p/hqhk_gg/mainnav_v1.1/sprite_v20111121113517.png) repeat-x 0 -246px;height:39px;line-height:39px}.header-v1 .nav .nav-2 .top-smartbox{float:left;width:310px;height:25px;line-height:25px;margin-top:6px;padding-left:10px;position:relative}.header-v1 .nav .nav-2 .top-smartbox input:focus{outline:0}.header-v1 .nav .nav-2 .top-smartbox .smartbox-submit{background:url(http://mat1.gtimg.com/finance/images/stock/p/hqhk_gg/mainnav_v1.1/sprite-21.png) no-repeat -66px -29px;margin-left:5px;width:66px;height:26px;font-size:12px;color:#024F7B;cursor:pointer;border:none;text-indent:-999em;float:left}.header-v1 .nav .nav-2 .top-smartbox #trigger{height:25px;float:left;font-size:14px;width:61px;border:none;cursor:pointer;margin:1px 0 0 5px;background:url(http://mat1.gtimg.com/finance/images/stock/p/hqhk_gg/mainnav_v1.1/sprite-21.png) no-repeat 0 -30px}.header-v1 .nav .nav-2 .top-smartbox #trigger .pptext{float:left;height:23px;width:43px;line-height:23px;text-align:center;padding:1px 1px 0 3px}.header-v1 .nav .nav-2 .top-smartbox #trigger .icon{float:right;background:url(http://mat1.gtimg.com/finance/png/st/p/hqhk_gg/mainnav_v1.1/sprite-2_v20111121142445.png) -142px -30px no-repeat rgba(0,0,0,0);height:21px;width:11px;margin-right:3px;margin-top:2px}.header-v1 .nav .nav-2 .top-smartbox .ui-popup{display:none;border:1px solid #D0CECE;text-align:left;padding:1px;background:#fff}.header-v1 .nav .nav-2 .top-smartbox .ui-popup li{padding:2px 14px 0 3px;width:38px;color:#000;background:#fff;text-align:center;cursor:pointer;font-size:14px}.header-v1 .nav .nav-2 .top-smartbox .input{background:url(http://mat1.gtimg.com/finance/images/stock/p/hqhk_gg/mainnav_v1.1/sprite-21.png) no-repeat 0 0;line-height:25px;padding-left:4px;width:167px;height:25px;font-size:14px;border:none;float:left}.header-v1 .nav .nav-2 .cutline{border-left:1px solid #D2EEFA;border-right:1px solid #FEFFFD;float:left;font-size:0;height:39px;line-height:39px;width:0;margin:0 5px}.header-v1 .istock{font-size:12px;color:#005078;margin-left:10px;margin-top:2px;display:inline-block;float:left}.header-v1 .icall{background:url(http://mat1.gtimg.com/finance/images/stock/p/hqhk_gg/mainnav_v1.1/icon.png) no-repeat;width:14px;height:13px;margin:8px 7px;float:left}#h_msgbox{cursor:pointer}"
    }),
    define("views/header/header", ["require", "exports", "module", "view", "tip", "module/smartbox/smartbox", "marketBox/index", "models/stock", "text!./header.html", "text!./header.css", "popup"], function(e, t, n) {
        "use strict";
        function f(e) {
            var t = "http://gu.qq.com/" + e[0] + e[1];
            window.open(t)
        }
        var r = e("view")
            , i = e("tip")
            , s = e("module/smartbox/smartbox")
            , o = e("marketBox/index")
            , u = e("models/stock")
            , a = r.extend({
                attrs: {
                    template: e("text!./header.html"),
                    styleList: e("text!./header.css"),
                    model: {
                        url: 'href=""',
                        img: 'src=""'
                    }
                },
                _topSmartBox: null ,
                events: {
                    "click #popup > li": function(e) {
                        var t = $(e.currentTarget).data("market");
                        this._topSmartBox.set("market", t)
                    },
                    "click #h_msgbox": function() {
                        window.open("http://stockapp.finance.qq.com/pstock/msgbox.php")
                    }
                },
                setup: function() {
                    var e = this;
                    window._bannerImg = function(e) {
                        $("#banner a").attr("href", e.url),
                            $("#banner img").attr("src", e.img)
                    }
                        ,
                        $.ajax({
                            type: "get",
                            url: "http://finance.qq.com/products/portfolio/zxg_banner.htm",
                            data: {
                                _: (new Date).getTime()
                            },
                            traditional: !0,
                            dataType: "jsonp",
                            crossDomain: !0,
                            jsonp: "_bannerImg",
                            success: function(e) {},
                            error: function(e, t, n) {}
                        })
                },
                render: function() {
                    a.superclass.render.call(this),
                        $("#pageLoading").hide();
                    var t = e("popup")
                        , n = new t({
                            trigger: "#trigger",
                            element: "#popup",
                            triggerType: "click",
                            align: {
                                baseXY: [0, 25]
                            }
                        });
                    n.element.find("li").hover(function() {
                        $(this).css({
                            background: "#428FDC",
                            color: "#fff"
                        })
                    }, function() {
                        $(this).css({
                            background: "#fff",
                            color: "#000"
                        })
                    }),
                        n.element.find("li").click(function(e) {
                            e.preventDefault(),
                                n.get("trigger").find(".pptext").text($(this).text()),
                                n.hide()
                        }),
                        this._topSmartBox = (new s({
                            trigger: "#top-smartbox",
                            trigger_button: "#submitbtn",
                            align: {
                                baseElement: "#top-smartbox",
                                baseXY: ["10", "29"]
                            },
                            source: "head"
                        })).render().on("smartbox", function(e) {
                                f(e.data)
                            }),
                        this.models.group.once("change:msgbox", function(e) {
                            var t = $("#h_msgbox")
                                , n = "";
                            if (e === 0)
                                return;
                            e.total_num && e.total_num[1] > 0 ? n = ["<ul>", "<li>\u80a1\u4ef7\u6d88\u606f:(<em>" + e.stock_num[1] + "</em>)</li>", "<li>\u8d44\u8baf\u6d88\u606f:(<em>" + e.info_num[1] + "</em>)</li>", "<li>\u51c0\u503c\u6d88\u606f:(<em>" + e.fund_num[1] + "</em>)</li>", "<li>\u7279\u8272\u6d88\u606f:(<em>" + e.special_num[1] + "</em>)</li>", "</ul>"].join("") : n = "\u6682\u65e0\u672a\u8bfb\u6d88\u606f\uff0c\u70b9\u51fb\u67e5\u770b\u5386\u53f2\u6d88\u606f",
                                t.text(e.total_num ? e.total_num[1] : 0);
                            var r = new i({
                                trigger: "#h_msgbox",
                                content: n,
                                arrowPosition: 11
                            })
                        });
                    var r = new o({
                        parentNode: ".stock-box"
                    });
                    app.mktbox = r
                }
            });
        n.exports = a
    }),
    define("text!views/footer/footer.css", [], function() {
        return "#QQFooter{width:960px;margin:0 auto;clear:both;font-size:12px;position:relative}#QQFooter li{text-align:center;line-height:32px;list-style:none outside none}#QQFooter #yijian{float:right;margin-right:20px}#QQFooter #yijian a{color:#1044BA;text-decoration:underline}#QQFooter #yijian a:hover{color:#C00}#QQFooter a{color:#333;text-decoration:none}#QQFooter a:hover{color:#C00;text-decoration:underline}"
    }),
    define("text!views/footer/footer.html", [], function() {
        return '<div id="QQFooter">\n  <ul>\n    <li>\n      <span id="yijian"><a href="http://support.qq.com/beta2/simple/write.html?fid=614" target="_blank" class="fUL fc1">\u610f\u89c1\u53cd\u9988</a>\n      </span>\u817e\u8baf\u58f0\u660e\uff1a\u9891\u9053\u6240\u8f7d\u6587\u7ae0\u3001\u6570\u636e\u7b49\u5185\u5bb9\u7eaf\u5c5e\u4f5c\u8005\u4e2a\u4eba\u89c2\u70b9\uff0c\u4ec5\u4f9b\u6295\u8d44\u8005\u53c2\u8003\uff0c\u5e76\u4e0d\u6784\u6210\u6295\u8d44\u5efa\u8bae\u3002\u6295\u8d44\u8005\u636e\u6b64\u64cd\u4f5c\uff0c\u98ce\u9669\u81ea\u62c5\u3002</li>\n\n    <li><a href="http://www.tencent.com/">\u5173\u4e8e\u817e\u8baf</a> | <a href="http://www.tencent.com/index_e.shtml">About Tencent</a> | <a href="http://www.qq.com/contract.shtml">\u670d\u52a1\u6761\u6b3e</a> | <a href="http://adver.qq.com/">\u5e7f\u544a\u670d\u52a1</a> | <a href="http://hr.tencent.com/">\u817e\u8baf\u62db\u8058</a> | <a href="http://gongyi.qq.com/">\u817e\u8baf\u516c\u76ca</a> | <a href="http://service.qq.com/">\u5ba2\u670d\u4e2d\u5fc3</a> | <a href="http://www.qq.com/map/">\u7f51\u7ad9\u5bfc\u822a</a>\n    </li>\n\n    <li>Copyright \u00a9 1998 - <%=nowYear%>Tencent Inc. All Rights Reserved</li>\n    <li>\u817e\u8baf\u516c\u53f8 \u7248\u6743\u6240\u6709</li>\n  </ul>\n</div>\n'
    }),
    define("views/footer/footer", ["require", "exports", "module", "view", "art", "text!./footer.css", "text!./footer.html"], function(e, t, n) {
        "use strict";
        var r = e("view")
            , i = e("art")
            , s = r.extend({
                attrs: {
                    styleList: e("text!./footer.css"),
                    template: e("text!./footer.html"),
                    model: {
                        nowYear: "2015"
                    }
                },
                setup: function() {
                    var e = this;
                    s.superclass.setup.call(this);
                    var t = (new Date).getFullYear()
                        , n = {
                            nowYear: t
                        };
                    e.set("model", n),
                        e.element.html(i.compile(e.get("template"))(n))
                }
            });
        n.exports = s
    }),
    define("text!views/userinfo/userinfo.css", [], function() {
        return ".zxg-userinfo{height:30px;line-height:30px;padding:10px;position:relative;z-index:99}.zxg-userinfo .user_name{margin-right:10px;cursor:default}.zxg-userinfo .user_msgbox{margin-right:20px;cursor:pointer}.zxg-userinfo .user_msgbox em{margin:0 5px;color:#c00;font-style:normal}.zxg-userinfo .user_button{margin:0 5px;color:#1044BA}.zxg-userinfo .user_lint{margin:0 3px}.zxg-userinfo .adgj_cps{float:right;color:#1044BA}.zxg-userinfo .adgj_jy{display:inline-block;background:url(http://mat1.gtimg.com/finance/images/stock/p/quotpage/guojiquotpagen-ad6.png) no-repeat;width:103px;height:25px;*zoom:1;vertical-align:middle}.zxg-userinfo .adwj_qb{display:inline-block;background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/survery.png) no-repeat;width:103px;height:25px;*zoom:1;vertical-align:middle}.zxg-userinfo .adwj_yj{display:inline-block;background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/1933332ea9bc0f6c.png) no-repeat;width:210px;height:25px;*zoom:1;vertical-align:middle}.zxg-userinfo .ui-dropdownmenu-show{margin-top:2px}"
    }),
    define("text!views/userinfo/userinfo.html", [], function() {
        return '<div style="float:left;height: 30px;">\n  <span class="user_name">\u6b22\u8fce\u60a8&nbsp;\n    <strong><%=nickname%></strong>\n  </span>\n  <span class="user_msgbox">\u65b0\u6d88\u606f(\n    <em id="u_msgbox">0</em>)</span>\n  <ul href="javascript:void(0);" class="ui-dropdownmenu">\n  </ul>\n  <span class="user_line">|</span>\n  <a href="javascript:;" class="user_button" id="user_logout">\u9000\u51fa</a>\n  <span class="user_line">|</span>\n  <a target="_blank" href="http://support.qq.com/write.shtml?fid=614" class="user_button" style="color:#CC0033">\u610f\u89c1\u53cd\u9988</a>\n  <span class="user_line">|</span>\n  <a target="_blank" href="http://finance.qq.com/products/portfolio/webhelp.htm" class="user_button" onmousedown="app.boss.act(\'btn_help\');">\u5e2e\u52a9</a>\n  <a target="_blank" href="http://2.gjzq.com.cn" class="adgj_jy"></a>\n<!--  <a target="_blank" href="http://exp.qq.com/ur/?urid=26733" onmousedown="app.boss.act(\'btn_dcwj\');" class="adwj_yj"></a> -->\n</div>\n<a target="_blank" href="http://finance.qq.com/xdh/zt02.htm" class="adgj_cps">\u64cd\u76d8\u624b\u9009\u80a1</a>\n<a target="_blank" href="http://finance.qq.com/market.htm?pgv_ref=web_portfolio" class="adgj_cps" style="margin-right:1em;">\u7406\u8d22\u8d85\u5e02</a>\n<a target="_blank" href="http://stock.qq.com/2016stock/index.htm" class="adgj_cps" style="margin-right:1em;color:red;" onmousedown="app.boss.act(\'agds_web\')">2016\u817e\u8bafA\u80a1\u5927\u8d5b</a>\n'
    }),
    define("views/userinfo/userinfo", ["require", "exports", "module", "jquery", "view", "tip", "store", "text!./userinfo.css", "models/group", "models/setting", "text!./userinfo.html"], function(e, t, n) {
        "use strict";
        var r = e("jquery")
            , i = e("view")
            , s = e("tip")
            , o = e("store")
            , u = i.extend({
                attrs: {
                    className: "zxg-userinfo",
                    parentNode: "#zxg-body",
                    styleList: e("text!./userinfo.css")
                },
                models: {
                    group: e("models/group"),
                    setting: e("models/setting")
                },
                events: {
                    "click #user_logout": function(e) {
                        e.preventDefault(),
                            app.ptlogout()
                    },
                    "click .user_msgbox": function(e) {
                        app.boss.act("btn_new_message"),
                            window.open("http://stockapp.finance.qq.com/pstock/msgbox.php")
                    },
                    "click .ui-dropdownmenu li": function(e) {
                        var t = r(e.currentTarget).closest(".ui-dropdownmenu")
                            , n = t.data("open")
                            , i = this.models.setting
                            , s = this;
                        if (n) {
                            var o = r(e.currentTarget).data("key")
                                , u = o == "en" ? "btn_rup_gdowm" : "btn_gup_rdown";
                            app.boss.act(u),
                                t.data("open", !1),
                                i.set("colorType", o),
                                t.removeClass("ui-dropdownmenu-show")
                        } else
                            t.data("open", !0),
                                t.addClass("ui-dropdownmenu-show"),
                                setTimeout(function() {
                                    var e = function(n) {
                                            r(document.body).off("click", e),
                                            r(n.target).closest(".ui-dropdownmenu").size() || t.data("open") && (t.data("open", !1),
                                                t.removeClass("ui-dropdownmenu-show"))
                                        }
                                        ;
                                    r(document.body).on("click", e)
                                })
                    }
                },
                render: function() {
                    var t = this;
                    u.superclass.render.call(this),
                        this.set("template", e("text!./userinfo.html"));
                    var t = this;
                    this.models.group.once("change:nickname", function(e) {
                        t.set("model", {
                            nickname: e,
                            setting: t.models.setting.toJSON()
                        }),
                            t.set("title", e + "\u7684\u81ea\u9009\u80a1"),
                            t.renderPartial(),
                            t.renderColorType();
                        var n = r("#u_msgbox")
                            , i = this.get("msgbox")
                            , o = "";
                        if (i === 0)
                            return;
                        i.total_num[1] > 0 ? o = ["<ul>", "<li>\u80a1\u4ef7\u6d88\u606f:(<em>" + i.stock_num[1] + "</em>)</li>", "<li>\u8d44\u8baf\u6d88\u606f:(<em>" + i.info_num[1] + "</em>)</li>", "<li>\u51c0\u503c\u6d88\u606f:(<em>" + i.fund_num[1] + "</em>)</li>", "<li>\u7279\u8272\u6d88\u606f:(<em>" + i.special_num[1] + "</em>)</li>", "</ul>"].join("") : o = "\u6682\u65e0\u672a\u8bfb\u6d88\u606f\uff0c\u70b9\u51fb\u67e5\u770b\u5386\u53f2\u6d88\u606f",
                            n.text(i.total_num[1]);
                        var u = new s({
                            trigger: "#u_msgbox",
                            content: o,
                            arrowPosition: 11
                        });
                        app.QosS.timePoint2()()
                    }),
                        t.models.setting.on("change:colorType", _.bind(t.renderColorType, t))
                },
                renderColorType: function() {
                    var e = this.models.setting
                        , t = this.element.find(".ui-dropdownmenu")
                        , n = e.get("colorType")
                        , r = [];
                    n == "en" ? r.push('<li data-key="en"><span class="down"></span><span class="color">\u7eff\u6da8\u7ea2\u8dcc</span></li>') : r.push('<li data-key="cn"><span class="down"></span><span class="color">\u7ea2\u6da8\u7eff\u8dcc</span></li>'),
                        n == "en" ? r.push('<li data-key="cn"><span class="color">\u7ea2\u6da8\u7eff\u8dcc</span></li>') : r.push('<li data-key="en"><span class="color">\u7eff\u6da8\u7ea2\u8dcc</span></li>'),
                        t.html(r.join(""))
                }
            });
        n.exports = u
    }),
    define("sticky", ["require", "exports", "module", "jquery"], function(e, t, n) {
        function h(e) {
            this.options = e || {},
                this.elem = r(this.options.element),
                this.callback = e.callback || function() {}
                ,
                this.position = e.position,
                this._stickyId = o++
        }
        function p(e, t, n) {
            return r.isPlainObject(t) || (t = {
                top: t
            }),
            t.top === undefined && t.bottom === undefined && (t.top = 0),
                (new h({
                    element: e,
                    position: t,
                    callback: n
                })).render()
        }
        function d() {
            return !f
        }
        function v() {
            if (a)
                return !1;
            var e = i[0].body;
            if (i[0].createElement && e && e.appendChild && e.removeChild) {
                var t, n = i[0].createElement("div"), r = function(e) {
                        return window.getComputedStyle ? window.getComputedStyle(n).getPropertyValue(e) : n.currentStyle.getAttribute(e)
                    }
                    ;
                e.appendChild(n);
                for (var o = 0; o < s.length; o++) {
                    n.style.cssText = "position:" + s[o] + "sticky;visibility:hidden;";
                    if (t = r("position").indexOf("sticky") !== -1)
                        break
                }
                return n.parentNode.removeChild(n),
                    t
            }
        }
        function m() {
            return (Date.now || function() {
                return (new Date).getTime()
            }
            )()
        }
        function g(e, t, n) {
            var r, i, s, o, u;
            return function() {
                s = this,
                    i = arguments,
                    o = m();
                var a = function() {
                        var f = m() - o;
                        f < t ? r = setTimeout(a, t - f) : (r = null ,
                        n || (u = e.apply(s, i)))
                    }
                    , f = n && !r;
                return r || (r = setTimeout(a, t)),
                f && (u = e.apply(s, i)),
                    u
            }
        }
        var r = e("jquery")
            , i = r(document)
            , s = ["-webkit-", "-ms-", "-o-", "-moz-", ""]
            , o = 0
            , u = (window.navigator.userAgent || "").toLowerCase()
            , a = u.indexOf("msie") !== -1
            , f = u.indexOf("msie 6") !== -1
            , l = v()
            , c = d();
        h.prototype._prepare = function() {
            var e = this.elem.offset();
            this._originTop = e.top,
                this._originLeft = e.left,
            this.position.top === Number.MAX_VALUE && (this._callFix = !0,
                this.position.top = this._originTop),
                this._originStyles = {
                    position: null ,
                    top: null ,
                    bottom: null ,
                    left: null
                };
            for (var t in this._originStyles)
                this._originStyles.hasOwnProperty(t) && (this._originStyles[t] = this.elem.css(t))
        }
            ,
            h.prototype.render = function() {
                var e = this;
                if (!this.elem.length || this.elem.data("bind-sticked"))
                    return this;
                this._prepare(),
                    this.adjust = function() {
                        e._restore();
                        var n = !1;
                        e.elem.css("display") == "none" && (e.elem.show(),
                            n = !0);
                        var r = e.elem.offset();
                        e._originTop = r.top,
                            e._originLeft = r.left,
                        n && e.elem.hide(),
                            t.call(e)
                    }
                ;
                var t;
                if (p.isPositionStickySupported && !this._callFix) {
                    t = this._supportSticky;
                    var n = "";
                    for (var i = 0; i < s.length; i++)
                        n += "position:" + s[i] + "sticky;";
                    this.position.top !== undefined && (n += "top: " + this.position.top + "px;"),
                    this.position.bottom !== undefined && (n += "bottom: " + this.position.bottom + "px;"),
                        this.elem[0].style.cssText += n,
                        this.adjust = function() {
                            t.call(e)
                        }
                } else
                    p.isPositionFixedSupported ? t = this._supportFixed : (t = this._supportAbsolute,
                        r("<style type='text/css'> * html{ background:url(null) no-repeat fixed; } </style>").appendTo("head"));
                return t.call(this),
                    r(window).on("scroll.sticky" + this._stickyId, function() {
                        if (!e.elem.is(":visible"))
                            return;
                        t.call(e)
                    }),
                    r(window).on("resize.sticky" + this._stickyId, g(function() {
                        e.adjust()
                    }, 120)),
                    this.elem.data("bind-sticked", !0),
                    this
            }
            ,
            h.prototype._getTopBottom = function(e, t) {
                var n, i;
                return this.position.top !== undefined && (n = t - e <= this.position.top),
                this.position.bottom !== undefined && (i = e + r(window).height() - t - this.elem.outerHeight() <= this.position.bottom),
                {
                    top: n,
                    bottom: i
                }
            }
            ,
            h.prototype._supportFixed = function() {
                var e = this.elem.data("sticked")
                    , t = this._getTopBottom(i.scrollTop(), this._originTop);
                !e && (t.top !== undefined && t.top || t.bottom !== undefined && t.bottom) ? (this._addPlaceholder(),
                    this.elem.css(r.extend({
                        position: "fixed",
                        left: this._originLeft
                    }, t.top ? {
                        top: this.position.top
                    } : {
                        bottom: this.position.bottom
                    })),
                    this.elem.data("sticked", !0),
                    this.callback.call(this, !0)) : e && !t.top && !t.bottom && this._restore()
            }
            ,
            h.prototype._supportAbsolute = function() {
                var e = i.scrollTop()
                    , t = this.elem.data("sticked")
                    , n = this._getTopBottom(e, this.elem.offset().top);
                n.top || n.bottom || this._callFix ? (t || (this._addPlaceholder(),
                    this.elem.data("sticked", !0),
                    this.callback.call(this, !0)),
                    this.elem.css({
                        position: "absolute",
                        top: this._callFix ? this._originTop + e : n.top ? this.position.top + e : e + r(window).height() - this.position.bottom - this.elem.outerHeight()
                    })) : t && !n.top && !n.bottom && this._restore()
            }
            ,
            h.prototype._supportSticky = function() {
                var e = this.elem.data("sticked")
                    , t = this._getTopBottom(i.scrollTop(), this.elem.offset().top);
                !e && (t.top !== undefined && t.top || t.bottom !== undefined && t.bottom) ? (this.elem.data("sticked", !0),
                    this.callback.call(this, !0)) : e && !t.top && !t.bottom && (this.elem.data("sticked", !1),
                    this.callback.call(this, !1))
            }
            ,
            h.prototype._restore = function() {
                this._removePlaceholder(),
                    this.elem.css(this._originStyles),
                    this.elem.data("sticked", !1),
                    this.callback.call(this, !1)
            }
            ,
            h.prototype._addPlaceholder = function() {
                var e = !1
                    , t = this.elem.css("position");
                if (t === "static" || t === "relative")
                    e = !0;
                this.elem.css("display") !== "block" && (e = !1),
                e && (this._placeholder = r('<div style="visibility:hidden;margin:0;padding:0;"></div>'),
                    this._placeholder.width(this.elem.outerWidth(!0)).height(this.elem.outerHeight(!0)).css("float", this.elem.css("float")).insertAfter(this.elem))
            }
            ,
            h.prototype._removePlaceholder = function() {
                this._placeholder && this._placeholder.remove()
            }
            ,
            h.prototype.destroy = function() {
                this._restore(),
                    this.elem.data("bind-sticked", !1),
                    r(window).off("scroll.sticky" + this._stickyId),
                    r(window).off("resize.sticky" + this._stickyId)
            }
            ,
            n.exports = p,
            p.stick = p,
            p.fix = function(e) {
                return (new h({
                    element: e,
                    position: {
                        top: Number.MAX_VALUE
                    }
                })).render()
            }
            ,
            p.isPositionStickySupported = l,
            p.isPositionFixedSupported = c
    }),
    define("mask", ["require", "exports", "module", "jquery", "overlay"], function(e, t, n) {
        var r = e("jquery")
            , i = e("overlay")
            , s = (window.navigator.userAgent || "").toLowerCase()
            , o = s.indexOf("msie 6") !== -1
            , u = r(document.body)
            , a = r(document)
            , f = i.extend({
                attrs: {
                    width: o ? a.outerWidth(!0) : "100%",
                    height: o ? a.outerHeight(!0) : "100%",
                    className: "ui-mask",
                    opacity: .2,
                    backgroundColor: "#000",
                    style: {
                        position: o ? "absolute" : "fixed",
                        top: 0,
                        left: 0
                    },
                    align: {
                        baseElement: o ? u : undefined
                    }
                },
                show: function() {
                    return o && (this.set("width", a.outerWidth(!0)),
                        this.set("height", a.outerHeight(!0))),
                        f.superclass.show.call(this)
                },
                _onRenderBackgroundColor: function(e) {
                    this.element.css("backgroundColor", e)
                },
                _onRenderOpacity: function(e) {
                    this.element.css("opacity", e)
                }
            });
        n.exports = new f
    }),
    define("text!../vendor/DoraJS/ui-dialog/dialog.html", [], function() {
        return '<div class="<%=classPrefix%>">\n    <a class="<%=classPrefix%>-close" title="Close" href="javascript:;" data-role="close"></a>\n    <div class="<%=classPrefix%>-content" data-role="content"></div>\n</div>'
    }),
    define("dialog", ["require", "exports", "module", "jquery", "overlay", "mask", "events", "templatable", "text!../vendor/DoraJS/ui-dialog/dialog.html"], function(e, t, n) {
        "use strict";
        function f(e) {
            e.attr("tabindex") == null && e.attr("tabindex", "-1")
        }
        function l(e) {
            var t = e[0].contentWindow.document;
            if (t.body.scrollHeight && t.documentElement.scrollHeight)
                return Math.min(t.body.scrollHeight, t.documentElement.scrollHeight);
            if (t.documentElement.scrollHeight)
                return t.documentElement.scrollHeight;
            if (t.body.scrollHeight)
                return t.body.scrollHeight
        }
        var r = e("jquery")
            , i = e("overlay")
            , s = e("mask")
            , o = e("events")
            , u = e("templatable")
            , a = i.extend({
                Implements: u,
                attrs: {
                    template: e("text!../vendor/DoraJS/ui-dialog/dialog.html"),
                    trigger: {
                        value: null ,
                        getter: function(e) {
                            return r(e)
                        }
                    },
                    classPrefix: "ui-dialog",
                    content: {
                        value: null ,
                        setter: function(e) {
                            if (/^(https?:\/\/|\/|\.\/|\.\.\/)/.test(e)) {
                                this._type = "iframe";
                                if (e.indexOf("?ajax") > 0 || e.indexOf("&ajax") > 0)
                                    this._ajax = !0
                            }
                            return e
                        }
                    },
                    hasMask: !0,
                    closeTpl: "\u00d7",
                    width: 500,
                    height: null ,
                    initialHeight: 300,
                    effect: "none",
                    zIndex: 999,
                    autoFit: !0,
                    dragable: !1,
                    align: {
                        value: {
                            selfXY: ["50%", "50%"],
                            baseXY: ["50%", "42%"]
                        },
                        getter: function(e) {
                            return this.element.height() > r(window).height() ? {
                                selfXY: ["50%", "0"],
                                baseXY: ["50%", "0"]
                            } : e
                        }
                    }
                },
                parseElement: function() {
                    this.set("model", {
                        classPrefix: this.get("classPrefix")
                    }),
                        a.superclass.parseElement.call(this),
                        this.contentElement = this.$("[data-role=content]"),
                        this.contentElement.css({
                            height: "100%",
                            zoom: 1
                        }),
                        this.$("[data-role=close]").hide()
                },
                events: {
                    "click [data-role=close]": function(e) {
                        e.preventDefault(),
                            this.hide()
                    },
                    "click [data-role=cancel]": function(e) {
                        e.preventDefault(),
                            this.hide()
                    }
                },
                show: function() {
                    return this._type === "iframe" && (this._ajax ? this._ajaxHtml() : (!this.get("height") && this.contentElement.css("height", this.get("initialHeight")),
                        this._showIframe())),
                        a.superclass.show.call(this),
                        this
                },
                hide: function() {
                    return this._type === "iframe" && this.iframe && (this.iframe.attr({
                        src: "javascript:'';"
                    }),
                        this.iframe.remove(),
                        this.iframe = null ),
                        a.superclass.hide.call(this),
                        clearInterval(this._interval),
                        delete this._interval,
                        this
                },
                destroy: function() {
                    return this.element.remove(),
                        this._hideMask(),
                        clearInterval(this._interval),
                        a.superclass.destroy.call(this)
                },
                setup: function() {
                    a.superclass.setup.call(this),
                        this._setupTrigger(),
                        this._setupMask(),
                        this._setupKeyEvents(),
                        this._setupFocus(),
                        f(this.element),
                        f(this.get("trigger")),
                        this.activeTrigger = this.get("trigger").eq(0)
                },
                _onRenderContent: function(e) {
                    if (this._type !== "iframe") {
                        var t;
                        try {
                            t = r(e)
                        } catch (n) {
                            t = []
                        }
                        t[0] ? this.contentElement.empty().append(t) : this.contentElement.empty().html(e),
                            this._setPosition()
                    }
                },
                _onRenderCloseTpl: function(e) {
                    e === "" ? this.$("[data-role=close]").html(e).hide() : this.$("[data-role=close]").html(e).show()
                },
                _onRenderVisible: function(e) {
                    e ? this.get("effect") === "fade" ? this.element.fadeIn(300) : this.element.show() : this.element.hide()
                },
                _setupTrigger: function() {
                    this.delegateEvents(this.get("trigger"), "click", function(e) {
                        e.preventDefault(),
                            this.activeTrigger = r(e.currentTarget),
                            this.show()
                    })
                },
                _setupMask: function() {
                    var e = this;
                    s._dialogs = s._dialogs || [],
                        this.after("show", function() {
                            if (!this.get("hasMask"))
                                return;
                            s.set("zIndex", e.get("zIndex")).show(),
                                s.element.insertBefore(e.element);
                            var t = !1;
                            for (var n = 0; n < s._dialogs.length; n++)
                                s._dialogs[n] === e && (t = !0);
                            t || s._dialogs.push(e)
                        }),
                        this.after("hide", this._hideMask)
                },
                _hideMask: function() {
                    if (!this.get("hasMask"))
                        return;
                    s._dialogs && s._dialogs.pop();
                    if (s._dialogs && s._dialogs.length > 0) {
                        var e = s._dialogs[s._dialogs.length - 1];
                        s.set("zIndex", e.get("zIndex")),
                            s.element.insertBefore(e.element)
                    } else
                        s.hide()
                },
                _setupFocus: function() {
                    this.after("show", function() {
                        this.element.focus()
                    }),
                        this.after("hide", function() {
                            this.activeTrigger && this.activeTrigger.focus()
                        })
                },
                _setupKeyEvents: function() {
                    this.delegateEvents(r(document), "keyup.esc", function(e) {
                        e.keyCode === 27 && this.get("visible") && this.hide()
                    })
                },
                _showIframe: function() {
                    var e = this;
                    this.iframe || this._createIframe(),
                        this.iframe.attr({
                            src: this._fixUrl(),
                            name: "dialog-iframe" + (new Date).getTime()
                        }),
                        this.iframe.one("load", function() {
                            if (!e.get("visible"))
                                return;
                            e.get("autoFit") && (clearInterval(e._interval),
                                e._interval = setInterval(function() {
                                    e._syncHeight()
                                }, 300)),
                                e._syncHeight(),
                                e._setPosition(),
                                e.trigger("complete:show")
                        })
                },
                _fixUrl: function() {
                    var e = this.get("content").match(/([^?#]*)(\?[^#]*)?(#.*)?/);
                    return e.shift(),
                        e[1] = (e[1] && e[1] !== "?" ? e[1] + "&" : "?") + "t=" + (new Date).getTime(),
                        e.join("")
                },
                _createIframe: function() {
                    var e = this;
                    this.iframe = r("<iframe>", {
                        src: "javascript:'';",
                        scrolling: "no",
                        frameborder: "no",
                        allowTransparency: "true",
                        css: {
                            border: "none",
                            width: "100%",
                            display: "block",
                            height: "100%",
                            overflow: "hidden"
                        }
                    }).appendTo(this.contentElement),
                        o.mixTo(this.iframe[0]),
                        this.iframe[0].on("close", function() {
                            e.hide()
                        })
                },
                _drag: function(e, t) {
                    var n = this
                        , i = function() {
                            return window.event || arguments.callee.caller.arguments[0]
                        }
                        ;
                    if (n.get("dragable")) {
                        var s = "." + n.get("classPrefix") + "-title"
                            , e = e || r(n.element[0]).find(s)[0];
                        if (e) {
                            var o = 0
                                , u = 0
                                , a = 0
                                , f = 0
                                , l = !1
                                , c = document.onmousemove
                                , h = document.onmouseup
                                , t = t || n.element[0]
                                , p = document.documentElement.clientWidth
                                , d = document.documentElement.clientHeight
                                , v = r(t).width()
                                , m = r(t).height();
                            e.onmousedown = function(e) {
                                var n = i();
                                l = !0,
                                    o = n.clientX,
                                    u = n.clientY,
                                    a = parseInt(t.style.top),
                                    f = parseInt(t.style.left),
                                    document.onmousemove = function() {
                                        if (l) {
                                            var e = i()
                                                , n = f + e.clientX - o
                                                , r = a + e.clientY - u;
                                            t.style.left = n + "px",
                                                t.style.top = r + "px"
                                        }
                                    }
                                    ,
                                    document.onmouseup = function() {
                                        l && (document.onmousemove = c,
                                            document.onmouseup = h,
                                            l = !1,
                                            o = 0,
                                            u = 0,
                                            a = 0,
                                            f = 0)
                                    }
                            }
                        }
                    }
                },
                _syncHeight: function() {
                    var e;
                    if (!this.get("height")) {
                        try {
                            this._errCount = 0,
                                e = l(this.iframe) + "px"
                        } catch (t) {
                            this._errCount = (this._errCount || 0) + 1,
                            this._errCount >= 6 && (e = this.get("initialHeight"),
                                clearInterval(this._interval),
                                delete this._interval)
                        }
                        this.contentElement.css("height", e),
                            this.element[0].className = this.element[0].className
                    } else
                        clearInterval(this._interval),
                            delete this._interval
                },
                _ajaxHtml: function() {
                    var e = this;
                    this.contentElement.css("height", this.get("initialHeight")),
                        this.contentElement.load(this.get("content"), function() {
                            e._setPosition(),
                                e.contentElement.css("height", ""),
                                e.trigger("complete:show")
                        })
                }
            });
        n.exports = a
    }),
    define("text!module/group/addGroup.html", [], function() {
        return '<div class="<%=classPrefix%>">\n  <a class="<%=classPrefix%>-close" title="Close" href="javascript:;" data-role="close"></a>\n  <div class="<%=classPrefix%>-title" data-role="title">\n    <div class="ui_stock_title">\n      <em class="ui_stock_icon3"></em>\u6dfb\u52a0\u5206\u7ec4</div>\n  </div>\n  <div class="<%=classPrefix%>-content" data-role="content">\n    <div class="<%=classPrefix%>-message">\n      <div class="ui_stock_group"><input type="type" id="group_name" placeholder="\u8bf7\u8f93\u5165\u7ec4\u5408\u540d\u79f0" value=""><div class="hint">(\u7ec4\u5408\u540d\u79f0\u4e0d\u8d85\u8fc74\u4e2a\u6c49\u5b57\u62168\u4e2a\u5b57\u7b26)</div></div>\n    </div>\n  </div>\n  <div class="<%=classPrefix%>-operation" data-role="foot">\n    <div class="<%=classPrefix%>-confirm" data-role="confirm"><a class="<%=classPrefix%>-button-orange" href="javascript:;">\u786e\u5b9a</a>\n    </div>\n    <div class="<%=classPrefix%>-cancel" data-role="cancel"><a class="<%=classPrefix%>-button-white" href="javascript:;">\u53d6\u6d88</a>\n    </div>\n  </div>\n</div>'
    }),
    define("text!module/group/delGroup.html", [], function() {
        return '<div class="<%=classPrefix%>">\n  <a class="<%=classPrefix%>-close" title="Close" href="javascript:;" data-role="close"></a>\n  <div class="<%=classPrefix%>-title" data-role="title">\n    <div class="ui_stock_title">\n      <em class="ui_stock_icon1"></em>\u5220\u9664\u5206\u7ec4</div>\n  </div>\n  <div class="<%=classPrefix%>-content" data-role="content">\n    <div class="<%=classPrefix%>-message">\n      <div class="ui_stock_group_del">\n        <div class="delinfo">\u786e\u5b9a\u5220\u9664\u5206\u7ec4&nbsp;&nbsp;<i><%=gname%></i></div>\n      </div>\n    </div>\n  </div>\n  <div class="<%=classPrefix%>-operation" data-role="foot">\n    <div class="<%=classPrefix%>-confirm" data-role="confirm"><a class="<%=classPrefix%>-button-orange" href="javascript:;">\u786e\u5b9a</a>\n    </div>\n    <div class="<%=classPrefix%>-cancel" data-role="cancel"><a class="<%=classPrefix%>-button-white" href="javascript:;">\u53d6\u6d88</a>\n    </div>\n  </div>\n</div>\n'
    }),
    define("text!module/group/editGroup.html", [], function() {
        return '<div class="<%=classPrefix%>">\n  <a class="<%=classPrefix%>-close" title="Close" href="javascript:;" data-role="close"></a>\n  <div class="<%=classPrefix%>-title" data-role="title">\n    <div class="ui_stock_title">\n      <em class="ui_stock_icon3"></em>\u4fee\u6539\u5206\u7ec4</div>\n  </div>\n  <div class="<%=classPrefix%>-content" data-role="content">\n    <div class="<%=classPrefix%>-message">\n      <div class="ui_stock_group"><input type="type" id="group_name" placeholder="\u8bf7\u8f93\u5165\u7ec4\u5408\u540d\u79f0" value="<%=gname%>"><div class="hint">(\u7ec4\u5408\u540d\u79f0\u4e0d\u8d85\u8fc74\u4e2a\u6c49\u5b57\u62168\u4e2a\u5b57\u7b26)</div></div>\n    </div>\n  </div>\n  <div class="<%=classPrefix%>-operation" data-role="foot">\n    <div class="<%=classPrefix%>-confirm" data-role="confirm"><a class="<%=classPrefix%>-button-orange" href="javascript:;">\u786e\u5b9a</a>\n    </div>\n    <div class="<%=classPrefix%>-cancel" data-role="cancel"><a class="<%=classPrefix%>-button-white" href="javascript:;">\u53d6\u6d88</a>\n    </div>\n  </div>\n</div>'
    }),
    define("text!module/group/delShare.html", [], function() {
        return '<div class="<%=classPrefix%>">\r\n  <a class="<%=classPrefix%>-close" title="Close" href="javascript:;" data-role="close"></a>\r\n  <div class="<%=classPrefix%>-title" data-role="title">\r\n    <div class="ui_stock_title">\r\n      <em class="ui_stock_icon1"></em>\u5220\u9664\u5206\u7ec4</div>\r\n  </div>\r\n  <div class="<%=classPrefix%>-content" data-role="content">\r\n    <div class="<%=classPrefix%>-message">\r\n      <div class="ui_stock_group_del">\r\n        <div class="delinfo" style="font-size: 17px;margin-left:50px;"><div style="margin-top: -9px;">\u7ec4\u5408\u5df2\u5206\u4eab\u7ed9\u597d\u53cb\uff0c\u65e0\u6cd5\u5220\u9664</div></div>\r\n        <div class="delinfo" style="font-size:14px;margin-left:50px;background: none;margin-top: -34px;color: #A8A8A8;">\u8bf7\u5728\u624b\u673a\u4e0a\u901a\u8fc7\u81ea\u9009\u80a1\u5e94\u7528\u53d6\u6d88\u8be5\u7ec4\u5408\u5206\u4eab\uff0c\u5373\u53ef\u5220\u9664\u3002</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="<%=classPrefix%>-operation" data-role="foot">\r\n    <div class="<%=classPrefix%>-confirm" data-role="confirm"><a class="<%=classPrefix%>-button-orange" href="javascript:;">\u786e\u5b9a</a>\r\n    </div>\r\n    <div class="<%=classPrefix%>-cancel" data-role="cancel"><a class="<%=classPrefix%>-button-white" href="javascript:;">\u53d6\u6d88</a>\r\n    </div>\r\n  </div>\r\n</div>\r\n'
    }),
    define("module/group/data", ["require", "exports", "module", "model-init", "Tool", "underscore"], function(e, t, n) {
        "use strict";
        var r = e("model-init")
            , i = e("Tool").single()
            , s = e("underscore")
            , o = r.extend({
                _actionUrl: function(e) {
                    return "http://newstock.finance.qq.com/stockapp/Updstockweb/operseq?&app=web&callback=?&uin=" + app.QQuin + "&seq=" + encodeURI(e)
                },
                del: function(e) {
                    var t = (new Date).getTime()
                        , n = i.stringify([{
                            grpid: e,
                            act: "gd",
                            timestamp: t
                        }]);
                    return this.ajax(this._actionUrl(n)).then(function(e) {
                        return s.isUndefined(e.data.RetMap) && e.data.result[0] == 0 ? !0 : e.data.result[0] == 0 ? !1 : {
                            code: e.data.result[0]
                        }
                    })
                },
                add: function(e) {
                    var t = (new Date).getTime()
                        , n = "gn" + t
                        , r = i.stringify([{
                            grpid: n,
                            act: "ga",
                            grpname: e,
                            timestamp: t
                        }]);
                    return this.ajax(this._actionUrl(r)).then(function(e) {
                        return s.isUndefined(e.data.IDMap) ? !1 : e.data.IDMap[n]
                    })
                },
                edit: function(e, t) {
                    var n = (new Date).getTime()
                        , r = i.stringify([{
                            grpid: e,
                            act: "gu",
                            grpname: t,
                            timestamp: n
                        }]);
                    return this.ajax(this._actionUrl(r)).then(function(e) {
                        return s.isUndefined(e.data.RetMap) ? !0 : !1
                    })
                },
                sort: function(e) {
                    var t = (new Date).getTime()
                        , n = i.stringify([{
                            grplist: e,
                            act: "go",
                            timestamp: t
                        }]);
                    return this.ajax(this._actionUrl(n)).then(function(e) {
                        return s.isUndefined(e.data.RetMap) ? !0 : !1
                    })
                }
            });
        n.exports = o
    }),
    define("module/group/group", ["require", "exports", "module", "jquery", "dialog", "Tool", "text!./addGroup.html", "text!./delGroup.html", "text!./editGroup.html", "text!./delShare.html", "underscore", "./data"], function(e, t, n) {
        "use strict";
        var r = e("jquery")
            , i = e("dialog")
            , s = e("Tool").single()
            , o = {
                add: e("text!./addGroup.html"),
                del: e("text!./delGroup.html"),
                edit: e("text!./editGroup.html"),
                delShare: e("text!./delShare.html")
            }
            , u = e("underscore")
            , a = e("./data").single()
            , f = i.extend({
                attrs: {
                    template: "<div></div>",
                    gname: "",
                    type: null
                },
                events: {
                    "click [data-role=confirm]": function(e) {
                        e.preventDefault();
                        var t = this.get("type");
                        /^add|edit|del$/.test(t) && this["_" + t + "Action"]()
                    }
                },
                _editAction: function() {
                    var e = this
                        , t = this.element.find("#group_name").val().replace(/(^\s*)|(\s*$)/g, "");
                    if (this._gNameIsOk(t))
                        return a.edit(this.get("gid"), t).then(function(n) {
                            n ? e.trigger("ok", e, "\u5206\u7ec4\u4fee\u6539\u6210\u529f", t) : e.trigger("error", "\u5206\u7ec4\u4fee\u6539\u5931\u8d25"),
                                e.hide()
                        });
                    this.element.find(".hint").addClass("error")
                },
                _delAction: function() {
                    var e = this;
                    a.del(this.get("gid")).then(function(t) {
                        if (u.isBoolean(t) && t)
                            e.trigger("ok", e, "\u5206\u7ec4\u5220\u9664\u6210\u529f");
                        else {
                            if (!u.isBoolean(t) && t.code == -120) {
                                e.hide(),
                                    e.showShareConfirm();
                                return
                            }
                            e.trigger("error", "\u5206\u7ec4\u5220\u9664\u5931\u8d25")
                        }
                    }),
                        this.hide()
                },
                _addAction: function() {
                    var e = this
                        , t = this.element.find("#group_name").val().replace(/(^\s*)|(\s*$)/g, "");
                    if (this._gNameIsOk(t))
                        return a.add(t).then(function(t) {
                            t ? e.trigger("ok", e, "\u5206\u7ec4\u6dfb\u52a0\u6210\u529f", t.realID) : e.trigger("error", "\u5206\u7ec4\u6dfb\u52a0\u5931\u8d25"),
                                e.hide()
                        });
                    this.element.find(".hint").addClass("error")
                },
                _gNameIsOk: function(e) {
                    return s.fucCheckLength(e) <= 8 && !u.isEmpty(e) && !/['"\u2018\u201c\\]+/.test(e) ? !0 : !1
                },
                show: function() {
                    var e = this;
                    f.superclass.show.call(this);
                    var t = this.get("type");
                    t && (this.set("template", o[t]),
                        this.set("model", {
                            classPrefix: this.get("classPrefix"),
                            gname: this.get("gname")
                        }),
                        this.renderPartial()),
                    t === "del" && setTimeout(function() {
                        e.element.find(".delinfo").css("margin-left", (e.element.find(".ui_stock_group_del").width() - e.element.find(".delinfo").width()) / 2)
                    }, 0)
                },
                showShareConfirm: function() {
                    var e = new i({
                        template: o.delShare
                    });
                    e.set("model", {
                        classPrefix: this.get("classPrefix")
                    }),
                        e.after("show", function() {
                            this.element.find("[data-role=confirm]")[0].onclick = function() {
                                e.hide()
                            }
                        }),
                        e.show()
                },
                _setupKeyEvents: function() {}
            });
        n.exports = f
    }),
    define("text!views/stock/views/group/group.css", [], function() {
        return ".zxg-group{height:33px;overflow:hidden;background-color:#fff}.zxg-group .g_box{position:absolute;top:1px;left:0}.zxg-group .g_ul{height:32px;float:left}.zxg-group .g_ul li{float:left;width:87px;height:32px;line-height:32px;cursor:pointer;position:relative}.zxg-group .g_ul li .g_name{float:left;width:65px;height:32px;text-align:center;color:#4f82c4;font-weight:700;overflow:hidden}.zxg-group .g_ul li .g_nemu{float:left;width:19px;height:32px;border-right:1px solid #fff;background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon2.png) no-repeat center}.zxg-group .g_ul li.active{background-color:#fff;border-left:1px solid #6ba4d7;border-right:1px solid #6ba4d7;border-top:1px solid #6ba4d7}.zxg-group .g_ul li.tab{background-color:#4273b4;color:#fff;border-left:1px solid #6ba4d7;border-bottom:1px solid #6ba4d7}.zxg-group .g_ul li.tab .g_name{color:#fff;width:85px}.zxg-group .g_ul li.tab .g_nemu{float:left;width:19px;height:32px;border-right:1px solid #234777;background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon1.png) no-repeat center}.zxg-group .g_ul li.tab .g_nemu_end{border-right:none}.zxg-group .g_ul li.groupDragClass{visibility:hidden;border-left:none}.zxg-group .g_ul .liProxy{position:absolute;filter:Alpha(Opacity=80,Style=0);opacity:.8;cursor:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/74af2c259433b4ce.cur),pointer}.zxg-group .g_ul .liProxy.active{background-color:#ebf1f8;color:#fff}.zxg-group .g_ul .liProxy.tab{background-color:#38629f;color:#4f82c4}.zxg-group .g_add{display:block;float:left;width:81px;height:24px;line-height:24px;border:1px solid #5581bc;text-align:center;text-decoration:none;text-indent:10px;font-weight:700;color:#fff;margin:3px 0 0 5px;background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon3.png) #8cb3e4 no-repeat 3px 3.3px}.zxg-group .g_nemu_ul{position:absolute;top:30px;left:-1px;width:85px;border:1px solid #97ABC6;border-top:none;display:none;z-index:1}.zxg-group li .g_nemu_ul li{float:left;height:33px;line-height:33px;background-color:#fff;color:#5B5B5B;text-indent:25px}.zxg-group li .g_nemu_ul li.g_edit{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon4.png) #FFF no-repeat 6px 9px}.zxg-group li .g_nemu_ul li.g_batch{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/batch.png) #FFF no-repeat 5px 8px}.zxg-group li .g_nemu_ul li.g_del{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon5.png) #FFF no-repeat 6px 9px}"
    }),
    define("text!views/stock/views/group/group.html", [], function() {
        return '<div class="g_box">\n  <ul class="g_ul">\n    <% for (var i = 0, l = list.length; i < l; i++) { %>\n      <% if (list[i].id == gid) { %>\n      <li class="active g_li" data-gid="<%=list[i].id%>">\n        <div class="g_name"><%=list[i].name%></div>\n        <a href="javascript:;" class="g_nemu"></a>\n        <ul class="g_nemu_ul">\n          <li class="g_edit">\u66f4\u6539\u540d\u79f0</li>\n          <li class="g_del">\u5220\u9664\u7ec4\u5408</li>\n        </ul>\n      </li>\n      <% } else { %>\n        <li class="tab g_li" data-gid="<%=list[i].id%>">\n          <div class="g_name"><%=list[i].name%></div>\n          <a href="javascript:;" class="g_nemu" style="display:none;"></a>\n          <ul class="g_nemu_ul">\n            <li class="g_edit">\u66f4\u6539\u540d\u79f0</li>\n            <li class="g_del">\u5220\u9664\u7ec4\u5408</li>\n          </ul>\n        </li>\n      <% } %>\n    <% } %>\n  </ul>\n  <a href="javascript:;" class="g_add">\u6dfb\u52a0\u7ec4\u5408</a>\n</div>'
    }),
    define("tablednd", ["require", "exports", "module", "jquery", "underscore", "base"], function(e, t, n) {
        "use strict";
        var r = e("jquery")
            , i = e("underscore")
            , s = e("base")
            , o = s.extend({
                currentTable: null ,
                dragObject: null ,
                mouseOffset: null ,
                oldY: 0,
                oldX: 0,
                oldIndex: null ,
                ok: !1,
                down: !0,
                build: function(e) {
                    e = e || {};
                    var t = this;
                    return t.tableDnDConfig = {
                        table: e.table,
                        onDragStyle: e.onDragStyle,
                        onDropStyle: e.onDropStyle,
                        onDragClass: e.onDragClass ? e.onDragClass : "tDnD_whileDrag",
                        onDrop: e.onDrop,
                        onDragStart: e.onDragStart,
                        afterStartDrag: e.afterStartDrag,
                        scrollAmount: e.scrollAmount ? e.scrollAmount : 5,
                        dragSelector: e.dragSelector ? e.dragSelector : ".sline",
                        indexSelector: e.indexSelector ? e.indexSelector : "symbol",
                        tagName: e.tagName ? e.tagName : "dl"
                    },
                        t.makeDraggable(e.table),
                        e.type && e.type == "group" ? jQuery(document).bind("mousemove", i.bind(t.mousemoveG, t)).bind("mouseup", i.bind(t.mouseupG, t)) : jQuery(document).bind("mousemove", i.bind(t.mousemove, t)).bind("mouseup", i.bind(t.mouseup, t)),
                        this
                },
                destroy: function(e) {
                    this.down = e
                },
                makeDraggable: function(e) {
                    var t = this
                        , n = t.tableDnDConfig
                        , i = r(e).find(n.dragSelector);
                    for (var s = 0; s < i.length; s++) {
                        var o = r(i[s]).hasClass("nodrag");
                        o || jQuery(i[s]).mousedown(function(i) {
                            var s = this;
                            if (i.currentTarget.tagName.toLowerCase() == n.tagName && t.down && !r(i.target).closest(".opt").size())
                                return t.oldIndex = r(s).data(n.indexSelector),
                                    t.dragObject = s,
                                    t.currentTable = e,
                                    t.mouseOffset = t.getMouseOffset(s, i),
                                n.onDragStart && n.onDragStart(e, s),
                                    !1
                        })
                    }
                },
                mouseCoords: function(e) {
                    return e.pageX || e.pageY ? {
                        x: e.pageX,
                        y: e.pageY
                    } : {
                        x: e.clientX + document.body.scrollLeft - document.body.clientLeft,
                        y: e.clientY + document.body.scrollTop - document.body.clientTop
                    }
                },
                getMouseOffset: function(e, t) {
                    t = t || window.event;
                    var n = this.getPosition(e)
                        , r = this.mouseCoords(t);
                    return {
                        x: r.x - n.x,
                        y: r.y - n.y,
                        lawY: r.y,
                        lawX: r.x
                    }
                },
                getPosition: function(e) {
                    var t = 0
                        , n = 0;
                    e.offsetHeight == 0 && (e = e.firstChild);
                    while (e.offsetParent)
                        t += e.offsetLeft,
                            n += e.offsetTop,
                            e = e.offsetParent;
                    return t += e.offsetLeft,
                        n += e.offsetTop,
                        n -= 70,
                    {
                        x: t,
                        y: n
                    }
                },
                mousemove: function(e) {
                    var t = this;
                    if (t.dragObject == null )
                        return;
                    var n = jQuery(t.dragObject)
                        , i = t.tableDnDConfig
                        , s = t.mouseCoords(e)
                        , o = s.y - t.mouseOffset.y
                        , u = window.pageYOffset;
                    document.all && (typeof document.compatMode != "undefined" && document.compatMode != "BackCompat" ? u = document.documentElement.scrollTop : typeof document.body != "undefined" && (u = document.body.scrollTop));
                    var a = r(".zxg-stock").height();
                    if (s.y - u < i.scrollAmount || u > a && s.y <= u + a)
                        window.scrollBy(0, -15);
                    else {
                        var f = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : document.body.clientHeight;
                        f - (s.y - u) < i.scrollAmount && window.scrollBy(0, i.scrollAmount)
                    }
                    if (o != t.oldY && Math.abs(t.mouseOffset.lawY - s.y) > 5) {
                        i.afterStartDrag && i.afterStartDrag();
                        var l = o > t.oldY;
                        t.oldY = o,
                            i.onDragClass ? n.addClass(i.onDragClass) : n.css(i.onDragStyle);
                        var c = t.findDropTargetRow(n, o);
                        if (c) {
                            var h = r(c).find("dt").data("symbol");
                            h != t.oldIndex && t.oldIndex != null && (t.ok = !0),
                                t.oldIndex = h,
                                r("#dndProxy").show().css({
                                    top: o,
                                    width: r(c).width()
                                }),
                                l && t.dragObject != c ? t.dragObject.parentNode === c.parentNode && t.dragObject.parentNode.insertBefore(t.dragObject, c.nextSibling) : !l && t.dragObject != c && t.dragObject.parentNode === c.parentNode && t.dragObject.parentNode.insertBefore(t.dragObject, c)
                        }
                    }
                    return !1
                },
                findDropTargetRow: function(e, t) {
                    var n = this
                        , i = r(n.currentTable).find(".sline");
                    for (var s = 0; s < i.length; s++) {
                        var o = i[s]
                            , u = n.getPosition(o).y
                            , a = parseInt(o.offsetHeight) / 2;
                        o.offsetHeight == 0 && (u = n.getPosition(o.firstChild).y,
                            a = parseInt(o.firstChild.offsetHeight) / 2);
                        if (t > u - a && t < u + a) {
                            if (o == e)
                                return null ;
                            var f = n.tableDnDConfig;
                            if (f.onAllowDrop)
                                return f.onAllowDrop(e, o) ? o : null ;
                            var l = r(o).hasClass("nodrop");
                            return l ? null : o
                        }
                    }
                    return null
                },
                findDropTargetLI: function(e, t) {
                    var n = this
                        , i = r(n.currentTable).find(".g_li");
                    for (var s = 0; s < i.length; s++) {
                        var o = i[s]
                            , u = n.getPosition(o).x
                            , a = parseInt(o.offsetWidth) / 2;
                        o.offsetWidth == 0 && (u = n.getPosition(o.firstChild).x,
                            a = parseInt(o.firstChild.offsetWidth) / 2);
                        if (t > u - a && t < u + a) {
                            if (o == e)
                                return null ;
                            var f = n.tableDnDConfig;
                            if (f.onAllowDrop)
                                return f.onAllowDrop(e, o) ? o : null ;
                            var l = r(o).hasClass("nodrop");
                            return l ? null : o
                        }
                    }
                    return null
                },
                mouseup: function(e) {
                    var t = this;
                    r("#dndProxy").hide();
                    if (t.currentTable && t.dragObject) {
                        var n = t.dragObject
                            , i = t.tableDnDConfig;
                        i.onDragClass ? jQuery(n).removeClass(i.onDragClass) : jQuery(n).css(i.onDropStyle),
                            t.dragObject = null ,
                        i.onDrop && t.ok && (t.ok = !1,
                            i.onDrop(t.currentTable, n)),
                            t.currentTable = null
                    }
                },
                makeDraggableG: function(e) {
                    var t = this
                        , n = t.tableDnDConfig
                        , i = r(e).find(n.dragSelector);
                    for (var s = 0; s < i.length; s++) {
                        var o = r(i[s]).hasClass("nodrag");
                        o || jQuery(i[s]).mousedown(function(t) {
                            if (t.currentTarget.tagName.toLowerCase() == n.tagName && jQuery.tableDnD.down)
                                return jQuery.tableDnD.oldGroupIndex = r(this).data(n.indexSelector),
                                    jQuery.tableDnD.dragObject = this,
                                    jQuery.tableDnD.currentTable = e,
                                    jQuery.tableDnD.mouseOffset = jQuery.tableDnD.getMouseOffset(this, t),
                                n.onDragStart && n.onDragStart(e, this),
                                    !1
                        })
                    }
                },
                mousemoveG: function(e) {
                    var t = this;
                    if (t.dragObject == null )
                        return;
                    var n = jQuery(t.dragObject)
                        , i = t.tableDnDConfig
                        , s = t.mouseCoords(e)
                        , o = s.x - t.mouseOffset.x
                        , u = window.pageYOffset;
                    document.all && (typeof document.compatMode != "undefined" && document.compatMode != "BackCompat" ? u = document.documentElement.scrollTop : typeof document.body != "undefined" && (u = document.body.scrollTop));
                    if (o != t.oldX && Math.abs(t.mouseOffset.lawX - s.x) > 5) {
                        i.afterStartDrag && i.afterStartDrag();
                        var a = o > t.oldX;
                        t.oldX = o,
                            i.onDragClass ? n.addClass(i.onDragClass) : n.css(i.onDragStyle);
                        var f = t.findDropTargetLI(n, o);
                        if (f) {
                            var l = r(f).data("symbol");
                            l != t.oldIndex && t.oldIndex != null && (t.ok = !0),
                                t.oldIndex = l;
                            var c = parseInt("-" + o);
                            r("#liProxy").show().css({
                                left: o - r(".g_ul").offset().left,
                                width: r(f).width()
                            }),
                                a && t.dragObject != f ? t.dragObject.parentNode === f.parentNode && t.dragObject.parentNode.insertBefore(t.dragObject, f.nextSibling) : !a && t.dragObject != f && t.dragObject.parentNode === f.parentNode && t.dragObject.parentNode.insertBefore(t.dragObject, f)
                        }
                    }
                    return !1
                },
                mouseupG: function(e) {
                    var t = this;
                    r("#liProxy").hide();
                    if (t.currentTable && t.dragObject) {
                        var n = t.dragObject
                            , i = t.tableDnDConfig;
                        i.onDragClass ? jQuery(n).removeClass(i.onDragClass) : jQuery(n).css(i.onDropStyle),
                            t.dragObject = null ,
                        i.onDrop && t.ok && (t.ok = !1,
                            i.onDrop(t.currentTable, n)),
                            t.currentTable = null
                    }
                },
                serialize: function() {
                    var e = this;
                    if (e.currentTable) {
                        var t = ""
                            , n = e.currentTable.id
                            , r = e.currentTable.rows;
                        for (var i = 0; i < r.length; i++)
                            t.length > 0 && (t += "&"),
                                t += n + "[]=" + r[i].id;
                        return t
                    }
                    return "Error: No Table id set, you need to set an id on your table and every row"
                }
            });
        n.exports = o,
            window.tableDnD = o
    }),
    define("views/stock/views/group/group", ["require", "exports", "module", "jquery", "underscore", "module/group/group", "view", "text!./group.css", "text!./group.html", "tablednd", "module/group/data"], function(e, t, n) {
        "use strict";
        var r = e("jquery")
            , i = e("underscore")
            , s = e("module/group/group")
            , o = e("view")
            , u = o.extend({
                attrs: {
                    className: "zxg-group",
                    parentNode: ".zxg-stock",
                    styleList: e("text!./group.css")
                },
                events: {
                    "click .g_add": function(e) {
                        app.boss.act("btn_addGroup");
                        var t = this.models.group.get("grouplist");
                        if (t.length >= 10)
                            return o.alert("\u60a8\u521b\u5efa\u7684\u7ec4\u5408\u5df2\u7ecf\u8fbe\u5230\u4e0a\u9650", "error");
                        this.groupDialog.set("type", "add").after("show", function() {
                            this.element.find("#group_name").focus().select()
                        }).show()
                    },
                    "click .g_del": function(e) {
                        app.boss.act("btn_delete_group");
                        var t = r(e.currentTarget)
                            , n = this.models.group.get("groupid")
                            , i = t.parent().parent().find(".g_name").text();
                        this.groupDialog.set("gname", i).set("gid", n).set("type", "del").show()
                    },
                    "click .g_edit": function(e) {
                        app.boss.act("btn_changeNname");
                        var t = r(e.currentTarget)
                            , n = this.models.group.get("groupid")
                            , i = t.parent().parent().find(".g_name").text();
                        this.groupDialog.set("gname", i).set("gid", n).set("type", "edit").after("show", function() {
                            this.element.find("#group_name").focus().select()
                        }).show()
                    },
                    "click .g_batch": function(e) {
                        e.stopPropagation(),
                            app.boss.act("btn_batchManage");
                        var t = r(".zxg-batch")
                            , n = r(".zxg-batch-cover");
                        t.is(":hidden") ? t.length != 0 && (app.boss.act("btn_enter_batchManage"),
                            t.slideDown(300),
                            n.show(),
                            this.models.group.set("isBatchMode", 1)) : (app.boss.act("btn_exit_batchManage"),
                            t.slideUp(300),
                            n.hide(),
                            this.models.group.set("isBatchMode", 0))
                    },
                    "mouseover .g_nemu_ul > li": function(e) {
                        r(e.currentTarget).css("background-color", "#DCEEFB")
                    },
                    "mouseout .g_nemu_ul > li": function(e) {
                        r(e.currentTarget).css("background-color", "#fff")
                    },
                    "click .active": function(e) {
                        e.stopPropagation()
                    },
                    "click .tab": function(e) {
                        app.boss.act("switch_group");
                        var t = r(e.currentTarget)
                            , n = t.data("gid");
                        t.parent().find(".g_nemu").css("background-color", "#4273b4").parent().parent().find(".g_li").removeClass("active").addClass("tab").find(".g_nemu").hide(),
                            t.removeClass("tab").addClass("active").find(".g_nemu").css("background-color", "#fff"),
                            this.models.group.syncById(n),
                            this.parent.views.tablehead.element.find(".t-button").removeClass("headerDesc headerAsc"),
                            app.boss.act("switch_group", n);
                        if (r(".zxg-batch-cover").length > 0)
                            for (var i = 0, s = r(".zxg-batch-cover").length; i < s; i++)
                                r(".zxg-batch-cover input").get(i).checked = !1;
                        var o = r(".zxg-batch");
                        o.hide()
                    },
                    "mouseover .tab": function(e) {
                        var t = r(e.currentTarget);
                        t.children(".g_nemu").css("background-color", "#3661a1")
                    },
                    "mouseout .tab": function(e) {
                        var t = r(e.currentTarget);
                        t.children(".g_nemu").css("background-color", "#4273b4")
                    },
                    "mouseover .active": function(e) {
                        var t = r(e.currentTarget);
                        t.children(".g_nemu").css("background-color", "#ebf1f8");
                        var n = r(".zxg-batch .g_nemu_ul");
                        n && n.hide()
                    },
                    "mouseout .active": function(e) {
                        var t = r(e.currentTarget);
                        t.children(".g_nemu").css("background-color", "#fff");
                        var n = t.find(".g_nemu_ul");
                        n.is(":visible") && (this.timer = setTimeout(function() {
                            clearTimeout(this.timer),
                                n.hide()
                        }, 300))
                    },
                    "mouseover .g_nemu": function(e) {
                        this.showDrop(e)
                    },
                    "mouseover .g_nemu_ul": function(e) {
                        this.showDrop(e)
                    }
                },
                showDrop: function(e) {
                    var t = this
                        , n = r(e.currentTarget);
                    t.timer && clearTimeout(t.timer);
                    var i = n.parent().find(".g_nemu_ul");
                    i.is(":hidden") && i.show()
                },
                setup: function() {
                    var e = this;
                    this.groupDialog = new s,
                        this.groupDialog.on("ok", function() {
                            var t = [].slice.call(arguments)
                                , n = t[0].get("type")
                                , i = t[1]
                                , s = e.models.group.get("groupid")
                                , u = r("[data-gid=" + s + "]");
                            if (n === "add") {
                                var a = t[2];
                                e.models.group.syncById(a),
                                    app.boss.act("btn_addGroup_ok")
                            } else if (n === "del") {
                                app.boss.act("btn_deleteGroup_ok");
                                var f = e.models.group.get("grouplist");
                                e.models.group.syncById(f[0].id)
                            } else
                                n === "edit" && (app.boss.act("btn_changeName_ok"),
                                    u.find(".g_name").text(t[2]));
                            o.alert(i, "ok")
                        }),
                        this.groupDialog.on("error", function(e) {
                            o.alert(e, "error")
                        })
                },
                render: function() {
                    u.superclass.render.call(this),
                        r(document).on("click", function() {
                            r(".g_nemu_ul").hide()
                        });
                    var t = this;
                    this.set("template", e("text!./group.html")),
                        this.models.group.on("change:grouplist", function(e) {
                            t.set("model", {
                                list: e,
                                gid: t.models.group.get("groupid")
                            }),
                                t.renderPartial(),
                                t.setupTableDragAndDrog()
                        })
                },
                setupTableDragAndDrog: function() {
                    var t = this
                        , n = e("tablednd");
                    (new n).build({
                        table: r(".g_ul"),
                        onDragClass: "groupDragClass",
                        scrollAmount: 15,
                        type: "group",
                        dragSelector: ".g_li",
                        indexSelector: "gid",
                        tagName: "li",
                        onDragStart: function(e, t) {
                            app.boss.act("mouseDrag_sort_group");
                            var n = r("#liProxy");
                            n.length || (r('<li class="liProxy" id="liProxy" style="display:none;position:absolute;"><div class="g_name">12</div></li>').appendTo(r(e)),
                                n = r("#liProxy"));
                            var i = r(t).hasClass("tab") ? "tab" : "active";
                            n.attr("class", "liProxy " + i),
                                n.hide(),
                                n.find(".g_name").eq(0).html(r(t).find(".g_name").html())
                        },
                        onDrop: function(n, s) {
                            var u = e("module/group/data").single()
                                , a = [];
                            return i.each(n.find(".g_li"), function(e, t) {
                                a.push(String(r(e).data("gid")))
                            }),
                                u.sort(a).then(function(e) {
                                    e ? (o.alert("\u65b0\u7ec4\u5408\u6392\u5e8f\u5df2\u4fdd\u5b58", "ok"),
                                        t.models.group.syncById(t.models.group.get("groupid"))) : o.alert("\u65b0\u7ec4\u5408\u6392\u5e8f\u4fdd\u5b58\u5931\u8d25", "error")
                                })
                        }
                    })
                }
            });
        n.exports = u
    }),
    define("views/stock/views/tool/TimeMsg", ["require", "exports", "module", "overlay", "jquery"], function(e, t, n) {
        "use strict";
        function a() {
            function s(e, t) {
                return e < 10 && (e = "" + e),
                    e <= 0 ? "" : e + t
            }
            var e = new Date - o
                , t = parseInt(e / 1e3 / 60 / 60 / 24, 10)
                , n = parseInt(e / 1e3 / 60 / 60 % 24, 10)
                , r = parseInt(e / 1e3 / 60 % 60, 10)
                , i = parseInt(e / 1e3 % 60, 10);
            return t > 0 ? s(t, "\u5929") : n > 0 ? s(n, "\u5c0f\u65f6") : r > 0 ? s(r, "\u5206\u949f") : s(i, "\u79d2")
        }
        var r = e("overlay"), i, s = e("jquery"), o = null , u = r.extend({
            events: {
                "click a": function() {
                    var e = this;
                    this.resizeHide(),
                        clearTimeout(i),
                        i = setTimeout(function() {
                            e.show()
                        }, 6e4)
                }
            },
            attrs: {
                template: '<div><span id="tmsg">00</span>\u524d\u7684\u6e2f\u80a1\u884c\u60c5\uff0c\u66f4\u65b0\u83b7\u53d6\u884c\u60c5 <a href="javascript:;" style="color:#97791a;font-size:10px">X</a> </div>',
                parentNode: ".zxg-tool",
                style: {
                    color: "#97791a",
                    background: "#faf0ca",
                    padding: "0 10px"
                },
                align: {
                    selfXY: [0, 0],
                    baseXY: [560, 1],
                    baseElement: ".zxg-tool"
                }
            },
            setup: function() {
                var e = this;
                o = new Date,
                    setInterval(function() {
                        s("#tmsg").text(a())
                    }, 1e3),
                    u.superclass.setup.call(this)
            },
            resizeHide: function() {
                o = new Date,
                    this.hide()
            }
        });
        n.exports = u
    }),
    define("text!views/stock/views/tool/tool.html", [], function() {
        return '<div>\n  <div class="tool_col_1">\n    <ul class="tab fun">\n      <li data-type="mk" class="active">\u5f53\u65e5\u884c\u60c5</li>\n      <li data-type="yk">\u76c8\u4e8f\u4e00\u89c8</li>\n      <li data-type="new">\u65b0\u95fb\u516c\u544a</li>\n    </ul>\n  </div>\n  <div class="tool_col_2"></div>\n  <div class="tool-smartbox">\n    <a href="javascript:;" id="upload"></a>\n    <input type="text" autocomplete="off" class="input" id="tool-smartbox" placeholder="\u80a1\u7968\u4ee3\u7801/\u540d\u79f0/\u62fc\u97f3">\n    <a href="javascript:;" id="tool-smartbox-button">\u6dfb\u52a0</a>\n  </div>\n</div>'
    }),
    define("text!views/stock/views/tool/tool.css", [], function() {
        return ".zxg-tool{border:1px solid #6ba4d7;height:55px;background-color:#fff}.zxg-tool .tool_col_1{width:343px;height:55px;border-right:1px dashed #7cafdc;float:left}.zxg-tool .tool_col_1 .fun{margin:15px 10px 0;_margin:15px 10px 0 5px}.zxg-tool .tool_col_1 .market{margin-top:15px}.zxg-tool .tool_col_1 .tab{height:25px;line-height:25px;float:left;font-size:12px;color:#5581bc;font-weight:700;border:1px solid #5581bc;border-right:none}.zxg-tool .tool_col_1 .tab li{height:25px;text-align:center;padding:0 10px;float:left;border-right:1px solid #5581bc;cursor:pointer}.zxg-tool .tool_col_1 .tab li.active{color:#fff;background-color:#8cb3e4;cursor:default}.zxg-tool .tool_col_2{height:55px;float:left}.zxg-tool .marketStat{height:20px;line-height:20px;position:absolute;top:52px;left:382px;cursor:default}.zxg-tool .mks{color:#2B6CC2;float:left;margin:0 3px;text-align:center;height:20px;margin-right:30px}.zxg-tool .mks .mks_time{display:none}.zxg-tool .market .marketG{height:27px;line-height:27px;float:right;margin-right:17px;font-size:12px;color:#5581bc;position:relative;font-weight:700}.zxg-tool .marketG .title{float:left}.zxg-tool .market .g_nemu{float:left;width:19px;height:28px;border-right:1px solid #fff;background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon2.png) no-repeat center}.zxg-tool .marketG .drop{z-index:9999;position:absolute;top:29px;border:1;border:1px solid #6ba4d7;border-top:none;width:100%;background-color:#fff;cursor:pointer;margin-left:-4px}.zxg-tool .marketG .drop li{padding-left:21px}.zxg-tool .marketG .drop li.first{background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/fenshi_pop.png) no-repeat 0 -19px;height:6px;margin-top:-5px}.zxg-tool .marketG .drop li.on{background-color:#e0eaf5}.zxg-tool .marketG .drop li.active{background-color:#a2c2e9;color:#fff}#upload{width:66px;height:26px;background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/icon.png) no-repeat -82px -3px #E2EAF2;position:absolute;top:14px;left:-73px}.zxg-tool .tmsContain div{float:left;background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/web_05.png) repeat-x 0 0;height:13px;font:4px Arial,Helvetica,sans-serif;background-color:none}.zxg-tool .tmsContain .left{background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/fenshi_pop.png) no-repeat 0 0;height:13px;width:3px}.zxg-tool .tmsContain .right{background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/fenshi_pop.png) no-repeat -25px 0;height:13px;width:3px}.zxg-tool .mks.width{min-width:190px;*midth:190px;text-align:left}.zxg-tool .mks.last{text-align:left}.zxg-tool .mks .mks_state,.zxg-tool .nowTime{color:#68686C}.zxg-tool .mks .mks_timezone{color:#2B6CC2}.zxg-tool .tool-smartbox{position:absolute;font-size:12px;top:34px;right:1px;width:270px;height:55px;border-left:1px dashed #7cafdc;background-color:#fff}.zxg-tool .tool-smartbox .input{border:1px solid #87a7cd;height:23px;width:200px;line-height:23px;padding:0 5px;position:absolute;top:15px;left:10px}.zxg-tool .tool-smartbox input:focus{outline:0}#tool-smartbox-button{display:block;height:23px;line-height:23px;background-color:#e0eaf5;color:#4d7fc2;position:absolute;top:15px;left:221px;font-size:12px;text-align:center;width:40px;border:1px solid #87a7cd;text-decoration:none}"
    }),
    define("helper/logger", [], function() {
        "use strict";
        var e = {
            normal: function(e) {
                0
            },
            notice: function(e) {
                0
            },
            warn: function(e) {
                0
            },
            fatal: function(e) {
                0
            }
        };
        return e
    }),
    define("text!views/stock/views/tool/views/marketState.html", [], function() {
        return '<div class="mks nowTime">\n  <span ><%=list[\'time\'][\'t\']%></span>\n  <span class="mks_timezone"></span>&nbsp;<%=list[\'time\'][\'time\']%></span>\n</div>\n<div class="mks">\n  <span class="mks_name">\u6caa\u6df1</span>\n  <span class="mks_time"><span class="mks_timezone"></span>&nbsp;<%=list[\'sh\'][2]%></span>\n  <span class="mks_state"><%=list[\'sh\'][1]%></span>\n</div>\n<div class="mks" id="HKSTATE">\n  <span class="mks_name">\u6e2f\u80a1</span>\n  <span class="mks_time"><span class="mks_timezone"></span>&nbsp;<%=list[\'hk\'][2]%></span>\n  <span class="mks_state"><%=list[\'hk\'][1]%></span>\n</div>\n<div class="mks">\n  <span class="mks_name">\u7f8e\u80a1</span>\n  <span class="mks_time"><span class="mks_timezone">EDT</span>&nbsp;<%=list[\'us\'][2]%></span>\n  <span class="mks_state"><%=list[\'us\'][1]%></span>\n</div>'
    }),
    define("views/stock/views/tool/views/marketState", ["require", "exports", "module", "view", "underscore", "helper/logger", "jquery", "models/group", "text!./marketState.html"], function(e, t, n) {
        "use strict";
        var r = e("view")
            , i = e("underscore")
            , s = {
                sh: "\u6caa\u6df1",
                hk: "\u6e2f\u80a1",
                us: "\u7f8e\u80a1"
            }
            , o = e("helper/logger")
            , u = e("jquery")
            , a = r.extend({
                attrs: {
                    className: "marketStat",
                    parentNode: ".zxg-tool"
                },
                models: {
                    group: e("models/group")
                },
                templateHelpers: {
                    mk: function(e) {
                        return s[e]
                    }
                },
                resetPosition: function() {
                    var e = !1;
                    this.parent.parent.element.css("display") == "none" && (e = !0,
                        this.parent.parent.element.show());
                    var t = this.parent.element.width()
                        , n = this.element.width();
                    t < 1158 ? (this.element.find(".nowTime").hide(),
                        this.element.css("left", t / 3 + 20)) : (this.element.find(".nowTime").show(),
                        this.element.css("left", t / 3)),
                    e && this.parent.parent.element.hide()
                },
                render: function() {
                    var t = this;
                    a.superclass.render.call(this),
                        t.set("template", e("text!./marketState.html"));
                    var n = this.models;
                    n.group.on("change:marketState", i.bind(function(e) {
                        var t = {};
                        i.each(e, function(e, n) {
                            /sh|hk|us/.test(n) && (t[n] = e)
                        });
                        var n = new Date
                            , r = function(e) {
                                return e < 10 ? "0" + e : e
                            }
                            , s = r(n.getHours()) + ":" + r(n.getMinutes()) + ":" + r(n.getSeconds())
                            , o = new Date(n.getTime() - 468e5)
                            , a = r(o.getHours()) + ":" + r(o.getMinutes()) + ":" + r(o.getSeconds());
                        t.time = {
                            t: "\u5317\u4eac",
                            time: s
                        },
                            t.us[0] === "open" ? t.time = {
                                t: "\u7f8e\u4e1c",
                                time: a
                            } : t.us[1] === "\u5df2\u4f11\u5e02" && (t.us[1] = "\u5df2\u6536\u76d8"),
                        u("#tmsgContain").length && (t.hasTip = 1),
                            this.set("model", {
                                list: t
                            }),
                            this.renderPartial(),
                            this.resetPosition()
                    }, this)),
                        u(window).resize(function() {
                            setTimeout(i.bind(t.resetPosition, t), 0)
                        })
                }
            });
        n.exports = a
    }),
    define("views/stock/views/tool/tool", ["require", "exports", "module", "jquery", "underscore", "module/smartbox/smartbox", "./TimeMsg", "view", "text!./tool.html", "text!./tool.css", "./views/marketState"], function(e, t, n) {
        "use strict";
        function c(e) {
            var t = e.substr(0, 2), n;
            if (t === "us") {
                var r = e.split(".");
                r.length > 2 ? n = r.shift() + "__" + r.shift() : n = r.shift(),
                    n = n.replace(/[^0-9a-zA-Z_]/g, "__")
            } else
                t === "jj" ? n = "s_" + e : n = e;
            return n
        }
        var r = e("jquery"), i = e("underscore"), s = e("module/smartbox/smartbox"), o = e("./TimeMsg"), u = !1, a, f = e("view"), l = f.extend({
            attrs: {
                className: "zxg-tool",
                template: e("text!./tool.html"),
                parentNode: ".zxg-stock",
                styleList: e("text!./tool.css")
            },
            views: {
                marketState: {
                    init: e("./views/marketState")
                }
            },
            events: {
                "click .fun > li": function(e) {
                    var t = this
                        , n = r(e.currentTarget);
                    if (!n.hasClass("active")) {
                        var s = n.data("type")
                            , o = {};
                        i.each(t.models.group.get("StockList"), function(e, t) {
                            o[t] = r("#" + t + " .zxg-batch-checkbox-one").is(":checked")
                        }),
                            t.models.group.set("isSelected", o),
                            this.parent.trigger("marketChange", s),
                            app.boss.act("btn_showType_" + s, this.models.group.get("groupid")),
                        s == "new" && t.models.group.set("isBatchMode", 0)
                    }
                },
                "click #upload": function(e) {
                    var t = this;
                    if (u) {
                        u = !1;
                        var n = this.models.group.get("marketState")
                            , r = this.models.group.get("marketArr");
                        app.boss.act("btn_update"),
                            this.models.group._checkHKRealTime(!1),
                            this.models.group._syncQt("update"),
                            this.models.group.trigger("updateHK"),
                            f.alert("\u81ea\u9009\u884c\u60c5\u66f4\u65b0\u6210\u529f", "ok"),
                        t.tm && t.tm.resizeHide(),
                        t.tm && n.hk[0] === "open" && setTimeout(function() {
                            t.tm.show()
                        }, 6e3)
                    }
                }
            },
            _toolSmartBox: null ,
            setActive: function(e) {
                this.element.find(".fun .active").removeClass("active"),
                    e == "yk" ? this.element.find('li[data-type="yk"]').addClass("active") : e == "mk" ? this.element.find('li[data-type="mk"]').addClass("active") : this.element.find('li[data-type="new"]').addClass("active")
            },
            render: function() {
                var e = this
                    , t = e.models.group;
                l.superclass.render.call(this),
                    this._toolSmartBox = (new s({
                        trigger: "#tool-smartbox",
                        trigger_button: "#tool-smartbox-button",
                        align: {
                            baseElement: "#tool-smartbox",
                            baseXY: ["7", "42"],
                            benchmark: ["right", "top"]
                        },
                        source: "tool"
                    })).render(),
                    this._toolSmartBox.on("smartbox", function(n) {
                        var s = n.data && {
                                symbol: n.data[0] + n.data[1],
                                market: n.data[0],
                                type: n.data[3],
                                note: "",
                                cost: 0,
                                numbers: 0
                            };
                        if (i.isUndefined(s))
                            return;
                        var o = t.get("StockList");
                        if (o.length >= 200)
                            return f.alert("\u60a8\u6dfb\u52a0\u7684\u80a1\u7968\u5df2\u7ecf\u8d85\u8fc7\u5206\u7ec4\u7684\u6700\u9ad8\u4e0a\u9650");
                        var u = s.market === "jj" ? "s_" + s.symbol : c(s.symbol);
                        s.type === "LOF" && (u = "s_jj" + s.symbol.substring(2));
                        if (i.has(o, u)) {
                            t.syncByMk("all"),
                                e.parent.parent.views.stocklist.scrollToStock(u);
                            var a = e.parent.parent.views.stocklist.hangqing;
                            a && a.get("open") && r("#" + u).click();
                            return
                        }
                        t.addStock(s).then(function(t) {
                            setTimeout(function() {
                                f.alert("\u6210\u529f\u6dfb\u52a0\u81f3\u80a1\u7968\u5217\u8868", "ok");
                                var t = e.parent.parent.views.stocklist.hangqing;
                                t && t.get("open") && r("#" + s.symbol).click()
                            }, 400)
                        }, function(e) {
                            f.alert(e.error_info, "error")
                        })
                    }),
                    t.on("update", function() {
                        u = !0
                    }),
                    t.on("render", function() {
                        var t = this.get("marketState")
                            , n = this.get("marketArr");
                        u = !0,
                            clearTimeout(a),
                            t.hk[0] === "open" && n.hk > 0 ? (e.tm || (e.tm = new o),
                                e.tm.resizeHide(),
                                a = setTimeout(function() {
                                    e.tm.show()
                                }, 5e3)) : e.tm && e.tm.resizeHide()
                    }),
                    t.on("render:add", function() {
                        var t = this.get("marketState")
                            , n = this.get("marketArr");
                        u = !0;
                        if (t.hk[0] !== "open" || n.hk <= 0)
                            clearTimeout(a),
                            e.tm && e.tm.resizeHide();
                        return
                    }),
                    t.on("render:del", function() {
                        var t = this.get("marketState")
                            , n = this.get("marketArr");
                        u = !0;
                        if (t.hk[0] !== "open" || n.hk <= 0)
                            clearTimeout(a),
                            e.tm && e.tm.resizeHide();
                        return
                    }),
                    t.on("marketDisplay", function(t) {
                        t != "hk" && t != "all" ? e.tm && e.tm.hide() : e.tm && e.tm.show()
                    }),
                    this.parent.on("marketChange", function(t) {
                        e.setActive(t)
                    })
            }
        });
        n.exports = l
    }),
    define("text!views/stock/views/ykcollect/ykcollect.css", [], function() {
        return ".zxg-ykcollect{border:1px solid #6ba4d7;border-top:none;overflow:hidden;display:none;background-color:#fff}.zxg-ykcollect .mk2{height:35px;float:left;width:100%}.zxg-ykcollect .mk2 .name{font-size:14px;color:#3661a1;float:left;margin:7px 2% 0 30px;display:block}.zxg-ykcollect .mk2 .l{float:left;height:35px;line-height:35px;font-weight:700;width:23%;text-align:center}.zxg-ykcollect .mk2 .l .t{float:left;display:block;font-weight:400;padding:0 20px}.zxg-ykcollect .mk{height:55px;float:left;width:33%}.zxg-ykcollect .mk .name{font-size:14px;color:#3661a1;float:left;margin:18px 0;display:block;width:13.63%;text-align:center}.zxg-ykcollect .mk .l{font-size:12px;margin-top:5px}.zxg-ykcollect .mk .l li{float:right;width:41%;height:22px;line-height:22px;margin-right:2%;text-align:right;font-weight:700}.zxg-ykcollect .mk .l .t{float:left;display:block;font-weight:400}.zxg-ykcollect .line{border-right:1px solid #6ba4d7}.zxg-ykcollect .ga{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/mk_ga.png) #fff no-repeat left}.zxg-ykcollect .hk{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/mk_hk.png) #fff no-repeat left}.zxg-ykcollect .us{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/mk_us.png) #fff no-repeat left}.zxg-ykcollect .ykcollect-totalwrapper{padding:10px 10px 0}.zxg-ykcollect .yktitle{color:#285fa6;font-weight:700}.ykcollect-oneline{line-height:32px;border-bottom:1px solid #e4e4e4;padding:0 10px}.zxg-ykcollect .yklist-four{padding-top:5px;padding-bottom:5px}.zxg-ykcollect .yklist-four li{float:left;width:25%;height:97px;margin:0;padding:0;_width:24.8%;*width:24.8%!important;overflow:hidden}.zxg-ykcollect .yklist-four li dl dt{float:left;text-align:center;line-height:1;width:70px;padding-top:20px}.zxg-ykcollect .yklist-four li dl dd{margin-left:80px;margin-right:25px}.zxg-ykcollect .yklist-four li dl dd div{line-height:24px}.zxg-ykcollect .yklist-four li dl dd span{float:right}.zxg-ykcollect .yklist-three{padding-top:5px;padding-bottom:5px}.zxg-ykcollect .yklist-three li{float:left;width:33.33%;height:64px;_width:33%;*width:33%!important;overflow:hidden}.zxg-ykcollect .yklist-three li dl dt{float:left;text-align:center;line-height:1;width:14%;padding-top:7px}.zxg-ykcollect .yklist-three li dl dd{margin-left:15%;margin-right:3%;padding-top:5px}.zxg-ykcollect .yklist-three li dl dd div{line-height:26px;float:left}.zxg-ykcollect .yklist-three li dl dd .left{width:48%;margin-right:4%;_margin-right:10px;*margin-right:10px!important}.zxg-ykcollect .yklist-three li dl dd .right{width:48%}.zxg-ykcollect .yklist-three li dl dd span{float:right}.zxg-ykcollect .yksline{border-right:1px solid #e4e4e4;height:100%;float:right}.zxg-ykcollect .down{float:right;background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon2.png) no-repeat;width:15px;height:11px;margin-top:8px}.ykcollect-currency{float:right;width:130px;height:32px;position:relative;overflow:hidden;margin-right:15px}.ykcollect-currency ul{border:1px solid #fff;position:absolute;right:0;top:2px;background:#fff;zoom:1;_width:63px;*width:63px!important}.ykcollect-currency ul li{padding:0 5px;cursor:pointer;line-height:26px}.ykcollect-dropdown{overflow:visible}.ykcollect-dropdown ul{border:1px solid #4d7ab6}.ykcollect-dropdown ul li:hover{background:#e2effa}.dlb-cysz,.dlb-dryk,.dlb-ljyk,.dlb-ykbl,.dlb-zyk{float:left}.dlb-cysz span,.dlb-dryk span,.dlb-ljyk span,.dlb-ykbl span,.dlb-zyk span{float:right}.dlb-zyk{width:16%}.dlb-cysz,.dlb-dryk,.dlb-ljyk,.dlb-ykbl{width:14%;margin-right:30px}.ykcollect-icon-ga{width:27px;height:19px;background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/yk-cn.png) no-repeat;display:block;margin:auto;margin-bottom:5px}.ykcollect-icon-jj{width:27px;height:19px;background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/yk-fn.png) no-repeat;display:block;margin:auto;margin-bottom:5px}.ykcollect-icon-us{width:27px;height:19px;background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/yk-us.png) no-repeat;display:block;margin:auto;margin-bottom:5px}.ykcollect-icon-hk{width:27px;height:19px;background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/yk-hk.png) no-repeat;display:block;margin:auto;margin-bottom:5px}.dlb-zyk .ykcollect-icon-one{float:left;margin-top:6px;margin-bottom:0;margin-right:5px}"
    }),
    define("text!views/stock/views/ykcollect/ykcollectnew.html", [], function() {
        return '<% if(summary) { %>\n<div class="ykcollect-oneline d-clear">\n	<div class="ykcollect-currency <% if(currencyDropDown) { %>ykcollect-dropdown<%}%> ">\u5355\u4f4d: \n		<ul>\n			<li data-key="<%=exchangeRateName%>"><span class="down"></span><%=moneyMap[exchangeRateName]%></li>\n			<% for(var i in moneyMap) {\n				if(i != exchangeRateName) {\n			%>\n				<li data-key="<%=i%>"><%=moneyMap[i]%></li>\n			<% }} %>\n		</ul>\n	</div>\n	<div class="yktitle dlb-zyk">\u603b\u76c8\u4e8f</div>\n	<div class="dlb-dryk"><%==ykfmt(summary.todayPL) %>\u5f53\u65e5\u76c8\u4e8f: </div>\n	<div class="dlb-cysz"><%==ykfmt(summary.holdMarketValue,\'cysz\') %>\u6301\u6709\u5e02\u503c: </div>\n	<div class="dlb-ljyk"><%==ykfmt(summary.allPL) %>\u603b\u76c8\u4e8f: </div>\n	<div class="dlb-ykbl"><%==ykfmt(summary.ratePL,\'ykbl\') %>\u603b\u76c8\u4e8f\u7387: </div>\n</div>\n<% } %>\n<!-- 4\u5217 -->\n<% if(list.length == 4) { %>\n	<ul class="yklist-four d-clear">\n		<% for (var i = 0, l = list.length; i < l; i++) { %>\n			<li>\n				<% if(i != list.length-1) { %>\n				<div class="yksline"></div>\n				<% } %>\n				<dl>\n					<dt>\n						<span class="ykcollect-icon-<%= list[i][0] %>"></span>\n						<%= mk(list[i][0]) %><br><b style="font-size: 12px;font-weight: normal;color: #999;line-height: 18px;"><%= mkMoney(list[i][0]) %></b>\n					</dt>\n					<dd>\n						<div><%==ykfmt(list[i][1].todayPL) %>\u5f53\u65e5\u76c8\u4e8f: </div>\n						<div><%==ykfmt(list[i][1].holdMarketValue,\'cysz\') %>\u6301\u6709\u5e02\u503c: </div>\n						<div><%==ykfmt(list[i][1].allPL, \'ljyk\') %>\u603b&nbsp;&nbsp;\u76c8&nbsp;&nbsp;\u4e8f: </div>\n						<div><%==ykfmt(list[i][1].ratePL,\'ykbl\') %>\u603b\u76c8\u4e8f\u7387: </div>\n					</dd>\n				</dl>\n			</li>\n		<% } %>\n	</ul>\n<% } %>\n<!-- 3\u5217 -->\n<% if(list.length == 3) { %>\n	<ul class="yklist-three d-clear">\n		<% for (var i = 0, l = list.length; i < l; i++) { %>\n			<li>\n				<% if(i != list.length-1) { %>\n				<div class="yksline"></div>\n				<% } %>\n				<dl>\n					<dt>\n						<span class="ykcollect-icon-<%= list[i][0] %>"></span>\n						<%= mk(list[i][0]) %><br><b style="font-size: 12px;font-weight: normal;color: #999;line-height: 18px;"><%= mkMoney(list[i][0]) %></b>\n					</dt>\n					<dd class="d-clear">\n						<div class="left"><%==ykfmt(list[i][1].todayPL) %>\u5f53\u65e5\u76c8\u4e8f: </div>\n						<div class="right"><%==ykfmt(list[i][1].holdMarketValue,\'cysz\') %>\u6301\u6709\u5e02\u503c: </div>\n						<div class="left"><%==ykfmt(list[i][1].allPL, \'ljyk\') %>\u603b&nbsp;&nbsp;\u76c8&nbsp;&nbsp;\u4e8f: </div>\n						<div class="right"><%==ykfmt(list[i][1].ratePL,\'ykbl\') %>\u603b\u76c8\u4e8f\u7387: </div>\n					</dd>\n				</dl>\n			</li>\n		<% } %>\n	</ul>\n<% } %>\n<!-- 2\u884c -->\n<!-- 1\u884c -->\n<% if(list.length <= 2) { %>\n<div class="">\n	<% for (var i = 0, l = list.length; i < l; i++) { %>\n	<div class="ykcollect-oneline d-clear">\n		<div class="dlb-zyk"><span class="ykcollect-icon-<%= list[i][0] %> ykcollect-icon-one"></span><%=mk(list[i][0]) %>&nbsp;<b style="font-size: 12px;font-weight: normal;color: #999;"><%=mkMoney(list[i][0]) %></b></div>\n		<div class="dlb-dryk"><%==ykfmt(list[i][1].todayPL) %>\u5f53\u65e5\u76c8\u4e8f: </div>\n		<div class="dlb-cysz"><%==ykfmt(list[i][1].holdMarketValue,\'cysz\') %>\u6301\u6709\u5e02\u503c: </div>\n		<div class="dlb-ljyk"><%==ykfmt(list[i][1].allPL) %>\u603b\u76c8\u4e8f: </div>\n		<div class="dlb-ykbl"><%==ykfmt(list[i][1].ratePL,\'ykbl\') %>\u603b\u76c8\u4e8f\u7387: </div>\n	</div>\n	<% } %>\n</div>\n<% } %>'
    }),
    define("views/stock/views/ykcollect/ykcollect", ["require", "exports", "module", "view", "underscore", "spf", "position", "text!./ykcollect.css", "models/group", "text!./ykcollectnew.html"], function(e, t, n) {
        "use strict";
        var r = e("view")
            , i = e("underscore")
            , s = e("spf")
            , o = {
                ga: ["\u6caa\u6df1", "CNY"],
                hk: ["\u6e2f\u80a1", "HKD"],
                us: ["\u7f8e\u80a1", "USD"],
                jj: ["\u57fa\u91d1", "CNY"]
            }
            , u = {
                CNY: "\u4eba\u6c11\u5e01",
                HKD: "\u6e2f\u3000\u5143",
                USD: "\u7f8e\u3000\u5143"
            }
            , a = e("position")
            , f = r.extend({
                attrs: {
                    styleList: e("text!./ykcollect.css"),
                    className: "zxg-ykcollect",
                    parentNode: ".zxg-stock",
                    type: "mk",
                    show: !1,
                    exchangeRate: {
                        HKDCNY: 1,
                        USDCNY: 1,
                        CNYCNY: 1,
                        HKDUSD: 1,
                        CNYUSD: 1,
                        USDUSD: 1,
                        HKDHKD: 1,
                        USDHKD: 1,
                        CNYHKD: 1
                    },
                    exchangeRateName: "CNY",
                    currencyDropDown: !1
                },
                models: {
                    group: e("models/group")
                },
                events: {
                    "mouseleave [data-val]": function(e) {
                        $("#zxg-tip").hide()
                    },
                    "mouseenter [data-val]": function(e) {
                        var t = $(e.currentTarget)
                            , n = t.data("val");
                        $("#zxg-tip").text(n).show(),
                            a.pin("#zxg-tip", {
                                element: t,
                                x: "left",
                                y: "100%+5px"
                            })
                    },
                    "click .ykcollect-currency li": function(e) {
                        var t = this.get("currencyDropDown")
                            , n = this;
                        if (t) {
                            var r = $(e.currentTarget).data("key");
                            this.set("exchangeRateName", r, {
                                silent: !0
                            }),
                                this.set("currencyDropDown", !1),
                                this.fetchExchangeRatio()
                        } else
                            this.set("currencyDropDown", !0),
                                setTimeout(function() {
                                    function e(t) {
                                        $(document.body).off("click", e),
                                        $(t.target).closest(".ykcollect-currency").size() || n.get("currencyDropDown") && n.set("currencyDropDown", !1)
                                    }
                                    $(document.body).on("click", e)
                                })
                    }
                },
                templateHelpers: {
                    mk: function(e) {
                        return o[e][0]
                    },
                    mkMoney: function(e) {
                        return o[e][1]
                    },
                    ykfmt: function(e, t) {
                        var n = "+0.00";
                        if (i.isNaN(e) || e == Infinity)
                            return "<span>--</span>";
                        if (t === "ykbl")
                            n += "%";
                        else {
                            if (t === "cysz") {
                                if (e != 0) {
                                    var r = s(e);
                                    return n = "0.000aw",
                                        r.isformat(n) ? '<span data-val="' + r.unformat(n) + '">' + r.format(n) + "</span>" : "<span>" + r.format(n) + "</span>"
                                }
                                return "<span>--</span>"
                            }
                            n += "0aw"
                        }
                        var r = s(e);
                        if (e > 0)
                            return r.isformat(n) ? '<span style="color :#fe0002" class="rise" data-val="' + r.unformat(n) + '">' + r.format(n) + "</span>" : '<span style="color :#fe0002" class="rise">' + r.format(n) + "</span>";
                        if (e < 0) {
                            var r = s(e);
                            return r.isformat(n) ? '<span style="color :#009900" class="fall" data-val="' + r.unformat(n) + '">' + r.format(n) + "</span>" : '<span style="color :#009900" class="fall">' + r.format(n) + "</span>"
                        }
                        return n = n.replace("+", ""),
                        "<span>" + r.format(n) + "</span>"
                    }
                },
                _onChangeCurrencyDropDown: function() {
                    this._onEventRender()
                },
                _onChangeExchangeRateName: function() {
                    this._onEventRender()
                },
                _onEventRender: function() {
                    var t = this
                        , n = this.models
                        , r = n.group.get("StockList")
                        , s = {}
                        , a = n.group.get("marketArr")
                        , f = {
                            todayPL: 0,
                            holdMarketValue: 0,
                            allPL: 0,
                            perPL: 0,
                            buyCostAll: 0,
                            dilutionCost: 0,
                            ratePL: 0
                        };
                    i.each(a, function(e, t) {
                        a[t] > 0 && o.hasOwnProperty(t) && (s[t] = i.clone(f))
                    }),
                        i.each(r, function(e) {
                            var t = e.get("mkType")
                                , n = e.get("mk")
                                , r = s[n];
                            if (!r)
                                return;
                            r.holdMarketValue = r.holdMarketValue + e.get("holdMarketValue"),
                                r.todayPL = r.todayPL + e.get("todayPL"),
                                r.allPL = r.allPL + e.get("allPL"),
                                r.perPL = r.perPL + e.get("perPL"),
                            e.get("hold_cost") && (r.buyCostAll = r.buyCostAll + e.get("hold_cost")),
                                r.dilutionCost = r.dilutionCost + e.get("dilutionCost"),
                                r.ratePL = 0
                        }),
                        i.each(s, function(e) {
                            e && (e.ratePL = e.allPL / e.buyCostAll)
                        });
                    var l = i.filter(i.pairs(s), function(e) {
                        return e[1] && e[1].allPL != 0
                    });
                    if (l.length == 0) {
                        t.element.hide(),
                            t.set("show", !1);
                        return
                    }
                    var c = this.get("exchangeRate")
                        , h = this.get("exchangeRateName");
                    i.each(["todayPL", "holdMarketValue", "allPL", "buyCostAll"], function(e) {
                        i.each(s, function(t, n) {
                            var r = c[o[n][1] + h];
                            isNaN(t[e]) || (f[e] += t[e] * r)
                        })
                    }),
                        f.ratePL = f.allPL / f.buyCostAll;
                    var p = 0
                        , d = this.get("type");
                    i.each(l, function(e) {
                        p += e[1].holdMarketValue
                    }),
                        p > 0 ? t.set("show", !0) : t.set("show", !1),
                        d === "yk" ? t.element.show() : t.element.hide(),
                        t.set("model", {
                            list: l,
                            summary: l.length > 1 ? f : null ,
                            exchangeRateName: this.get("exchangeRateName"),
                            moneyMap: u,
                            currencyDropDown: this.get("currencyDropDown")
                        }),
                        t.set("template", e("text!./ykcollectnew.html")),
                        t.renderPartial()
                },
                fetchTime: 0,
                fetchExchangeRatio: function() {
                    0;
                    var e = function() {
                            this.fetchTime++;
                            if (i.isUndefined(window.v_whHKDCNY) && this.fetchTime < 3) {
                                this.fetchExchangeRatio();
                                return
                            }
                            var e = window.v_whHKDCNY ? Number(window.v_whHKDCNY.split("~")[3]) : "0.000"
                                , t = window.v_whUSDCNY ? Number(window.v_whUSDCNY.split("~")[3]) : "0.000";
                            0;
                            var n = this.get("exchangeRate");
                            n.HKDCNY = e,
                                n.CNYHKD = 1 / e,
                                n.USDCNY = t,
                                n.CNYUSD = 1 / t,
                                n.USDHKD = n.USDCNY * n.CNYHKD,
                                n.HKDUSD = 1 / n.USDHKD,
                                this._onEventRender()
                        }
                        , t = this.models.group.load("http://qt.gtimg.qq.com/?q=whHKDCNY,whUSDCNY", {
                            charset: "GB2312"
                        }).done(i.bind(e, this));
                    return t
                },
                render: function() {
                    var e = this
                        , t = this.models;
                    f.superclass.render.call(this),
                        this.fetchExchangeRatio(),
                        this.parent.on("marketChange", function(t) {
                            t === "yk" && e.get("show") ? e.element.show() : t === "mk" && e.element.hide(),
                                e.set("type", t)
                        }),
                        $(window).on("allYKRender", function() {
                            e._onEventRender()
                        }),
                        t.group.on("render", function() {
                            e._onEventRender()
                        }),
                        t.group.on("render:del", function() {
                            0,
                                e._onEventRender()
                        }),
                        $(window).on("yingkui:change", function() {
                            e._onEventRender()
                        })
                }
            });
        n.exports = f
    }),
    define("text!module/batchTips/batchTips.html", [], function() {
        return '<div class="<%=classPrefix%>">\r\n  <a class="<%=classPrefix%>-close" title="Close" href="javascript:;" data-role="close"></a>\r\n  <div class="<%=classPrefix%>-title" data-role="title">\r\n    <div class="ui_stock_title"></div>\r\n  </div>\r\n  <div class="<%=classPrefix%>-content" data-role="content">\r\n    <div class="<%=classPrefix%>-message">\r\n      <div class="ui_stock_group_del"></div>\r\n    </div>\r\n  </div>\r\n  <div class="<%=classPrefix%>-operation" data-role="foot">\r\n    <div class="<%=classPrefix%>-confirm batchTips" data-role="move"><a class="<%=classPrefix%>-button-orange" href="javascript:;">\u786e\u5b9a</a>\r\n    </div>\r\n    <div class="<%=classPrefix%>-cancel" data-role="cancel"><a class="<%=classPrefix%>-button-white" href="javascript:;">\u53d6\u6d88</a>\r\n    </div>\r\n  </div>\r\n</div>\r\n'
    }),
    define("module/batchTips/batchTips", ["require", "exports", "module", "jquery", "dialog", "text!./batchTips.html"], function(e, t, n) {
        "use strict";
        var r = e("jquery")
            , i = e("dialog")
            , s = i.extend({
                attrs: {
                    template: e("text!./batchTips.html"),
                    stock: null
                },
                events: {
                    "click [data-role=move]": function(e) {
                        e.preventDefault(),
                            this.hide(),
                            this.trigger("move")
                    },
                    "click [data-role=del]": function(e) {
                        e.preventDefault(),
                            this.hide(),
                            this.trigger("del")
                    },
                    "click [data-role=cancel]": function(e) {
                        e.preventDefault(),
                            this.hide(),
                            this.trigger("cancel")
                    }
                },
                show: function() {
                    var e = this;
                    s.superclass.show.call(this),
                        setTimeout(function() {
                            e.element.find(".delinfo").css("margin-left", (e.element.find(".ui_stock_group_del").width() - e.element.find(".delinfo").width()) / 2)
                        }, 0)
                }
            });
        n.exports = s
    }),
    define("text!views/stock/views/batch/batch.css", [], function() {
        return ".zxg-batch{height:34px;border:1px solid #7cafdc;border-top:none;display:none;background-color:#fff}.zxg-batch .button{padding:0;display:block;height:23px;line-height:23px;color:#4d7fc2;background-color:#e0eaf5;margin:5px 0 0 10px;text-align:center;border:1px solid #87a7cd;cursor:pointer}.zxg-batch .button:hover{background-color:#ebf1f8}.zxg-batch a{color:#4d7fc2;text-decoration:none}.zxg-batch .g_nemu{float:right;width:19px;height:23px;background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon2.png) no-repeat center}.zxg-batch .g_nemu_ul{display:none;width:100%;left:-1px;position:relative;border:1px solid #97ABC6;border-top:none;background-color:#FFF;cursor:pointer;z-index:1}.zxg-batch .g_nemu_ul li{clear:both}.zxg-batch .amount{position:relative;color:#4d7fc2;height:35px;line-height:35px;margin-right:8px}.zxg-batch .amount .copy,.zxg-batch .amount .del,.zxg-batch .amount .move{display:none;width:66%;height:90%;position:absolute;top:0;left:0;z-index:100;background-color:#FFF}.zxg-batch .amount .close{display:inline-block}.zxg-batch-cover{width:20px}.zxg-batch-cover-all{top:8px;position:absolute;left:1px;z-index:100}.zxg-batch-cover-list{position:absolute;top:0;left:0;z-index:1}.zxg-batch-cover.item{background-color:#FFF;height:29px;line-height:33px;text-align:center;border-bottom:1px solid #E4E4E4;position:absolute;left:0;z-index:2}"
    }),
    define("text!views/stock/views/batch/batch-cover-all.html", [], function() {
        return '<div class="zxg-batch-cover-all zxg-batch-cover">\n  <input class="zxg-batch-checkbox-all" type="checkbox">\n</div>'
    }),
    define("text!views/stock/views/batch/batch-cover-list.html", [], function() {
        return '<div class="zxg-batch-cover-list zxg-batch-cover">\n  <% for(var i = 0; i < stockLength; i++) { %>\n    <div class="item">\n      <input class="zxg-batch-checkbox-one" type="checkbox" style="width:12px;" data-index="<%=i%>">\n    </div>\n  <% } %>\n</div>'
    }),
    define("text!views/stock/views/batch/batch.html", [], function() {
        return '<ul class="d-left" style="width: 500px;">\n    <li class="d-left button delete" style="width:50px;"><a href="javascript:;">\u5220\u9664</a></li>\n    <li class="d-left button topBatch" style="width:50px;"><a href="javascript:;">\u7f6e\u9876</a></li>\n    <li class="d-left button drop-down" style="width:76px;">\n        \u79fb\u52a8\u5230\n        <a href="javascript:;" class="g_nemu"></a>\n        <ul class="g_nemu_ul" act-type="move">\n            <% for (var i = 0, l = groupList.length; i < l; i++) { %>\n                <li class="g_nemu_ul_li" data-gid="<%=groupList[i].id%>"><%=groupList[i].name%></li>\n            <% } %>\n        </ul>\n    </li>\n    <li class="d-left button drop-down" style="width:76px;">\n        \u590d\u5236\u5230\n        <a href="javascript:;" class="g_nemu"></a>\n        <ul class="g_nemu_ul" act-type="copy">\n            <% for (var i = 0, l = groupList.length; i < l; i++) { %>\n                <li class="g_nemu_ul_li" data-gid="<%=groupList[i].id%>"><%=groupList[i].name%></li>\n            <% } %>\n        </ul>\n    </li>\n</ul>\n<ul class="d-right amount">\n    \u60a8\u5df2\u9009\u62e9\n    <span class="selected">0</span>\n    /\n    <span class="all"><%= length %></span>\n    \u652f\n    <div class="move">\u6b63\u5728\u79fb\u52a8\u4e2d...</div>\n    <div class="copy">\u6b63\u5728\u590d\u5236\u4e2d...</div>\n    <div class="del">\u6b63\u5728\u5220\u9664\u4e2d...</div>\n    <div class="top">\u6b63\u5728\u7f6e\u9876\u4e2d...</div>\n    <li class="button close" style="width:50px;display:none;"><a href="javascript:;">\u9000\u51fa</a></li>\n</ul>'
    }),
    define("views/stock/views/batch/batch", ["require", "exports", "module", "jquery", "underscore", "art", "module/batchTips/batchTips", "view", "text!./batch.css", "text!./batch-cover-all.html", "text!./batch-cover-list.html", "text!./batch.html"], function(e, t, n) {
        var r = e("jquery")
            , i = e("underscore")
            , s = e("art")
            , o = e("module/batchTips/batchTips")
            , u = e("view")
            , a = u.extend({
                attrs: {
                    className: "zxg-batch",
                    parentNode: ".zxg-stock",
                    styleList: e("text!./batch.css")
                },
                _dialogList: {},
                events: {
                    "click li": function(e) {
                        e.stopPropagation();
                        var t = r(e.target);
                        r(e.target).hasClass("drop-down") ? t.find(".g_nemu_ul").is(":hidden") ? (r(".g_nemu_ul").hide(),
                            t.find(".g_nemu_ul").show()) : r(".g_nemu_ul").hide() : r(".g_nemu_ul").hide()
                    },
                    "click .g_nemu": function(e) {
                        e.stopPropagation();
                        var t = r(e.target).parent();
                        t.hasClass("drop-down") ? t.find(".g_nemu_ul").is(":hidden") ? (r(".g_nemu_ul").hide(),
                            t.find(".g_nemu_ul").show()) : r(".g_nemu_ul").hide() : r(".g_nemu_ul").hide()
                    },
                    "click .g_nemu_ul_li": function(e) {
                        var t = this
                            , n = r(e.target)
                            , s = n.attr("data-gid")
                            , o = r(".zxg-group .active").attr("data-gid")
                            , a = n.parent().attr("act-type")
                            , f = []
                            , l = []
                            , c = this.models.group.get("StockList")
                            , h = r(".zxg-stocklist > dl")
                            , p = r(".zxg-batch-checkbox-one");
                        r.map(h, function(e, t) {
                            if (p.get(t).checked === !0) {
                                var n = r(e).attr("data-symbol");
                                f.push(c[n].get("symbol")),
                                    l.push(n)
                            }
                        });
                        if (s == o) {
                            u.alert("\u6240\u9009\u7ec4\u5408\u4e3a\u5f53\u524d\u7ec4\u5408", "error");
                            return
                        }
                        if (l.length == 0) {
                            u.alert("\u60a8\u5c1a\u672a\u9009\u4e2d\u4efb\u4f55\u80a1\u7968", "error");
                            return
                        }
                        switch (a) {
                            case "copy":
                                app.boss.act("btn_batch_copy"),
                                    r(".zxg-batch .amount .copy").show(),
                                    this.models.group.groupAddStock({
                                        gid: s,
                                        codes: f
                                    }).then(function(e) {
                                        e.code == 0 ? (i.each(e.data.result, function(e, t) {
                                            e != 0 && (f[c[l[t]].get("symbol")] = undefined,
                                                l.splice(t, 1))
                                        }),
                                            setTimeout(function() {
                                                r(".zxg-batch .amount .copy").hide(),
                                                    u.alert("\u5df2\u6210\u529f\u590d\u5236" + l.length + "\u652f\u80a1\u7968", "ok"),
                                                    t.foldOper()
                                            }, 400)) : (r(".zxg-batch .amount .copy").hide(),
                                            u.alert("\u590d\u5236\u5931\u8d25", "error"))
                                    }, function(e) {
                                        r(".zxg-batch .amount .copy").hide(),
                                            u.alert(e.error_info, "error")
                                    });
                                break;
                            case "move":
                                app.boss.act("btn_batch_move"),
                                    t._dialogList.tips.set("action", "move").show(),
                                    this.on("tipsMove", function() {
                                        r(".zxg-batch .amount .move").show(),
                                            this.models.group.groupAddStock({
                                                gid: s,
                                                codes: f
                                            }).then(function(e) {
                                                e.code == 0 && i.each(e.data.result, function(e, t) {
                                                    e != 0 && (f[c[l[t]].get("symbol")] = undefined,
                                                        l.splice(t, 1))
                                                }),
                                                    t.models.group.groupDelStock({
                                                        gid: o,
                                                        codes: f
                                                    }).then(function(e) {
                                                        if (e.code != 0) {
                                                            r(".zxg-batch .amount .move").hide(),
                                                                u.alert("\u79fb\u52a8\u5931\u8d25", "error");
                                                            return
                                                        }
                                                        i.each(e.data.result, function(e, t) {
                                                            e != 0 && (f[c[l[t]].get("symbol")] = undefined,
                                                                l.splice(t, 1))
                                                        }),
                                                            setTimeout(function() {
                                                                r(".zxg-batch .amount .move").hide(),
                                                                    u.alert("\u5df2\u6210\u529f\u79fb\u52a8" + l.length + "\u652f\u80a1\u7968", "ok"),
                                                                    t.foldOper()
                                                            }, 200),
                                                            r(".zxg-batch .amount .selected").html(0),
                                                            r.each(l, function(e, n) {
                                                                c[n] = null ,
                                                                    delete c[n],
                                                                t.get("isSort") && (t.tmpData[n] = null ,
                                                                    delete t.tmpData[n])
                                                            }),
                                                            t.set("StockList", c, {
                                                                silent: !0,
                                                                override: !0
                                                            }),
                                                            t.models.group._checkHKRealTime(),
                                                            t.models.group._marketType(),
                                                            t.models.group.trigger("render");
                                                        var n = r.map(t.models.group.get("StockList"), function(e, t) {
                                                            return t
                                                        }).length;
                                                        t.models.group.set("StockList_Length", n)
                                                    }, function(e) {
                                                        r(".zxg-batch .amount .move").hide(),
                                                            u.alert(e.error_info, "error")
                                                    })
                                            }, function(e) {
                                                r(".zxg-batch .amount .move").hide(),
                                                    u.alert(e.error_info, "error")
                                            }),
                                            t.off("tipsMove")
                                    })
                        }
                    },
                    "click .close": function(e) {
                        var t = r(".zxg-batch")
                            , n = r(".zxg-batch-cover");
                        t.length != 0 && (n.hide(),
                            t.slideUp(300)),
                            this.models.group.set("isBatchMode", 0);
                        var i = r(".zxg-batch-cover input");
                        for (var s = 0, o = i.length; s < o; s++)
                            i.get(s).checked = !1;
                        r(".amount .selected").html(0),
                            this.models.group.set("isSelected", {})
                    },
                    "click .delete": function(e) {
                        var t = this;
                        this._dialogList.tips.set("action", "del").show(),
                            this.on("tipsDel", function() {
                                var e = this
                                    , t = r(".zxg-group .active").attr("data-gid")
                                    , n = []
                                    , i = []
                                    , s = this.models.group.get("StockList")
                                    , o = r(".zxg-stocklist > dl")
                                    , a = r(".zxg-batch-checkbox-one");
                                r.map(o, function(e, t) {
                                    if (a.get(t).checked === !0) {
                                        var o = r(e).attr("data-symbol");
                                        n.push(s[o].get("symbol")),
                                            i.push(o)
                                    }
                                }),
                                    app.boss.act("btn_batch_delete");
                                if (i.length == 0) {
                                    u.alert("\u60a8\u5c1a\u672a\u9009\u4e2d\u4efb\u4f55\u80a1\u7968", "error");
                                    return
                                }
                                r(".zxg-batch .amount .del").show(),
                                    e.models.group.groupDelStock({
                                        gid: t,
                                        codes: n
                                    }).then(function(t) {
                                        setTimeout(function() {
                                            r(".zxg-batch .amount .del").hide(),
                                                u.alert("\u6210\u529f\u5220\u9664\u80a1\u7968", "ok"),
                                                e.foldOper()
                                        }, 400),
                                            r(".zxg-batch .amount .selected").html(0),
                                            r.each(i, function(t, n) {
                                                s[n] = null ,
                                                    delete s[n],
                                                e.get("isSort") && (e.tmpData[n] = null ,
                                                    delete e.tmpData[n])
                                            }),
                                            e.set("StockList", s, {
                                                silent: !0,
                                                override: !0
                                            }),
                                            e.models.group._checkHKRealTime(),
                                            e.models.group._marketType(),
                                            e.models.group.trigger("render");
                                        var n = r.map(e.models.group.get("StockList"), function(e, t) {
                                            return t
                                        }).length;
                                        e.models.group.set("StockList_Length", n)
                                    }, function(e) {
                                        r(".zxg-batch .amount .del").hide(),
                                            u.alert(e.error_info, "error")
                                    }),
                                    e.off("tipsDel")
                            })
                    },
                    "click .topBatch": function(e) {
                        var t = this
                            , n = r(".zxg-group .active").attr("data-gid")
                            , i = []
                            , s = []
                            , o = []
                            , a = this.models.group.get("StockList")
                            , f = r(".zxg-stocklist > dl")
                            , l = r(".zxg-batch-checkbox-one")
                            , c = 0;
                        r.map(f, function(e, t) {
                            if (l.get(t).checked === !0) {
                                var n = r(e).attr("data-symbol");
                                i.push(a[n].get("symbol")),
                                    s.push(n),
                                    o.push(e),
                                    c++
                            }
                        }),
                            app.boss.act("btn_batch_toTop");
                        if (s.length == 0) {
                            u.alert("\u60a8\u5c1a\u672a\u9009\u4e2d\u4efb\u4f55\u80a1\u7968", "error");
                            return
                        }
                        var h = function() {
                                var e = window.pageYOffset || document.documentElement.scrollTop;
                                r(".zxg-batch .amount .top").hide();
                                if (e >= 204) {
                                    var n = r("body") || r("html");
                                    n.scrollTop(204),
                                        window.scrollTo(0, 204)
                                }
                                t.foldOper()
                            }
                            ;
                        this.models.group.set("upTopData", {
                            list: o,
                            call: h
                        }),
                            this.models.group.trigger("upTop")
                    }
                },
                foldOper: function() {
                    var e = this
                        , t = r(".zxg-batch-checkbox-all");
                    t[0].checked === !0 ? r(t).trigger("click") : (r(t).trigger("click"),
                        r(t).trigger("click"))
                },
                setup: function() {
                    var e = this;
                    this._dialogList.tips = (new o({
                        closeTpl: ""
                    })).after("show", function() {
                            var e = this.get("action");
                            e === "del" ? (r(".ui_stock_title").html('<em class="ui_stock_icon1"></em>\u6279\u91cf\u5220\u9664\u80a1\u7968'),
                                r(".ui_stock_group_del").html('<div class="delinfo" style="margin-left: 118.5px;line-height:23px;">\u786e\u5b9a\u5220\u9664\u8fd9\u4e9b\u80a1\u7968\uff1f<span style="display: block; font-size: 14px; margin-left: 2px; color: #E64227;">\u76c8\u4e8f\u8bb0\u5f55\u5c06\u540c\u65f6\u88ab\u5220\u9664</span></div>'),
                                r(".batchTips").attr("data-role", e)) : e === "move" && (r(".ui_stock_title").html('<em class="ui_stock_icon1" style="background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/icon.png) no-repeat -124px -321px;"></em>\u6279\u91cf\u79fb\u52a8\u80a1\u7968'),
                                r(".ui_stock_group_del").html('<div class="delinfo" style="margin-left: 118.5px;line-height:23px;">\u786e\u5b9a\u79fb\u52a8\u8fd9\u4e9b\u80a1\u7968\uff1f<span style="display: block; font-size: 14px; margin-left: 2px; color: #E64227;">\u6682\u4e0d\u652f\u6301\u76c8\u4e8f\u8bb0\u5f55\u7684\u79fb\u52a8\uff0c\u8bb0\u5f55\u5c06\u88ab\u5220\u9664\uff01</span></div>'),
                                r(".batchTips").attr("data-role", e))
                        }).on("del", function() {
                            e.trigger("tipsDel")
                        }).on("move", function() {
                            e.trigger("tipsMove")
                        }).on("cancel", function() {
                            e.off("tipsMove"),
                                e.off("tipsDel")
                        })
                },
                tpl: {
                    all: e("text!./batch-cover-all.html"),
                    list: e("text!./batch-cover-list.html")
                },
                render: function() {
                    a.superclass.render.call(this);
                    var t = this;
                    this.set("template", e("text!./batch.html")),
                        this.models.group.on("change:StockList_Length", function(e) {
                            r(".zxg-batch .all").length != 0 && r(".zxg-batch .all").html(t.models.group.get("StockList_Length"))
                        }),
                        this.models.group.on("change:grouplist", function(e) {
                            t.set("model", {
                                length: t.models.group.get("StockList_Length"),
                                groupList: e,
                                gid: t.models.group.get("groupid")
                            }),
                                t.renderPartial(),
                                r(".zxg-batch .g_nemu_ul_li").hover(function(e) {
                                    r(e.target).css("background-color", "rgb(235, 241, 248)"),
                                        r(e.target).css("background-color", "rgb(226, 239, 250)")
                                }).mouseout(function(e) {
                                    r(e.target).css("background-color", "rgb(255, 255, 255)")
                                })
                        }),
                        this.models.group.on("render:del", function(e) {
                            var n = r.map(t.models.group.get("StockList"), function(e, t) {
                                return t
                            }).length;
                            n == 0 && r(".zxg-batch-cover-all").remove()
                        })
                }
            });
        n.exports = a
    }),
    define("text!views/stock/views/tablehead/default.html", [], function() {
        return '<div class="zxg-batch-cover-all zxg-batch-cover">\n<input class="zxg-batch-checkbox-all" type="checkbox">\n</div>\n\n<div class="t-col col" style="width: 100%">\n  <div class="d-left span164p marketContain"></div>\n  <div class="d-left" style="width: 189px;">\n    <div class="d-left span70p"><a href="javascript:;" class="t-button" data-item="latestPrice">\u6700\u65b0\u4ef7</a></div>\n    <div class="d-left span50p"><a href="javascript:;" class="t-button" data-item="updownLimit">\u6da8\u8dcc\u989d</a></div>\n    <div class="d-left span64p"><a href="javascript:;" class="t-button" data-item="updownExtent">\u6da8\u8dcc\u5e45</a></div>\n  </div>\n  <div style="margin-left: 353px;">\n    <div class="d-left span64_">\u6628\u6536</div>\n    <div class="d-left span64_">\u4eca\u5f00</div>\n    <div class="d-left span64_">\u6700\u9ad8</div>\n    <div class="d-left span64_">\u6700\u4f4e</div>\n    <div class="d-left span67_"><a href="javascript:;" class="t-button" data-item="volume">\u6210\u4ea4\u91cf(\u80a1)</a></div>\n    <div class="d-left span63_"><a href="javascript:;" class="t-button" data-item="turnover">\u6210\u4ea4\u989d</a></div>\n    <div class="d-left span62_"><a href="javascript:;" class="t-button" data-item="marketValue">\u5e02\u503c(\u4ebf)</a></div>\n    <div class="d-left span54_"><a href="javascript:;" class="t-button" data-item="turnoverRate">\u6362\u624b\u7387</a></div>\n    <div class="d-left span63_"><a href="javascript:;" class="t-button" data-item="peRatio">\u5e02\u76c8\u7387</a></div>\n    <div class="d-left span43_"><a href="javascript:;" class="t-button t-button-auto" data-item="yingkui">\u76c8\u4e8f</a></div>\n    <div class="d-left span30_">\u5220\u9664</div>\n    <div class="d-left span30_">\u64cd\u4f5c</div>\n  </div>\n<!-- </div>\n<div class="f-col col"> -->\n</div>\n'
    }),
    define("text!views/stock/views/tablehead/yingkui.html", [], function() {
        return '<div class="zxg-batch-cover-all zxg-batch-cover">\n<input class="zxg-batch-checkbox-all" type="checkbox">\n</div>\n\n<div class="t-col col" style="width: 100%">\n <div class="d-left span164p marketContain"></div>\n <div class="d-left" style="width: 189px;">\n    <div class="d-left span70p"><a href="javascript:;" class="t-button" data-item="latestPrice">\u6700\u65b0\u4ef7</a></div>\n    <div class="d-left span50p"><a href="javascript:;" class="t-button" data-item="updownLimit">\u6da8\u8dcc\u989d</a></div>\n    <div class="d-left span64p"><a href="javascript:;" class="t-button" data-item="updownExtent">\u6da8\u8dcc\u5e45</a></div>\n  </div>\n  <div style="margin-left: 353px;">\n    <div class="d-left span_dilutionCost"><a href="javascript:;" class="t-button" data-item="dilutionCost">\u644a\u8584\u6210\u672c</a></div>\n    <div class="d-left span_numbers"><a href="javascript:;" class="t-button" data-item="numbers">\u6301\u6709\u80a1\u6570</a></div>\n    <div class="d-left span_holdMarketValue"><a href="javascript:;" class="t-button" data-item="holdMarketValue">\u6301\u6709\u5e02\u503c</a></div>\n    <!-- <div class="d-left span86_"><a href="javascript:;" class="t-button" data-item="perPL">\u6bcf\u80a1\u76c8\u4e8f</a></div> -->\n    <div class="d-left span_todayPL"><a href="javascript:;" class="t-button" data-item="todayPL">\u5f53\u65e5\u76c8\u4e8f</a></div>\n    <div class="d-left span_holdPl"><a href="javascript:;" class="t-button" data-item="holdPl">\u6301\u4ed3\u76c8\u4e8f</a></div>\n    <div class="d-left span_holdPlRatio"><a href="javascript:;" class="t-button" data-item="holdPlRatio">\u6301\u4ed3\u76c8\u4e8f\u7387</a></div>\n    <div class="d-left span_allPL"><a href="javascript:;" class="t-button" data-item="allPL">\u603b\u76c8\u4e8f</a></div>\n    <div class="d-left span_ratePL"><a href="javascript:;" class="t-button" data-item="ratePL">\u603b\u76c8\u4e8f\u7387</a></div>\n<!--   </div>\n  <div class="f-col col"> -->\n    <div class="d-left span43_"><a href="javascript:;" class="t-button t-button-auto" data-item="yingkui">\u76c8\u4e8f</a></div>\n    <div class="d-left span30_">\u5220\u9664</div>\n    <div class="d-left span30_">\u64cd\u4f5c</div>\n  </div>\n</div>'
    }),
    define("text!views/stock/views/tablehead/tablehead.css", [], function() {
        return ".zxg-tablehead{height:34px;background-color:#f3f7fc;border-left:1px solid #6ba4d7;border-right:1px solid #6ba4d7;border-bottom:1px solid #c3ccd4;box-shadow:0 1px 4px rgba(49,49,64,.1);-webkit-box-shadow:0 0 2px #bbb;-moz-box-shadow:0 0 2px #bbb;color:#5b6b7f;position:relative}.zxg-tablehead .t-button{text-decoration:none;display:block;width:100%;color:#285fa6;font-weight:700;height:34px;outline:0}.width1000 .zxg-tablehead .t-button-auto,.width1100 .zxg-tablehead .t-button-auto{background:0 0}.zxg-tablehead .headerDesc{background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/asc.png) no-repeat right;border-bottom:#aacaf3 2px solid;padding-right:6px}.zxg-tablehead .headerAsc{background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/desc.png) no-repeat right;border-bottom:#aacaf3 2px solid;padding-right:6px}.zxg-tablehead .t-col{width:88%;height:34px;text-align:right}.zxg-tablehead .f-col{width:12%;height:34px}.zxg-tablehead .b-col{width:25%;text-align:center;height:34px}.marketContain{height:34px}.marketContain.hover{background-color:#e0eaf5}.marketContain .market .marketG{width:72px;height:27px;line-height:27px;float:right;margin-right:70px;margin-top:4px;font-size:12px;color:#285fa6;position:relative;font-weight:700}.marketContain .marketG .title{float:left}.marketContain .market .g_nemu{float:left;width:17px;height:28px;background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon2.png) no-repeat center}.marketContain .marketG .drop{z-index:9999;position:absolute;top:29px;border:1;border:1px solid #6ba4d7;border-top:none;width:100%;background-color:#fff;cursor:pointer;margin-left:-4px}.marketContain .marketG .drop li{text-align:center;color:#5581bc}.marketContain .marketG .drop li.first{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/fenshi_pop2.png) no-repeat 0 -57px;height:6px;margin-top:-5px}.marketContain .marketG .drop li.on{background-color:#e0eaf5}.marketContain .marketG .drop li.active{background-color:#a2c2e9;color:#fff}"
    }),
    define("text!views/stock/views/tablehead/views/market.html", [], function() {
        return '<div class="marketG">\n	<span class="title"><span id="mkType"><%=mks %></span></span>\n	<a href="javascript:;" class="g_nemu"></a>\n	<div class="drop" style="display:none;">\n		<ul>\n			<li class="first"></li>\n			<% if (all) {%>\n			<li class="all active" data-item="all">\u5168\u90e8</li>\n			<% } %>\n			<% for(var item in list) { %>\n			  <%==mk(item,list[item]) %>\n			<% } %>\n			</ul>\n	</div>\n</div>'
    }),
    define("views/stock/views/tablehead/views/market", ["require", "exports", "module", "underscore", "view", "models/group", "text!./market.html"], function(e, t, n) {
        "use strict";
        var r = {
                all: "\u80a1\u7968",
                ga: "\u6caa\u6df1",
                hk: "\u6e2f\u80a1",
                us: "\u7f8e\u80a1",
                jj: "\u57fa\u91d1"
            }
            , i = {
                all: "\u5168\u90e8\u80a1\u7968",
                other: "\u53ea\u770b"
            }
            , s = e("underscore")
            , o = e("view")
            , u = o.extend({
                attrs: {
                    className: "market",
                    parentNode: ".marketContain",
                    template: "<div></div>"
                },
                timer: null ,
                models: {
                    group: e("models/group")
                },
                events: {
                    "click li": function(e) {
                        var t = $(e.currentTarget);
                        if (!t.hasClass("active")) {
                            var n = t.data("item");
                            $("#mkType").text(r[n]),
                                this.models.group.syncByMk(n);
                            var i = t.closest(".marketG").find(".drop")
                                , s = t.closest(".marketContain");
                            i.hide(),
                                s.removeClass("hover"),
                                app.boss.act("btn_market_" + n, this.models.group.get("groupid"))
                        }
                    },
                    "mouseover li": function(e) {
                        var t = $(e.currentTarget);
                        t.hasClass("on") || t.addClass("on")
                    },
                    "mouseout li": function(e) {
                        var t = $(e.currentTarget);
                        t.removeClass("on")
                    },
                    "mouseover .marketG": function(e) {
                        var t = $(e.currentTarget).closest(".marketG")
                            , n = t.closest(".marketContain");
                        this.timer && clearTimeout(this.timer),
                            n.addClass("hover");
                        if (!this.hideDrop) {
                            var r = t.find(".drop");
                            r[0].style.display == "none" && r.show()
                        }
                    },
                    "mouseout .marketG": function(e) {
                        var t = $(e.currentTarget).closest(".marketG")
                            , n = t.closest(".marketContain")
                            , r = t.find(".drop");
                        r[0].style.display != "none" && (this.timer = setTimeout(function() {
                            clearTimeout(this.timer),
                                r.hide(),
                                n.removeClass("hover")
                        }, 300))
                    }
                },
                templateHelpers: {
                    mk: function(e, t) {
                        return t > 0 ? '<li data-item="' + e + '">' + r[e] + "</li>" : !1
                    }
                },
                reset: function() {
                    this.element.find("li").removeClass("active").eq(0).addClass("active")
                },
                setActive: function(e) {
                    this.element.find(".active").removeClass("active"),
                        e ? this.element.find('li[data-item="' + e + '"]').addClass("active") : this.element.find('li[data-item="all"]').addClass("active");
                    var t = e === "all" ? i[e] : i.other + r[e];
                    $(this.element).find(".marketG .title").text(t)
                },
                render: function() {
                    var t = this;
                    u.superclass.render.call(this),
                        t.set("template", e("text!./market.html"));
                    var n = t.get("model");
                    if (n) {
                        var o = this.models.group.get("mkdp");
                        n.mks = o === "all" ? i[o] : i.other + r[o],
                            t.set("model", n),
                            t.renderPartial(),
                            t.setActive(o)
                    } else
                        t.renderPartial();
                    this.models.group.on("change:marketArr", function(e) {
                        var n = 0;
                        s.each(e, function(e, t) {
                            e > 0 && n++
                        });
                        var o = this.get("mkdp");
                        t.set("model", {
                            all: n > 1 ? !0 : !1,
                            list: n === 1 ? null : e,
                            mks: o === "all" ? i[o] : i.other + r[o]
                        }),
                            t.renderPartial(),
                            n <= 1 ? (t.hideDrop = 1,
                                t.element.find(".g_nemu").hide()) : (t.hideDrop = 0,
                                t.element.show(),
                                t.element.find(".g_nemu").show()),
                            t.setActive(this.get("mkdp"))
                    }),
                        this.models.group.on("change:mkdp", function(e) {
                            t.setActive(e)
                        })
                }
            });
        n.exports = u
    }),
    define("views/stock/views/tablehead/tablehead", ["require", "exports", "module", "jquery", "view", "underscore", "text!./default.html", "text!./yingkui.html", "text!./tablehead.css", "./views/market"], function(e, t, n) {
        "use strict";
        var r = e("jquery")
            , i = e("view")
            , s = e("underscore")
            , o = {
                mk: e("text!./default.html"),
                yk: e("text!./yingkui.html"),
                "new": ""
            }
            , u = i.extend({
                attrs: {
                    styleList: e("text!./tablehead.css"),
                    className: "zxg-tablehead",
                    parentNode: ".zxg-stock",
                    sortName: ""
                },
                views: {
                    market: {
                        init: e("./views/market")
                    }
                },
                events: {
                    "click .t-button": function(e) {
                        var t = this
                            , n = r(e.currentTarget)
                            , i = n.data("item");
                        if (!i)
                            return;
                        var o = {};
                        s.each(t.models.group.get("StockList"), function(e, t) {
                            o[t] = r("#" + t + " .zxg-batch-checkbox-one").is(":checked")
                        }),
                            t.models.group.set("isSelected", o),
                            o = undefined,
                            this.get("sortName") === i ? n.hasClass("headerDesc") ? (this.models.group.sortBy(i, 2).trigger("render"),
                                n.removeClass("headerDesc").addClass("headerAsc")) : n.hasClass("headerAsc") ? (this.models.group.sortBy(i, 0).trigger("render"),
                                n.removeClass("headerAsc")) : (this.models.group.sortBy(i, 1).trigger("render"),
                                n.addClass("headerDesc")) : (this.element.find(".t-button").removeClass("headerDesc headerAsc"),
                                this.models.group.set("sortName", i),
                                this.models.group.sortBy(this.get("sortName"), 0).sortBy(i, 1).trigger("render"),
                                n.addClass("headerDesc"),
                                this.set("sortName", i))
                    },
                    "click .zxg-batch-checkbox-all": function(e) {
                        var t = e.target
                            , n = r(".zxg-batch-checkbox-one")
                            , i = r(".zxg-batch");
                        if (n.length > 0)
                            if (r(t).is(":checked")) {
                                for (var s = 0, o = n.length; s < o; s++)
                                    n.get(s).checked = !0;
                                r(".zxg-batch .amount .selected").html(r(".zxg-batch-checkbox-one").length),
                                    i.slideDown(300),
                                    this.models.group.set("isBatchMode", 1)
                            } else {
                                for (var s = 0, o = n.length; s < o; s++)
                                    n.get(s).checked = !1;
                                r(".zxg-batch .amount .selected").html(0),
                                    i.slideUp(300),
                                    this.models.group.set("isBatchMode", 10)
                            }
                    }
                },
                renderPartialCall: function() {
                    var e = this;
                    e.renderPartial(null , function() {
                        s.each(e.views, function(e) {
                            e.render(),
                                e.delegateEvents()
                        })
                    })
                },
                render: function() {
                    u.superclass.render.call(this);
                    var e = this;
                    e.set("template", o.mk),
                        e.renderPartialCall(),
                        this.models.group.on("render", function() {
                            s.isEmpty(this.get("StockList")) ? e.element.hide() : e.element.show()
                        }),
                        this.models.group.on("render:add", function() {
                            s.isEmpty(this.get("StockList")) ? e.element.hide() : e.element.show()
                        }),
                        this.models.group.on("render:del", function() {
                            s.isEmpty(this.get("StockList")) ? e.element.hide() : e.element.show()
                        }),
                        this.parent.on("marketChange", function(t) {
                            e.set("template", o[t]);
                            var n = e.element.find(".headerDesc").data("item")
                                , r = e.element.find(".headerAsc").data("item");
                            e.set("model", {
                                isBatchMode: e.models.group.get("isBatchMode")
                            }),
                                e.renderPartialCall(),
                                n ? e.element.find('[data-item="' + n + '"]').addClass("headerDesc") : r && e.element.find('[data-item="' + r + '"]').addClass("headerAsc")
                        })
                }
            });
        n.exports = u
    }),
    define("views/stock/stock", ["require", "exports", "module", "sticky", "jquery", "view", "models/group", "./views/group/group", "./views/tool/tool", "./views/ykcollect/ykcollect", "./views/batch/batch", "./views/tablehead/tablehead"], function(e, t, n) {
        "use strict";
        var r = e("sticky")
            , i = e("jquery")
            , s = e("view")
            , o = s.extend({
                attrs: {
                    className: "zxg-stock",
                    parentNode: "#zxg-body",
                    style: {
                        position: "relative",
                        width: "100%",
                        "z-index": 98
                    }
                },
                models: {
                    group: e("models/group")
                },
                views: {
                    group: {
                        init: e("./views/group/group"),
                        onData: "group:grouplist"
                    },
                    tool: {
                        init: e("./views/tool/tool"),
                        onData: "group:groupStockList"
                    },
                    ykcollect: {
                        init: e("./views/ykcollect/ykcollect"),
                        onData: "group:groupStockList"
                    },
                    batch: {
                        init: e("./views/batch/batch"),
                        onData: "group.groupStockList"
                    },
                    tablehead: {
                        init: e("./views/tablehead/tablehead"),
                        onData: "group.groupStockList"
                    }
                },
                resizeWidth: function() {
                    var e = this.parent.element.width()
                        , t = i(window).width();
                    this.element.css("width", e),
                        t < 1200 ? this.parent.element.addClass("screen_lt_1200") : this.parent.element.removeClass("screen_lt_1200"),
                        i(document.body).removeClass("width1200").removeClass("width1100").removeClass("width1000"),
                        t >= 1220 ? i(document.body).addClass("width1200") : t >= 1120 ? i(document.body).addClass("width1100") : i(document.body).addClass("width1000"),
                        this.trigger("resetWidth", e)
                },
                render: function() {
                    var e = this;
                    o.superclass.render.call(this);
                    var t = this.models.group, n;
                    t.once("render", function() {
                        setTimeout(function() {
                            n = r(".zxg-stock", 0, function(t) {
                                t ? (e.resizeWidth(),
                                    this.mk === "yk" ? e.element.css("height", 182) : e.element.css("height", 126)) : (e.element.css({
                                    width: "100%",
                                    height: "100%"
                                }),
                                    e.element.css({
                                        left: "auto"
                                    }))
                            })
                        }, 0)
                    }),
                        e.on("marketChange", function(e) {
                            this.mk = e
                        }),
                        e.resizeWidth(),
                        i(window).resize(function() {
                            e.resizeWidth()
                        }),
                        i(window).scroll(function() {
                            e.resizeWidth(),
                                e.element.show()
                        })
                }
            });
        n.exports = o
    }),
    define("text!views/stocklist/stocklist.html", [], function() {
        return '<% for(var i = 0, l = list.length; i < l; i++) { %>\n<dl id="<%=list[i].get(\'qtsymbol\')%>" <% if(list[i].get(\'type\')==\'ZS\'){ %> type="ZS" <% } %>  class="sline <%=\'s_\'+ list[i].get(\'mk\')%> <%=list[i].get(\'mkType\')%>" data-symbol="<%=list[i].get(\'qtsymbol\')%>">\n  <dt data-symbol="<%=list[i].get(\'qtsymbol\')%>">\n    <div class="zxg-batch-cover item opt">\n      <input class="zxg-batch-checkbox-one" type="checkbox" style="width:12px;" data-index="<%=i%>">\n    </div>\n    <div class="stock_name">\n      <div class="symbole d-left span62p cg <% if(sortName == \'name\') {%>hlName<%}%>">\n        <%==list[i].getHtmlSymbol()%>\n      </div>\n      <div class="d-left span79p cg">\n        <%==list[i].getHtmlName()%>\n        <% if(list[i].get(\'type\') == \'ZQ\') { %>\n        <em class="zq"></em>\n        <% } else { %>\n        <em class="<%=list[i].get(\'mkType\'); %>"></em>\n        <% } %>\n      </div>\n      <% if (list[i].get(\'yanshi\') === false && list[i].get(\'mkType\') === \'hk\' && list[i].get(\'type\') !== \'ZS\') {%>\n      <div class="ys_icon"></div>\n      <% } %>\n    </div>\n    <div class="d-left span70p cg margin0 <% if(sortName == \'latestPrice\') {%>hlPrice<%}%>" <%if(list[i].get(\'reason\')){%>data-val="<%=list[i].get(\'reason\')%>"<%}%> data-maxwidth="270">\n      <%==list[i].getHtmlColorPro(\'latestPrice\')%>\n    </div>\n    <div class="d-left span50p cg margin0 <% if(sortName == \'updownLimit\') {%>hl<%}%>">\n      <%==list[i].getHtmlColorPro(\'updownLimit\')%>\n    </div>\n    <div class="d-left span64p cg margin0 <% if(sortName == \'updownExtent\') {%>hl<%}%>">\n      <%==list[i].getHtmlColorPro(\'updownExtent\')%>\n    </div>\n  </dt>\n  <dd data-symbol="<%=list[i].get(\'qtsymbol\')%>">\n\n    <% if (list[i].get(\'market\') !== \'jj\') {%>\n      <div class="d-left span64_ cg <% if(sortName == \'yesterdatPrice\') {%>hl<%}%>">\n        <%==list[i].getFormatData(\'yesterdatPrice\')%>\n      </div>\n      <div class="d-left span64_ cg <% if(sortName == \'todayPrice\') {%>hl<%}%>">\n        <%==list[i].getFormatData(\'todayPrice\')%>\n      </div>\n      <div class="d-left span64_ cg <% if(sortName == \'highPrice\') {%>hl<%}%>">\n        <%==list[i].getFormatData(\'highPrice\')%>\n      </div>\n      <div class="d-left span64_ cg <% if(sortName == \'lowPrice\') {%>hl<%}%>">\n        <%==list[i].getFormatData(\'lowPrice\')%>\n      </div>\n      <div class="d-left span67_ cg <% if(sortName == \'volume\') {%>hl2<%}%>">\n        <%==list[i].getFormatData(\'volume\')%>\n      </div>\n      <div class="d-left span63_ cg <% if(sortName == \'turnover\') {%>hl<%}%>">\n        <%==list[i].getFormatData(\'turnover\')%>\n      </div>\n      <div class="d-left span62_ cg <% if(sortName == \'marketValue\') {%>hl<%}%>">\n        <%==list[i].getFormatData(\'marketValue\')%>\n      </div>\n      <div class="d-left span54_ cg <% if(sortName == \'turnoverRate\') {%>hl<%}%>">\n        <%==list[i].getFormatData(\'turnoverRate\')%>\n      </div>\n      <div class="d-left span63_ cg <% if(sortName == \'peRatio\') {%>hl<%}%>">\n        <%==list[i].getFormatData(\'peRatio\')%>\n      </div>\n    <% } else { %>\n      <div class="d-left span565_">\n        <div class="d-left jz cg">\n          \u6700\u65b0\u51c0\u503c: <em><%=list[i].get(\'latestPrice\')%></em>\n        </div>\n        <div class="d-right jz cg">\n          \u6700\u65b0\u51c0\u503c\u66f4\u65b0\u65f6\u95f4: <em><%=list[i].get(\'netValueDate\')%></em>\n        </div>\n      </div>\n    <% } %>\n\n    <div class="d-right span30_ opt oper">\n      <a href="javascript:;" data-symbol="<%=list[i].get(\'qtsymbol\')%>" title="\u64cd\u4f5c" class="operate"></a>\n      <div class="drop" style="display: none;">\n          <ul>\n            <li data-item="remind" class="first">\n                  <% if (list[i].get(\'remind\')) { %>\n                    <a href="javascript:;" class="tx_ac"><span class="tx_on icon"></span><span>\u63d0\u9192</span></a>\n                  <% } else { %>\n                    <a href="javascript:;" class="tx_ac"><span class="tx tx_ac icon"></span><span>\u63d0\u9192</span></a>\n                  <% } %>  \n            </li>\n            <li data-item="note">\n                  <% if (list[i].get(\'note\')) { %>\n                    <a href="javascript:;" class="nt_ac"><span class=\'nt_on icon\'></span><span>\u5907\u6ce8</span></a>\n                  <% } else { %>\n                    <a href="javascript:;" class="nt_ac"><span class=\'nt icon\'></span><span>\u5907\u6ce8</span></a>\n                  <% } %>            \n            </li>\n            <li data-item="top">\n                  <a href="javascript:;" class="top_ac"><span class="top icon"></span><span>\u7f6e\u9876</span></a>\n            </li>\n          </ul>\n      </div>\n    </div>\n    <div class="d-right span30_ opt">\n      <a href="javascript:;" data-symbol="<%=list[i].get(\'qtsymbol\')%>" title="\u5220\u9664" class="del"></a>\n    </div>\n\n    <div class="d-right span30_ opt <% if(sortName == \'yingkui\') {%>hlop<%}%>">\n    <% if (list[i].get(\'type\') != \'ZS\') { %>\n      <% if (list[i].get(\'allPL\') !== 0) { %>\n      <a href="javascript:;" title="\u76c8\u4e8f" class="yk_on yk_ac"></a>\n      <% } else { %>\n      <a href="javascript:;" title="\u76c8\u4e8f" class="yk yk_ac"></a>\n      <% } %>\n    <% } else { %>\n      <a></a>\n    <% } %>\n    </div>\n\n  </dd>\n</dl>\n<% } %>\n'
    }),
    define("text!views/stocklist/stocklistyk.html", [], function() {
        return '<% for(var i = 0, l = list.length; i < l; i++) { %>\n<dl id="<%=list[i].get(\'qtsymbol\')%>"  class="sline <%=\'s_\'+ list[i].get(\'mk\')%> <%=list[i].get(\'mkType\')%>" data-symbol="<%=list[i].get(\'qtsymbol\')%>">\n  <dt data-symbol="<%=list[i].get(\'qtsymbol\')%>">\n      <div class="zxg-batch-cover item opt">\n        <input class="zxg-batch-checkbox-one" type="checkbox" style="width:12px;">\n      </div>\n    <div class="stock_name">\n      <div class="symbole d-left span62p cg <% if(sortName == \'name\') {%>hlName<%}%>">\n        <%==list[i].getHtmlSymbol()%>\n      </div>\n      <div class="d-left span79p cg">\n        <%==list[i].getHtmlName()%>\n        <% if(list[i].get(\'type\') == \'ZQ\') { %>\n        <em class="zq"></em>\n        <% } else { %>\n        <em class="<%=list[i].get(\'mkType\'); %>"></em>\n        <% } %>\n      </div>\n      <% if (list[i].get(\'yanshi\') === false && list[i].get(\'mkType\') === \'hk\'  && list[i].get(\'type\') !== \'ZS\') {%>\n      <div class="ys_icon"></div>\n      <% } %>\n    </div>\n    <div class="d-left span70p cg margin0 <% if(sortName == \'latestPrice\') {%>hlPrice<%}%>" <%if(list[i].get(\'reason\')){%>data-val="<%=list[i].get(\'reason\')%>"<%}%> data-maxwidth="270">\n      <%==list[i].getHtmlColorPro(\'latestPrice\')%>\n    </div>\n    <div class="d-left span50p cg margin0 <% if(sortName == \'updownLimit\') {%>hl<%}%>">\n      <%==list[i].getHtmlColorPro(\'updownLimit\')%>\n    </div>\n    <div class="d-left span64p cg margin0 <% if(sortName == \'updownExtent\') {%>hl<%}%>">\n      <%==list[i].getHtmlColorPro(\'updownExtent\')%>\n    </div>\n  </dt>\n  <dd data-symbol="<%=list[i].get(\'qtsymbol\')%>">\n    <div class="d-left span_dilutionCost cg <% if(sortName == \'dilutionCost\') {%>hl3<%}%>">\n      <%==list[i].getHtmlColorProYk(\'dilutionCost\') %>\n    </div>\n    <div class="d-left span_numbers cg <% if(sortName == \'numbers\') {%>hl3<%}%>">\n      <%==list[i].getHtmlColorProYk(\'numbers\') %>\n    </div>\n    <div class="d-left span_holdMarketValue cg <% if(sortName == \'holdMarketValue\') {%>hl3<%}%>">\n      <%==list[i].getHtmlColorProYk(\'holdMarketValue\'); %>\n    </div>\n    <!-- <div class="d-left span_perPL cg <% if(sortName == \'perPL\') {%>hl3<%}%>">\n      <%==list[i].getHtmlColorProYk(\'perPL\') %>\n    </div> -->\n    <div class="d-left span_todayPL cg <% if(sortName == \'todayPL\') {%>hl3<%}%>">\n      <%==list[i].getHtmlColorProYk(\'todayPL\') %>\n    </div>\n    <div class="d-left span_holdPl cg <% if(sortName == \'holdPl\') {%>hl3<%}%>">\n      <%==list[i].getHtmlColorProYk(\'holdPl\') %>\n    </div>\n    <div class="d-left span_holdPlRatio cg <% if(sortName == \'holdPlRatio\') {%>hl3<%}%>">\n      <%==list[i].getHtmlColorProYk(\'holdPlRatio\') %>\n    </div>\n    <div class="d-left span_allPL cg <% if(sortName == \'allPL\') {%>hl3<%}%>">\n      <%==list[i].getHtmlColorProYk(\'allPL\') %>\n    </div>\n    <div class="d-left span_ratePL cg <% if(sortName == \'ratePL\') {%>hl3<%}%>">\n      <%==list[i].getHtmlColorProYk(\'ratePL\') %>\n    </div>\n\n    <div class="d-right span30_ opt oper">\n      <a href="javascript:;" data-symbol="<%=list[i].get(\'qtsymbol\')%>" title="\u64cd\u4f5c" class="operate"></a>\n      <div class="drop" style="display: none;">\n          <ul>\n            <li data-item="remind" class="first">\n                  <% if (list[i].get(\'remind\')) { %>\n                    <a href="javascript:;" class="tx_ac"><span class="tx_on icon"></span><span>\u63d0\u9192</span></a>\n                  <% } else { %>\n                    <a href="javascript:;" class="tx_ac"><span class="tx tx_ac icon"></span><span>\u63d0\u9192</span></a>\n                  <% } %>  \n            </li>\n            <li data-item="note">\n                  <% if (list[i].get(\'note\')) { %>\n                    <a href="javascript:;" class="nt_ac"><span class=\'nt_on icon\'></span><span>\u5907\u6ce8</span></a>\n                  <% } else { %>\n                    <a href="javascript:;" class="nt_ac"><span class=\'nt icon\'></span><span>\u5907\u6ce8</span></a>\n                  <% } %>            \n            </li>\n            <li data-item="top">\n                  <a href="javascript:;" class="top_ac"><span class="top icon"></span><span>\u7f6e\u9876</span></a>\n            </li>\n          </ul>\n      </div>      \n    </div>\n    <div class="d-right span30_ opt"><a href="javascript:;" data-symbol="<%=list[i].get(\'qtsymbol\')%>" title="\u5220\u9664" class="del"></a></div>\n\n    <div class="d-right span30_ opt <% if(sortName == \'yingkui\') {%>hlop<%}%>">\n    <% if (list[i].get(\'type\') != \'ZS\') { %>\n      <% if (list[i].get(\'allPL\') !== 0) { %>\n      <a href="javascript:;" title="\u76c8\u4e8f" class="yk_on yk_ac"></a>\n      <% } else { %>\n      <a href="javascript:;" title="\u76c8\u4e8f" class="yk yk_ac"></a>\n      <% } %>\n    <% } else {%>\n      <a></a>\n    <% } %>\n    </div>\n\n  </dd>\n</dl>\n<% } %>'
    }),
    define("text!module/delStock/delStock.html", [], function() {
        return '<div class="<%=classPrefix%>">\n  <a class="<%=classPrefix%>-close" title="Close" href="javascript:;" data-role="close"></a>\n  <div class="<%=classPrefix%>-title" data-role="title">\n    <div class="ui_stock_title">\n      <em class="ui_stock_icon1"></em>\u5220\u9664\u80a1\u7968</div>\n  </div>\n  <div class="<%=classPrefix%>-content" data-role="content">\n    <div class="<%=classPrefix%>-message">\n      <div class="ui_stock_group_del">\n        <div class="delinfo">\u786e\u5b9a\u5220\u9664<span>\u80a1\u7968</span>&nbsp;&nbsp;<i>Null</i>\u5417\uff1f</div>\n      </div>\n    </div>\n  </div>\n  <div class="<%=classPrefix%>-operation" data-role="foot">\n    <div class="<%=classPrefix%>-confirm" data-role="confirm"><a class="<%=classPrefix%>-button-orange" href="javascript:;">\u786e\u5b9a</a>\n    </div>\n    <div class="<%=classPrefix%>-cancel" data-role="cancel"><a class="<%=classPrefix%>-button-white" href="javascript:;">\u53d6\u6d88</a>\n    </div>\n  </div>\n</div>\n'
    }),
    define("module/delStock/delStock", ["require", "exports", "module", "jquery", "dialog", "text!./delStock.html"], function(e, t, n) {
        "use strict";
        var r = e("jquery")
            , i = e("dialog")
            , s = i.extend({
                attrs: {
                    template: e("text!./delStock.html"),
                    stock: null
                },
                events: {
                    "click [data-role=confirm]": function(e) {
                        e.preventDefault(),
                            this.hide(),
                            this.trigger("ok")
                    },
                    "click [data-role=cancel]": function(e) {
                        e.preventDefault(),
                            this.hide(),
                            app.boss.act("btn_deleteStock_cancel")
                    }
                },
                show: function() {
                    var e = this;
                    s.superclass.show.call(this),
                        setTimeout(function() {
                            e.element.find(".delinfo").css("margin-left", (e.element.find(".ui_stock_group_del").width() - e.element.find(".delinfo").width()) / 2)
                        }, 0)
                }
            });
        n.exports = s
    }),
    define("module/yingkui/strokTransfer", ["require", "exports", "module", "jquery", "underscore", "Tool", "spf", "q", "sticky", "model-init"], function(e, t, n) {
        "use strict";
        var r = e("jquery")
            , i = e("underscore")
            , s = e("Tool").single()
            , o = e("spf")
            , u = e("q")
            , a = e("sticky")
            , f = e("model-init")
            , l = {
                hasInited: 0,
                init: function(e) {
                    var t = this
                        , n = e.symbol;
                    t.symbol = n,
                        t.latestPrice = e.latestPrice,
                        t.dayArr = [],
                        t.position = {},
                        t.transfer = {},
                        t.cacheData = {},
                    n.substr(0, 2) == "us" && n.indexOf(".") < 0 && (t.symbol = "us." + n.substr(2));
                    var r = t.symbol.substr(0, 2);
                    t.callBackName = "web_kline_dayqfq",
                        t.baseUrl = "http://web.ifzq.gtimg.cn/appstock/app/fqkline/get?_var=" + t.callBackName + "&param=",
                    e.transfer && i.each(e.transfer, function(e, n) {
                        var r = e.date;
                        t.transfer[r] ? t.transfer[r].deal.push(e.deal) : t.transfer[r] = {
                            deal: [e.deal]
                        };
                        var s = 0
                            , o = 0;
                        i.each(t.transfer[r].deal, function(e, t) {
                            e == "buy" ? s++ : o++
                        }),
                            t.transfer[r].buyNum = s,
                            t.transfer[r].sellNum = o
                    })
                },
                _join: function(e) {
                    var t = this
                        , n = e.start
                        , r = null
                        , s = 0
                        , o = 0
                        , u = []
                        , a = e.data;
                    return i.each(a, function(t, i) {
                        var f = Number(t[2])
                            , l = t[0];
                        if (l > e.end)
                            return;
                        l == n || l < n && a[i + 1] && a[i + 1][0] > n || i == 0 && l > n ? (r = i,
                            s = o = f,
                            u.push({
                                date: l,
                                value: f
                            })) : r != null && (f < s ? s = f : f > o && (o = f),
                            u.push({
                                date: l,
                                value: f
                            }))
                    }),
                    t.transfer[t.today] && (u.push({
                        date: t.today,
                        value: t.latestPrice
                    }),
                    t.latestPrice < s && (s = t.latestPrice),
                    t.latestPrice > o && (o = t.latestPrice)),
                    {
                        min: s,
                        max: o,
                        points: u,
                        startIndex: r
                    }
                },
                addDealPic: function(e) {
                    var t = this
                        , n = t.canvas3
                        , r = "#0c63db";
                    n.lineWidth = 2;
                    var i = 0
                        , s = 360;
                    e.date ? e.date && t.transfer[e.date].buyNum >= 1 && t.transfer[e.date].sellNum >= 1 && (e.type = "both") : e.type = e.type,
                        e.type == "buy" ? (n.beginPath(),
                            n.arc(e.x, e.y, 3, i, s, !1),
                            n.fillStyle = r,
                            n.strokeStyle = r,
                            n.fill(),
                            n.stroke(),
                            n.closePath()) : e.type == "sell" ? (n.beginPath(),
                            n.arc(e.x, e.y, 3, i, s, !1),
                            n.strokeStyle = r,
                            n.fillStyle = "#ffffff",
                            n.fill(),
                            n.stroke(),
                            n.closePath()) : (n.beginPath(),
                            n.arc(e.x, e.y, 4, i, s, !1),
                            n.strokeStyle = r,
                            n.lineWidth = 2,
                            n.fillStyle = "#ffffff",
                            n.fill(),
                            n.stroke(),
                            n.closePath(),
                            n.beginPath(),
                            n.arc(e.x, e.y, 1, i, s, !1),
                            n.fillStyle = r,
                            n.strokeStyle = r,
                            n.fill(),
                            n.stroke(),
                            n.closePath())
                },
                markOnTime: function(e) {
                    var t = this
                        , n = {};
                    t.cobj = e;
                    if (!t.hasInited)
                        return;
                    var r = i.clone(t.transfer);
                    i.each(r, function(e) {
                        e.hasStroken = 0
                    }),
                        i.each(e.all, function(e) {
                            var t = e.date;
                            n[t] || (n[t] = {
                                deal: [],
                                buyNum: 0,
                                sellNum: 0,
                                hasStroken: 0
                            });
                            var r = e.direct == 1 ? "buy" : "sell";
                            n[t].deal.push(r),
                                e.direct == 1 ? n[t].buyNum++ : n[t].sellNum++
                        }),
                        t.transfer = n,
                    i.isEqual(t.transfer, r) || t.getDailyData()
                },
                addTime: function(e) {
                    var t = this
                        , n = 0
                        , r = ""
                        , s = 0
                        , o = 0;
                    t.canvas2.clearRect(0, 0, t.canvasW, t.canvasTH);
                    var u = t._dateObj.buffer.length
                        , a = Math.ceil(u / 4)
                        , f = 0;
                    i.each(t._dateObj.dateBufferMark, function(e, i) {
                        r = i.substring(0, 7),
                            o = t.canvas1.measureText(r).width / 2,
                        n == 0 && (o = 0);
                        if (n % a == 0 || n == t._dateObj.buffer.length - 1) {
                            s = e - o,
                            e >= t.canvasW - o && (s = e - o - o);
                            if (n == 0 || Math.abs(s - f) > 45) {
                                f = s;
                                var u = t.startY + t.canvasH + 10;
                                t.canvas1.beginPath(),
                                    t.canvas1.fillStyle = "#598cc7",
                                    t.canvas1.font = "12px \u5b8b\u4f53 bold",
                                    t.canvas1.fillText(r, s, u),
                                n != 0 && t.dashedLine(t.canvas2, e, t.startY, e, t.canvasH + t.startY - 2)
                            }
                        }
                        n++
                    })
                },
                dashedLine: function(e, t, n, r, i, s) {
                    var o = this;
                    e.beginPath(),
                        e.strokeStyle = o.lineStyle,
                        e.lineWidth = 1;
                    var u = s === undefined ? 5 : s
                        , a = r - t
                        , f = i - n
                        , l = Math.floor(Math.sqrt(a * a + f * f) / u);
                    for (var c = 0; c < l; ++c)
                        e[c % 2 === 0 ? "moveTo" : "lineTo"](t + a / l * c, n + f / l * c);
                    e.stroke()
                },
                drawMontain: function(e) {
                    var t = this
                        , e = e || {}
                        , n = e.points || t.points
                        , s = e.ctx || t.canvas1;
                    e.type = e.type || 1;
                    var u = e.type == 1 ? t.startX : 0
                        , a = e.type == 1 ? t.canvasW : t._tW
                        , f = e.type == 1 ? t.startY : 2
                        , l = e.type == 1 ? t.canvasH : t._tRH
                        , c = n.points.length
                        , h = a / c;
                    r("#loading-canvas") && r("#loading-canvas").hide(),
                        s.clearRect(0, 0, t.canvasW + 16, t.canvasTH),
                        t.canvas3.clearRect(0, 0, t.canvasW + 16, t.canvasTH),
                        t.dayArr = [],
                        t._dateObj.dateBufferMark = {},
                        t._dateObj.buffer = [],
                        s.beginPath();
                    var p = {}
                        , d = []
                        , v = 0;
                    0,
                        i.each(n.points, function(r, o) {
                            var v = u + Math.floor(h * o)
                                , m = l - l / (n.max - n.min) * (r.value - n.min) + f;
                            o == c - 1 && (v = u + a,
                                p.last = {
                                    x: v,
                                    y: m
                                }),
                                o == 0 ? (s.moveTo(v, m),
                                    p.first = {
                                        x: v,
                                        y: m
                                    }) : s.lineTo(v, m),
                            e.type == 1 && (t.transfer[r.date] && (i.each(t.transfer[r.date].deal, function(e) {
                                d.push({
                                    type: e,
                                    x: v,
                                    y: m,
                                    date: r.date
                                })
                            }),
                                t.transfer[r.date].hasStroken = 1,
                                s.restore()),
                                t.dayArr.push(r.date),
                                t.position[r.date] = {},
                                t.position[r.date].x = v,
                                t.position[r.date].y = m);
                            var g = r.date.substr(0, 7);
                            if (i.isUndefined(t._dateObj.dateBufferMark[g])) {
                                t._dateObj.dateBufferMark[g] = v;
                                var y = {};
                                y[g] = v,
                                    t._dateObj.buffer.push(y)
                            }
                        });
                    if (e.type == 1) {
                        var m = i.clone(t.transfer);
                        i.each(m, function(e, n) {
                            if (Number(n) > Number(t.today))
                                return;
                            if (i.isUndefined(e.hasStroken) || e.hasStroken == 0) {
                                var r = 0
                                    , s = "";
                                i.each(t.dayArr, function(e, t) {
                                    r == 0 && e > n && (s = e,
                                        r = t)
                                });
                                if (r == 0)
                                    return;
                                r > 0 && delete t.transfer[n];
                                var o = t.position[s].x
                                    , u = t.position[s].y;
                                t.transfer[s] || (t.transfer[s] = {
                                    deal: [],
                                    buyNum: 0,
                                    sellNum: 0
                                }),
                                    t.transfer[s].buyNum += e.buyNum,
                                    t.transfer[s].sellNum += e.sellNum,
                                    i.each(e.deal, function(e) {
                                        d.push({
                                            type: e,
                                            x: o,
                                            y: u,
                                            date: s
                                        })
                                    })
                            }
                        })
                    }
                    s.lineTo(u + a, f + l + 2),
                        s.lineTo(u, f + l + 2),
                        s.lineWidth = 2,
                        s.lineCap = "round",
                        s.strokeStyle = "#3c8dfd";
                    var g = t.canvas1.createLinearGradient(t.startX, t.startY, t.startX, t.startY + t.canvasH + 5);
                    g.addColorStop(0, "rgba(146, 186, 242, 1)"),
                        g.addColorStop(.5, "rgba(146, 186, 242, 0.5)"),
                        g.addColorStop(1, "rgba(255, 255, 255, 0.5)"),
                        s.fillStyle = g,
                        s.stroke(),
                        s.closePath(),
                        s.fill(),
                        s.beginPath(),
                        s.fillStyle = "white",
                    p.last && s.fillRect(p.last.x - 1, p.last.y - 4, p.last.x + 1, f + l),
                    p.first && s.fillRect(p.first.x - 4, f + l + 1, p.last.x + 1, f + l + 2);
                    if (!e.type)
                        return;
                    t.strokContain(),
                        t.addTime();
                    var y = 1
                        , b = 5
                        , w = o((n.max - n.min) / y).format("0.00")
                        , E = o(l / y / w).format("0");
                    s.font = t.textStyle;
                    for (var v = 0; v <= y; v++) {
                        var S = o(n.min + v * w).format("0.00")
                            , x = l - E * (S - n.min) + f;
                        v == y && (S = o(n.max).format("0.00")),
                            v == 0 ? x = f + l - 15 : v == y && (x = f),
                            s.fillStyle = "#919191",
                            s.fillText(S, b, x)
                    }
                    i.each(d, function(e, n) {
                        t.addDealPic(e)
                    })
                },
                load: function(e, t) {
                    var n = u.defer()
                        , r = document
                        , i = r.getElementsByTagName("head")[0]
                        , s = !1
                        , o = r.createElement("script");
                    return o.type = "text/javascript",
                        o.charset = "gbk",
                        o.src = e,
                        o.onload = o.onreadystatechange = function() {
                            !s && (!this.readyState || this.readyState === "loaded" || this.readyState === "complete") && (s = !0,
                            t && t(),
                                t = o.onload = o.onreadystatechange = o.onerror = null ,
                            i && o.parentNode && i.removeChild(o),
                                n.resolve())
                        }
                        ,
                        o.onerror = function(e, r, u) {
                            s || (s = !0,
                            t && t(),
                                t = o.onload = o.onreadystatechange = o.onerror = null ,
                            i && o.parentNode && i.removeChild(o),
                                n.reject({
                                    code: r,
                                    error_info: u || "\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e"
                                }))
                        }
                        ,
                        i.appendChild(o),
                        n.promise
                },
                _load: function(e, t, n) {
                    var r = this
                        , s = {}
                        , o = s[t] = s[t] || {}
                        , u = o[e] = o[e] || [];
                    u.push(n);
                    if (u.length > 1)
                        return;
                    for (var a in o)
                        if (a != e)
                            return;
                    var f, l = 6e4, c = function() {
                            var n = !1;
                            for (var s in o) {
                                n = s;
                                break
                            }
                            if (n == 0)
                                return;
                            var u = setTimeout(function() {
                                n != e && (e = n,
                                    f = 1);
                                if (!(f--)) {
                                    var t = o[n];
                                    if (t) {
                                        for (var r = 0; r < t.length; r++)
                                            t[r]([]);
                                        delete o[n]
                                    }
                                }
                                c()
                            }, l);
                            r.load(n, function() {
                                var e = window[t], r;
                                if (e) {
                                    clearTimeout(u),
                                        u = null ,
                                        window[t] = null ,
                                        typeof e == "string" ? e = e.split("\n") : e && "data"in e ? typeof e.data == "string" ? e = e.data.replace(/\\"/g, "").split("\\\\n\\\\\\n") : r = e.data : r = e;
                                    if (!r) {
                                        r = [];
                                        for (var s = 0; s < e.length; s++)
                                            if (e[s] && e[s].length > 2) {
                                                var a = e[s].split(" ");
                                                /^\d{6}$/.test(a[0]) && (a[0].substr(0, 2) > "20" ? a[0] = "19" + a[0] : a[0] = "20" + a[0]),
                                                    r.push(a)
                                            }
                                    }
                                }
                                var f = o[n];
                                if (f) {
                                    for (var s = 0; s < f.length; s++)
                                        i.isFunction(f[s]) && f[s](r || []);
                                    delete o[n]
                                }
                                c()
                            })
                        }
                        ;
                    c()
                },
                getDailyData: function(e) {
                    var t = this
                        , n = new Date
                        , r = n.getFullYear()
                        , s = n.getMonth() + 1
                        , o = n.getDate()
                        , u = function(e) {
                            return e < 10 ? "0" + e : e
                        }
                        ;
                    t.today = r + "-" + u(s) + "-" + u(o);
                    var a = []
                        , f = 0
                        , l = ""
                        , c = {}
                        , h = "";
                    i.each(t.transfer, function(e, n) {
                        if (n > t.today || t.totalData && n < t.totalData.start) {
                            t.transfer[n] = null ,
                                delete t.transfer[n];
                            return
                        }
                        h = n;
                        var r = n.toString().substr(0, 4);
                        c[r] || (c[r] = 1,
                            a.unshift(r)),
                        f == 0 && (l = n),
                            f++
                    });
                    if (t.latestPrice == "D" || t.latestPrice == "S" || f == 0) {
                        if (t.totalData.totalNum) {
                            var p = t.totalData.yearNum[t.totalData.yearNum.length - 1]
                                , d = "";
                            c = {},
                                a = [],
                                i.each(p, function(e, t) {
                                    d = t > "20" ? "19" + t : "20" + t
                                }),
                                l = d + "-01-01",
                                h = d + "-12-31",
                            c[d] || (c[d] = 1,
                                a.unshift(d))
                        }
                    } else {
                        var v = function(e, t, n) {
                                var r = [e, t, n];
                                return Number(t) - 3 <= 0 ? (r[0] = Number(e) - 1,
                                    r[1] = u(12 + Number(t) - 3)) : r[1] = u(Number(t) - 3),
                                    r.join("-")
                            }
                            , m = v(r, s, o);
                        if (l > m) {
                            l = m,
                                h = t.today;
                            var d = m.toString().substr(0, 4);
                            c[d] || (c[d] = 1,
                                a.push(d))
                        } else {
                            var g = l
                                , y = l.split("-")[1];
                            if (Number(y) >= 2) {
                                var b = l.split("-");
                                b[1] = u(Number(b[1]) - 1),
                                    l = b.join("-")
                            }
                            if (f == 1)
                                h = t.today,
                                c[r] || (c[r] = 1,
                                    a.unshift(r));
                            else {
                                var w = h.split("-")
                                    , E = w[0]
                                    , S = w[1]
                                    , w = w[2]
                                    , x = v(E, S, w);
                                if (l < x)
                                    h = E + "-" + u(Number(S)) + "-31";
                                else {
                                    var T = g.split("-")
                                        , N = T[0]
                                        , C = T[1]
                                        , T = T[2]
                                        , k = [N, C, T];
                                    Number(C) + 3 > 12 ? (k[0] = Number(N) + 1,
                                        k[1] = u(Number(C) + 3 - 12),
                                        k[2] = "31",
                                    c[C[0]] || (c[C[0]] = 1,
                                        a.unshift(C[0]))) : k[1] = u(Number(C) + 3),
                                        h = k.join("-")
                                }
                            }
                        }
                    }
                    t._dateObj = {
                        start: l,
                        yearE: a[0],
                        yearS: a[a.length - 1],
                        end: h,
                        dateBufferMark: {},
                        buffer: []
                    };
                    var L = [t.symbol, "day", t._dateObj.start, t._dateObj.end, 2e3, "qfq"]
                        , A = t.baseUrl + L.join(",") + "&r=" + Math.random();
                    0,
                        t._getData(A)
                },
                getData: function(e) {
                    var t = this;
                    t._data = [];
                    if (e.length != 0) {
                        t.Init = new f;
                        var n = i.map(e, function(e, n) {
                            return t.load(e.url)
                        });
                        return u.all(n).then(function(n) {
                            i.each(e, function(e, n) {
                                var r = window[e.cbName], i;
                                if (r) {
                                    window[e.cbName] = null ,
                                        typeof r == "string" ? r = r.split("\n") : r && "data"in r ? typeof r.data == "string" ? r = r.data.replace(/\\"/g, "").split("\\\\n\\\\\\n") : i = r.data : i = r;
                                    if (!i) {
                                        i = [];
                                        for (var s = 0; s < r.length; s++)
                                            if (r[s] && r[s].length > 2) {
                                                var o = r[s].split(" ");
                                                /^\d{6}$/.test(o[0]) && (o[0].substr(0, 2) > "20" ? o[0] = "19" + o[0] : o[0] = "20" + o[0]),
                                                    i.push(o)
                                            }
                                    }
                                }
                                t._data = t._data.concat(i)
                            }),
                                t.points = t._join({
                                    data: t._data,
                                    start: t._dateObj.start,
                                    end: t._dateObj.end
                                }),
                                0,
                                t.drawMontain({
                                    ctx: t.canvas1,
                                    points: t.points,
                                    type: 1
                                })
                        }, function(e) {})
                    }
                    t.points = t._join({
                        data: t._data,
                        start: t._dateObj.start,
                        end: t._dateObj.end
                    })
                },
                _getData: function(e) {
                    var t = this;
                    return t._data = [],
                        t.Init = new f,
                        u.all([t.load(e)]).then(function(e) {
                            0,
                                0,
                            window[t.callBackName] && (t._data = window[t.callBackName].data[t.symbol].qfqday || window[t.callBackName].data[t.symbol].day || []),
                                0,
                                t.points = t._join({
                                    data: t._data,
                                    start: t._dateObj.start,
                                    end: t._dateObj.end
                                }),
                                0,
                                t.drawMontain({
                                    ctx: t.canvas1,
                                    points: t.points,
                                    type: 1
                                })
                        }, function(e) {})
                },
                strokContain: function() {
                    var e = this
                        , t = e.canvas1;
                    e.dashedLine(t, e.startX, e.startY - 2, e.canvasW, e.startY - 2),
                        e.dashedLine(t, e.startX, e.startY + e.canvasH + 2, e.canvasW, e.startY + e.canvasH + 2),
                        t.beginPath(),
                        t.font = e.textStyle,
                        t.fillStyle = "#919191",
                        t.textBaseline = "top";
                    var n = "\u4ea4\u6613\u8ffd\u8e2a"
                        , r = e.canvas1.measureText(n)
                        , i = (e.canvasW - r.width) / 2;
                    t.fillText(n, i, 5);
                    var i = e.canvasW - 170;
                    t.strokeStyle = "#3c8dfd",
                        t.lineWidth = 2,
                        t.moveTo(i, 12),
                        t.lineTo(i + 15, 12),
                        t.stroke();
                    var s = "\u6536\u76d8\u7ebf"
                        , o = t.measureText(s)
                        , u = i + 15 + 8;
                    t.fillText(s, u, 5),
                        i = Number(u) + Number(o.width) + 20,
                        e.addDealPic({
                            type: "buy",
                            x: i,
                            y: 12
                        });
                    var a = "\u4e70\u5165 "
                        , f = t.measureText(a)
                        , l = i + 8;
                    t.fillText(a, l, 5),
                        i = Number(l) + Number(f.width) + 20,
                        e.addDealPic({
                            type: "sell",
                            x: i,
                            y: 12
                        });
                    var c = "\u5356\u51fa"
                        , h = i + 8;
                    t.fillText(c, h, 5)
                },
                getAllData: function() {
                    var e = this;
                    e._load(e.baseUrl + "latest/daily/" + e.symbol + ".js", "latest_daily_data", function(t) {
                        e.totalData = {};
                        var n = [];
                        i.each(t[0], function(t, r) {
                            var i = t.split(":");
                            if (i[0] == "total")
                                e.totalData.totalNum = i[1];
                            else if (i[0] == "start")
                                i[1] = (i[1].substr(0, 2) >= "50" ? "19" : "20") + i[1],
                                    e.totalData.start = i[1];
                            else if (i[0] != "num") {
                                e.totalData[i[0]] = i[1];
                                var s = {};
                                s[i[0]] = i[1],
                                    n.push(s)
                            }
                        }),
                            e.totalData.yearNum = n,
                            e.getDailyData(),
                            e.hasInited = 1
                    })
                },
                strokTransfer: function() {
                    var e = this;
                    e.canvas1 = r("#jiaoyi")[0].getContext("2d"),
                        e.canvas2 = r("#jiaoyi2")[0].getContext("2d"),
                        e.canvas3 = r("#jiaoyi3")[0].getContext("2d");
                    var t = r("#canvasContain").width()
                        , n = r("#jiaoyi").height();
                    e.startX = 4,
                        e.startY = 25,
                        e.canvasTH = n,
                        e.canvasW = t - 23,
                        e.canvasH = 170,
                        e.lineStyle = "#e5ecf7",
                        e.textStyle = "12px STHeitiSC Light,Arial,Helvetica,sans-serif",
                        e.getAllData()
                }
            };
        n.exports = l,
            window.stroke = l
    }),
    define("text!module/yingkui/jijin.html", [], function() {
        return '<div class="<%=classPrefix%>">\n  <a class="<%=classPrefix%>-close" title="Close" href="javascript:;" data-role="close"></a>\n  <div class="<%=classPrefix%>-title" data-role="title">\n    <div class="ui_stock_title">\n      <em class="ui_stock_icon2"></em>\u81ea\u9009\u80a1\u76c8\u4e8f</div>\n  </div>\n  <div class="<%=classPrefix%>-content" data-role="content">\n    <div class="<%=classPrefix%>-message">\n      <div class="<%=classPrefix%>-yingkui">\n        <div class="head">\n          <h3><%= stock.get(\'name\')%></h3>\n          <div class="price">\n            <span>(<%= stock.get(\'symbol\')%>)</span>\n            <span>\u6700\u65b0\u51c0\u503c:</span>\n            <%== stock.getHtmlColorPro(\'latestPrice\')%>\n          </div>\n        </div>\n\n        <div class="table"></div>\n\n        <div class="content">\n          <table>\n              <tr class="h">\n                <th>\u6295\u5165\u91d1\u989d</th>\n                <th>\u6301\u6709\u4efd\u989d</th>\n                <th style="width:33%">\u4efd\u989d\u6210\u672c</th>\n                <th width="25">\u6e05\u7a7a</th>\n              </tr>\n              <tr class="c">\n                <td><input type="text" class="input_price2" value="<%= data.price || \'\' %>" data-detect="1" data-type="price"></td>\n                <td><input type="text" class="input_gu2" value="<%= data.number || \'\' %>" data-detect="1" data-type="numbers"></td>\n                <td class="input_cost"><%= data.cost || \'0.000\' %></td>\n                <td><a href="javascript:;" class="del" data-deltype="<%= type %>"></a></td>\n              </tr>\n          </table>\n        </div>\n\n        <div class="content" id="<%=classPrefix%>-list">\n          <table>\n\n          </table>\n        </div>\n\n      </div>\n    </div>\n  </div>\n  <div class="<%=classPrefix%>-operation" data-role="foot">\n    <div class="<%=classPrefix%>-confirm" data-role="confirm"><a class="<%=classPrefix%>-button-orange" href="javascript:;">\u786e\u5b9a</a>\n    </div>\n    <div class="<%=classPrefix%>-cancel" data-role="cancel"><a class="<%=classPrefix%>-button-orange" href="javascript:;">\u53d6\u6d88</a>\n    </div>\n  </div>\n</div>\n'
    }),
    define("text!module/yingkui/yingkui.html", [], function() {
        return '<div class="<%=classPrefix%>">\n  <a class="<%=classPrefix%>-close" title="Close" href="javascript:;" data-role="close"></a>\n  <div class="<%=classPrefix%>-title" data-role="title">\n    <div class="ui_stock_title">\n      <em class="ui_stock_icon2"></em>\u81ea\u9009\u80a1\u76c8\u4e8f</div>\n  </div>\n  <div class="<%=classPrefix%>-content" data-role="content">\n    <div class="<%=classPrefix%>-message">\n      <div class="<%=classPrefix%>-yingkui">\n        <div class="head">\n          <h3><%= stock.get(\'name\')%></h3>\n          <div class="price">\n            <span>(<%= ftsymbol(stock.get(\'symbol\'))%>)</span>\n            <% if (!isNumber(stock.get(\'latestPrice\')) ) {%>\n            <span>\u6628\u6536\u4ef7:</span>\n            <%==stock.get(\'yesterdatPrice\')%>\n            <% } else { %>\n            <span>\u5f53\u524d\u4ef7:</span>\n            <%==stock.getHtmlColorPro(\'latestPrice\')%>\n            <% } %>\n          </div>\n        </div>\n\n        <div class="table"></div>\n        <div style="overflow-y:auto;overflow-x:hidden;margin-left:18px;position:relative;" id="contentContain">\n            <div id="canvasContain" style="height:220px;width: 680px;position:relative;display:none;"><div style="width: 680px; height: 220px; position: absolute; top: 0px; left: 0px; background: transparent;"><canvas id="jiaoyi2" width="680" height="220">\u8bf7\u5347\u7ea7\u6d4f\u89c8\u5668\u7248\u672c\u67e5\u770b\u60a8\u7684\u4ea4\u6613\u8bb0\u5f55\u5427~</canvas></div><div style="width: 680px; height: 220px; position: absolute; top: 0px; left: 0px; background: transparent;"><canvas id="jiaoyi" width="680" height="220">\u8bf7\u5347\u7ea7\u6d4f\u89c8\u5668\u7248\u672c\u67e5\u770b\u60a8\u7684\u4ea4\u6613\u8bb0\u5f55\u5427~</canvas></div><div style="width: 680px; height: 220px; position: absolute; top: 0px; left: 0px; background: transparent;"><canvas id="jiaoyi3" width="680" height="220">\u8bf7\u5347\u7ea7\u6d4f\u89c8\u5668\u7248\u672c\u67e5\u770b\u60a8\u7684\u4ea4\u6613\u8bb0\u5f55\u5427~</canvas></div><div style="position:absolute;width:680px;height:220px;background-color:white;" id="loading-canvas"><div style="left: 45%;position: absolute; top: 30%;"><img style="width: 40px;height: 40px;/* left: 50%; */" src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/e0241a5737aa1228.gif"></div></div></div>\n            <div class="content" id="ui-dialog-title" style="margin-right:18px;">\n              <table>\n                  <tr class="h">\n                    <th class="span1">\u5e8f\u53f7</th>\n                    <th class="span2">\u7c7b\u578b</th>\n                    <th class="span3">\u65e5\u671f</th>\n                    <th class="span0"></th>\n                    <th class="span3">\u80a1\u6570(\u80a1)</th>\n                    <th class="span3">\u4ef7\u683c</th>\n                    <% if(stock.get(\'mk\') == \'us\') { %>\n                    <th class="span3">\u4ea4\u6613\u8d39\u7528</th>\n                    <% } else { %>\n                    <th class="span3">\u4ea4\u6613\u8d39\u7387\u2030</th>\n                    <% } %>\n                    <th class="span1">\u5220\u9664</th>\n                  </tr>\n              </table>\n            </div>\n\n            <div class="content" id="<%=classPrefix%>-list" style="margin-right:18px;">\n              <table>\n\n              </table>\n            </div>\n      </div>\n      </div>\n    </div>\n  </div>\n  <div class="<%=classPrefix%>-operation" data-role="foot">\n    <a href="javascript:;" class="<%=classPrefix%>-add" data-role="add"><em></em>\u6dfb\u52a0\u4ea4\u6613</a>\n    <!-- <div> -->\n      <span style="line-height: 56px;left: 171px;position: absolute;color: #888;">\u6700\u591a\u652f\u6301\u6dfb\u52a0 <%= num%> \u884c\u4ea4\u6613\u8bb0\u5f55</span>\n    <!-- </div> -->\n    <div class="<%=classPrefix%>-confirm" data-role="confirm"><a class="<%=classPrefix%>-button-orange" href="javascript:;">\u786e\u5b9a</a>\n    </div>\n    <div class="<%=classPrefix%>-cancel" data-role="cancel"><a class="<%=classPrefix%>-button-orange" href="javascript:;">\u53d6\u6d88</a>\n    </div>\n  </div>\n</div>\n'
    }),
define("text!module/yingkui/yingkuidata.html", [], function() {
    return "<% if(/kj|lof/.test(stock.get('mkType'))) { %>\n	<table>\n		<tr>\n			<td>\u6301\u6709\u5e02\u503c</td>\n			<td>\u7d2f\u8ba1\u76c8\u4e8f</td>\n			<td>\u6536\u76ca\u7387</td>\n		</tr>\n		<tr>\n			<td><%== stock.getJJinfo('sz') %></td>\n			<td><%== stock.getJJinfo('ljyk') %></td>\n			<td><%== stock.getJJinfo('syl') %></td>\n		</tr>\n	</table>\n<% } else { %>\n	<table>\n		<tr>\n			<td>\u644a\u8584\u6210\u672c</td>\n			<td>\u6301\u6709\u80a1\u6570</td>\n			<td>\u6301\u6709\u5e02\u503c</td>\n			<!-- <td>\u6bcf\u80a1\u76c8\u4e8f</td> -->\n			<td>\u5f53\u65e5\u76c8\u4e8f</td>\n			<td>\u6301\u4ed3\u76c8\u4e8f</td>\n			<td>\u6301\u4ed3\u76c8\u4e8f\u7387</td>\n			<td>\u603b\u76c8\u4e8f</td>\n			<td>\u603b\u76c8\u4e8f\u7387</td>\n			<!--<td>\u6301\u4ed3\u6210\u672c</td>-->\n		</tr>\n		<tr>\n			<td><%==stock.getHtmlColorProYk('dilutionCost') %></td>\n			<td><%==stock.getHtmlColorProYk('numbers') %></td>\n			<td><%==stock.getHtmlColorProYk('holdMarketValue') %></td>\n			<!-- <td><%==stock.getHtmlColorProYk('perPL') %></td> -->\n			<td><%==stock.getHtmlColorProYk('todayPL') %></td>\n			<td><%==stock.getHtmlColorProYk('holdPl') %></td>\n			<td><%==stock.getHtmlColorProYk('holdPlRatio') %></td>\n			<td><%==stock.getHtmlColorProYk('allPL') %></td>\n			<td><%==stock.getHtmlColorProYk('ratePL') %></td>\n			<!--<td><%==stock.getHtmlColorProYk('holdCost') %></td>-->\n		</tr>\n	</table>\n<% } %>"
}),
define("text!module/yingkui/addyk.html", [], function() {
    return '<tr id="li_<%=id ? id : \'tmp\'+num %>" class="c">\n  <td class="span1"><%= num %>.</td>\n  <td class="span2">\n    <select class="type">\n      <option value="buy" <%=(deal=== \'buy\')? selected="selected" : \'\'%>>\u4e70\u5165</option>\n      <option value="sell" <%=(deal=== \'sell\')? selected="selected" : \'\'%>>\u5356\u51fa</option>\n    </select>\n  </td>\n  <td class="span3">\n    <input type="text" class="input_time" id="yk_time_<%=num%>" value="<%=time%>" readonly>\n  </td>\n  <td class="span0">\n    <a href="javascript:;" class="date" id="yk_data_<%=num%>"></a>\n  </td>\n  <td class="span3">\n    <input type="text" class="input_gu" value="<%=gu%>" data-gu="0" data-detect="1" data-type="numbers">\n  </td>\n  <td class="span3">\n    <input type="text" class="input_price" value="<%=price%>" data-price="0" data-detect="1" data-type="price">\n  </td>\n  <td class="span3">\n    <input type="text" class="input_rate" value="<%=rates%>" data-rate="0" data-detect="1" data-type="rate">\n  </td>\n  <td class="span1">\n    <input type="hidden" class="input_act" value="<%=act%>"/>\n    <input type="hidden" class="input_id" value="<%=id ? id : \'tmp\'+num %>"/>\n    <a href="javascript:;" class="del" data-deltype="<%= type %>"></a>\n  </td>\n</tr>\n'
}),
define("module/yingkui/data", ["require", "exports", "module", "jquery", "model-init", "Tool", "underscore", "models/group", "models/group"], function(e, t, n) {
    "use strict";
    var r = e("jquery")
        , i = e("model-init")
        , s = e("Tool").single()
        , o = e("underscore")
        , u = i.extend({
            _actionUrl: function(e, t) {
                return t && t.toLowerCase() === "post" ? "http://webstock.finance.qq.com/stockapp/Updstockweb/ykseq?&app=web&uin=" + app.QQuin : "http://webstock.finance.qq.com/stockapp/Updstockweb/operseq?&app=web&uin=" + app.QQuin + "&seq=" + encodeURI(e)
            },
            list: function(t) {
                var n = this
                    , r = e("models/group").single()
                    , i = r.get("groupid");
                return this.ajax("http://webstock.finance.qq.com/stockapp/zixuanguweb/yingkuilist?uin=" + app.QQuin + "&app=web&grpid=" + i + "&symbol=" + t + "&page=1").then(function(e) {
                    return n.handler(e, t)
                })
            },
            handler: function(e, t) {
                var n = this
                    , r = e.data[t] ? e.data[t] : {};
                !o.isUndefined(r.yk) && (r.yk = o.sortBy(r.yk, function(e) {
                    return e.date
                }));
                if (o.isUndefined(r))
                    return !1;
                var i = o.isUndefined(r.cg) ? [] : o.sortBy(r.cg, function(e) {
                        return e.type = "cg",
                            e.date
                    })
                    , s = o.isUndefined(r.sg) ? [] : o.sortBy(r.sg, function(e) {
                        return e.type = "sg",
                            e.date
                    })
                    , u = o.isUndefined(r.zz) ? [] : o.sortBy(r.zz, function(e) {
                        return e.type = "zz",
                            e.date
                    })
                    , a = o.isUndefined(r.fh) ? [] : o.sortBy(r.fh, function(e) {
                        return e.type = "fh",
                            e.date
                    })
                    , f = o.sortBy(o.union(i, s, u, a), function(e) {
                        return e.date
                    });
                n.set("ag", f);
                var l = {};
                return l.trans = r.yk,
                    o.isEmpty(f) ? l.other = {
                        list: r.yk,
                        maxnum: r.maxnum
                    } : o.each(f, function(e, t) {
                        var n = o.groupBy(r.yk, function(t) {
                            return t.date < e.date
                        });
                        if (!o.isUndefined(n["true"])) {
                            e.list = n["true"];
                            if (!l[e.date]) {
                                var i = o.clone(e);
                                i.agType = [],
                                    i.agType.push(e),
                                    l[e.date] = i
                            } else {
                                var i = l[e.date].agType;
                                i.push(e),
                                    l[e.date].agType = i
                            }
                        }
                        t === f.length - 1 && (l.other = {
                            list: n["false"],
                            maxnum: r.maxnum
                        })
                    }),
                    l
            },
            action: function(t, n) {
                var r = e("models/group").single()
                    , i = r.get("groupid")
                    , u = s.stringify(o.map(t, function(e) {
                        return e.grpid = i,
                            e.type = n.toLowerCase(),
                            e
                    }));
                return this.post(this._actionUrl(null , "post"), {
                    seq: encodeURI(u)
                })
            }
        });
    n.exports = u
}),
function(e, t, n) {
    (function(e) {
        "use strict";
        typeof define == "function" && define.amd ? define("qtip", ["jquery"], e) : jQuery && !jQuery.fn.qtip && e(jQuery)
    })(function(r) {
        "use strict";
        function I(e, t, n, i) {
            this.id = n,
                this.target = e,
                this.tooltip = o,
                this.elements = {
                    target: e
                },
                this._id = T + "-" + n,
                this.timers = {
                    img: {}
                },
                this.options = t,
                this.plugins = {},
                this.cache = {
                    event: {},
                    target: r(),
                    disabled: s,
                    attr: i,
                    onTooltip: s,
                    lastClass: ""
                },
                this.rendered = this.destroyed = this.disabled = this.waiting = this.hiddenDuringWait = this.positioning = this.triggering = s
        }
        function q(e) {
            return e === o || r.type(e) !== "object"
        }
        function R(e) {
            return !(r.isFunction(e) || e && e.attr || e.length || r.type(e) === "object" && (e.jquery || e.then))
        }
        function U(e) {
            var t, n, u, a;
            return q(e) ? s : (q(e.metadata) && (e.metadata = {
                type: e.metadata
            }),
            "content"in e && (t = e.content,
                q(t) || t.jquery || t.done ? t = e.content = {
                    text: n = R(t) ? s : t
                } : n = t.text,
            "ajax"in t && (u = t.ajax,
                a = u && u.once !== s,
                delete t.ajax,
                t.text = function(e, t) {
                    var i = n || r(this).attr(t.options.content.attr) || "Loading..."
                        , s = r.ajax(r.extend({}, u, {
                            context: t
                        })).then(u.success, o, u.error).then(function(e) {
                            return e && a && t.set("content.text", e),
                                e
                        }, function(e, n, r) {
                            if (t.destroyed || e.status === 0)
                                return;
                            t.set("content.text", n + ": " + r)
                        });
                    return a ? i : (t.set("content.text", i),
                        s)
                }
            ),
            "title"in t && (q(t.title) || (t.button = t.title.button,
                t.title = t.title.text),
            R(t.title || s) && (t.title = s))),
            "position"in e && q(e.position) && (e.position = {
                my: e.position,
                at: e.position
            }),
            "show"in e && q(e.show) && (e.show = e.show.jquery ? {
                target: e.show
            } : e.show === i ? {
                ready: i
            } : {
                event: e.show
            }),
            "hide"in e && q(e.hide) && (e.hide = e.hide.jquery ? {
                target: e.hide
            } : {
                event: e.hide
            }),
            "style"in e && q(e.style) && (e.style = {
                classes: e.style
            }),
                r.each(x, function() {
                    this.sanitize && this.sanitize(e)
                }),
                e)
        }
        function z(e, t) {
            var n = 0, r, i = e, s = t.split(".");
            while (i = i[s[n++]])
                n < s.length && (r = i);
            return [r || e, s.pop()]
        }
        function W(e, t) {
            var n, r, i;
            for (n in this.checks)
                for (r in this.checks[n])
                    if (i = (new RegExp(r,"i")).exec(e))
                        t.push(i),
                        (n === "builtin" || this.plugins[n]) && this.checks[n][r].apply(this.plugins[n] || this, t)
        }
        function J(e) {
            return k.concat("").join(e ? "-" + e + " " : " ")
        }
        function K(n) {
            return n && {
                    type: n.type,
                    pageX: n.pageX,
                    pageY: n.pageY,
                    target: n.target,
                    relatedTarget: n.relatedTarget,
                    scrollX: n.scrollX || e.pageXOffset || t.body.scrollLeft || t.documentElement.scrollLeft,
                    scrollY: n.scrollY || e.pageYOffset || t.body.scrollTop || t.documentElement.scrollTop
                } || {}
        }
        function Q(e, t) {
            if (t > 0)
                return setTimeout(r.proxy(e, this), t);
            e.call(this)
        }
        function G(e) {
            if (this.tooltip.hasClass(P))
                return s;
            clearTimeout(this.timers.show),
                clearTimeout(this.timers.hide),
                this.timers.show = Q.call(this, function() {
                    this.toggle(i, e)
                }, this.options.show.delay)
        }
        function Y(e) {
            if (this.tooltip.hasClass(P))
                return s;
            var t = r(e.relatedTarget)
                , n = t.closest(L)[0] === this.tooltip[0]
                , i = t[0] === this.options.show.target[0];
            clearTimeout(this.timers.show),
                clearTimeout(this.timers.hide);
            if (this !== t[0] && this.options.position.target === "mouse" && n || this.options.hide.fixed && /mouse(out|leave|move)/.test(e.type) && (n || i)) {
                try {
                    e.preventDefault(),
                        e.stopImmediatePropagation()
                } catch (o) {}
                return
            }
            this.timers.hide = Q.call(this, function() {
                this.toggle(s, e)
            }, this.options.hide.delay, this)
        }
        function Z(e) {
            if (this.tooltip.hasClass(P) || !this.options.hide.inactive)
                return s;
            clearTimeout(this.timers.inactive),
                this.timers.inactive = Q.call(this, function() {
                    this.hide(e)
                }, this.options.hide.inactive)
        }
        function et(e) {
            this.rendered && this.tooltip[0].offsetWidth > 0 && this.reposition(e)
        }
        function nt(e, n, i) {
            r(t.body).delegate(e, (n.split ? n : n.join(tt + " ")) + tt, function() {
                var e = b.api[r.attr(this, C)];
                e && !e.disabled && i.apply(e, arguments)
            })
        }
        function rt(e, n, u) {
            var a, f, l, c, h, p = r(t.body), d = e[0] === t ? p : e, v = e.metadata ? e.metadata(u.metadata) : o, m = u.metadata.type === "html5" && v ? v[u.metadata.name] : o, g = e.data(u.metadata.name || "qtipopts");
            try {
                g = typeof g == "string" ? r.parseJSON(g) : g
            } catch (y) {}
            c = r.extend(i, {}, b.defaults, u, typeof g == "object" ? U(g) : o, U(m || v)),
                f = c.position,
                c.id = n;
            if ("boolean" == typeof c.content.text) {
                l = e.attr(c.content.attr);
                if (c.content.attr === s || !l)
                    return s;
                c.content.text = l
            }
            f.container.length || (f.container = p),
            f.target === s && (f.target = d),
            c.show.target === s && (c.show.target = d),
            c.show.solo === i && (c.show.solo = f.container.closest("body")),
            c.hide.target === s && (c.hide.target = d),
            c.position.viewport === i && (c.position.viewport = f.container),
                f.container = f.container.eq(0),
                f.at = new E(f.at,i),
                f.my = new E(f.my);
            if (e.data(T))
                if (c.overwrite)
                    e.qtip("destroy", !0);
                else if (c.overwrite === s)
                    return s;
            return e.attr(N, n),
            c.suppress && (h = e.attr("title")) && e.removeAttr("title").attr(B, h).attr("title", ""),
                a = new I(e,c,n,!!l),
                e.data(T, a),
                e.one("remove.qtip-" + n + " removeqtip.qtip-" + n, function() {
                    var e;
                    (e = r(this).data(T)) && e.destroy(!0)
                }),
                a
        }
        var i = !0, s = !1, o = null , u = "x", a = "y", f = "width", l = "height", c = "top", h = "left", p = "bottom", d = "right", v = "center", m = "flip", g = "flipinvert", y = "shift", b, w, E, S, x = {}, T = "qtip", N = "data-hasqtip", C = "data-qtip-id", k = ["ui-widget", "ui-tooltip"], L = "." + T, A = "click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "), O = T + "-fixed", M = T + "-default", _ = T + "-focus", D = T + "-hover", P = T + "-disabled", H = "_replacedByqTip", B = "oldtitle", j, F = {
            ie: function() {
                var e = 3
                    , n = t.createElement("div");
                while (n.innerHTML = "<!--[if gt IE " + ++e + "]><i></i><![endif]-->")
                    if (!n.getElementsByTagName("i")[0])
                        break;
                return e > 4 ? e : NaN
            }(),
            iOS: parseFloat(("" + (/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0, ""])[1]).replace("undefined", "3_2").replace("_", ".").replace("_", "")) || s
        };
        w = I.prototype,
            w._when = function(e) {
                return r.when.apply(r, e)
            }
            ,
            w.render = function(e) {
                if (this.rendered || this.destroyed)
                    return this;
                var t = this, n = this.options, o = this.cache, u = this.elements, a = n.content.text, f = n.content.title, l = n.content.button, c = n.position, h = "." + this._id + " ", p = [], d;
                return r.attr(this.target[0], "aria-describedby", this._id),
                    this.tooltip = u.tooltip = d = r("<div/>", {
                        id: this._id,
                        "class": [T, M, n.style.classes, T + "-pos-" + n.position.my.abbrev()].join(" "),
                        width: n.style.width || "",
                        height: n.style.height || "",
                        tracking: c.target === "mouse" && c.adjust.mouse,
                        role: "alert",
                        "aria-live": "polite",
                        "aria-atomic": s,
                        "aria-describedby": this._id + "-content",
                        "aria-hidden": i
                    }).toggleClass(P, this.disabled).attr(C, this.id).data(T, this).appendTo(c.container).append(u.content = r("<div />", {
                        "class": T + "-content",
                        id: this._id + "-content",
                        "aria-atomic": i
                    })),
                    this.rendered = -1,
                    this.positioning = i,
                f && (this._createTitle(),
                r.isFunction(f) || p.push(this._updateTitle(f, s))),
                l && this._createButton(),
                r.isFunction(a) || p.push(this._updateContent(a, s)),
                    this.rendered = i,
                    this._setWidget(),
                    r.each(x, function(e) {
                        var n;
                        this.initialize === "render" && (n = this(t)) && (t.plugins[e] = n)
                    }),
                    this._unassignEvents(),
                    this._assignEvents(),
                    this._when(p).then(function() {
                        t._trigger("render"),
                            t.positioning = s,
                        !t.hiddenDuringWait && (n.show.ready || e) && t.toggle(i, o.event, s),
                            t.hiddenDuringWait = s
                    }),
                    b.api[this.id] = this,
                    this
            }
            ,
            w.destroy = function(e) {
                function t() {
                    if (this.destroyed)
                        return;
                    this.destroyed = i;
                    var e = this.target
                        , t = e.attr(B);
                    this.rendered && this.tooltip.stop(1, 0).find("*").remove().end().remove(),
                        r.each(this.plugins, function(e) {
                            this.destroy && this.destroy()
                        }),
                        clearTimeout(this.timers.show),
                        clearTimeout(this.timers.hide),
                        this._unassignEvents(),
                        e.removeData(T).removeAttr(C).removeAttr(N).removeAttr("aria-describedby"),
                    this.options.suppress && t && e.attr("title", t).removeAttr(B),
                        this._unbind(e),
                        this.options = this.elements = this.cache = this.timers = this.plugins = this.mouse = o,
                        delete b.api[this.id]
                }
                return this.destroyed ? this.target : (e === i && this.triggering !== "hide" || !this.rendered ? t.call(this) : (this.tooltip.one("tooltiphidden", r.proxy(t, this)),
                !this.triggering && this.hide()),
                    this.target)
            }
            ,
            S = w.checks = {
                builtin: {
                    "^id$": function(e, t, n, o) {
                        var u = n === i ? b.nextid : n
                            , a = T + "-" + u;
                        u !== s && u.length > 0 && !r("#" + a).length ? (this._id = a,
                        this.rendered && (this.tooltip[0].id = this._id,
                            this.elements.content[0].id = this._id + "-content",
                            this.elements.title[0].id = this._id + "-title")) : e[t] = o
                    },
                    "^prerender": function(e, t, n) {
                        n && !this.rendered && this.render(this.options.show.ready)
                    },
                    "^content.text$": function(e, t, n) {
                        this._updateContent(n)
                    },
                    "^content.attr$": function(e, t, n, r) {
                        this.options.content.text === this.target.attr(r) && this._updateContent(this.target.attr(n))
                    },
                    "^content.title$": function(e, t, n) {
                        if (!n)
                            return this._removeTitle();
                        n && !this.elements.title && this._createTitle(),
                            this._updateTitle(n)
                    },
                    "^content.button$": function(e, t, n) {
                        this._updateButton(n)
                    },
                    "^content.title.(text|button)$": function(e, t, n) {
                        this.set("content." + t, n)
                    },
                    "^position.(my|at)$": function(e, t, n) {
                        "string" == typeof n && (e[t] = new E(n,t === "at"))
                    },
                    "^position.container$": function(e, t, n) {
                        this.rendered && this.tooltip.appendTo(n)
                    },
                    "^show.ready$": function(e, t, n) {
                        n && (!this.rendered && this.render(i) || this.toggle(i))
                    },
                    "^style.classes$": function(e, t, n, r) {
                        this.rendered && this.tooltip.removeClass(r).addClass(n)
                    },
                    "^style.(width|height)": function(e, t, n) {
                        this.rendered && this.tooltip.css(t, n)
                    },
                    "^style.widget|content.title": function() {
                        this.rendered && this._setWidget()
                    },
                    "^style.def": function(e, t, n) {
                        this.rendered && this.tooltip.toggleClass(M, !!n)
                    },
                    "^events.(render|show|move|hide|focus|blur)$": function(e, t, n) {
                        this.rendered && this.tooltip[(r.isFunction(n) ? "" : "un") + "bind"]("tooltip" + t, n)
                    },
                    "^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)": function() {
                        if (!this.rendered)
                            return;
                        var e = this.options.position;
                        this.tooltip.attr("tracking", e.target === "mouse" && e.adjust.mouse),
                            this._unassignEvents(),
                            this._assignEvents()
                    }
                }
            },
            w.get = function(e) {
                if (this.destroyed)
                    return this;
                var t = z(this.options, e.toLowerCase())
                    , n = t[0][t[1]];
                return n.precedance ? n.string() : n
            }
        ;
        var X = /^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i
            , V = /^prerender|show\.ready/i;
        w.set = function(e, t) {
            if (this.destroyed)
                return this;
            var n = this.rendered, u = s, a = this.options, f = this.checks, l;
            return "string" == typeof e ? (l = e,
                e = {},
                e[l] = t) : e = r.extend({}, e),
                r.each(e, function(t, i) {
                    if (n && V.test(t)) {
                        delete e[t];
                        return
                    }
                    var s = z(a, t.toLowerCase()), o;
                    o = s[0][s[1]],
                        s[0][s[1]] = i && i.nodeType ? r(i) : i,
                        u = X.test(t) || u,
                        e[t] = [s[0], s[1], i, o]
                }),
                U(a),
                this.positioning = i,
                r.each(e, r.proxy(W, this)),
                this.positioning = s,
            this.rendered && this.tooltip[0].offsetWidth > 0 && u && this.reposition(a.position.target === "mouse" ? o : this.cache.event),
                this
        }
            ,
            w._update = function(e, t, n) {
                var u = this
                    , a = this.cache;
                return !this.rendered || !e ? s : (r.isFunction(e) && (e = e.call(this.elements.target, a.event, this) || ""),
                    r.isFunction(e.then) ? (a.waiting = i,
                        e.then(function(e) {
                            return a.waiting = s,
                                u._update(e, t)
                        }, o, function(e) {
                            return u._update(e, t)
                        })) : e === s || !e && e !== "" ? s : (e.jquery && e.length > 0 ? t.empty().append(e.css({
                        display: "block",
                        visibility: "visible"
                    })) : t.html(e),
                        this._waitForContent(t).then(function(e) {
                            e.images && e.images.length && u.rendered && u.tooltip[0].offsetWidth > 0 && u.reposition(a.event, !e.length)
                        })))
            }
            ,
            w._waitForContent = function(e) {
                var t = this.cache;
                return t.waiting = i,
                    (r.fn.imagesLoaded ? e.imagesLoaded() : r.Deferred().resolve([])).done(function() {
                        t.waiting = s
                    }).promise()
            }
            ,
            w._updateContent = function(e, t) {
                this._update(e, this.elements.content, t)
            }
            ,
            w._updateTitle = function(e, t) {
                this._update(e, this.elements.title, t) === s && this._removeTitle(s)
            }
            ,
            w._createTitle = function() {
                var e = this.elements
                    , t = this._id + "-title";
                e.titlebar && this._removeTitle(),
                    e.titlebar = r("<div />", {
                        "class": T + "-titlebar " + (this.options.style.widget ? J("header") : "")
                    }).append(e.title = r("<div />", {
                        id: t,
                        "class": T + "-title",
                        "aria-atomic": i
                    })).insertBefore(e.content).delegate(".qtip-close", "mousedown keydown mouseup keyup mouseout", function(e) {
                        r(this).toggleClass("ui-state-active ui-state-focus", e.type.substr(-4) === "down")
                    }).delegate(".qtip-close", "mouseover mouseout", function(e) {
                        r(this).toggleClass("ui-state-hover", e.type === "mouseover")
                    }),
                this.options.content.button && this._createButton()
            }
            ,
            w._removeTitle = function(e) {
                var t = this.elements;
                t.title && (t.titlebar.remove(),
                    t.titlebar = t.title = t.button = o,
                e !== s && this.reposition())
            }
            ,
            w.reposition = function(n, o) {
                if (!this.rendered || this.positioning || this.destroyed)
                    return this;
                this.positioning = i;
                var u = this.cache, a = this.tooltip, f = this.options.position, l = f.target, m = f.my, g = f.at, y = f.viewport, b = f.container, w = f.adjust, E = w.method.split(" "), S = a.outerWidth(s), T = a.outerHeight(s), N = 0, C = 0, k = a.css("position"), L = {
                    left: 0,
                    top: 0
                }, A = a[0].offsetWidth > 0, O = n && n.type === "scroll", M = r(e), _ = b[0].ownerDocument, D = this.mouse, P, H;
                if (r.isArray(l) && l.length === 2)
                    g = {
                        x: h,
                        y: c
                    },
                        L = {
                            left: l[0],
                            top: l[1]
                        };
                else if (l === "mouse") {
                    g = {
                        x: h,
                        y: c
                    };
                    if (D && D.pageX && (w.mouse || !n || !n.pageX))
                        n = D;
                    else if (!n || !n.pageX)
                        if ((!w.mouse || this.options.show.distance) && u.origin && u.origin.pageX)
                            n = u.origin;
                        else if (!n || n && (n.type === "resize" || n.type === "scroll"))
                            n = u.event;
                    k !== "static" && (L = b.offset()),
                    _.body.offsetWidth !== (e.innerWidth || _.documentElement.clientWidth) && (H = r(t.body).offset()),
                        L = {
                            left: n.pageX - L.left + (H && H.left || 0),
                            top: n.pageY - L.top + (H && H.top || 0)
                        },
                    w.mouse && O && D && (L.left -= (D.scrollX || 0) - M.scrollLeft(),
                        L.top -= (D.scrollY || 0) - M.scrollTop())
                } else {
                    l === "event" ? n && n.target && n.type !== "scroll" && n.type !== "resize" ? u.target = r(n.target) : n.target || (u.target = this.elements.target) : l !== "event" && (u.target = r(l.jquery ? l : this.elements.target)),
                        l = u.target,
                        l = r(l).eq(0);
                    if (l.length === 0)
                        return this;
                    l[0] === t || l[0] === e ? (N = F.iOS ? e.innerWidth : l.width(),
                        C = F.iOS ? e.innerHeight : l.height(),
                    l[0] === e && (L = {
                        top: (y || l).scrollTop(),
                        left: (y || l).scrollLeft()
                    })) : x.imagemap && l.is("area") ? P = x.imagemap(this, l, g, x.viewport ? E : s) : x.svg && l && l[0].ownerSVGElement ? P = x.svg(this, l, g, x.viewport ? E : s) : (N = l.outerWidth(s),
                        C = l.outerHeight(s),
                        L = l.offset()),
                    P && (N = P.width,
                        C = P.height,
                        H = P.offset,
                        L = P.position),
                        L = this.reposition.offset(l, L, b);
                    if (F.iOS > 3.1 && F.iOS < 4.1 || F.iOS >= 4.3 && F.iOS < 4.33 || !F.iOS && k === "fixed")
                        L.left -= M.scrollLeft(),
                            L.top -= M.scrollTop();
                    if (!P || P && P.adjustable !== s)
                        L.left += g.x === d ? N : g.x === v ? N / 2 : 0,
                            L.top += g.y === p ? C : g.y === v ? C / 2 : 0
                }
                return L.left += w.x + (m.x === d ? -S : m.x === v ? -S / 2 : 0),
                    L.top += w.y + (m.y === p ? -T : m.y === v ? -T / 2 : 0),
                    x.viewport ? (L.adjusted = x.viewport(this, L, f, N, C, S, T),
                    H && L.adjusted.left && (L.left += H.left),
                    H && L.adjusted.top && (L.top += H.top)) : L.adjusted = {
                        left: 0,
                        top: 0
                    },
                    this._trigger("move", [L, y.elem || y], n) ? (delete L.adjusted,
                        o === s || !A || isNaN(L.left) || isNaN(L.top) || l === "mouse" || !r.isFunction(f.effect) ? a.css(L) : r.isFunction(f.effect) && (f.effect.call(a, this, r.extend({}, L)),
                            a.queue(function(e) {
                                r(this).css({
                                    opacity: "",
                                    height: ""
                                }),
                                F.ie && this.style.removeAttribute("filter"),
                                    e()
                            })),
                        this.positioning = s,
                        this) : this
            }
            ,
            w.reposition.offset = function(e, n, i) {
                function h(e, t) {
                    n.left += t * e.scrollLeft(),
                        n.top += t * e.scrollTop()
                }
                if (!i[0])
                    return n;
                var s = r(e[0].ownerDocument), o = !!F.ie && t.compatMode !== "CSS1Compat", u = i[0], a, f, l, c;
                do
                    (f = r.css(u, "position")) !== "static" && (f === "fixed" ? (l = u.getBoundingClientRect(),
                        h(s, -1)) : (l = r(u).position(),
                        l.left += parseFloat(r.css(u, "borderLeftWidth")) || 0,
                        l.top += parseFloat(r.css(u, "borderTopWidth")) || 0),
                        n.left -= l.left + (parseFloat(r.css(u, "marginLeft")) || 0),
                        n.top -= l.top + (parseFloat(r.css(u, "marginTop")) || 0),
                    !a && (c = r.css(u, "overflow")) !== "hidden" && c !== "visible" && (a = r(u)));
                while (u = u.offsetParent);return a && (a[0] !== s[0] || o) && h(a, 1),
                    n
            }
        ;
        var $ = (E = w.reposition.Corner = function(e, t) {
            e = ("" + e).replace(/([A-Z])/, " $1").replace(/middle/gi, v).toLowerCase(),
                this.x = (e.match(/left|right/i) || e.match(/center/) || ["inherit"])[0].toLowerCase(),
                this.y = (e.match(/top|bottom|center/i) || ["inherit"])[0].toLowerCase(),
                this.forceY = !!t;
            var n = e.charAt(0);
            this.precedance = n === "t" || n === "b" ? a : u
        }
        ).prototype;
        $.invert = function(e, t) {
            this[e] = this[e] === h ? d : this[e] === d ? h : t || this[e]
        }
            ,
            $.string = function() {
                var e = this.x
                    , t = this.y;
                return e === t ? e : this.precedance === a || this.forceY && t !== "center" ? t + " " + e : e + " " + t
            }
            ,
            $.abbrev = function() {
                var e = this.string().split(" ");
                return e[0].charAt(0) + (e[1] && e[1].charAt(0) || "")
            }
            ,
            $.clone = function() {
                return new E(this.string(),this.forceY)
            }
            ,
            w.toggle = function(e, n) {
                var u = this.cache
                    , a = this.options
                    , f = this.tooltip;
                if (n) {
                    if (/over|enter/.test(n.type) && /out|leave/.test(u.event.type) && a.show.target.add(n.target).length === a.show.target.length && f.has(n.relatedTarget).length)
                        return this;
                    u.event = K(n)
                }
                this.waiting && !e && (this.hiddenDuringWait = i);
                if (!this.rendered)
                    return e ? this.render(1) : this;
                if (this.destroyed || this.disabled)
                    return this;
                var l = e ? "show" : "hide", c = this.options[l], h = this.options[e ? "hide" : "show"], p = this.options.position, d = this.options.content, v = this.tooltip.css("width"), m = this.tooltip.is(":visible"), g = e || c.target.length === 1, y = !n || c.target.length < 2 || u.target[0] === n.target, b, w, E, S, x;
                return (typeof e).search("boolean|number") && (e = !m),
                    b = !f.is(":animated") && m === e && y,
                    w = b ? o : !!this._trigger(l, [90]),
                    this.destroyed ? this : (w !== s && e && this.focus(n),
                        !w || b ? this : (r.attr(f[0], "aria-hidden", !e),
                            e ? (u.origin = K(this.mouse),
                            r.isFunction(d.text) && this._updateContent(d.text, s),
                            r.isFunction(d.title) && this._updateTitle(d.title, s),
                            !j && p.target === "mouse" && p.adjust.mouse && (r(t).bind("mousemove." + T, this._storeMouse),
                                j = i),
                            v || f.css("width", f.outerWidth(s)),
                                this.reposition(n, arguments[2]),
                            v || f.css("width", ""),
                            !c.solo || (typeof c.solo == "string" ? r(c.solo) : r(L, c.solo)).not(f).not(c.target).qtip("hide", r.Event("tooltipsolo"))) : (clearTimeout(this.timers.show),
                                delete u.origin,
                            j && !r(L + '[tracking="true"]:visible', c.solo).not(f).length && (r(t).unbind("mousemove." + T),
                                j = s),
                                this.blur(n)),
                            x = r.proxy(function() {
                                e ? (F.ie && f[0].style.removeAttribute("filter"),
                                    f.css("overflow", ""),
                                "string" == typeof c.autofocus && r(this.options.show.autofocus, f).focus(),
                                    this.options.show.target.trigger("qtip-" + this.id + "-inactive")) : f.css({
                                    display: "",
                                    visibility: "",
                                    opacity: "",
                                    left: "",
                                    top: ""
                                }),
                                    this._trigger(e ? "visible" : "hidden")
                            }, this),
                            c.effect === s || g === s ? (f[l](),
                                x()) : r.isFunction(c.effect) ? (f.stop(1, 1),
                                c.effect.call(f, this),
                                f.queue("fx", function(e) {
                                    x(),
                                        e()
                                })) : f.fadeTo(90, e ? 1 : 0, x),
                        e && c.target.trigger("qtip-" + this.id + "-inactive"),
                            this))
            }
            ,
            w.show = function(e) {
                return this.toggle(i, e)
            }
            ,
            w.hide = function(e) {
                return this.toggle(s, e)
            }
            ,
            w.focus = function(e) {
                if (!this.rendered || this.destroyed)
                    return this;
                var t = r(L), n = this.tooltip, i = parseInt(n[0].style.zIndex, 10), s = b.zindex + t.length, o;
                return n.hasClass(_) || this._trigger("focus", [s], e) && (i !== s && (t.each(function() {
                    this.style.zIndex > i && (this.style.zIndex = this.style.zIndex - 1)
                }),
                    t.filter("." + _).qtip("blur", e)),
                    n.addClass(_)[0].style.zIndex = s),
                    this
            }
            ,
            w.blur = function(e) {
                return !this.rendered || this.destroyed ? this : (this.tooltip.removeClass(_),
                    this._trigger("blur", [this.tooltip.css("zIndex")], e),
                    this)
            }
            ,
            w.disable = function(e) {
                return this.destroyed ? this : (e === "toggle" ? e = this.rendered ? !this.tooltip.hasClass(P) : !this.disabled : "boolean" != typeof e && (e = i),
                this.rendered && this.tooltip.toggleClass(P, e).attr("aria-disabled", e),
                    this.disabled = !!e,
                    this)
            }
            ,
            w.enable = function() {
                return this.disable(s)
            }
            ,
            w._createButton = function() {
                var e = this
                    , t = this.elements
                    , n = t.tooltip
                    , i = this.options.content.button
                    , o = typeof i == "string"
                    , u = o ? i : "Close tooltip";
                t.button && t.button.remove(),
                    i.jquery ? t.button = i : t.button = r("<a />", {
                        "class": "qtip-close " + (this.options.style.widget ? "" : T + "-icon"),
                        title: u,
                        "aria-label": u
                    }).prepend(r("<span />", {
                        "class": "ui-icon ui-icon-close",
                        html: "&times;"
                    })),
                    t.button.appendTo(t.titlebar || n).attr("role", "button").click(function(t) {
                        return n.hasClass(P) || e.hide(t),
                            s
                    })
            }
            ,
            w._updateButton = function(e) {
                if (!this.rendered)
                    return s;
                var t = this.elements.button;
                e ? this._createButton() : t.remove()
            }
            ,
            w._setWidget = function() {
                var e = this.options.style.widget
                    , t = this.elements
                    , n = t.tooltip
                    , r = n.hasClass(P);
                n.removeClass(P),
                    P = e ? "ui-state-disabled" : "qtip-disabled",
                    n.toggleClass(P, r),
                    n.toggleClass("ui-helper-reset " + J(), e).toggleClass(M, this.options.style.def && !e),
                t.content && t.content.toggleClass(J("content"), e),
                t.titlebar && t.titlebar.toggleClass(J("header"), e),
                t.button && t.button.toggleClass(T + "-icon", !e)
            }
            ,
            w._storeMouse = function(e) {
                (this.mouse = K(e)).type = "mousemove"
            }
            ,
            w._bind = function(e, t, n, i, s) {
                var o = "." + this._id + (i ? "-" + i : "");
                t.length && r(e).bind((t.split ? t : t.join(o + " ")) + o, r.proxy(n, s || this))
            }
            ,
            w._unbind = function(e, t) {
                r(e).unbind("." + this._id + (t ? "-" + t : ""))
            }
        ;
        var tt = "." + T;
        r(function() {
            nt(L, ["mouseenter", "mouseleave"], function(e) {
                var t = e.type === "mouseenter"
                    , n = r(e.currentTarget)
                    , i = r(e.relatedTarget || e.target)
                    , s = this.options;
                t ? (this.focus(e),
                n.hasClass(O) && !n.hasClass(P) && clearTimeout(this.timers.hide)) : s.position.target === "mouse" && s.hide.event && s.show.target && !i.closest(s.show.target[0]).length && this.hide(e),
                    n.toggleClass(D, t)
            }),
                nt("[" + C + "]", A, Z)
        }),
            w._trigger = function(e, t, n) {
                var i = r.Event("tooltip" + e);
                return i.originalEvent = n && r.extend({}, n) || this.cache.event || o,
                    this.triggering = e,
                    this.tooltip.trigger(i, [this].concat(t || [])),
                    this.triggering = s,
                    !i.isDefaultPrevented()
            }
            ,
            w._bindEvents = function(e, t, n, i, s, o) {
                if (i.add(n).length === i.length) {
                    var u = [];
                    t = r.map(t, function(t) {
                        var n = r.inArray(t, e);
                        if (n > -1) {
                            u.push(e.splice(n, 1)[0]);
                            return
                        }
                        return t
                    }),
                    u.length && this._bind(n, u, function(e) {
                        var t = this.rendered ? this.tooltip[0].offsetWidth > 0 : !1;
                        (t ? o : s).call(this, e)
                    })
                }
                this._bind(n, e, s),
                    this._bind(i, t, o)
            }
            ,
            w._assignInitialEvents = function(e) {
                function l(e) {
                    if (this.disabled || this.destroyed)
                        return s;
                    this.cache.event = K(e),
                        this.cache.target = e ? r(e.target) : [n],
                        clearTimeout(this.timers.show),
                        this.timers.show = Q.call(this, function() {
                            this.render(typeof e == "object" || t.show.ready)
                        }, t.show.delay)
                }
                var t = this.options
                    , o = t.show.target
                    , u = t.hide.target
                    , a = t.show.event ? r.trim("" + t.show.event).split(" ") : []
                    , f = t.hide.event ? r.trim("" + t.hide.event).split(" ") : [];
                /mouse(over|enter)/i.test(t.show.event) && !/mouse(out|leave)/i.test(t.hide.event) && f.push("mouseleave"),
                    this._bind(o, "mousemove", function(e) {
                        this._storeMouse(e),
                            this.cache.onTarget = i
                    }),
                    this._bindEvents(a, f, o, u, l, function() {
                        clearTimeout(this.timers.show)
                    }),
                (t.show.ready || t.prerender) && l.call(this, e)
            }
            ,
            w._assignEvents = function() {
                var n = this
                    , i = this.options
                    , s = i.position
                    , o = this.tooltip
                    , u = i.show.target
                    , a = i.hide.target
                    , f = s.container
                    , l = s.viewport
                    , c = r(t)
                    , h = r(t.body)
                    , p = r(e)
                    , d = i.show.event ? r.trim("" + i.show.event).split(" ") : []
                    , v = i.hide.event ? r.trim("" + i.hide.event).split(" ") : [];
                r.each(i.events, function(e, t) {
                    n._bind(o, e === "toggle" ? ["tooltipshow", "tooltiphide"] : ["tooltip" + e], t, null , o)
                }),
                /mouse(out|leave)/i.test(i.hide.event) && i.hide.leave === "window" && this._bind(c, ["mouseout", "blur"], function(e) {
                    !/select|option/.test(e.target.nodeName) && !e.relatedTarget && this.hide(e)
                }),
                    i.hide.fixed ? a = a.add(o.addClass(O)) : /mouse(over|enter)/i.test(i.show.event) && this._bind(a, "mouseleave", function() {
                        clearTimeout(this.timers.show)
                    }),
                ("" + i.hide.event).indexOf("unfocus") > -1 && this._bind(f.closest("html"), ["mousedown", "touchstart"], function(e) {
                    var t = r(e.target)
                        , n = this.rendered && !this.tooltip.hasClass(P) && this.tooltip[0].offsetWidth > 0
                        , i = t.parents(L).filter(this.tooltip[0]).length > 0;
                    t[0] !== this.target[0] && t[0] !== this.tooltip[0] && !i && !this.target.has(t[0]).length && n && this.hide(e)
                }),
                "number" == typeof i.hide.inactive && (this._bind(u, "qtip-" + this.id + "-inactive", Z),
                    this._bind(a.add(o), b.inactiveEvents, Z, "-inactive")),
                    this._bindEvents(d, v, u, a, G, Y),
                    this._bind(u.add(o), "mousemove", function(e) {
                        if ("number" == typeof i.hide.distance) {
                            var t = this.cache.origin || {}
                                , n = this.options.hide.distance
                                , r = Math.abs;
                            (r(e.pageX - t.pageX) >= n || r(e.pageY - t.pageY) >= n) && this.hide(e)
                        }
                        this._storeMouse(e)
                    }),
                s.target === "mouse" && s.adjust.mouse && (i.hide.event && this._bind(u, ["mouseenter", "mouseleave"], function(e) {
                    this.cache.onTarget = e.type === "mouseenter"
                }),
                    this._bind(c, "mousemove", function(e) {
                        this.rendered && this.cache.onTarget && !this.tooltip.hasClass(P) && this.tooltip[0].offsetWidth > 0 && this.reposition(e)
                    })),
                (s.adjust.resize || l.length) && this._bind(r.event.special.resize ? l : p, "resize", et),
                s.adjust.scroll && this._bind(p.add(s.container), "scroll", et)
            }
            ,
            w._unassignEvents = function() {
                var n = [this.options.show.target[0], this.options.hide.target[0], this.rendered && this.tooltip[0], this.options.position.container[0], this.options.position.viewport[0], this.options.position.container.closest("html")[0], e, t];
                this._unbind(r([]).pushStack(r.grep(n, function(e) {
                    return typeof e == "object"
                })))
            }
            ,
            b = r.fn.qtip = function(e, t, u) {
                var a = ("" + e).toLowerCase()
                    , f = o
                    , l = r.makeArray(arguments).slice(1)
                    , c = l[l.length - 1]
                    , h = this[0] ? r.data(this[0], T) : o;
                if (!arguments.length && h || a === "api")
                    return h;
                if ("string" == typeof e)
                    return this.each(function() {
                        var e = r.data(this, T);
                        if (!e)
                            return i;
                        c && c.timeStamp && (e.cache.event = c);
                        if (!t || a !== "option" && a !== "options")
                            e[a] && e[a].apply(e, l);
                        else {
                            if (u === n && !r.isPlainObject(t))
                                return f = e.get(t),
                                    s;
                            e.set(t, u)
                        }
                    }),
                        f !== o ? f : this;
                if ("object" == typeof e || !arguments.length)
                    return h = U(r.extend(i, {}, e)),
                        this.each(function(e) {
                            var t, n;
                            n = r.isArray(h.id) ? h.id[e] : h.id,
                                n = !n || n === s || n.length < 1 || b.api[n] ? b.nextid++ : n,
                                t = rt(r(this), n, h);
                            if (t === s)
                                return i;
                            b.api[n] = t,
                                r.each(x, function() {
                                    this.initialize === "initialize" && this(t)
                                }),
                                t._assignInitialEvents(c)
                        })
            }
            ,
            r.qtip = I,
            b.api = {},
            r.each({
                attr: function(e, t) {
                    if (this.length) {
                        var n = this[0]
                            , i = "title"
                            , s = r.data(n, "qtip");
                        if (e === i && s && "object" == typeof s && s.options.suppress)
                            return arguments.length < 2 ? r.attr(n, B) : (s && s.options.content.attr === i && s.cache.attr && s.set("content.text", t),
                                this.attr(B, t))
                    }
                    return r.fn["attr" + H].apply(this, arguments)
                },
                clone: function(e) {
                    var t = r([])
                        , n = "title"
                        , i = r.fn["clone" + H].apply(this, arguments);
                    return e || i.filter("[" + B + "]").attr("title", function() {
                        return r.attr(this, B)
                    }).removeAttr(B),
                        i
                }
            }, function(e, t) {
                if (!t || r.fn[e + H])
                    return i;
                var n = r.fn[e + H] = r.fn[e];
                r.fn[e] = function() {
                    return t.apply(this, arguments) || n.apply(this, arguments)
                }
            }),
        r.ui || (r["cleanData" + H] = r.cleanData,
            r.cleanData = function(e) {
                for (var t = 0, n; (n = r(e[t])).length; t++)
                    if (n.attr(N))
                        try {
                            n.triggerHandler("removeqtip")
                        } catch (i) {}
                r["cleanData" + H].apply(this, arguments)
            }
        ),
            b.version = "2.2.0",
            b.nextid = 0,
            b.inactiveEvents = A,
            b.zindex = 15e3,
            b.defaults = {
                prerender: s,
                id: s,
                overwrite: i,
                suppress: i,
                content: {
                    text: i,
                    attr: "title",
                    title: s,
                    button: s
                },
                position: {
                    my: "top left",
                    at: "bottom right",
                    target: s,
                    container: s,
                    viewport: s,
                    adjust: {
                        x: 0,
                        y: 0,
                        mouse: i,
                        scroll: i,
                        resize: i,
                        method: "flipinvert flipinvert"
                    },
                    effect: function(e, t, n) {
                        r(this).animate(t, {
                            duration: 200,
                            queue: s
                        })
                    }
                },
                show: {
                    target: s,
                    event: "mouseenter",
                    effect: i,
                    delay: 90,
                    solo: s,
                    ready: s,
                    autofocus: s
                },
                hide: {
                    target: s,
                    event: "mouseleave",
                    effect: i,
                    delay: 0,
                    fixed: s,
                    inactive: s,
                    leave: "window",
                    distance: s
                },
                style: {
                    classes: "",
                    widget: s,
                    width: s,
                    height: s,
                    def: i
                },
                events: {
                    render: o,
                    move: o,
                    show: o,
                    hide: o,
                    toggle: o,
                    visible: o,
                    hidden: o,
                    focus: o,
                    blur: o
                }
            }
    })
}(window, document),
function(e, t, n) {
    function d(e) {
        var t = e.keyCode || e.charCode;
        return t >= 48 && t <= 57 || t >= 37 && t <= 40 || t == 8 || t == 46
    }
    function v(e) {
        var t = this
            , n = {
                "M+": t.getMonth() + 1,
                "d+": t.getDate(),
                "h+": t.getHours() % 12 == 0 ? 12 : t.getHours() % 12,
                "H+": t.getHours(),
                "m+": t.getMinutes(),
                "s+": t.getSeconds(),
                "q+": Math.floor((t.getMonth() + 3) / 3),
                w: "0123456".indexOf(t.getDay()),
                S: t.getMilliseconds()
            };
        /(y+)/.test(e) && (e = e.replace(RegExp.$1, (t.getFullYear() + "").substr(4 - RegExp.$1.length)));
        for (var r in n)
            (new RegExp("(" + r + ")")).test(e) && (e = e.replace(RegExp.$1, RegExp.$1.length == 1 ? n[r] : ("00" + n[r]).substr(("" + n[r]).length)));
        return e
    }
    function m(t, n) {
        function d(t, n) {
            sting = e.trim(t);
            if (t === "")
                return;
            return n = n.replace(/yyyy/, y4).replace(/yy/, y2).replace(/MM/, M2).replace(/M/, M1).replace(/dd/, d2).replace(/d/, d1).replace(/HH/, H2).replace(/H/, H1).replace(/mm/, m2).replace(/m/, m1).replace(/ss/, s2).replace(/s/, s1),
                n = new RegExp("^" + n + "$"),
                r = n,
                n.test(t)
        }
        function v(e) {
            var t = [], n = 0, r;
            yi = e.indexOf("yyyy"),
            yi < 0 && (yi = e.indexOf("yy")),
            yi >= 0 && (t[n] = yi,
                n++),
                Mi = e.indexOf("MM"),
            Mi < 0 && (Mi = e.indexOf("M")),
            Mi >= 0 && (t[n] = Mi,
                n++),
                di = e.indexOf("dd"),
            di < 0 && (di = e.indexOf("d")),
            di >= 0 && (t[n] = di,
                n++),
                Hi = e.indexOf("HH"),
            Hi < 0 && (Hi = e.indexOf("H")),
            Hi >= 0 && (t[n] = Hi,
                n++),
                mi = e.indexOf("mm"),
            mi < 0 && (mi = e.indexOf("m")),
            mi >= 0 && (t[n] = mi,
                n++),
                si = e.indexOf("ss"),
            si < 0 && (si = e.indexOf("s")),
            si >= 0 && (t[n] = si,
                n++),
                r = [yi, Mi, di, Hi, mi, si];
            for (n = 0; n < t.length - 1; n++)
                for (j = 0; j < t.length - 1 - n; j++)
                    if (t[j] > t[j + 1]) {
                        var i = t[j];
                        t[j] = t[j + 1],
                            t[j + 1] = i
                    }
            for (n = 0; n < t.length; n++)
                for (j = 0; j < r.length; j++)
                    t[n] == r[j] && (r[j] = n);
            return r
        }
        var r, i = new Date;
        y4 = "([0-9]{4})",
            y2 = "([0-9]{2})",
            yi = -1,
            M2 = "(0[1-9]|1[0-2])",
            M1 = "([1-9]|1[0-2])",
            Mi = -1,
            d2 = "(0[1-9]|[1-2][0-9]|30|31)",
            d1 = "([1-9]|[1-2][0-9]|30|31)",
            di = -1,
            H2 = "([0-1][0-9]|20|21|22|23)",
            H1 = "([0-9]|1[0-9]|20|21|22|23)",
            Hi = -1,
            m2 = "([0-5][0-9])",
            m1 = "([0-9]|[1-5][0-9])",
            mi = -1,
            s2 = "([0-5][0-9])",
            s1 = "([0-9]|[1-5][0-9])",
            si = -1;
        if (d(t, n)) {
            var s = r.exec(t), o, u = v(n), a = u[0] >= 0 ? s[u[0] + 1] : i.getFullYear(), f = u[1] >= 0 ? s[u[1] + 1] - 1 : i.getMonth(), l = u[2] >= 0 ? s[u[2] + 1] : i.getDate(), c = u[3] >= 0 ? s[u[3] + 1] : i.getHours(), h = u[4] >= 0 ? s[u[4] + 1] : i.getMinutes(), p = u[5] >= 0 ? s[u[5] + 1] : i.getSeconds(), o = new Date(a,f,l,c,h,p);
            return o.getDate() == l ? o : i
        }
        return i
    }
    function g(t, n, r) {
        var i = new Date;
        return /%/.test(t) ? (r = r || 0,
            t = t.replace(/%y/, i.getFullYear()).replace(/%M/, i.getMonth() + 1).replace(/%d/, i.getDate() + r).replace(/%H/, i.getHours()).replace(/%m/, i.getMinutes()).replace(/%s/, i.getSeconds()).replace(s, "0$1")) : /^#[\w-]+$/.test(t) && (t = e.trim(e(t)[0].value),
        t.length > 0 && n && (t = v.call(m(t, n), "yyyy-MM-dd"))),
            t
    }
    var r = t.document, i, s = /\b(\w)\b/g, o = !!t.ActiveXObject, u = o && !t.XMLHttpRequest, a = e(t), f = "JCA" + (new Date).getTime(), l = function(e, t) {
        var n = e.length, i;
        for (; t < n; t++) {
            i = r.querySelector ? e[t].src : e[t].getAttribute("src", 4);
            if (i.substr(i.lastIndexOf("/")).indexOf("lhgcalendar") !== -1)
                break
        }
        return i.substr(0, i.lastIndexOf("/") + 1)
    }(r.getElementsByTagName("script"), 0), c = u ? '<iframe id="lhgcal_frm" hideFocus="true" frameborder="0" src="about:blank" style="position:absolute;z-index:-1;width:100%;top:0px;left:0px;filter:progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>' : "", h = '<table class="lcui_border" border="0" cellspacing="0" cellpadding="0"><tbody><tr><td class="lcui_lt"></td><td class="lcui_t"></td><td class="lcui_rt"></td></tr><tr><td class="lcui_l"></td><td><div class="lcui_head"><table width="100%" cellspacing="0" cellpadding="0" border="0"><tr><td width="14"><a class="cui_pm" href="javascript:void(0);"><</a></td><td width="40"><input class="cui_im" maxlength="4" value=""/>\u6708</td><td><a class="cui_nm" href="javascript:void(0);">></a></td><td width="14"><a class="cui_py" href="javascript:void(0);"><</a></td><td width="60"><input class="cui_iy" maxlength="4" value=""/>\u5e74</td><td width="9"><a class="cui_ny" href="javascript:void(0);">></a></td></tr></table><div class="cui_ymlist" style="display:none;"><table width="100%" cellspacing="1" cellpadding="0" border="0"><thead class="cui_ybar"><tr><td><a class="cui_pybar" href="javascript:void(0);">\u00ab</a></td><td><a class="cui_cybar" href="javascript:void(0);">\u00d7</a></td><td><a class="cui_nybar" href="javascript:void(0);">\u00bb</a></td></tr></thead><tbody class="cui_lbox"></tbody></table></div></div><div class="lcui_body"><table cellspacing="1" cellpadding="0" border="0"><thead><tr><td>\u65e5</td><td>\u4e00</td><td>\u4e8c</td><td>\u4e09</td><td>\u56db</td><td>\u4e94</td><td>\u516d</td></tr></thead><tbody class="cui_db"></tbody></table></div><div class="cui_foot"><table width="100%" cellspacing="0" cellpadding="0" border="0"><tr><td align="center" class="lcui_today"><a class="cui_tbtn" href="javascript:void(0);">\u4eca\u5929</a></td><td align="center" class="lcui_time"><input class="cui_hour" maxlength="2"/>:<input class="cui_minute" maxlength="2"/>:<input class="cui_second" maxlength="2"/></td><td align="center" class="lcui_empty"><a class="cui_dbtn" href="javascript:void(0);">\u6e05\u7a7a</a></td></tr></table></div></td><td class="lcui_r"></td></tr><tr><td class="lcui_lb"></td><td class="lcui_b"></td><td class="lcui_rb"></td></tr></tbody></table>' + c;
    try {
        r.execCommand("BackgroundImageCache", !1, !0)
    } catch (p) {}
    var y = function(e) {
            e = e || {};
            var t = y.setting;
            for (var r in t)
                e[r] === n && (e[r] = t[r]);
            return i ? i._init(e) : new y.fn._init(e)
        }
        ;
    y.fn = y.prototype = {
        constructor: y,
        _init: function(t) {
            var n = this, r, o = n._getEvent(), a, f;
            return n.config = t,
                n.DOM = r = n.DOM || n._getDOM(),
                n.evObj = o.srcElement || o.target,
                n.inpE = t.id ? e(t.id)[0] : n.evObj,
                t.btnBar ? r.foot[0].style.display = "" : r.foot[0].style.display = "none",
            t.minDate && (t.minDate = g(t.minDate, t.targetFormat, t.noToday ? 1 : 0)),
            t.maxDate && (t.maxDate = g(t.maxDate, t.targetFormat, t.noToday ? -1 : 0)),
                a = e.trim(n.inpE.value),
                a.length > 0 ? f = m(a, t.format) : f = new Date,
                r.hour[0].value = (f.getHours() + "").replace(s, "0$1"),
                r.minute[0].value = (f.getMinutes() + "").replace(s, "0$1"),
                r.second[0].value = (f.getSeconds() + "").replace(s, "0$1"),
                e("input", r.foot[0]).attr({
                    disabled: t.format.indexOf("H") >= 0 ? !1 : !0
                }),
                n._draw(f).show()._offset(n.evObj),
            u && e("#lhgcal_frm").css({
                height: r.wrap[0].offsetHeight + "px"
            }),
            i || (r.wrap[0].style.width = r.wrap[0].offsetWidth + "px",
                n._addEvent(),
                i = n),
                n
        },
        _draw: function(e, t) {
            var n = this, i = n.DOM, o, u, a, f = [], l, c, h = n.config, p, d, v, m = 0, y;
            n.year = l = e.getFullYear(),
                n.month = c = e.getMonth() + 1,
                n.day = t || e.getDate(),
                i.iy[0].value = l,
                i.im[0].value = c,
                o = (new Date(l,c - 1,1)).getDay(),
                u = (new Date(l,c - 1,0)).getDate(),
                a = (new Date(l,c,0)).getDate();
            for (var b = 0; b < o; b++)
                f.push(u),
                    u--;
            f.reverse();
            for (var b = 1; b <= a; b++)
                f.push(b);
            for (var b = 1; b <= 42 - a - o; b++)
                f.push(b);
            p = r.createDocumentFragment();
            for (var b = 0; b < 6; b++) {
                d = r.createElement("tr");
                for (var w = 0; w < 7; w++) {
                    v = r.createElement("td"),
                        y = (l + "-" + c + "-" + f[m]).replace(s, "0$1");
                    if (m < o || m >= a + o || h.minDate && h.minDate > y || h.maxDate && h.maxDate < y || h.disWeek && h.disWeek.indexOf(w) >= 0)
                        n._setCell(v, f[m]);
                    else if (h.disDate) {
                        for (var E = 0, S = h.disDate.length; E < S; E++) {
                            /%/.test(h.disDate[E]) && (h.disDate[E] = g(h.disDate[E]));
                            var x = new RegExp(h.disDate[E])
                                , T = h.enDate ? !x.test(y) : x.test(y);
                            if (T)
                                break
                        }
                        T ? n._setCell(v, f[m]) : n._setCell(v, f[m], !0)
                    } else
                        n._setCell(v, f[m], !0);
                    d.appendChild(v),
                        m++
                }
                p.appendChild(d)
            }
            while (i.db[0].firstChild)
                i.db[0].removeChild(i.db[0].firstChild);
            return i.db[0].appendChild(p),
                n
        },
        _setCell: function(t, n, r) {
            r ? (t.innerHTML = '<a href="javascript:void(0);">' + n + "</a>",
                t.firstChild[f + "D"] = n + "",
            n === this.day && e(t).addClass("cui_today")) : t.innerHTML = n + ""
        },
        _drawList: function(e, t) {
            var n = this.DOM, i, s, o = r.createDocumentFragment();
            for (var u = 0; u < 4; u++) {
                i = r.createElement("tr");
                for (var a = 0; a < 3; a++)
                    s = r.createElement("td"),
                        s.innerHTML = '<a href="javascript:void(0);">' + (t ? t[e] : e) + "</a>",
                        i.appendChild(s),
                        t ? s.firstChild[f + "M"] = e : s.firstChild[f + "Y"] = e,
                        e++;
                o.appendChild(i)
            }
            while (n.lbox[0].firstChild)
                n.lbox[0].removeChild(n.lbox[0].firstChild);
            return n.lbox[0].appendChild(o),
                this
        },
        _showList: function() {
            this.DOM.ymlist[0].style.display = "block"
        },
        _hideList: function() {
            this.DOM.ymlist[0].style.display = "none"
        },
        _offset: function() {
            var t = this, n = t.DOM, r, i = e(t.evObj).offset(), s = i.top + t.evObj.offsetHeight, o = a.width(), u = a.height(), f = a.scrollLeft(), l = a.scrollTop(), c = n.wrap[0].offsetWidth, h = n.wrap[0].offsetHeight;
            return s + h > u + l && (s = i.top - h - 2),
            i.left + c > o + f && (i.left -= c),
                n.wrap.css({
                    left: i.left + "px",
                    top: s + "px"
                }),
                r = n.im.offset().top + n.im[0].offsetHeight,
                n.ymlist[0].style.top = r - s + "px",
                t
        },
        _getDOM: function() {
            var t = r.createElement("div");
            t.style.cssText = "position:absolute;display:none;z-index:" + this.config.zIndex + ";",
                t.innerHTML = h;
            var n, i = 0, s = {
                wrap: e(t)
            }, o = t.getElementsByTagName("*"), u = o.length;
            for (; i < u; i++)
                n = o[i].className.split("cui_")[1],
                n && (s[n] = e(o[i]));
            return r.body.appendChild(t),
                s
        },
        _getEvent: function() {
            if (o)
                return t.event;
            var e = this._getEvent.caller;
            while (e != null ) {
                var n = e.arguments[0];
                if (n && (n + "").indexOf("Event") >= 0)
                    return n;
                e = e.caller
            }
            return null
        },
        _setDate: function(t) {
            t = parseInt(t, 10);
            var n = this
                , r = n.config
                , i = n.DOM
                , s = new Date(n.year,n.month - 1,t);
            if (r.format.indexOf("H") >= 0) {
                var o = parseInt(i.hour[0].value, 10)
                    , u = parseInt(i.minute[0].value, 10)
                    , a = parseInt(i.second[0].value, 10);
                s = new Date(n.year,n.month - 1,t,o,u,a)
            }
            n.day = t,
            r.onSetDate && r.onSetDate.call(n),
                n.inpE.value = v.call(s, r.format);
            if (r.real) {
                var f = r.format.indexOf("H") >= 0 ? "yyyy-MM-dd HH:mm:ss" : "yyyy-MM-dd";
                e(r.real)[0].value = v.call(s, f)
            }
            n.hide()
        },
        _addEvent: function() {
            var t = this
                , n = t.DOM;
            n.wrap.bind("click", function(r) {
                var i = r.target;
                if (i[f + "D"])
                    t._setDate(i[f + "D"]);
                else if (i === n.pm[0])
                    t._draw(new Date(t.year,t.month - 2), t.day);
                else if (i === n.nm[0])
                    t._draw(new Date(t.year,t.month), t.day);
                else if (i === n.py[0])
                    t._draw(new Date(t.year - 1,t.month - 1), t.day);
                else if (i === n.ny[0])
                    t._draw(new Date(t.year + 1,t.month - 1), t.day);
                else if (i === n.tbtn[0]) {
                    var s = new Date;
                    t.year = s.getFullYear(),
                        t.month = s.getMonth() + 1,
                        t.day = s.getDate(),
                        t._setDate(t.day)
                } else if (i === n.dbtn[0]) {
                    var o = t.config;
                    o.onSetDate && (t.year = "",
                        t.month = "",
                        t.day = "",
                        o.onSetDate.call(t)),
                        t.inpE.value = "",
                        t.hide(),
                    o.real && (e(o.real)[0].value = "")
                } else {
                    if (i === n.im[0]) {
                        var u = ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"]
                            , a = n.im.offset().left - parseInt(n.wrap[0].style.left, 10);
                        return n.im[0].select(),
                            n.ybar[0].style.display = "none",
                            n.ymlist[0].style.left = a + "px",
                            t._drawList(0, u)._showList(),
                            !1
                    }
                    if (i === n.iy[0]) {
                        var a = n.iy.offset().left - parseInt(n.wrap[0].style.left, 10);
                        return n.iy[0].select(),
                            n.ybar[0].style.display = "",
                            n.ymlist[0].style.left = a + "px",
                            t._drawList(t.year - 4)._showList(),
                            !1
                    }
                    var s = new Date
                        , l = n.im[0].value || s.getMonth() + 1
                        , c = n.iy[0].value || s.getFullYear();
                    t._draw(new Date(c,l - 1), t.day)
                }
                return t._hideList(),
                    !1
            }),
                n.ymlist.bind("click", function(r) {
                    var i = r.target;
                    if (i[f + "M"] >= 0)
                        n.im[0].value = i[f + "M"] + 1,
                            t._draw(new Date(t.year,i[f + "M"]), t.day)._hideList();
                    else if (i[f + "Y"])
                        n.iy[0].value = i[f + "Y"],
                            t._draw(new Date(i[f + "Y"],t.month - 1), t.day)._hideList();
                    else if (i === n.pybar[0]) {
                        var s = e("a", n.lbox[0])[0][f + "Y"];
                        t._drawList(s - 12)
                    } else if (i === n.nybar[0]) {
                        var s = e("a", n.lbox[0])[0][f + "Y"];
                        t._drawList(s + 12)
                    } else
                        i === n.cybar[0] && t._hideList();
                    return !1
                }),
                n.im.bind("keypress", d),
                n.iy.bind("keypress", d),
                n.hour.bind("keypress", d),
                n.minute.bind("keypress", d),
                n.second.bind("keypress", d),
                e(r).bind("click", function(e) {
                    e.target !== t.evObj && t.hide()._hideList()
                })
        },
        show: function() {
            return this.DOM.wrap[0].style.display = "block",
                this
        },
        hide: function() {
            return this.DOM.wrap[0].style.display = "none",
                this
        },
        getDate: function(e) {
            var t = this
                , n = t.DOM
                , r = parseInt(n.hour[0].value, 10)
                , i = parseInt(n.minute[0].value, 10)
                , s = parseInt(n.second[0].value, 10);
            if (t.year === "" && t.month === "" && t.day === "")
                return "";
            switch (e) {
                case "y":
                    return t.year;
                case "M":
                    return t.month;
                case "d":
                    return t.day;
                case "H":
                    return r;
                case "m":
                    return i;
                case "s":
                    return s;
                case "date":
                    return t.year + "-" + t.month + "-" + t.day;
                case "dateTime":
                    return t.year + "-" + t.month + "-" + t.day + " " + r + ":" + i + ":" + s
            }
        }
    },
        y.fn._init.prototype = y.fn,
        y.formatDate = function(e, t) {
            return v.call(e, t)
        }
        ,
        y.setting = {
            id: null ,
            format: "yyyy-MM-dd",
            minDate: null ,
            maxDate: null ,
            btnBar: !0,
            targetFormat: null ,
            disWeek: null ,
            onSetDate: null ,
            real: null ,
            disDate: null ,
            enDate: !1,
            zIndex: 1978,
            noToday: !1,
            linkageObj: null
        },
        e.fn.calendar = function(e, t) {
            return t = t || "click",
                this.bind(t, function() {
                    return y(e),
                        !1
                }),
                this
        }
        ,
        t.lhgcalendar = e.calendar = y
}(this.jQuery || this.lhgcore, this),
define("lhgcalendar", ["jquery"], function(e) {
    return function() {
        var t, n;
        return t || e.lhgcalendar
    }
}(this)),
define("module/yingkui/yingkui", ["require", "exports", "module", "jquery", "dialog", "moment", "spf", "./strokTransfer", "text!./jijin.html", "text!./yingkui.html", "text!./yingkuidata.html", "text!./addyk.html", "./data", "position", "underscore", "q", "art", "qtip", "lhgcalendar", "models/group"], function(e, t, n) {
    "use strict";
    var r = e("jquery")
        , i = e("dialog")
        , s = e("moment")
        , o = e("spf")
        , u = e("./strokTransfer")
        , a = 1
        , f = {
            jj: e("text!./jijin.html"),
            ga: e("text!./yingkui.html"),
            yinkui: e("text!./yingkuidata.html")
        }
        , l = e("text!./addyk.html")
        , c = e("./data").single()
        , h = e("position")
        , p = {
            zz: "\u8f6c\u589e",
            sg: "\u9001\u80a1",
            cg: "\u62c6\u80a1",
            fh: "\u5206\u7ea2"
        }
        , d = e("underscore")
        , v = e("q")
        , m = e("art");
    e("qtip"),
        e("lhgcalendar");
    var g = {
            ILLEGAL: -1,
            FORMAT: -2
        }
        , y = i.extend({
            attrs: {
                template: "<div></div>",
                stock: null ,
                stockData: null ,
                inputYKData: null ,
                last_modify_Rate: null ,
                mfRate: null ,
                width: 700,
                index: 0,
                stockNumber: 0,
                fhData: {},
                onlindata: null ,
                illegal: !1,
                align: {
                    baseXY: ["50%", "50%"]
                },
                dragable: !0
            },
            templateHelpers: {
                ftsymbol: function(e) {
                    return e.substring(2)
                },
                isNumber: function(e) {
                    return Object.prototype.toString.call(e) === "[object Number]"
                }
            },
            events: {
                "mouseleave [data-detect]": function(e) {
                    var t = r(e.currentTarget);
                    t.data("warn") === 1 && t.parent().find(".error_box").hide()
                },
                "mouseenter [data-detect]": function(e) {
                    var t = r(e.currentTarget);
                    t.data("warn") === 1 && t.parent().find(".error_box").show()
                },
                "keyup [data-detect]": function(e) {
                    var t = r(e.currentTarget)
                        , n = t.data("type")
                        , i = t.val();
                    this.checkAllLegal(!0),
                        i = r.trim(i);
                    if (i === "") {
                        t.data("warn", 0).css("border", "1px solid rgb(204, 204, 204)"),
                            t.parent().find(".error_box").hide();
                        return
                    }
                    var s = this.checkInputDataLegal(n, i);
                    s === g.ILLEGAL || s === g.FORMAT ? this.illegalDomNotice(t, n, !0) : this.illegalDomNotice(t, n, !1),
                    t[0].className == "input_rate" && this.get("stock").set("mfRate", o(Number(t.val())).format("0.000"))
                },
                "blur [data-detect]": function(e) {
                    this.renderYinkuiData();
                    var t = r(e.currentTarget)
                        , n = t.data("type")
                        , i = t.val();
                    i = r.trim(i);
                    if (i === "") {
                        t.data("warn", 0).css("border", "1px solid rgb(204, 204, 204)"),
                            t.parent().find(".error_box").hide();
                        return
                    }
                    var s = this.checkInputDataLegal(n, i);
                    s === g.ILLEGAL || s === g.FORMAT ? this.illegalDomNotice(t, n, !0) : this.illegalDomNotice(t, n, !1)
                },
                "click [data-role=confirm]": function(e) {
                    e.preventDefault(),
                        app.boss.act("btn_yk_ok"),
                        this.checkAllLegal(!1, !0),
                        this.renderYinkuiData();
                    if (this.get("illegal"))
                        return;
                    var t = this.get("stock");
                    t.set("last_modify_Rate", t.get("mfRate"));
                    var n = this.get("stock").get("mkType");
                    /lof|kj/.test(n) ? this.submitJiJin() : this.submitStock()
                },
                "click [data-role=cancel]": function(e) {
                    e.preventDefault(),
                        app.boss.act("btn_yk_cancel"),
                        this.resetStockData(),
                        this.hide()
                },
                "click [data-role=add]": "_addList",
                "click input": function(e) {
                    r(e.currentTarget).select()
                },
                "click .del": function(e) {
                    var t = r(e.currentTarget)
                        , n = this.get("stock").get("mkType")
                        , i = t.parent().parent();
                    app.boss.act("icon_deleteDeal");
                    if (/lof|kj/.test(n))
                        i.find(".input_price2").val(""),
                            i.find(".input_gu2").val(""),
                            i.find(".input_cost").text("0.000");
                    else {
                        var s = t.parent().find(".input_act")
                            , o = t.data("deltype")
                            , u = i.find("select")[0].value
                            , a = i.find(".input_time")[0].value;
                        s.val() === "ya" ? i.remove() : (s.val("yd"),
                            i.find(".input_time")[0].id = "yk_time_0",
                            i.hide()),
                            this.set("index", this.get("index") - 1);
                        var f = this.element.find("[data-deltype=" + o + "]:visible").length;
                        f === 0 && this.element.find("[data-gtype=" + o + "]").hide();
                        var l = 1;
                        r("#" + this.get("classPrefix") + "-list").find("tr").each(function(e, t) {
                            r(t).find(".input_act").val() != "yd" && r(t).attr("class") != "g" && r(t).find("td:first").html(l++ + ".")
                        }),
                        this.get("index") == 0 && this._addList()
                    }
                    this.renderYinkuiData()
                },
                "change select": function(e) {
                    var t = r(e.currentTarget)
                        , n = t.parent().parent().find(".input_rate")
                        , i = t.val()
                        , s = this.get("stock").get("mkType");
                    if (!/hk|us/.test(s)) {
                        var o = Number(n.val());
                        i === "sell" && o === 1.5 ? n.val("2.500") : i === "buy" && o === 2.5 && n.val("1.500")
                    }
                    this.renderYinkuiData()
                }
            },
            checkInputDataLegal: function(e, t) {
                t = r.trim(t);
                var n = this.get("stock")
                    , i = n.get("mkType")
                    , s = Number(t)
                    , o = t.split(".")[1] || "";
                if (isNaN(s) || t === "")
                    return g.ILLEGAL;
                if (e == "numbers")
                    if (/kj|lof/.test(i)) {
                        if (s <= 0)
                            return g.FORMAT
                    } else {
                        if (s <= 0)
                            return g.FORMAT;
                        if (s > 1e8)
                            return g.FORMAT;
                        if (o.length)
                            return g.FORMAT
                    }
                else if (e == "price") {
                    if (s <= 0)
                        return g.FORMAT;
                    if (!/kj|lof/.test(i) && s > 1e5)
                        return g.FORMAT
                } else if (e == "rate") {
                    if (s < 0)
                        return g.FORMAT;
                    if (/us/.test(i)) {
                        if (s > 1e6)
                            return g.FORMAT
                    } else if (!/kj|lof/.test(i) && s > 1e3)
                        return g.FORMAT
                }
                return !0
            },
            illegalDomNotice: function(e, t, n, i) {
                if (n) {
                    if (e.data("warn") == 1)
                        return
                } else if (e.data("warn") == -1)
                    return;
                var s = ""
                    , o = e.parent().find(".error_box")
                    , u = this.get("stock")
                    , a = u.get("mkType");
                o.size() || (o = r('<div class="error_box"></div>'),
                    e.after(o)),
                    t == "numbers" ? (s = "\u80a1\u6570\u5e94\u4e3a\u5c0f\u4e8e1\u4ebf\u7684\u6b63\u6574\u6570",
                    /kj|lof/.test(a) && (s = "\u6301\u6709\u4efd\u989d\u5e94\u4e3a\u6b63\u6570")) : t == "price" ? (s = "\u4ef7\u683c\u5e94\u4e3a\u5c0f\u4e8e10\u4e07\u7684\u6b63\u6570",
                    /kj|lof/.test(a) && (s = "\u6295\u5165\u91d1\u989d\u5e94\u4e3a\u6b63\u6570")) : t == "rate" && (s = "\u8d39\u7387\u5e94\u4e3a\u5c0f\u4e8e1000\u7684\u6b63\u6570",
                    /us/.test(a) && (s = "\u8d39\u7387\u5e94\u4e3a\u5c0f\u4e8e100\u4e07\u7684\u6b63\u6570"));
                if (n) {
                    e.data("warn", 1).css("border", "1px solid #F00"),
                        o.text(s).show(),
                        h.pin(o, {
                            element: e,
                            x: "left",
                            y: "100%+5px"
                        }),
                        o.hide();
                    if (i) {
                        var f, l = 0;
                        f = setInterval(function() {
                            l % 2 ? e.css("border", "1px solid red") : e.css("border", "1px solid #ccc"),
                            l >= 3 && clearInterval(f),
                                l++
                        }, 100)
                    } else
                        o.show("fast", function() {
                            var e = this;
                            this._timeer && clearTimeout(this._timeer),
                                this._timeer = setTimeout(function() {
                                    r(e).hide()
                                }, 1500)
                        })
                } else
                    e.data("warn", -1).css("border", "1px solid #ccc"),
                        o.hide()
            },
            checkAllLegal: function(e, t) {
                var n = this.getInputValue()
                    , i = !1;
                e || this.element.find("input[data-detect]").data("warn", 0).css("border", "1px solid #ccc"),
                    d.each(n, function(n) {
                        d.each(n, function(s, o) {
                            if (o == "dom")
                                return;
                            var u = this.checkInputDataLegal(o, s);
                            if (u === g.FORMAT || u === g.ILLEGAL) {
                                i = !0;
                                if (!e) {
                                    var a = r(n.dom).find('input[data-type="' + o + '"]');
                                    this.illegalDomNotice(a, o, !0, t)
                                }
                            }
                        }, this)
                    }, this),
                    this.set("illegal", i)
            },
            getInputValue: function() {
                var e = this.element.find('tr[class="c"]')
                    , t = [];
                return e.each(function(e, n) {
                    var i = r(n).find("input[data-detect]")
                        , s = !0
                        , o = {};
                    i.each(function(e, t) {
                        t = r(t),
                            o[t.data("type")] = r.trim(t.val()),
                        t.val() && (s = !1)
                    }),
                    o.hasOwnProperty("rate") && (!o.numbers.length && !o.price.length && o.rate.length ? s = !0 : o.rate == "" && (o.rate = 0)),
                    r(n).find(".input_act").size() && r(n).find(".input_act").val() == "yd" && (s = !0),
                    s || (o.dom = n,
                        t.push(o))
                }),
                    t
            },
            renderYinkuiData: function() {
                this.checkAllLegal(!0);
                if (this.get("illegal"))
                    return;
                var e = this.get("stock")
                    , t = e.get("mkType");
                if (/kj|lof/.test(t))
                    this.jijinYKCalculate();
                else if (!this.stockYKCalculate()) {
                    this.set("illegal", !0),
                        this.trigger("error", "\u5356\u51fa\u80a1\u6570\u5927\u4e8e\u4e70\u5165\u80a1\u6570");
                    return
                }
                var n = this.get("inputYKData")
                    , r = {}
                    , i = 0
                    , s = 0;
                d.each(n.fhData, function(e, t) {
                    r[t] = n.clearYK && t <= n.clearYK.date ? 0 : e,
                        i += r[t],
                        s += e
                }),
                    e.set("fhTotal", i),
                    e.set("fh", s),
                    e.set("yingkui_costAll", n.yingkui_costAll),
                    e.set("cost", n.cost),
                    e.set("numbers", n.numbers),
                    e.set("hold_cost", n.hold_cost),
                    e.set("yingkui_cost", n.yingkui_cost),
                    e.set("allnumbers", n.allnumbers),
                    e.set("holdHistory", n.history),
                    e.set("tbcb", (n.yingkui_costAll - e.get("fhTotal")) / n.numbers),
                    e.calcYK(),
                    0;
                var l = m.compile(f.yinkui)({
                    stock: e
                });
                this.element.find(".table").html(l);
                if (/kj|lof/.test(t)) {
                    var c = e.get("cost") / e.get("numbers");
                    this.element.find(".input_cost").html(isNaN(c) ? "0.000" : o(c).format("0.000"))
                }
                this.get("transHistory") && a && u && (u.markOnTime(this.get("transHistory")),
                    this.resetMarginRight())
            },
            _addList: function(e) {
                app.boss.act("btn_addDeal"),
                e && e.preventDefault();
                var t = this.get("stock")
                    , n = this.get("index")
                    , i = r("#" + this.get("classPrefix") + "-list")
                    , o = t.get("mkType")
                    , u = t.get("type") == "ZQ" ? t.get("type") : "no"
                    , a = this;
                if (n >= parseInt(this.get("maxnum"))) {
                    this.trigger("error", "\u81f3\u591a\u8f93\u5165" + this.get("maxnum") + "\u884c\u4ea4\u6613\u8bb0\u5f55");
                    return
                }
                var f = o === "hk" ? "3.710" : o === "us" ? "0.000" : u === "ZQ" ? "" : "1.500"
                    , c = this.compile(l, {
                        mk: o,
                        num: ++n,
                        time: s().format("YYYY-MM-DD"),
                        gu: "",
                        price: "",
                        rates: f,
                        act: "ya",
                        type: u
                    })
                    , h = r(c);
                h.appendTo(r("#" + this.get("classPrefix") + "-list > table")).find(".input_gu").focus(),
                    h.find("#yk_time_" + n).calendar({
                        onSetDate: function() {
                            setTimeout(function() {
                                a.renderYinkuiData()
                            })
                        }
                    }),
                    h.find("#yk_data_" + n).calendar({
                        id: "#yk_time_" + n,
                        onSetDate: function() {
                            setTimeout(function() {
                                a.renderYinkuiData()
                            })
                        }
                    }),
                    this.set("index", n),
                    i.scrollTop(i.prop("scrollHeight")),
                    this.resetMarginRight()
            },
            resetMarginRight: function() {
                var e = this.get("classPrefix")
                    , t = r("#" + e + "-title")
                    , n = r("#" + e + "-list")
                    , i = r("#ui-dialog-list table");
                if (i && n && t) {
                    var s = i.height();
                    s >= n.height() ? (t && t.css("marginRight", "0px"),
                    n && n.css("marginRight", "0px")) : (t && t.css("marginRight", "18px"),
                    n && n.css("marginRight", "18px"))
                }
            },
            pickStock: function() {
                var e = {}
                    , t = []
                    , n = this.get("onlindata")
                    , i = this.get("classPrefix")
                    , s = this.get("stock")
                    , o = s.get("symbol")
                    , u = r("#" + i + "-list > table");
                e.all = [],
                    u.find(".c").each(function() {
                        var i = r(this).find(".input_price").val(), s = r(this).find(".input_gu").val(), u = r(this).find(".input_rate").val() || 0, a = r(this).find(".input_act").val(), f = r(this).find(".input_id").val(), l = r(this).find(".input_time").val(), c = r(this).find("select").val(), h;
                        Number(i) === 0 && Number(s) === 0 && (a = "yd");
                        if (Number(i) === 0 || Number(s) === 0)
                            return;
                        a !== "yd" && !d.isEmpty(s) && !d.isEmpty(i) && (d.isUndefined(e[c]) && (e[c] = []),
                            e[c].push({
                                date: l,
                                price: i,
                                number: s,
                                rates: u || 0
                            }),
                            e.all.push({
                                number: Number(s),
                                price: Number(i),
                                rates: Number(u || 0),
                                date: l,
                                direct: c == "buy" ? 1 : -1
                            }));
                        if (a === "ya") {
                            if (d.isEmpty(u) || d.isEmpty(s) || d.isEmpty(i))
                                return;
                            h = {
                                code: o,
                                deal: c,
                                date: l,
                                price: i,
                                number: s,
                                rates: u,
                                id: f,
                                act: a
                            }
                        } else if (a === "yu") {
                            if (n[f].id === f && Number(n[f].number).toFixed(2) === Number(s).toFixed(2) && Number(n[f].price).toFixed(2) === Number(i).toFixed(2) && Number(n[f].rates).toFixed(2) === Number(u).toFixed(2) && n[f].date === l && n[f].deal === c)
                                return;
                            h = {
                                code: o,
                                deal: c,
                                date: l,
                                price: i,
                                number: s,
                                rates: u,
                                id: f,
                                act: a
                            }
                        } else
                            a === "yd" && (h = {
                                code: o,
                                id: f,
                                act: a
                            });
                        t.push(h)
                    });
                var a = function(e) {
                        return function(t, n) {
                            var r, i;
                            if (typeof t == "object" && typeof n == "object" && t && n)
                                return r = t[e],
                                    i = n[e],
                                    r === i ? 0 : typeof r == typeof i ? r < i ? -1 : 1 : typeof r < typeof i ? -1 : 1;
                            throw "error"
                        }
                    }
                    ;
                return e.all.sort(a("date")),
                    this.set("transHistory", e),
                {
                    push: t,
                    list: e
                }
            },
            _ykStockNumber: function(e) {
                var t = c.get("ag")
                    , n = [];
                d.each(t, function(t, r) {
                    d.each(e, function(e, r) {
                        if (e.date < t.date) {
                            e.number = Number(e.number),
                            n[r] || (n[r] = {}),
                            n[r][t.date] || (n[r][t.date] = e.number),
                                e.oriNumber = n[r][t.date],
                                e.price = Number(e.price);
                            if (t.type === "zz" || t.type === "sg") {
                                var i = e.number;
                                e.number = e.number + Math.floor(e.oriNumber / Number(t.base)) * Number(t.ratio),
                                    e.price = e.price / e.number * i
                            } else if (t.type === "cg") {
                                var i = e.number;
                                e.number = e.number + Math.floor(e.oriNumber * (Number(t.ratio) - Number(t.base))),
                                    e.price = e.price / e.number * i
                            }
                        }
                    })
                })
            },
            jijinYKCalculate: function() {
                var e = {
                    cost: r(".input_price2").val(),
                    numbers: r(".input_gu2").val(),
                    hold_cost: r(".input_price2").val(),
                    allnumbers: r(".input_gu2").val()
                };
                return e.yingkui_cost = e.hold_cost / e.numbers,
                    this.set("inputYKData", e),
                    e
            },
            stockYKCalculate: function(t) {
                t || (t = this.pickStock().list);
                var n = this
                    , r = c.get("ag")
                    , i = jQuery.extend(!0, {}, t.all);
                this._ykStockNumber(t.buy),
                    this._ykStockNumber(t.sell),
                    this._ykStockNumber(t.all);
                var s = this.get("stock")
                    , o = s.get("mkType")
                    , u = 0
                    , a = 0
                    , f = 0
                    , l = 0
                    , h = {
                        cost: 0,
                        numbers: 0,
                        allnumbers: 0,
                        hold_cost: 0,
                        yingkui_costAll: 0,
                        yingkui_cost: 0,
                        yingkui_number: 0,
                        yingkui_sellNumber: 0,
                        clearYK: 0,
                        fhData: {}
                    }
                    , p = !1
                    , v = 0;
                d.each(t.all, function(e) {
                    v += e.direct * e.number,
                    v < 0 && (p = !0)
                });
                if (p)
                    return !1;
                d.each(t.all, function(e, t) {
                    h.numbers += e.direct * e.number;
                    var n = o === "us" ? e.price * e.number * e.rates : e.price * e.number * (1 + e.rates / 1e3);
                    e.direct > 0 ? (h.yingkui_cost += n,
                        h.yingkui_number += e.number,
                        u += e.number,
                        h.yingkui_costAll += n) : (a += e.number,
                        h.yingkui_costAll -= n),
                    h["numbers"] == 0 && (h.yingkui_cost = 0,
                        h.yingkui_costAll = 0,
                        h.yingkui_number = 0,
                        h.clearYK = {
                            date: e.date,
                            index: t
                        })
                });
                var m = 0
                    , g = 0;
                d.each(i, function(e, t) {
                    (!h.clearYK || h.clearYK && t > h.clearYK.index) && e.direct < 0 && (g += e.number)
                }),
                    h.yingkui_sellNumber = g;
                if (h.numbers > 0)
                    o === "us" ? (d.each(t.buy, function(e) {
                        f += Number(e.number) * Number(e.price) + Number(e.rates)
                    }),
                        d.each(t.sell, function(e) {
                            l += Number(e.number) * Number(e.price) - Number(e.rates)
                        })) : (d.each(t.buy, function(e) {
                        f += Number(e.number) * (Number(e.price) + Number(e.price) * Number(e.rates) / 1e3)
                    }),
                        d.each(t.sell, function(e) {
                            l += Number(e.number) * (Number(e.price) - Number(e.price) * Number(e.rates) / 1e3)
                        }));
                else {
                    if (h.numbers !== 0)
                        return !1;
                    o === "us" ? (d.each(t.buy, function(e) {
                        f += Number(e.number) * Number(e.price) + Number(e.rates)
                    }),
                        d.each(t.sell, function(e) {
                            l += Number(e.number) * Number(e.price) - Number(e.rates)
                        })) : (d.each(t.buy, function(e) {
                        f += Number(e.number) * (Number(e.price) + Number(e.price) * Number(e.rates) / 1e3)
                    }),
                        d.each(t.sell, function(e) {
                            l += Number(e.number) * (Number(e.price) - Number(e.price) * Number(e.rates) / 1e3)
                        }))
                }
                h.cost = f - l,
                    h.allnumbers = u,
                    h.hold_cost = f,
                    h.yingkui_cost = h.yingkui_cost / (h.numbers + h.yingkui_sellNumber);
                if (t.all.length) {
                    var y = {
                        today: {
                            buy_amount: 0,
                            buy_count: 0,
                            sell_amount: 0,
                            sell_count: 0
                        },
                        before: {
                            buy_amount: 0,
                            buy_count: 0,
                            sell_amount: 0,
                            sell_count: 0
                        }
                    };
                    if (o === "us")
                        var b = e("models/group").single()
                            , w = b.get("usMarketDate");
                    else {
                        var w = new Date(v_stdunixtime * 1e3);
                        w = w.getFullYear() + "-" + (w.getMonth() + 1) + "-" + w.getDate()
                    }
                    var E = function(e) {
                            e = e.split("-");
                            var t = new Date;
                            return t.setUTCFullYear(e[0], e[1] - 1, e[2]),
                                t.setUTCHours(0, 0, 0, 0),
                                t
                        }
                        ;
                    d.each(t.all, function(e) {
                        var t = null ;
                        E(w).getTime() <= E(e.date).getTime() && (t = "today"),
                        E(w).getTime() > E(e.date).getTime() && (t = "before");
                        if (t) {
                            var n = e.direct > 0 ? "buy_" : "sell_";
                            y[t][n + "count"] += e.number;
                            var r = e.number * e.price
                                , i = o === "us" ? e.rates : r * e.rates / 1e3;
                            e.direct > 0 ? r += i : r -= i,
                                y[t][n + "amount"] += r
                        }
                    }),
                        y.before.sell_flag = !!y.before.sell_count,
                        y.before.buy_flag = !!y.before.buy_count,
                        y.before.stock_count = y.before.buy_count - y.before.sell_count
                } else
                    var y = null ;
                return h.history = y,
                    h.fhData = n.get("fhData"),
                    this.set("inputYKData", h),
                    h
            },
            submitJiJin: function() {
                var e = this
                    , t = this.get("dom")
                    , n = this.get("stock")
                    , i = this.get("onlindata")
                    , s = r(".input_price2").val()
                    , o = r(".input_gu2").val()
                    , u = i.id || "tmp0"
                    , a = u === "tmp0" ? "ya" : s == 0 || o == 0 ? "yd" : "yu"
                    , f = {
                        code: this.get("stock").get("symbol"),
                        price: s || 0,
                        number: o || 0,
                        act: a,
                        id: u
                    };
                return !s && !o && a == "ya" ? this.hide() : c.action([f], n.get("type")).then(function(i) {
                    n.set("cost", s),
                        n.set("numbers", o),
                        n.set("hold_cost", s),
                        n.set("allnumbers", o),
                        n.calcYK(),
                        e.trigger("ok", "\u76c8\u4e8f\u4ea4\u6613\u5df2\u4fdd\u5b58"),
                        e.hide(),
                        a === "ya" ? (t.removeClass("yk").addClass("yk_on"),
                            app.boss.act("addyingkui_on_" + app.page.views.stocklist.get("mkType"))) : a === "yd" && t.removeClass("yk_on").addClass("yk"),
                        r(window).trigger("yingkui:change")
                }, function(t) {
                    e.trigger("error", "\u6dfb\u52a0\u76c8\u4e8f\u5931\u8d25")
                })
            },
            submitStock: function() {
                var e = this
                    , t = this.get("dom")
                    , n = e.pickStock()
                    , i = this.get("stock")
                    , s = e.stockYKCalculate(n.list);
                if (n.push.length === 0) {
                    this.hide();
                    return
                }
                if (s === !1) {
                    e.trigger("error", "\u5356\u51fa\u80a1\u6570\u5927\u4e8e\u4e70\u5165\u80a1\u6570");
                    return
                }
                return c.action(n.push, i.get("type")).then(function(o) {
                    i.set("cost", s.cost),
                        i.set("numbers", s.numbers),
                        i.set("hold_cost", s.hold_cost),
                        i.set("allnumbers", s.allnumbers),
                        i.calcYK(),
                        e.trigger("ok", "\u76c8\u4e8f\u4ea4\u6613\u5df2\u4fdd\u5b58"),
                        e.hide(),
                        n.list.buy ? n.list.buy && n.list.buy.length > 0 && t.hasClass("yk") && (t.removeClass("yk").addClass("yk_on"),
                            app.boss.act("addyingkui_on_" + app.page.views.stocklist.get("mkType"))) : t.removeClass("yk_on").addClass("yk"),
                        r(window).trigger("yingkui:change")
                }, function(t) {
                    e.trigger("error", "\u6dfb\u52a0\u76c8\u4e8f\u5931\u8d25")
                })
            },
            resetStockData: function() {
                var e = this.get("stockData")
                    , t = this.get("stock");
                t.set("cost", d.isUndefined(e.cost) ? 0 : e.cost),
                    t.set("numbers", d.isUndefined(e.numbers) ? 0 : e.numbers),
                    t.set("hold_cost", d.isUndefined(e.hold_cost) ? 0 : e.hold_cost),
                    t.set("allnumbers", d.isUndefined(e.allnumbers) ? 0 : e.allnumbers),
                    t.set("holdHistory", e.holdHistory),
                    t.calcYK()
            },
            _stockBox: function() {
                var e = this
                    , t = {}
                    , n = 0
                    , i = 0
                    , s = this.get("stock")
                    , o = this.get("classPrefix")
                    , h = v.defer()
                    , p = [];
                return this.set("template", f.ga),
                    this.set("stockNumber", 0),
                    this.set("fhData", 0),
                    c.list(s.get("symbol")).then(function(f) {
                        e.set("glist", f),
                            e.set("maxnum", f.other.maxnum),
                            e.set("model", {
                                classPrefix: o,
                                stock: s,
                                num: f.other.maxnum || 100
                            }, {
                                override: !0
                            });
                        var c = a && f.trans && f.trans.length
                            , v = (window.navigator.userAgent || "").toLowerCase()
                            , m = v.indexOf("msie") !== -1
                            , g = v.indexOf("msie 6") !== -1
                            , y = v.indexOf("msie 7") != -1
                            , b = v.indexOf("msie 8") != -1;
                        if (g || y || b)
                            c = !1;
                        var w = c ? r(window).height() / 3 * 2 : r(window).height() / 2;
                        e.renderPartial(),
                            e.element.find("." + o + "-yingkui").css("height", w),
                            e.show();
                        var E = "0"
                            , S = 0;
                        d.each(f, function(u, a) {
                            S == 0 ? i = 0 : i = e.get("stockNumber") || 0,
                                S++;
                            if (a == "trans")
                                return;
                            d.each(u.list, function(a) {
                                if (a.date < E)
                                    return;
                                p.push = {
                                    time: a.date,
                                    deal: a.deal
                                };
                                var f = e.compile(l, {
                                    mk: s.get("mkType"),
                                    num: ++n,
                                    time: a.date,
                                    deal: a.deal,
                                    gu: Number(a.number).toFixed(0),
                                    price: Number(a.price),
                                    rates: a.rates,
                                    id: a.id,
                                    act: "yu",
                                    type: u.type ? u.type : "no"
                                });
                                r(f).appendTo(r("#" + o + "-list > table")),
                                    r("#yk_time_" + n).calendar({
                                        onSetDate: function() {
                                            setTimeout(function() {
                                                e.renderYinkuiData()
                                            })
                                        }
                                    }),
                                    r("#yk_data_" + n).calendar({
                                        id: "#yk_time_" + n,
                                        onSetDate: function() {
                                            setTimeout(function() {
                                                e.renderYinkuiData()
                                            })
                                        }
                                    }),
                                    a.deal === "buy" ? i += Number(a.number) : i -= Number(a.number),
                                    e.set("stockNumber", i),
                                    t[a.id] = a
                            }),
                            a !== "other" && (e._actGu(u, u.type),
                                E = a)
                        }),
                            e.set("transfer", p),
                            e.set("index", n),
                            e.set("onlindata", t),
                        n === 0 && e._addList(),
                            r("#" + o + "-list").css("height", w - 111 - (c ? r("#canvasContain").height() : 0)),
                            h.resolve();
                        if (c) {
                            r("#canvasContain").show();
                            var x = s.get("symbol");
                            u.init({
                                symbol: x,
                                transfer: f.trans,
                                latestPrice: s.get("latestPrice")
                            }),
                                u.strokTransfer(),
                                e.resetMarginRight()
                        } else
                            r("#canvasContain").hide()
                    }),
                    h.promise
            },
            _ykBox: function() {
                var e = this
                    , t = this.get("stock")
                    , n = this.get("classPrefix")
                    , r = v.defer()
                    , i = t.get("symbol");
                return this.set("template", f.jj),
                    c.list(i).then(function(i) {
                        var s = {}
                            , u = !1;
                        d.isUndefined(i.other.list) || (s = i.other.list[0],
                            u = isNaN(s.price) || isNaN(s.number),
                            d.extend(s, {
                                cost: u ? "0.000" : o(s.price / s.number).format("0.000")
                            })),
                            e.set("onlindata", s, {
                                override: !0
                            }),
                            e.set("model", {
                                classPrefix: n,
                                stock: t,
                                data: s
                            }, {
                                override: !0
                            }),
                            e.renderPartial(),
                            e.show(),
                            r.resolve()
                    }),
                    r.promise
            },
            openBox: function() {
                var e = this.get("stock").get("mkType"), t;
                this.set("stockData", this.get("stock").toJSON()),
                    /lof|kj/.test(e) ? t = this._ykBox() : t = this._stockBox(),
                    t.then(d.bind(function() {
                        this.set("illegal", null ),
                            this.checkAllLegal(!1, !0),
                            this.renderYinkuiData(),
                            this._drag(),
                            this.bindMouseWheel(this.element[0])
                    }, this))
            },
            bindMouseWheel: function(e) {
                var t = this, n, i = function(e) {
                        e = window.event || e || {},
                            e.stop = function(e) {
                                e && e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0
                            }
                            ,
                            e.prevent = function(e) {
                                e && e.preventDefault ? e.preventDefault() : e.returnValue = !1
                            }
                            ,
                            e.wheel = e.wheelDelta / 120 || -e.detail / 3;
                        var n = 0
                            , i = 1;
                        if (t.display == 0)
                            return "";
                        var s = r("#contentContain")[0];
                        return s && (s.scrollTop -= 150 * e.wheel),
                            e.prevent(e),
                            e.stop(e),
                            !1
                    }
                    ;
                e && (e.onmousewheel = i,
                navigator.userAgent.indexOf("Firefox") != -1 && e.addEventListener("DOMMouseScroll", i, !1))
            },
            _actGu: function(e) {
                var t = this
                    , n = this.get("stockNumber") || 0
                    , i = n
                    , s = ""
                    , u = {
                        zz: [],
                        sg: [],
                        cg: [],
                        fh: []
                    }
                    , a = this.get("classPrefix")
                    , f = {};
                f[e.date] = 0;
                var l = ""
                    , c = 0;
                d.each(e.agType, function(t, r) {
                    t.type !== "fh" && (c = 1),
                        t.type === "cg" ? (s = t.base + "\u80a1\u62c6" + t.ratio + "\u80a1",
                            n += i * (Number(t.ratio) - Number(t.base))) : t.type === "sg" ? (s = t.base + "\u80a1\u9001" + t.ratio + "\u80a1",
                            n += Math.floor(i / Number(t.base)) * Number(t.ratio)) : t.type === "zz" ? (s = t.base + "\u80a1\u8f6c\u589e" + t.ratio + "\u80a1",
                            n += Math.floor(i / Number(t.base)) * Number(t.ratio)) : t.type === "fh" && (s = t.base + "\u80a1\u9001" + o(Number(t.ratio)).format("0.00") + "\u5143(\u7a0e\u540e)",
                            f[e.date] += Math.floor(i / Number(t.base)) * Number(t.ratio),
                            l += "\u5206\u7ea2" + o(f[e.date]).format("0.00") + "\u5143(\u7a0e\u540e)"),
                    u[t.type] && u[t.type].push(s)
                }),
                    t.set("fhData", f),
                    this.set("stockNumber", n);
                var h = []
                    , v = [];
                d.each(["zz", "sg", "cg", "fh"], function(e, t) {
                    u[e] && d.each(u[e], function(t, n) {
                        h.push(p[e]),
                            v.push(u[e][n])
                    })
                });
                var m = c == 1 ? "\u73b0\u5171\u6709" + n + "\u80a1" + (f[e.date] ? "\uff1b" : "") + l : l
                    , g = ['<tr class="g" data-gtype="">', '<td colspan="2">', h.join("\u3001"), '</td><td colspan="2">', e.date, '</td><td style="width:160px;">', v.join("\u3001"), '</td><td colspan="3">', m, "</td></tr>"].join("");
                r(g).appendTo(r("#" + a + "-list > table"))
            },
            _setupKeyEvents: function() {}
        });
    n.exports = y
}),
define("module/note/data", ["require", "exports", "module", "model-init", "Tool", "underscore"], function(e, t, n) {
    "use strict";
    var r = e("model-init")
        , i = e("Tool").single()
        , s = e("underscore")
        , o = r.extend({
            attrs: {
                gid: null ,
                symbol: null ,
                txt: ""
            },
            setData: function() {
                var e = (new Date).getTime()
                    , t = i.stringify([{
                        grpid: this.get("gid"),
                        act: "nu",
                        code: this.get("symbol"),
                        notes: this.get("txt"),
                        timestamp: e
                    }]);
                return this.ajax(this._actionUrl(t)).then(function(e) {
                    return s.isUndefined(e.data.RetMap) ? !0 : !1
                })
            },
            _actionUrl: function(e) {
                return "http://newstock.finance.qq.com/stockapp/Updstockweb/operseq?&app=web&callback=?&uin=" + app.QQuin + "&seq=" + encodeURI(e)
            }
        });
    n.exports = o
}),
define("text!module/note/note.html", [], function() {
    return '<div class="<%=classPrefix%>">\n  <a class="<%=classPrefix%>-close" title="Close" href="javascript:;" data-role="close"></a>\n  <div class="<%=classPrefix%>-title" data-role="title">\n    <div class="ui_stock_title">\n      <em class="ui_stock_icon0"></em>\u5907\u6ce8</div>\n  </div>\n  <div class="<%=classPrefix%>-content" data-role="content">\n    <div class="<%=classPrefix%>-message">\n      <div class="ui_stock_remind">\n        <div class="f">\n          <h3><%= stock.get(\'name\')%></h3>\n          <div class="info">\n            <span class="scode">(<%= ftsymbol(stock.get(\'symbol\'))%>)</span>\n            &nbsp;&nbsp;<% if (stock.get(\'mk\') === \'jj\') {%>\u5f53\u524d\u51c0\u503c<%} else {%>\u5f53\u524d\u80a1\u4ef7<%}%>:\n            <span class="spric"><%== stock.getHtmlColorPro(\'latestPrice\');%></span>\n          </div>\n        </div>\n        <div class="m">\n          <textarea id="ss_notes_text" cols="30" rows="10"><%if (stock.get(\'note\')) { %><%=stock.get(\'note\')%><% } else { %>\u8bf7\u8f93\u5165\u60a8\u7684\u8d2d\u5165\u7406\u7531\u548c\u76ee\u6807\u4ef7\u4f4d... <% } %></textarea>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="<%=classPrefix%>-operation" data-role="foot">\n    <div class="<%=classPrefix%>-confirm" data-role="confirm"><a class="<%=classPrefix%>-button-orange" href="javascript:;">\u786e\u5b9a</a>\n    </div>\n    <div class="<%=classPrefix%>-cancel" data-role="cancel"><a class="<%=classPrefix%>-button-white" href="javascript:;">\u53d6\u6d88</a>\n    </div>\n  </div>\n</div>\n'
}),
define("module/note/note", ["require", "exports", "module", "dialog", "./data", "text!./note.html", "underscore", "Tool", "models/group"], function(e, t, n) {
    "use strict";
    var r = e("dialog")
        , i = e("./data").single()
        , s = e("text!./note.html")
        , o = e("underscore")
        , u = e("Tool").single()
        , a = r.extend({
            attrs: {
                template: "<div></div>",
                stock: null ,
                align: {
                    baseXY: ["50%", "50%"]
                },
                dragable: !0,
                change: !1
            },
            templateHelpers: {
                ftsymbol: function(e) {
                    return e.substring(2)
                }
            },
            events: {
                "click [data-role=confirm]": function(e) {
                    app.boss.act("btn_remark_ok"),
                        e.preventDefault(),
                        this._onOk()
                },
                "click [data-role=cancel]": function(e) {
                    app.boss.act("btn_remark_cancel"),
                        e.preventDefault(),
                        this.hide()
                }
            },
            _onOk: function() {
                var t = this
                    , n = this.get("stock")
                    , r = this.get("target")
                    , s = e("models/group").single()
                    , a = $("#ss_notes_text").val();
                if (this.get("change")) {
                    if (u.fucCheckLength(a) > 300) {
                        t.trigger("error", "\u5907\u6ce8\u4fe1\u606f\u4e0d\u80fd\u8d85\u8fc7300\u4e2a\u5b57");
                        return
                    }
                    i.set("gid", s.get("groupid")).set("symbol", n.get("symbol")).set("txt", a).setData().then(function(e) {
                        e ? (t.trigger("ok", "\u5907\u6ce8\u4fe1\u606f\u5df2\u4fdd\u5b58"),
                            n.set("note", a),
                            o.isEmpty(a) ? r.removeClass("nt_on").addClass("nt") : r.removeClass("nt").addClass("nt_on")) : t.trigger("error", "\u5907\u6ce8\u4fdd\u5b58\u5931\u8d25")
                    }, function(e) {
                        t.trigger("error", "\u5907\u6ce8\u4fdd\u5b58\u5931\u8d25")
                    })
                }
                this.hide()
            },
            setup: function() {
                a.superclass.setup.call(this),
                    this._setupKeyEvents()
            },
            _setupKeyEvents: function() {},
            show: function() {
                var e = this;
                a.superclass.show.call(this),
                    this.set("model", {
                        classPrefix: this.get("classPrefix"),
                        stock: this.get("stock")
                    }),
                    this.set("template", s),
                    this.renderPartial(),
                    e.set("change", !1),
                    setTimeout(function() {
                        $("#ss_notes_text").focus().select().click(function() {
                            e.get("change") === !1 && o.isEmpty(e.get("stock").get("note")) && ($(this).val(""),
                                e.set("change", !0))
                        }).keyup(function() {
                            e.set("change", !0)
                        })
                    }),
                    e._drag()
            }
        });
    n.exports = a
}),
define("text!module/quotation/quotation.css", [], function() {
    return ".quotation{width:341px}.quotation-inner{line-height:29px;border:1px solid #b9cadf;height:29px;background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/t.gif) repeat-x}.quotation div{text-align:right}.quotation .ptimg{height:80px;width:164px;border-left:1px solid #b9cadf;border-bottom:1px solid #b9cadf;border-right:1px solid #b9cadf;position:absolute;top:30px;right:0;padding:5px 25px;background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/loading.gif) #fff center no-repeat}.quotation .ptimg img{background-color:#fff}.quotation .ptimg .pttips{position:absolute;bottom:0;left:20px;height:34px;line-height:17px;color:#7c7c7c;text-align:center}.quotation .ptimg .pttips2{position:absolute;bottom:8px;left:21px;height:17px;line-height:17px;color:#7c7c7c}.quotation .ys_bottom{position:relative;top:0;right:0;width:13px;height:12px}.quotation .ys_tips{position:absolute;top:0;right:-115px;text-align:left;width:100px}.quotation .ys_bottom .ys_icon{top:2px;right:-7px}.quotation a{color:#3374CA;text-decoration:none}.quotation .qsymbol{text-align:left;text-indent:5px}"
}),
define("text!module/quotation/index.html", [], function() {
    return '<div class="quotation-inner">\n	<div class="d-left qsymbol" onmousedown="app.boss.act(\'stocks_details\');" style="width:45px"><%=# stock.getHtmlSymbol()%></div>\n	<% if (stock.get(\'yanshi\') === false && stock.get(\'mkType\') === \'hk\' && stock.get(\'type\')!=\'ZS\') { %>\n	<div class="d-left span79p" onmousedown="app.boss.act(\'stocks_details\');" style="position: relative;"><%=# stock.getHtmlName()%>\n		<% if(stock.get(\'type\') == \'ZQ\') { %>\n        	<em class="zq"></em>\n        <% } else { %>\n        	<em class="<%=stock.get(\'mkType\'); %>"></em>\n        <% } %>\n		<div class="ys_icon"></div>\n	</div>\n	<% } else { %>\n	<div class="d-left span79p" onmousedown="app.boss.act(\'stocks_details\');"><%=# stock.getHtmlName()%>\n			<% if(stock.get(\'type\') == \'ZQ\') { %>\n	        	<em class="zq"></em>\n	        <% } else { %>\n	        	<em class="<%=stock.get(\'mkType\'); %>"></em>\n	        <% } %>\n   	</div>\n	<% } %>\n	<div class="d-left span70p"><%=# stock.getHtmlColorPro(\'latestPrice\')%></div>\n	<div class="d-left span50p"><%=# stock.getHtmlColorPro(\'updownLimit\')%></div>\n	<div class="d-left span64p"><%=# stock.getHtmlColorPro(\'updownExtent\')%></div>\n	<% if (stock.get(\'yanshi\') === false && stock.get(\'mkType\') === \'hk\' && stock.get(\'type\')!=\'ZS\') { %>\n			<div class="ptimg" style="height: 110px;">\n				<img src="<%= url%>" alt="<%= stock.get(\'name\')%>" />\n				<div class="pttips2"><div class="ys_bottom"><span class="ys_icon"></span></div><div class="ys_tips">\u884c\u60c5\u5ef6\u65f615\u5206\u949f</div></div>\n			</div>\n	<% } else { %>\n		<div class="ptimg"><img src="<%= url%>" alt="<%= stock.get(\'name\')%>" /></div>\n	<% } %>\n</div>'
}),
define("module/quotation/quotation", ["require", "exports", "module", "jquery", "overlay", "underscore", "art", "helper/logger", "text!./quotation.css", "text!./index.html", "models/group"], function(e, t, n) {
    "use strict";
    function f(e) {
        if (s.contains(["sh881637"], e))
            return 0,
                !1;
        var t = e.substr(0, 2)
            , n = e.substring(2)
            , r = ["http://img" + (t == "us" ? "" : "2") + ".gtimg.cn/images/hq_parts_little4/"];
        if (t == "hk")
            r.push("hongkong/");
        else if (t == "us")
            r.push("as/");
        else {
            if (t != "sh" && t != "sz")
                return !1;
            t == "sh" && n.substr(0, 3) == "000" || t == "sz" && n.substr(0, 3) == "399" ? r.push("hushen/indexs/") : r.push("hushen/stocks/")
        }
        return r.push(n, ".png?", Math.random()),
            r.join("")
    }
    var r = e("jquery")
        , i = e("overlay")
        , s = e("underscore")
        , o = e("art")
        , u = e("helper/logger")
        , a = i.extend({
            attrs: {
                template: "<div></div>",
                className: "quotation",
                elementNode: null ,
                zIndex: 97,
                id: null ,
                align: {
                    baseXY: ["16", "-1"],
                    baseElement: ".zxg-stocklist"
                },
                styleList: e("text!./quotation.css")
            },
            template: e("text!./index.html"),
            timmer: null ,
            renderQuotation: function() {
                var t = e("models/group").single()
                    , n = t.get("StockList")
                    , r = this.get("id")
                    , i = n[r]
                    , s = i.get("symbol")
                    , a = f(s);
                return !1 === a ? (u.warn("k line picture url: " + a),
                    !1) : (u.normal("k line picture url:" + a),
                    this.element.html(o.compile(this.template)({
                        stock: i,
                        zixuangu: t,
                        url: a
                    })),
                    !0)
            },
            setup: function() {
                a.superclass.setup.call(this),
                    this.bindEvent(),
                    this._blurHide()
            },
            bindEvent: function() {
                var e = this.get("elementNode")
                    , t = this.get("parentNode");
                r(t).delegate(e, "mouseenter", s.bind(function(e) {
                    if (this.get("stocklist") && this.get("stocklist").hangqing && this.get("stocklist").hangqing.get("open") == 1)
                        return;
                    var t = r(e.currentTarget).closest("dt")
                        , n = this.get("align")
                        , i = t.closest("dl").attr("id");
                    this.set("id", i),
                        this.clearAndHide(),
                        this.timmer = setTimeout(s.bind(function() {
                            this.renderQuotation() && (n.baseElement = t,
                                this.set("align", n),
                                app.boss.act("mouseOver_xt"),
                                this.show())
                        }, this), 200)
                }, this)),
                    r(t).delegate(e, "mouseleave", s.bind(function(e) {
                        var t = r(e.relatedTarget);
                        this.element.find(t).size() || this.clearAndHide()
                    }, this)),
                    this.element.mouseleave(s.bind(this.clearAndHide, this)),
                    r(window).scroll(s.bind(this.clearAndHide, this))
            },
            clearAndHide: function() {
                clearTimeout(this.timmer),
                    this.hide()
            },
            _onRenderStyleList: function(e) {
                var t = s.isArray(e) ? e.join("\n") : e;
                r("<style>" + t + "</style>").appendTo(r("head"))
            }
        });
    n.exports = a
}),
define("guide", ["require", "exports", "module", "widget", "jquery", "store"], function(e, t, n) {
    var r = e("widget")
        , i = e("jquery")
        , s = e("store");
    app.Guide_index = 0,
        app.Guide = {};
    var o = function(e) {
            var t = {}
                , n = i.extend({}, t, e);
            new u(n)
        }
        , u = r.extend({
            initialize: function(e) {
                var t = this;
                t.config = e,
                t.config.initCall && t.config.initCall(),
                    t.id = e.id || "userGuide_" + app.Guide_index++,
                    app.Guide[e.id] = 1;
                if (s.disabled)
                    return;
                if (i.support.inlineBlockNeedsLayout)
                    return;
                t.html = t.config.tmp,
                    u.superclass.initialize.call(this, e),
                    this.element.html(this.html),
                    this.setPosition = _.bind(this.setPosition, this),
                    this.render(),
                    i(window).on("resize", function() {
                        setTimeout(function() {
                            t.setPosition()
                        }, 200)
                    })
            },
            events: {
                "click .g_close": function() {
                    this.hide()
                }
            },
            html: "<div></div>",
            render: function() {
                var e = this;
                i(document.body).css("overflow-y", "hidden"),
                    i(window).resize(),
                    setTimeout(function() {
                        e.hide()
                    }, 15e3),
                    setTimeout(function() {
                        i(document.body).append(e.element),
                            e.setPosition(),
                            e.element.find(".guide").show()
                    }, 100)
            },
            setPosition: function() {
                var e = this
                    , t = (window.navigator.userAgent || "").toLowerCase()
                    , n = t.indexOf("msie") !== -1
                    , r = n ? document.body.offsetHeight : document.documentElement.offsetHeight;
                this.element.find(".bg").css({
                    height: r + 300
                }),
                e.config.posCall && e.config.posCall(e.element)
            },
            hide: function() {
                var e = this;
                this.element.remove(),
                    app.Guide[e.id] = null ,
                    i(document.body).css("overflow-y", "auto"),
                    i(window).off("resize", this.setPosition),
                    this.hide = function() {}
                    ,
                    setTimeout(function() {
                        i(window).trigger("resize")
                    }),
                e.config.hideCall && e.config.hideCall()
            }
        });
    n.exports = o
}),
define("text!module/hangqing/hangqing.css", [], function() {
    return ".hangqing{background-color:#fff;border:1px solid #6ba4d7}.hangqing .upAndDown{background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/graphic/08204.png) no-repeat -32px 0;position:relative;width:24px;height:16px;display:inline-block;cursor:pointer}.hangqing .upAndDown.up{background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/graphic/08204.png) no-repeat -51px -33px;top:-16px}.compareLI{height:377px;width:550px;display:inline;float:left;margin-top:-5px;overflow:hidden;position:relative}.compareUL.jj .compareLI .name{position:absolute;left:22px;cursor:pointer}.compareLI .nav-list{width:165px;position:relative;right:30px;top:0;background:0 0;float:right}.compareUL.jj .right{margin-left:0}.compareLI .name,.compareLI .name a,.compareLI .nav-list .nav-item{color:#4273b5;font-size:16px;font-family:SimHei;text-decoration:none}.compareLI .nav-list .nav-item{float:right;text-align:center;line-height:23px;position:relative;width:43px;height:20px;cursor:pointer;font-size:12px;background:0 0}.compareLI .nav-list .nav-item.active{cursor:default;background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/graphic/tab_bg.png) repeat-x 0 3px}.compareLI .P{position:relative}.compareLI.nonjj .header{padding-bottom:5px}.compareUL.nonjj .compareLI .name{position:relative;float:left;cursor:pointer}.compareUL.nonjj .left .name{left:20px}.compareLI .chart_Contain{margin-top:23px}.compareLI .P{margin-left:5px}.compareLI .P.large{margin-left:25px}.compareUL .compareLI.left{border-right:1px solid #D9E6EF}"
}),
define("text!module/hangqing/jjhqt.html", [], function() {
    return " 	  <li class=\"compareLI left\">\r\n 	  	<div class=\"name\"><a href=\"http://gu.qq.com/<%=stock.get('symbol')%>\" target=\"_blank\"><%= stock.get('name') %></a></div>\r\n	    <iframe scrolling=\"no\" <% if(stock.isJJ){ %> src=\"http://finance.qq.com/products/portfolio/ZXG-HANGQING-DETAIL.html?mkType=<%=stock.get('mkType')%>&type=<%=stock.get('type')%>&name=<%=stock.name %>&symbol=<%=stock.get('symbol')%>&q=<%=stock.get('symbol')%>&position=left&width=<%=size.width%>&height=<%=size.height%>\" <% } %> height=\"100%\" width='550px'></iframe>\r\n	  </li>\r\n	  <li class=\"compareLI right\">\r\n	  	<div class=\"name\"><a href=\"http://gu.qq.com/<%=stock.get('symbol')%>\" target=\"_blank\"><%= stock.get('name') %></a></div>\r\n	    <iframe scrolling=\"no\" <% if(stock.isJJ){ %> src=\"http://finance.qq.com/products/portfolio/ZXG-HANGQING-DETAIL.html?mkType=<%=stock.get('mkType')%>&type=<%=stock.get('type')%>&name=<%=stock.name %>&symbol=<%=stock.get('symbol')%>&q=<%=stock.get('symbol')%>&position=right&width=<%=size.width%>&height=<%=size.height%>\" <% } %> height=\"100%\" width='550px'></iframe>\r\n	  </li>"
}),
define("text!module/hangqing/index_new.html", [], function() {
    return '<div style="text-align:center;">\n<div class="upAndDown down"></div>\n<ul class="compareUL jj" <% if(!stock.isJJ){ %> style="display:none" <% } %> >\n</ul>\n<ul class="compareUL nonjj" <% if(stock.isJJ){ %> style="display:none" <% } %> >\n	  <li class="compareLI left">\n	  	<div class="header">\n		  	<div class="name"><a href="http://gu.qq.com/<%=stock.get(\'symbol\')%>" target="_blank"><%= stock.get(\'name\') %></a></div>\n		  	<div class="nav-list clearfix"><div class="nav-item day" current="day"><span>\u65e5K</span></div><div class="nav-item minute active" current="minute"><span>\u5206\u65f6</span></div></div>\n		</div>\n	  	<div class="P <%= leftClass %>">\n		    <div class="chart_Contain" id="contain_left" height="100%" width=\'550px\' style="margin-left:5px;"></div>\n		</div>\n	  </li>\n	  <li class="compareLI right">\n	  	<div class="header">\n		  	<div class="name"><a href="http://gu.qq.com/<%=comStock.symbol%>" target="_blank"><%= comStock.navName %></a></div>\n		  	<div class="nav-list clearfix"><div class="nav-item day" current="day"><span>\u65e5K</span></div><div class="nav-item minute active" current="minute"><span>\u5206\u65f6</span></div></div>\n	    </div>\n	  	<div class="P">\n		    <div class="chart_Contain" id="contain_right" height="100%" width=\'550px\'></div>\n		</div>\n	  </li>\n</ul>\n</div>'
}),
!function(e, t) {
    if ("object" == typeof exports && "object" == typeof module)
        module.exports = t();
    else if ("function" == typeof define && define.amd)
        define("module/hangqing/chart.bundle", [], t);
    else {
        var n = t();
        for (var r in n)
            ("object" == typeof exports ? exports : e)[r] = n[r]
    }
}(this, function() {
    return function(e) {
        function t(n) {
            if (r[n])
                return r[n].exports;
            var i = r[n] = {
                exports: {},
                id: n,
                loaded: !1
            };
            return e[n].call(i.exports, i, i.exports, t),
                i.loaded = !0,
                i.exports
        }
        var n = window.webpackJsonp;
        window.webpackJsonp = function(r, s) {
            for (var o, u, a = 0, f = []; a < r.length; a++)
                u = r[a],
                i[u] && f.push.apply(f, i[u]),
                    i[u] = 0;
            for (o in s)
                e[o] = s[o];
            for (n && n(r, s); f.length; )
                f.shift().call(null , t)
        }
        ;
        var r = {}
            , i = {
                0: 0
            };
        return t.e = function(e, n) {
            if (0 === i[e])
                return n.call(null , t);
            if (void 0 !== i[e])
                i[e].push(n);
            else {
                i[e] = [n];
                var r = document.getElementsByTagName("head")[0]
                    , s = document.createElement("script");
                s.type = "text/javascript",
                    s.charset = "utf-8",
                    s.async = !0,
                    s.src = t.p + "" + e + ".24b9e6fbd8822e3e78ca.bundle.js",
                    r.appendChild(s)
            }
        }
            ,
            t.m = e,
            t.c = r,
            t.p = "http://finance.qq.com/js/",
            t(0)
    }([function(e, t, n) {
        n(1),
            n(2),
            n(3);
        var r = n(4);
        e.exports = r
    }
        , function(e, t, n) {
            var r, i;
            !function(s, o) {
                "use strict";
                r = o,
                    i = "function" == typeof r ? r.call(t, n, t, e) : r,
                void 0 === i || !(e.exports = i)
            }(void 0, function() {
                function e(e) {
                    var t = typeof e;
                    return null === e || "undefined" === t || "boolean" === t || "number" === t || "string" === t
                }
                var t, n = Array.prototype, r = Object.prototype, i = Function.prototype, s = String.prototype, o = Number.prototype, u = n.slice, a = n.splice, f = n.push, l = n.unshift, c = i.call, h = r.toString, p = Array.isArray || function(e) {
                            return "[object Array]" === h.call(e)
                        }
                    , d = "function" == typeof Symbol && "symbol" == typeof Symbol.toStringTag, v = Function.prototype.toString, m = function(e) {
                        try {
                            return v.call(e),
                                !0
                        } catch (t) {
                            return !1
                        }
                    }
                    , g = "[object Function]", y = "[object GeneratorFunction]";
                t = function(e) {
                    if ("function" != typeof e)
                        return !1;
                    if (d)
                        return m(e);
                    var t = h.call(e);
                    return t === g || t === y
                }
                ;
                var b, w = RegExp.prototype.exec, E = function(e) {
                        try {
                            return w.call(e),
                                !0
                        } catch (t) {
                            return !1
                        }
                    }
                    , S = "[object RegExp]";
                b = function(e) {
                    return "object" != typeof e ? !1 : d ? E(e) : h.call(e) === S
                }
                ;
                var x, T = String.prototype.valueOf, N = function(e) {
                        try {
                            return T.call(e),
                                !0
                        } catch (t) {
                            return !1
                        }
                    }
                    , C = "[object String]";
                x = function(e) {
                    return "string" == typeof e ? !0 : "object" != typeof e ? !1 : d ? N(e) : h.call(e) === C
                }
                ;
                var k = function(e) {
                        var n = h.call(e)
                            , r = "[object Arguments]" === n;
                        return r || (r = !p(e) && null !== e && "object" == typeof e && "number" == typeof e.length && e.length >= 0 && t(e.callee)),
                            r
                    }
                    , L = function(e) {
                        var t, n = Object.defineProperty && function() {
                                try {
                                    return Object.defineProperty({}, "x", {}),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                        return t = n ? function(e, t, n, r) {
                            !r && t in e || Object.defineProperty(e, t, {
                                configurable: !0,
                                enumerable: !1,
                                writable: !0,
                                value: n
                            })
                        }
                            : function(e, t, n, r) {
                            !r && t in e || (e[t] = n)
                        }
                            ,
                            function(n, r, i) {
                                for (var s in r)
                                    e.call(r, s) && t(n, s, r[s], i)
                            }
                    }(r.hasOwnProperty)
                    , A = {
                        ToInteger: function(e) {
                            var t = +e;
                            return t !== t ? t = 0 : 0 !== t && t !== 1 / 0 && t !== -1 / 0 && (t = (t > 0 || -1) * Math.floor(Math.abs(t))),
                                t
                        },
                        ToPrimitive: function(n) {
                            var r, i, s;
                            if (e(n))
                                return n;
                            if (i = n.valueOf,
                                t(i) && (r = i.call(n),
                                    e(r)))
                                return r;
                            if (s = n.toString,
                                t(s) && (r = s.call(n),
                                    e(r)))
                                return r;
                            throw new TypeError
                        },
                        ToObject: function(e) {
                            if (null == e)
                                throw new TypeError("can't convert " + e + " to object");
                            return Object(e)
                        },
                        ToUint32: function(e) {
                            return e >>> 0
                        }
                    }
                    , O = function() {}
                    ;
                L(i, {
                    bind: function(e) {
                        var n = this;
                        if (!t(n))
                            throw new TypeError("Function.prototype.bind called on incompatible " + n);
                        for (var r, i = u.call(arguments, 1), s = function() {
                                if (this instanceof r) {
                                    var t = n.apply(this, i.concat(u.call(arguments)));
                                    return Object(t) === t ? t : this
                                }
                                return n.apply(e, i.concat(u.call(arguments)))
                            }
                                 , o = Math.max(0, n.length - i.length), a = [], f = 0; o > f; f++)
                            a.push("$" + f);
                        return r = Function("binder", "return function (" + a.join(",") + "){ return binder.apply(this, arguments); }")(s),
                        n.prototype && (O.prototype = n.prototype,
                            r.prototype = new O,
                            O.prototype = null ),
                            r
                    }
                });
                var M = c.bind(r.hasOwnProperty)
                    , _ = function() {
                        var e = [1, 2]
                            , t = e.splice();
                        return 2 === e.length && p(t) && 0 === t.length
                    }();
                L(n, {
                    splice: function(e, t) {
                        return 0 === arguments.length ? [] : a.apply(this, arguments)
                    }
                }, !_);
                var D = function() {
                    var e = {};
                    return n.splice.call(e, 0, 0, 1),
                    1 === e.length
                }();
                L(n, {
                    splice: function(e, t) {
                        if (0 === arguments.length)
                            return [];
                        var n = arguments;
                        return this.length = Math.max(A.ToInteger(this.length), 0),
                        arguments.length > 0 && "number" != typeof t && (n = u.call(arguments),
                            n.length < 2 ? n.push(this.length - e) : n[1] = A.ToInteger(t)),
                            a.apply(this, n)
                    }
                }, !D);
                var P = 1 !== [].unshift(0);
                L(n, {
                    unshift: function() {
                        return l.apply(this, arguments),
                            this.length
                    }
                }, P),
                    L(Array, {
                        isArray: p
                    });
                var H = Object("a")
                    , B = "a" !== H[0] || !(0 in H)
                    , j = function(e) {
                        var t = !0
                            , n = !0;
                        return e && (e.call("foo", function(e, n, r) {
                            "object" != typeof r && (t = !1)
                        }),
                            e.call([1], function() {
                                "use strict";
                                n = "string" == typeof this
                            }, "x")),
                        !!e && t && n
                    }
                    ;
                L(n, {
                    forEach: function(e) {
                        var n = A.ToObject(this)
                            , r = B && x(this) ? this.split("") : n
                            , i = arguments[1]
                            , s = -1
                            , o = r.length >>> 0;
                        if (!t(e))
                            throw new TypeError;
                        for (; ++s < o; )
                            s in r && e.call(i, r[s], s, n)
                    }
                }, !j(n.forEach)),
                    L(n, {
                        map: function(e) {
                            var n = A.ToObject(this)
                                , r = B && x(this) ? this.split("") : n
                                , i = r.length >>> 0
                                , s = Array(i)
                                , o = arguments[1];
                            if (!t(e))
                                throw new TypeError(e + " is not a function");
                            for (var u = 0; i > u; u++)
                                u in r && (s[u] = e.call(o, r[u], u, n));
                            return s
                        }
                    }, !j(n.map)),
                    L(n, {
                        filter: function(e) {
                            var n, r = A.ToObject(this), i = B && x(this) ? this.split("") : r, s = i.length >>> 0, o = [], u = arguments[1];
                            if (!t(e))
                                throw new TypeError(e + " is not a function");
                            for (var a = 0; s > a; a++)
                                a in i && (n = i[a],
                                e.call(u, n, a, r) && o.push(n));
                            return o
                        }
                    }, !j(n.filter)),
                    L(n, {
                        every: function(e) {
                            var n = A.ToObject(this)
                                , r = B && x(this) ? this.split("") : n
                                , i = r.length >>> 0
                                , s = arguments[1];
                            if (!t(e))
                                throw new TypeError(e + " is not a function");
                            for (var o = 0; i > o; o++)
                                if (o in r && !e.call(s, r[o], o, n))
                                    return !1;
                            return !0
                        }
                    }, !j(n.every)),
                    L(n, {
                        some: function(e) {
                            var n = A.ToObject(this)
                                , r = B && x(this) ? this.split("") : n
                                , i = r.length >>> 0
                                , s = arguments[1];
                            if (!t(e))
                                throw new TypeError(e + " is not a function");
                            for (var o = 0; i > o; o++)
                                if (o in r && e.call(s, r[o], o, n))
                                    return !0;
                            return !1
                        }
                    }, !j(n.some));
                var F = !1;
                n.reduce && (F = "object" == typeof n.reduce.call("es5", function(e, t, n, r) {
                    return r
                })),
                    L(n, {
                        reduce: function(e) {
                            var n = A.ToObject(this)
                                , r = B && x(this) ? this.split("") : n
                                , i = r.length >>> 0;
                            if (!t(e))
                                throw new TypeError(e + " is not a function");
                            if (!i && 1 === arguments.length)
                                throw new TypeError("reduce of empty array with no initial value");
                            var s, o = 0;
                            if (arguments.length >= 2)
                                s = arguments[1];
                            else
                                for (; ; ) {
                                    if (o in r) {
                                        s = r[o++];
                                        break
                                    }
                                    if (++o >= i)
                                        throw new TypeError("reduce of empty array with no initial value")
                                }
                            for (; i > o; o++)
                                o in r && (s = e.call(void 0, s, r[o], o, n));
                            return s
                        }
                    }, !F);
                var I = !1;
                n.reduceRight && (I = "object" == typeof n.reduceRight.call("es5", function(e, t, n, r) {
                    return r
                })),
                    L(n, {
                        reduceRight: function(e) {
                            var n = A.ToObject(this)
                                , r = B && x(this) ? this.split("") : n
                                , i = r.length >>> 0;
                            if (!t(e))
                                throw new TypeError(e + " is not a function");
                            if (!i && 1 === arguments.length)
                                throw new TypeError("reduceRight of empty array with no initial value");
                            var s, o = i - 1;
                            if (arguments.length >= 2)
                                s = arguments[1];
                            else
                                for (; ; ) {
                                    if (o in r) {
                                        s = r[o--];
                                        break
                                    }
                                    if (--o < 0)
                                        throw new TypeError("reduceRight of empty array with no initial value")
                                }
                            if (0 > o)
                                return s;
                            do
                                o in r && (s = e.call(void 0, s, r[o], o, n));
                            while (o--);return s
                        }
                    }, !I);
                var q = Array.prototype.indexOf && -1 !== [0, 1].indexOf(1, 2);
                L(n, {
                    indexOf: function(e) {
                        var t = B && x(this) ? this.split("") : A.ToObject(this)
                            , n = t.length >>> 0;
                        if (!n)
                            return -1;
                        var r = 0;
                        for (arguments.length > 1 && (r = A.ToInteger(arguments[1])),
                                 r = r >= 0 ? r : Math.max(0, n + r); n > r; r++)
                            if (r in t && t[r] === e)
                                return r;
                        return -1
                    }
                }, q);
                var R = Array.prototype.lastIndexOf && -1 !== [0, 1].lastIndexOf(0, -3);
                L(n, {
                    lastIndexOf: function(e) {
                        var t = B && x(this) ? this.split("") : A.ToObject(this)
                            , n = t.length >>> 0;
                        if (!n)
                            return -1;
                        var r = n - 1;
                        for (arguments.length > 1 && (r = Math.min(r, A.ToInteger(arguments[1]))),
                                 r = r >= 0 ? r : n - Math.abs(r); r >= 0; r--)
                            if (r in t && e === t[r])
                                return r;
                        return -1
                    }
                }, R);
                var U = !{
                        toString: null
                    }.propertyIsEnumerable("toString")
                    , z = function() {}
                        .propertyIsEnumerable("prototype")
                    , W = !M("x", "0")
                    , X = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"]
                    , V = X.length;
                L(Object, {
                    keys: function(e) {
                        var n = t(e)
                            , r = k(e)
                            , i = null !== e && "object" == typeof e
                            , s = i && x(e);
                        if (!i && !n && !r)
                            throw new TypeError("Object.keys called on a non-object");
                        var o = []
                            , u = z && n;
                        if (s && W || r)
                            for (var a = 0; a < e.length; ++a)
                                o.push(String(a));
                        if (!r)
                            for (var f in e)
                                u && "prototype" === f || !M(e, f) || o.push(String(f));
                        if (U)
                            for (var l = e.constructor, c = l && l.prototype === e, h = 0; V > h; h++) {
                                var p = X[h];
                                c && "constructor" === p || !M(e, p) || o.push(p)
                            }
                        return o
                    }
                });
                var $ = Object.keys && function() {
                            return 2 === Object.keys(arguments).length
                        }(1, 2)
                    , J = Object.keys;
                L(Object, {
                    keys: function(e) {
                        return J(k(e) ? n.slice.call(e) : e)
                    }
                }, !$);
                var K = -621987552e5
                    , Q = "-000001"
                    , G = Date.prototype.toISOString && -1 === (new Date(K)).toISOString().indexOf(Q);
                L(Date.prototype, {
                    toISOString: function() {
                        var e, t, n, r, i;
                        if (!isFinite(this))
                            throw new RangeError("Date.prototype.toISOString called on non-finite value.");
                        for (r = this.getUTCFullYear(),
                                 i = this.getUTCMonth(),
                                 r += Math.floor(i / 12),
                                 i = (i % 12 + 12) % 12,
                                 e = [i + 1, this.getUTCDate(), this.getUTCHours(), this.getUTCMinutes(), this.getUTCSeconds()],
                                 r = (0 > r ? "-" : r > 9999 ? "+" : "") + ("00000" + Math.abs(r)).slice(r >= 0 && 9999 >= r ? -4 : -6),
                                 t = e.length; t--; )
                            n = e[t],
                            10 > n && (e[t] = "0" + n);
                        return r + "-" + e.slice(0, 2).join("-") + "T" + e.slice(2).join(":") + "." + ("000" + this.getUTCMilliseconds()).slice(-3) + "Z"
                    }
                }, G);
                var Y = function() {
                    try {
                        return Date.prototype.toJSON && null === (new Date(NaN)).toJSON() && -1 !== (new Date(K)).toJSON().indexOf(Q) && Date.prototype.toJSON.call({
                                toISOString: function() {
                                    return !0
                                }
                            })
                    } catch (e) {
                        return !1
                    }
                }();
                Y || (Date.prototype.toJSON = function(e) {
                    var n = Object(this)
                        , r = A.ToPrimitive(n);
                    if ("number" == typeof r && !isFinite(r))
                        return null ;
                    var i = n.toISOString;
                    if (!t(i))
                        throw new TypeError("toISOString property is not callable");
                    return i.call(n)
                }
                );
                var Z = 1e15 === Date.parse("+033658-09-27T01:46:40.000Z")
                    , et = !isNaN(Date.parse("2012-04-04T24:00:00.500Z")) || !isNaN(Date.parse("2012-11-31T23:59:59.000Z"))
                    , tt = isNaN(Date.parse("2000-01-01T00:00:00.000Z"));
                (!Date.parse || tt || et || !Z) && (Date = function(e) {
                    function t(n, r, i, s, o, u, a) {
                        var f = arguments.length;
                        if (this instanceof e) {
                            var l = 1 === f && String(n) === n ? new e(t.parse(n)) : f >= 7 ? new e(n,r,i,s,o,u,a) : f >= 6 ? new e(n,r,i,s,o,u) : f >= 5 ? new e(n,r,i,s,o) : f >= 4 ? new e(n,r,i,s) : f >= 3 ? new e(n,r,i) : f >= 2 ? new e(n,r) : f >= 1 ? new e(n) : new e;
                            return L(l, {
                                constructor: t
                            }, !0),
                                l
                        }
                        return e.apply(this, arguments)
                    }
                    function n(e, t) {
                        var n = t > 1 ? 1 : 0;
                        return s[t] + Math.floor((e - 1969 + n) / 4) - Math.floor((e - 1901 + n) / 100) + Math.floor((e - 1601 + n) / 400) + 365 * (e - 1970)
                    }
                    function r(t) {
                        return Number(new e(1970,0,1,0,0,0,t))
                    }
                    var i = new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$")
                        , s = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365];
                    for (var o in e)
                        t[o] = e[o];
                    return t.now = e.now,
                        t.UTC = e.UTC,
                        t.prototype = e.prototype,
                        t.prototype.constructor = t,
                        t.parse = function(t) {
                            var s = i.exec(t);
                            if (s) {
                                var o, u = Number(s[1]), a = Number(s[2] || 1) - 1, f = Number(s[3] || 1) - 1, l = Number(s[4] || 0), c = Number(s[5] || 0), h = Number(s[6] || 0), p = Math.floor(1e3 * Number(s[7] || 0)), d = Boolean(s[4] && !s[8]), v = "-" === s[9] ? 1 : -1, m = Number(s[10] || 0), g = Number(s[11] || 0);
                                return (c > 0 || h > 0 || p > 0 ? 24 : 25) > l && 60 > c && 60 > h && 1e3 > p && a > -1 && 12 > a && 24 > m && 60 > g && f > -1 && f < n(u, a + 1) - n(u, a) && (o = 60 * (24 * (n(u, a) + f) + l + m * v),
                                    o = 1e3 * (60 * (o + c + g * v) + h) + p,
                                d && (o = r(o)),
                                o >= -864e13 && 864e13 >= o) ? o : NaN
                            }
                            return e.parse.apply(this, arguments)
                        }
                        ,
                        t
                }(Date)),
                Date.now || (Date.now = function() {
                    return (new Date).getTime()
                }
                );
                var nt = o.toFixed && ("0.000" !== 8e-5.toFixed(3) || "1" !== .9.toFixed(0) || "1.25" !== 1.255.toFixed(2))
                    , rt = {
                        base: 1e7,
                        size: 6,
                        data: [0, 0, 0, 0, 0, 0],
                        multiply: function(e, t) {
                            for (var n = -1, r = t; ++n < rt.size; )
                                r += e * rt.data[n],
                                    rt.data[n] = r % rt.base,
                                    r = Math.floor(r / rt.base)
                        },
                        divide: function(e) {
                            for (var t = rt.size, n = 0; --t >= 0; )
                                n += rt.data[t],
                                    rt.data[t] = Math.floor(n / e),
                                    n = n % e * rt.base
                        },
                        numToString: function() {
                            for (var e = rt.size, t = ""; --e >= 0; )
                                if ("" !== t || 0 === e || 0 !== rt.data[e]) {
                                    var n = String(rt.data[e]);
                                    "" === t ? t = n : t += "0000000".slice(0, 7 - n.length) + n
                                }
                            return t
                        },
                        pow: function(e, t, n) {
                            for (var r = !0; r; ) {
                                var i = e
                                    , s = t
                                    , o = n;
                                if (r = !1,
                                    0 === s)
                                    return o;
                                s % 2 !== 1 ? (e = i * i,
                                    t = s / 2,
                                    n = o,
                                    r = !0) : (e = i,
                                    t = s - 1,
                                    n = o * i,
                                    r = !0)
                            }
                        },
                        log: function(e) {
                            for (var t = 0, n = e; n >= 4096; )
                                t += 12,
                                    n /= 4096;
                            for (; n >= 2; )
                                t += 1,
                                    n /= 2;
                            return t
                        }
                    };
                L(o, {
                    toFixed: function(e) {
                        var t, n, r, i, s, o, u, a;
                        if (t = Number(e),
                                t = t !== t ? 0 : Math.floor(t),
                            0 > t || t > 20)
                            throw new RangeError("Number.toFixed called with invalid number of decimals");
                        if (n = Number(this),
                            n !== n)
                            return "NaN";
                        if (-1e21 >= n || n >= 1e21)
                            return String(n);
                        if (r = "",
                            0 > n && (r = "-",
                                n = -n),
                                i = "0",
                            n > 1e-21)
                            if (s = rt.log(n * rt.pow(2, 69, 1)) - 69,
                                    o = 0 > s ? n * rt.pow(2, -s, 1) : n / rt.pow(2, s, 1),
                                    o *= 4503599627370496,
                                    s = 52 - s,
                                s > 0) {
                                for (rt.multiply(0, o),
                                         u = t; u >= 7; )
                                    rt.multiply(1e7, 0),
                                        u -= 7;
                                for (rt.multiply(rt.pow(10, u, 1), 0),
                                         u = s - 1; u >= 23; )
                                    rt.divide(1 << 23),
                                        u -= 23;
                                rt.divide(1 << u),
                                    rt.multiply(1, 1),
                                    rt.divide(2),
                                    i = rt.numToString()
                            } else
                                rt.multiply(0, o),
                                    rt.multiply(1 << -s, 0),
                                    i = rt.numToString() + "0.00000000000000000000".slice(2, 2 + t);
                        return t > 0 ? (a = i.length,
                            i = t >= a ? r + "0.0000000000000000000".slice(0, t - a + 2) + i : r + i.slice(0, a - t) + "." + i.slice(a - t)) : i = r + i,
                            i
                    }
                }, nt);
                var it = s.split;
                2 !== "ab".split(/(?:ab)*/).length || 4 !== ".".split(/(.?)(.?)/).length || "t" === "tesst".split(/(s)*/)[1] || 4 !== "test".split(/(?:)/, -1).length || "".split(/.?/).length || ".".split(/()()/).length > 1 ? !function() {
                    var e = "undefined" == typeof /()??/.exec("")[1];
                    s.split = function(t, n) {
                        var r = this;
                        if ("undefined" == typeof t && 0 === n)
                            return [];
                        if (!b(t))
                            return it.call(this, t, n);
                        var i, s, o, u, a = [], l = (t.ignoreCase ? "i" : "") + (t.multiline ? "m" : "") + (t.extended ? "x" : "") + (t.sticky ? "y" : ""), c = 0, h = new RegExp(t.source,l + "g");
                        r += "",
                        e || (i = new RegExp("^" + h.source + "$(?!\\s)",l));
                        var p = "undefined" == typeof n ? -1 >>> 0 : A.ToUint32(n);
                        for (s = h.exec(r); s && (o = s.index + s[0].length,
                            !(o > c && (a.push(r.slice(c, s.index)),
                            !e && s.length > 1 && s[0].replace(i, function() {
                                for (var e = 1; e < arguments.length - 2; e++)
                                    "undefined" == typeof arguments[e] && (s[e] = void 0)
                            }),
                            s.length > 1 && s.index < r.length && f.apply(a, s.slice(1)),
                                u = s[0].length,
                                c = o,
                            a.length >= p))); )
                            h.lastIndex === s.index && h.lastIndex++,
                                s = h.exec(r);
                        return c === r.length ? (u || !h.test("")) && a.push("") : a.push(r.slice(c)),
                            a.length > p ? a.slice(0, p) : a
                    }
                }() : "0".split(void 0, 0).length && (s.split = function(e, t) {
                    return "undefined" == typeof e && 0 === t ? [] : it.call(this, e, t)
                }
                );
                var st = s.replace
                    , ot = function() {
                        var e = [];
                        return "x".replace(/x(.)?/g, function(t, n) {
                            e.push(n)
                        }),
                        1 === e.length && "undefined" == typeof e[0]
                    }();
                ot || (s.replace = function(e, n) {
                    var r = t(n)
                        , i = b(e) && /\)[*?]/.test(e.source);
                    if (r && i) {
                        var s = function(t) {
                                var r = arguments.length
                                    , i = e.lastIndex;
                                e.lastIndex = 0;
                                var s = e.exec(t) || [];
                                return e.lastIndex = i,
                                    s.push(arguments[r - 2], arguments[r - 1]),
                                    n.apply(this, s)
                            }
                            ;
                        return st.call(this, e, s)
                    }
                    return st.call(this, e, n)
                }
                );
                var ut = s.substr
                    , at = "".substr && "b" !== "0b".substr(-1);
                L(s, {
                    substr: function(e, t) {
                        var n = e;
                        return 0 > e && (n = Math.max(this.length + e, 0)),
                            ut.call(this, n, t)
                    }
                }, at);
                var ft = "	\n\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"
                    , lt = "\u200b"
                    , ct = "[" + ft + "]"
                    , ht = new RegExp("^" + ct + ct + "*")
                    , pt = new RegExp(ct + ct + "*$")
                    , dt = s.trim && (ft.trim() || !lt.trim());
                L(s, {
                    trim: function() {
                        if ("undefined" == typeof this || null === this)
                            throw new TypeError("can't convert " + this + " to object");
                        return String(this).replace(ht, "").replace(pt, "")
                    }
                }, dt),
                (8 !== parseInt(ft + "08") || 22 !== parseInt(ft + "0x16")) && (parseInt = function(e) {
                    var t = /^0[xX]/;
                    return function(n, r) {
                        var i = String(n).trim()
                            , s = Number(r) || (t.test(i) ? 16 : 10);
                        return e(i, s)
                    }
                }(parseInt))
            })
        }
        , function(e, t, n) {
            var r, i;
            !function(s, o) {
                "use strict";
                r = o,
                    i = "function" == typeof r ? r.call(t, n, t, e) : r,
                void 0 === i || !(e.exports = i)
            }(void 0, function() {
                var e, t, n, r, i = Function.prototype.call, s = Object.prototype, o = i.bind(s.hasOwnProperty), u = i.bind(s.propertyIsEnumerable), a = i.bind(s.toString), f = o(s, "__defineGetter__");
                f && (e = i.bind(s.__defineGetter__),
                    t = i.bind(s.__defineSetter__),
                    n = i.bind(s.__lookupGetter__),
                    r = i.bind(s.__lookupSetter__)),
                Object.getPrototypeOf || (Object.getPrototypeOf = function(e) {
                    var t = e.__proto__;
                    return t || null === t ? t : "[object Function]" === a(e.constructor) ? e.constructor.prototype : e instanceof Object ? s : null
                }
                );
                var l = function(e) {
                        try {
                            return e.sentinel = 0,
                            0 === Object.getOwnPropertyDescriptor(e, "sentinel").value
                        } catch (t) {
                            return !1
                        }
                    }
                    ;
                if (Object.defineProperty) {
                    var c = l({})
                        , h = "undefined" == typeof document || l(document.createElement("div"));
                    if (!h || !c)
                        var p = Object.getOwnPropertyDescriptor
                }
                if (!Object.getOwnPropertyDescriptor || p) {
                    var d = "Object.getOwnPropertyDescriptor called on a non-object: ";
                    Object.getOwnPropertyDescriptor = function(e, t) {
                        if ("object" != typeof e && "function" != typeof e || null === e)
                            throw new TypeError(d + e);
                        if (p)
                            try {
                                return p.call(Object, e, t)
                            } catch (i) {}
                        var a;
                        if (!o(e, t))
                            return a;
                        if (a = {
                                enumerable: u(e, t),
                                configurable: !0
                            },
                                f) {
                            var l = e.__proto__
                                , c = e !== s;
                            c && (e.__proto__ = s);
                            var h = n(e, t)
                                , v = r(e, t);
                            if (c && (e.__proto__ = l),
                                h || v)
                                return h && (a.get = h),
                                v && (a.set = v),
                                    a
                        }
                        return a.value = e[t],
                            a.writable = !0,
                            a
                    }
                }
                if (Object.getOwnPropertyNames || (Object.getOwnPropertyNames = function(e) {
                        return Object.keys(e)
                    }
                    ),
                        !Object.create) {
                    var v, m = !({
                            __proto__: null
                        }instanceof Object), g = function() {
                            if (!document.domain)
                                return !1;
                            try {
                                return !!(new ActiveXObject("htmlfile"))
                            } catch (e) {
                                return !1
                            }
                        }
                        , y = function() {
                            var e, t;
                            return t = new ActiveXObject("htmlfile"),
                                t.write("<script></script>"),
                                t.close(),
                                e = t.parentWindow.Object.prototype,
                                t = null ,
                                e
                        }
                        , b = function() {
                            var e, t = document.createElement("iframe"), n = document.body || document.documentElement;
                            return t.style.display = "none",
                                n.appendChild(t),
                                t.src = "javascript:",
                                e = t.contentWindow.Object.prototype,
                                n.removeChild(t),
                                t = null ,
                                e
                        }
                        ;
                    v = m || "undefined" == typeof document ? function() {
                        return {
                            __proto__: null
                        }
                    }
                        : function() {
                        var e = g() ? y() : b();
                        delete e.constructor,
                            delete e.hasOwnProperty,
                            delete e.propertyIsEnumerable,
                            delete e.isPrototypeOf,
                            delete e.toLocaleString,
                            delete e.toString,
                            delete e.valueOf;
                        var t = function() {}
                            ;
                        return t.prototype = e,
                            v = function() {
                                return new t
                            }
                            ,
                            new t
                    }
                        ,
                        Object.create = function(e, t) {
                            var n, r = function() {}
                                ;
                            if (null === e)
                                n = v();
                            else {
                                if ("object" != typeof e && "function" != typeof e)
                                    throw new TypeError("Object prototype may only be an Object or null");
                                r.prototype = e,
                                    n = new r,
                                    n.__proto__ = e
                            }
                            return void 0 !== t && Object.defineProperties(n, t),
                                n
                        }
                }
                var w = function(e) {
                        try {
                            return Object.defineProperty(e, "sentinel", {}),
                            "sentinel"in e
                        } catch (t) {
                            return !1
                        }
                    }
                    ;
                if (Object.defineProperty) {
                    var E = w({})
                        , S = "undefined" == typeof document || w(document.createElement("div"));
                    if (!E || !S)
                        var x = Object.defineProperty
                            , T = Object.defineProperties
                }
                if (!Object.defineProperty || x) {
                    var N = "Property description must be an object: "
                        , C = "Object.defineProperty called on non-object: "
                        , k = "getters & setters can not be defined on this javascript engine";
                    Object.defineProperty = function(i, o, u) {
                        if ("object" != typeof i && "function" != typeof i || null === i)
                            throw new TypeError(C + i);
                        if ("object" != typeof u && "function" != typeof u || null === u)
                            throw new TypeError(N + u);
                        if (x)
                            try {
                                return x.call(Object, i, o, u)
                            } catch (a) {}
                        if ("value"in u)
                            if (f && (n(i, o) || r(i, o))) {
                                var l = i.__proto__;
                                i.__proto__ = s,
                                    delete i[o],
                                    i[o] = u.value,
                                    i.__proto__ = l
                            } else
                                i[o] = u.value;
                        else {
                            if (!f && ("get"in u || "set"in u))
                                throw new TypeError(k);
                            "get"in u && e(i, o, u.get),
                            "set"in u && t(i, o, u.set)
                        }
                        return i
                    }
                }
                (!Object.defineProperties || T) && (Object.defineProperties = function(e, t) {
                    if (T)
                        try {
                            return T.call(Object, e, t)
                        } catch (n) {}
                    return Object.keys(t).forEach(function(n) {
                        "__proto__" !== n && Object.defineProperty(e, n, t[n])
                    }),
                        e
                }
                ),
                Object.seal || (Object.seal = function(e) {
                    if (Object(e) !== e)
                        throw new TypeError("Object.seal can only be called on Objects.");
                    return e
                }
                ),
                Object.freeze || (Object.freeze = function(e) {
                    if (Object(e) !== e)
                        throw new TypeError("Object.freeze can only be called on Objects.");
                    return e
                }
                );
                try {
                    Object.freeze(function() {})
                } catch (L) {
                    Object.freeze = function(e) {
                        return function(t) {
                            return "function" == typeof t ? t : e(t)
                        }
                    }(Object.freeze)
                }
                Object.preventExtensions || (Object.preventExtensions = function(e) {
                    if (Object(e) !== e)
                        throw new TypeError("Object.preventExtensions can only be called on Objects.");
                    return e
                }
                ),
                Object.isSealed || (Object.isSealed = function(e) {
                    if (Object(e) !== e)
                        throw new TypeError("Object.isSealed can only be called on Objects.");
                    return !1
                }
                ),
                Object.isFrozen || (Object.isFrozen = function(e) {
                    if (Object(e) !== e)
                        throw new TypeError("Object.isFrozen can only be called on Objects.");
                    return !1
                }
                ),
                Object.isExtensible || (Object.isExtensible = function(e) {
                    if (Object(e) !== e)
                        throw new TypeError("Object.isExtensible can only be called on Objects.");
                    for (var t = ""; o(e, t); )
                        t += "?";
                    e[t] = !0;
                    var n = o(e, t);
                    return delete e[t],
                        n
                }
                )
            })
        }
        , function(e, t) {
            "use strict";
            document.createElement("canvas").getContext || !function() {
                function e() {
                    return this.context_ || (this.context_ = new E(this))
                }
                function t(e) {
                    for (var t, n, r = "white", i = e; i && (!(n = i.currentStyle) || (r = n.backgroundColor,
                    r === R)); )
                        i = i.parentNode;
                    return t = r === R ? "#fff" : r
                }
                function n(e, t, n) {
                    var r = K.call(arguments, 2);
                    return function() {
                        return e.apply(t, r.concat(K.call(arguments)))
                    }
                }
                function r(e) {
                    return String(e).replace(/&/g, "&amp;").replace(/"/g, "&quot;")
                }
                function i(e, t, n) {
                    e.namespaces[t] || e.namespaces.add(t, n, "#default#VML")
                }
                function s(e) {
                    if (i(e, "g_vml_", "urn:schemas-microsoft-com:vml"),
                            i(e, "g_o_", "urn:schemas-microsoft-com:office:office"),
                            !e.styleSheets.ex_canvas_) {
                        var t = e.createStyleSheet();
                        t.owningElement.id = "ex_canvas_",
                            t.cssText = "canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"
                    }
                }
                function o(e) {
                    var t = e.srcElement;
                    switch (e.propertyName) {
                        case "width":
                            t.getContext().clearRect(),
                                t.style.width = t.attributes.width.nodeValue + "px",
                            t.firstChild && (t.firstChild.style.width = t.clientWidth + "px");
                            break;
                        case "height":
                            t.getContext().clearRect(),
                                t.style.height = t.attributes.height.nodeValue + "px",
                            t.firstChild && (t.firstChild.style.height = t.clientHeight + "px")
                    }
                }
                function u(e) {
                    var t = e.srcElement;
                    t.firstChild && (t.firstChild.style.width = t.clientWidth + "px",
                        t.firstChild.style.height = t.clientHeight + "px")
                }
                function a() {
                    return [[1, 0, 0], [0, 1, 0], [0, 0, 1]]
                }
                function f(e, t) {
                    for (var n = a(), r = 0; 3 > r; r++)
                        for (var i = 0; 3 > i; i++) {
                            for (var s = 0, o = 0; 3 > o; o++)
                                s += e[r][o] * t[o][i];
                            n[r][i] = s
                        }
                    return n
                }
                function l(e, t) {
                    t.fillStyle = e.fillStyle,
                        t.lineCap = e.lineCap,
                        t.lineJoin = e.lineJoin,
                        t.lineWidth = e.lineWidth,
                        t.miterLimit = e.miterLimit,
                        t.shadowBlur = e.shadowBlur,
                        t.shadowColor = e.shadowColor,
                        t.shadowOffsetX = e.shadowOffsetX,
                        t.shadowOffsetY = e.shadowOffsetY,
                        t.strokeStyle = e.strokeStyle,
                        t.globalAlpha = e.globalAlpha,
                        t.font = e.font,
                        t.textAlign = e.textAlign,
                        t.textBaseline = e.textBaseline,
                        t.arcScaleX_ = e.arcScaleX_,
                        t.arcScaleY_ = e.arcScaleY_,
                        t.lineScale_ = e.lineScale_
                }
                function c(e) {
                    var t = e.indexOf("(", 3)
                        , n = e.indexOf(")", t + 1)
                        , r = e.substring(t + 1, n).split(",");
                    return (4 != r.length || "a" != e.charAt(3)) && (r[3] = 1),
                        r
                }
                function h(e) {
                    return parseFloat(e) / 100
                }
                function p(e, t, n) {
                    return Math.min(n, Math.max(t, e))
                }
                function d(e) {
                    var t, n, r, i, s, o;
                    if (i = parseFloat(e[0]) / 360 % 360,
                        0 > i && i++,
                            s = p(h(e[1]), 0, 1),
                            o = p(h(e[2]), 0, 1),
                        0 == s)
                        t = n = r = o;
                    else {
                        var u = .5 > o ? o * (1 + s) : o + s - o * s
                            , a = 2 * o - u;
                        t = v(a, u, i + 1 / 3),
                            n = v(a, u, i),
                            r = v(a, u, i - 1 / 3)
                    }
                    return "#" + G[Math.floor(255 * t)] + G[Math.floor(255 * n)] + G[Math.floor(255 * r)]
                }
                function v(e, t, n) {
                    return 0 > n && n++,
                    n > 1 && n--,
                        1 > 6 * n ? e + 6 * (t - e) * n : 1 > 2 * n ? t : 2 > 3 * n ? e + (t - e) * (2 / 3 - n) * 6 : e
                }
                function m(e) {
                    if (e in tt)
                        return tt[e];
                    var t, n = 1;
                    if (e = String(e),
                        "#" == e.charAt(0))
                        t = e;
                    else if (/^rgb/.test(e)) {
                        for (var r, i = c(e), t = "#", s = 0; 3 > s; s++)
                            r = -1 != i[s].indexOf("%") ? Math.floor(255 * h(i[s])) : +i[s],
                                t += G[p(r, 0, 255)];
                        n = +i[3]
                    } else if (/^hsl/.test(e)) {
                        var i = c(e);
                        t = d(i),
                            n = i[3]
                    } else
                        t = et[e] || e;
                    return tt[e] = {
                        color: t,
                        alpha: n
                    }
                }
                function g(e) {
                    if (rt[e])
                        return rt[e];
                    var t = document.createElement("div")
                        , n = t.style;
                    try {
                        n.font = e
                    } catch (r) {}
                    return rt[e] = {
                        style: n.fontStyle || nt.style,
                        variant: n.fontVariant || nt.variant,
                        weight: n.fontWeight || nt.weight,
                        size: n.fontSize || nt.size,
                        family: n.fontFamily || nt.family
                    }
                }
                function y(e, t) {
                    var n = {};
                    for (var r in e)
                        n[r] = e[r];
                    var i = parseFloat(t.currentStyle.fontSize)
                        , s = parseFloat(e.size);
                    return "number" == typeof e.size ? n.size = e.size : -1 != e.size.indexOf("px") ? n.size = s : -1 != e.size.indexOf("em") ? n.size = i * s : -1 != e.size.indexOf("%") ? n.size = i / 100 * s : -1 != e.size.indexOf("pt") ? n.size = s / .75 : n.size = i,
                        n
                }
                function b(e) {
                    return e.style + " " + e.variant + " " + e.weight + " " + e.size + "px " + e.family
                }
                function w(e) {
                    return it[e] || "square"
                }
                function E(e) {
                    this.m_ = a(),
                        this.mStack_ = [],
                        this.aStack_ = [],
                        this.currentPath_ = [],
                        this.strokeStyle = "#000",
                        this.fillStyle = "#000",
                        this.lineWidth = 1,
                        this.lineJoin = "miter",
                        this.lineCap = "butt",
                        this.miterLimit = 1 * I,
                        this.globalAlpha = 1,
                        this.font = "10px sans-serif",
                        this.textAlign = "left",
                        this.textBaseline = "alphabetic",
                        this.canvas = e,
                        this.bg = t(e),
                        this.xClipStyle = this.bg;
                    var n = "width:" + e.clientWidth + "px;height:" + e.clientHeight + "px;overflow:hidden;position:absolute"
                        , r = e.ownerDocument.createElement("div");
                    r.style.cssText = n,
                        e.appendChild(r),
                        this.element_ = r,
                        this.arcScaleX_ = 1,
                        this.arcScaleY_ = 1,
                        this.lineScale_ = 1
                }
                function S(e, t, n, r) {
                    e.currentPath_.push({
                        type: "bezierCurveTo",
                        cp1x: t.x,
                        cp1y: t.y,
                        cp2x: n.x,
                        cp2y: n.y,
                        x: r.x,
                        y: r.y
                    }),
                        e.currentX_ = r.x,
                        e.currentY_ = r.y
                }
                function x(e, t) {
                    var n = m(e.strokeStyle)
                        , r = n.color
                        , i = n.alpha * e.globalAlpha
                        , s = e.lineScale_ * e.lineWidth;
                    1 > s && (i *= s),
                        t.push("<g_vml_:stroke", ' opacity="', i, '"', ' joinstyle="', e.lineJoin, '"', ' miterlimit="', e.miterLimit, '"', ' endcap="', w(e.lineCap), '"', ' weight="', s, 'px"', ' color="', r, '" />')
                }
                function T(e, t, n, r) {
                    var i = e.fillStyle
                        , s = e.arcScaleX_
                        , o = e.arcScaleY_
                        , u = r.x - n.x
                        , a = r.y - n.y;
                    if (i instanceof L) {
                        var f = 0
                            , l = {
                                x: 0,
                                y: 0
                            }
                            , c = 0
                            , h = 1;
                        if ("gradient" == i.type_) {
                            var p = i.x0_ / s
                                , d = i.y0_ / o
                                , v = i.x1_ / s
                                , g = i.y1_ / o
                                , y = N(e, p, d)
                                , b = N(e, v, g)
                                , w = b.x - y.x
                                , E = b.y - y.y;
                            f = 180 * Math.atan2(w, E) / Math.PI,
                            0 > f && (f += 360),
                            1e-6 > f && (f = 0)
                        } else {
                            var y = N(e, i.x0_, i.y0_);
                            l = {
                                x: (y.x - n.x) / u,
                                y: (y.y - n.y) / a
                            },
                                u /= s * I,
                                a /= o * I;
                            var S = D.max(u, a);
                            c = 2 * i.r0_ / S,
                                h = 2 * i.r1_ / S - c
                        }
                        var x = i.colors_;
                        x.sort(function(e, t) {
                            return e.offset - t.offset
                        });
                        for (var T = x.length, C = x[0].color, k = x[T - 1].color, O = x[0].alpha * e.globalAlpha, M = x[T - 1].alpha * e.globalAlpha, _ = [], P = 0; T > P; P++) {
                            var H = x[P];
                            _.push(H.offset * h + c + " " + H.color)
                        }
                        t.push('<g_vml_:fill type="', i.type_, '"', ' method="none" focus="100%"', ' color="', C, '"', ' color2="', k, '"', ' colors="', _.join(","), '"', ' opacity="', M, '"', ' g_o_:opacity2="', O, '"', ' angle="', f, '"', ' focusposition="', l.x, ",", l.y, '" />')
                    } else if (i instanceof A) {
                        if (u && a) {
                            var B = -n.x
                                , j = -n.y;
                            t.push("<g_vml_:fill", ' position="', B / u * s * s, ",", j / a * o * o, '"', ' type="tile"', ' src="', i.src_, '" />')
                        }
                    } else {
                        var F = m(e.fillStyle)
                            , q = F.color
                            , R = F.alpha * e.globalAlpha;
                        t.push('<g_vml_:fill color="', q, '" opacity="', R, '" />')
                    }
                }
                function N(e, t, n) {
                    var r = e.m_;
                    return {
                        x: Math.round(I * (t * r[0][0] + n * r[1][0] + r[2][0]) - q),
                        y: Math.round(I * (t * r[0][1] + n * r[1][1] + r[2][1]) - q)
                    }
                }
                function C(e) {
                    return isFinite(e[0][0]) && isFinite(e[0][1]) && isFinite(e[1][0]) && isFinite(e[1][1]) && isFinite(e[2][0]) && isFinite(e[2][1])
                }
                function k(e, t, n) {
                    if (C(t) && (e.m_ = t,
                            n)) {
                        var r = t[0][0] * t[1][1] - t[0][1] * t[1][0];
                        e.lineScale_ = F(j(r))
                    }
                }
                function L(e) {
                    this.type_ = e,
                        this.x0_ = 0,
                        this.y0_ = 0,
                        this.r0_ = 0,
                        this.x1_ = 0,
                        this.y1_ = 0,
                        this.r1_ = 0,
                        this.colors_ = []
                }
                function A(e, t) {
                    switch (M(e),
                        t) {
                        case "repeat":
                        case null :
                        case "":
                            this.repetition_ = "repeat";
                            break;
                        case "repeat-x":
                        case "repeat-y":
                        case "no-repeat":
                            this.repetition_ = t;
                            break;
                        default:
                            O("SYNTAX_ERR")
                    }
                    this.src_ = e.src,
                        this.width_ = e.width,
                        this.height_ = e.height
                }
                function O(e) {
                    throw new _(e)
                }
                function M(e) {
                    e && 1 == e.nodeType && "IMG" == e.tagName || O("TYPE_MISMATCH_ERR"),
                    "complete" != e.readyState && O("INVALID_STATE_ERR")
                }
                function _(e) {
                    this.code = this[e],
                        this.message = e + ": DOM Exception " + this.code
                }
                var D = Math
                    , P = D.round
                    , H = D.sin
                    , B = D.cos
                    , j = D.abs
                    , F = D.sqrt
                    , I = 10
                    , q = I / 2
                    , R = (+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1],
                        "transparent")
                    , U = '" coordsize="100,100'
                    , z = '" filled="t" stroked="f'
                    , W = '" path="'
                    , X = '" color="'
                    , V = ' type="'
                    , $ = '" /></g_vml_:shape>'
                    , J = '"><g_vml_:fill'
                    , K = Array.prototype.slice;
                s(document);
                var Q = {
                    init: function(e) {
                        var t = e || document;
                        t.createElement("canvas"),
                            t.attachEvent("onreadystatechange", n(this.init_, this, t))
                    },
                    init_: function(e) {
                        for (var t = e.getElementsByTagName("canvas"), n = 0; n < t.length; n++)
                            this.initElement(t[n])
                    },
                    initElement: function(t) {
                        if (!t.getContext) {
                            t.getContext = e,
                                s(t.ownerDocument),
                                t.innerHTML = "",
                                t.attachEvent("onpropertychange", o),
                                t.attachEvent("onresize", u);
                            var n = t.attributes;
                            n.width && n.width.specified ? t.style.width = n.width.nodeValue + "px" : t.width = t.clientWidth,
                                n.height && n.height.specified ? t.style.height = n.height.nodeValue + "px" : t.height = t.clientHeight
                        }
                        return t
                    }
                };
                Q.init();
                for (var G = [], Y = 0; 16 > Y; Y++)
                    for (var Z = 0; 16 > Z; Z++)
                        G[16 * Y + Z] = Y.toString(16) + Z.toString(16);
                var et = {
                        aliceblue: "#F0F8FF",
                        antiquewhite: "#FAEBD7",
                        aquamarine: "#7FFFD4",
                        azure: "#F0FFFF",
                        beige: "#F5F5DC",
                        bisque: "#FFE4C4",
                        black: "#000000",
                        blanchedalmond: "#FFEBCD",
                        blueviolet: "#8A2BE2",
                        brown: "#A52A2A",
                        burlywood: "#DEB887",
                        cadetblue: "#5F9EA0",
                        chartreuse: "#7FFF00",
                        chocolate: "#D2691E",
                        coral: "#FF7F50",
                        cornflowerblue: "#6495ED",
                        cornsilk: "#FFF8DC",
                        crimson: "#DC143C",
                        cyan: "#00FFFF",
                        darkblue: "#00008B",
                        darkcyan: "#008B8B",
                        darkgoldenrod: "#B8860B",
                        darkgray: "#A9A9A9",
                        darkgreen: "#006400",
                        darkgrey: "#A9A9A9",
                        darkkhaki: "#BDB76B",
                        darkmagenta: "#8B008B",
                        darkolivegreen: "#556B2F",
                        darkorange: "#FF8C00",
                        darkorchid: "#9932CC",
                        darkred: "#8B0000",
                        darksalmon: "#E9967A",
                        darkseagreen: "#8FBC8F",
                        darkslateblue: "#483D8B",
                        darkslategray: "#2F4F4F",
                        darkslategrey: "#2F4F4F",
                        darkturquoise: "#00CED1",
                        darkviolet: "#9400D3",
                        deeppink: "#FF1493",
                        deepskyblue: "#00BFFF",
                        dimgray: "#696969",
                        dimgrey: "#696969",
                        dodgerblue: "#1E90FF",
                        firebrick: "#B22222",
                        floralwhite: "#FFFAF0",
                        forestgreen: "#228B22",
                        gainsboro: "#DCDCDC",
                        ghostwhite: "#F8F8FF",
                        gold: "#FFD700",
                        goldenrod: "#DAA520",
                        grey: "#808080",
                        greenyellow: "#ADFF2F",
                        honeydew: "#F0FFF0",
                        hotpink: "#FF69B4",
                        indianred: "#CD5C5C",
                        indigo: "#4B0082",
                        ivory: "#FFFFF0",
                        khaki: "#F0E68C",
                        lavender: "#E6E6FA",
                        lavenderblush: "#FFF0F5",
                        lawngreen: "#7CFC00",
                        lemonchiffon: "#FFFACD",
                        lightblue: "#ADD8E6",
                        lightcoral: "#F08080",
                        lightcyan: "#E0FFFF",
                        lightgoldenrodyellow: "#FAFAD2",
                        lightgreen: "#90EE90",
                        lightgrey: "#D3D3D3",
                        lightpink: "#FFB6C1",
                        lightsalmon: "#FFA07A",
                        lightseagreen: "#20B2AA",
                        lightskyblue: "#87CEFA",
                        lightslategray: "#778899",
                        lightslategrey: "#778899",
                        lightsteelblue: "#B0C4DE",
                        lightyellow: "#FFFFE0",
                        limegreen: "#32CD32",
                        linen: "#FAF0E6",
                        magenta: "#FF00FF",
                        mediumaquamarine: "#66CDAA",
                        mediumblue: "#0000CD",
                        mediumorchid: "#BA55D3",
                        mediumpurple: "#9370DB",
                        mediumseagreen: "#3CB371",
                        mediumslateblue: "#7B68EE",
                        mediumspringgreen: "#00FA9A",
                        mediumturquoise: "#48D1CC",
                        mediumvioletred: "#C71585",
                        midnightblue: "#191970",
                        mintcream: "#F5FFFA",
                        mistyrose: "#FFE4E1",
                        moccasin: "#FFE4B5",
                        navajowhite: "#FFDEAD",
                        oldlace: "#FDF5E6",
                        olivedrab: "#6B8E23",
                        orange: "#FFA500",
                        orangered: "#FF4500",
                        orchid: "#DA70D6",
                        palegoldenrod: "#EEE8AA",
                        palegreen: "#98FB98",
                        paleturquoise: "#AFEEEE",
                        palevioletred: "#DB7093",
                        papayawhip: "#FFEFD5",
                        peachpuff: "#FFDAB9",
                        peru: "#CD853F",
                        pink: "#FFC0CB",
                        plum: "#DDA0DD",
                        powderblue: "#B0E0E6",
                        rosybrown: "#BC8F8F",
                        royalblue: "#4169E1",
                        saddlebrown: "#8B4513",
                        salmon: "#FA8072",
                        sandybrown: "#F4A460",
                        seagreen: "#2E8B57",
                        seashell: "#FFF5EE",
                        sienna: "#A0522D",
                        skyblue: "#87CEEB",
                        slateblue: "#6A5ACD",
                        slategray: "#708090",
                        slategrey: "#708090",
                        snow: "#FFFAFA",
                        springgreen: "#00FF7F",
                        steelblue: "#4682B4",
                        tan: "#D2B48C",
                        thistle: "#D8BFD8",
                        tomato: "#FF6347",
                        turquoise: "#40E0D0",
                        violet: "#EE82EE",
                        wheat: "#F5DEB3",
                        whitesmoke: "#F5F5F5",
                        yellowgreen: "#9ACD32"
                    }
                    , tt = {}
                    , nt = {
                        style: "normal",
                        variant: "normal",
                        weight: "normal",
                        size: 10,
                        family: "sans-serif"
                    }
                    , rt = {}
                    , it = {
                        butt: "flat",
                        round: "round"
                    }
                    , st = E.prototype;
                st.clearRect = function() {
                    this.textMeasureEl_ && (this.textMeasureEl_.removeNode(!0),
                        this.textMeasureEl_ = null ),
                        this.element_.innerHTML = ""
                }
                    ,
                    st.beginPath = function() {
                        this.currentPath_ = []
                    }
                    ,
                    st.moveTo = function(e, t) {
                        var n = N(this, e, t);
                        this.currentPath_.push({
                            type: "moveTo",
                            x: n.x,
                            y: n.y
                        }),
                            this.currentX_ = n.x,
                            this.currentY_ = n.y
                    }
                    ,
                    st.lineTo = function(e, t) {
                        var n = N(this, e, t);
                        this.currentPath_.push({
                            type: "lineTo",
                            x: n.x,
                            y: n.y
                        }),
                            this.currentX_ = n.x,
                            this.currentY_ = n.y
                    }
                    ,
                    st.bezierCurveTo = function(e, t, n, r, i, s) {
                        var o = N(this, i, s)
                            , u = N(this, e, t)
                            , a = N(this, n, r);
                        S(this, u, a, o)
                    }
                    ,
                    st.quadraticCurveTo = function(e, t, n, r) {
                        var i = N(this, e, t)
                            , s = N(this, n, r)
                            , o = {
                                x: this.currentX_ + 2 / 3 * (i.x - this.currentX_),
                                y: this.currentY_ + 2 / 3 * (i.y - this.currentY_)
                            }
                            , u = {
                                x: o.x + (s.x - this.currentX_) / 3,
                                y: o.y + (s.y - this.currentY_) / 3
                            };
                        S(this, o, u, s)
                    }
                    ,
                    st.arc = function(e, t, n, r, i, s) {
                        n *= I;
                        var o = s ? "at" : "wa"
                            , u = e + B(r) * n - q
                            , a = t + H(r) * n - q
                            , f = e + B(i) * n - q
                            , l = t + H(i) * n - q;
                        s || (u.toExponential(5) === f.toExponential(5) && (u += .125),
                        a.toExponential(5) === l.toExponential(5) && (a += .125));
                        var c = N(this, e, t)
                            , h = N(this, u, a)
                            , p = N(this, f, l);
                        this.currentPath_.push({
                            type: o,
                            x: c.x,
                            y: c.y,
                            radius: n,
                            xStart: h.x,
                            yStart: h.y,
                            xEnd: p.x,
                            yEnd: p.y
                        })
                    }
                    ,
                    st.rect = function(e, t, n, r) {
                        this.moveTo(e, t),
                            this.lineTo(e + n, t),
                            this.lineTo(e + n, t + r),
                            this.lineTo(e, t + r),
                            this.closePath()
                    }
                    ,
                    st.strokeRect = function(e, t, n, r) {
                        var i = this.currentPath_;
                        this.beginPath(),
                            this.moveTo(e, t),
                            this.lineTo(e + n, t),
                            this.lineTo(e + n, t + r),
                            this.lineTo(e, t + r),
                            this.closePath(),
                            this.stroke(),
                            this.currentPath_ = i
                    }
                    ,
                    st.fillRect = function(e, t, n, r) {
                        var i = this.currentPath_;
                        this.beginPath(),
                            this.moveTo(e, t),
                            this.lineTo(e + n, t),
                            this.lineTo(e + n, t + r),
                            this.lineTo(e, t + r),
                            this.closePath(),
                            this.fill(),
                            this.currentPath_ = i
                    }
                    ,
                    st.createLinearGradient = function(e, t, n, r) {
                        var i = new L("gradient");
                        return i.x0_ = e,
                            i.y0_ = t,
                            i.x1_ = n,
                            i.y1_ = r,
                            i
                    }
                    ,
                    st.createRadialGradient = function(e, t, n, r, i, s) {
                        var o = new L("gradientradial");
                        return o.x0_ = e,
                            o.y0_ = t,
                            o.r0_ = n,
                            o.x1_ = r,
                            o.y1_ = i,
                            o.r1_ = s,
                            o
                    }
                    ,
                    st.drawImage = function(e, t) {
                        var n, r, i, s, o, u, a, f, l = e.runtimeStyle.width, c = e.runtimeStyle.height;
                        e.runtimeStyle.width = "auto",
                            e.runtimeStyle.height = "auto";
                        var h = e.width
                            , p = e.height;
                        if (e.runtimeStyle.width = l,
                                e.runtimeStyle.height = c,
                            3 == arguments.length)
                            n = arguments[1],
                                r = arguments[2],
                                o = u = 0,
                                a = i = h,
                                f = s = p;
                        else if (5 == arguments.length)
                            n = arguments[1],
                                r = arguments[2],
                                i = arguments[3],
                                s = arguments[4],
                                o = u = 0,
                                a = h,
                                f = p;
                        else {
                            if (9 != arguments.length)
                                throw Error("Invalid number of arguments");
                            o = arguments[1],
                                u = arguments[2],
                                a = arguments[3],
                                f = arguments[4],
                                n = arguments[5],
                                r = arguments[6],
                                i = arguments[7],
                                s = arguments[8]
                        }
                        var d = N(this, n, r)
                            , v = []
                            , m = 10
                            , g = 10;
                        if (v.push(" <g_vml_:group", ' coordsize="', I * m, ",", I * g, '"', ' coordorigin="0,0"', ' style="width:', m, "px;height:", g, "px;position:absolute;"),
                            1 != this.m_[0][0] || this.m_[0][1] || 1 != this.m_[1][1] || this.m_[1][0]) {
                            var y = [];
                            y.push("M11=", this.m_[0][0], ",", "M12=", this.m_[1][0], ",", "M21=", this.m_[0][1], ",", "M22=", this.m_[1][1], ",", "Dx=", P(d.x / I), ",", "Dy=", P(d.y / I), "");
                            var b = d
                                , w = N(this, n + i, r)
                                , E = N(this, n, r + s)
                                , S = N(this, n + i, r + s);
                            b.x = D.max(b.x, w.x, E.x, S.x),
                                b.y = D.max(b.y, w.y, E.y, S.y),
                                v.push("padding:0 ", P(b.x / I), "px ", P(b.y / I), "px 0;filter:progid:DXImageTransform.Microsoft.Matrix(", y.join(""), ", sizingmethod='clip');")
                        } else
                            v.push("top:", P(d.y / I), "px;left:", P(d.x / I), "px;");
                        v.push(' ">', '<g_vml_:image src="', e.src, '"', ' style="width:', I * i, "px;", " height:", I * s, 'px"', ' cropleft="', o / h, '"', ' croptop="', u / p, '"', ' cropright="', (h - o - a) / h, '"', ' cropbottom="', (p - u - f) / p, '"', " />", "</g_vml_:group>"),
                            this.element_.insertAdjacentHTML("BeforeEnd", v.join(""))
                    }
                    ,
                    st.stroke = function(e) {
                        var t = []
                            , n = 10
                            , r = 10;
                        t.push("<g_vml_:shape", ' filled="', !!e, '"', ' style="position:absolute;width:', n, "px;height:", r, 'px;"', ' coordorigin="0,0"', ' coordsize="', I * n, ",", I * r, '"', ' stroked="', !e, '"', ' path="');
                        for (var i = {
                            x: null ,
                            y: null
                        }, s = {
                            x: null ,
                            y: null
                        }, o = 0; o < this.currentPath_.length; o++) {
                            var u, a = this.currentPath_[o];
                            switch (a.type) {
                                case "moveTo":
                                    u = a,
                                        t.push(" m ", P(a.x), ",", P(a.y));
                                    break;
                                case "lineTo":
                                    t.push(" l ", P(a.x), ",", P(a.y));
                                    break;
                                case "close":
                                    t.push(" x "),
                                        a = null ;
                                    break;
                                case "bezierCurveTo":
                                    t.push(" c ", P(a.cp1x), ",", P(a.cp1y), ",", P(a.cp2x), ",", P(a.cp2y), ",", P(a.x), ",", P(a.y));
                                    break;
                                case "at":
                                case "wa":
                                    t.push(" ", a.type, " ", P(a.x - this.arcScaleX_ * a.radius), ",", P(a.y - this.arcScaleY_ * a.radius), " ", P(a.x + this.arcScaleX_ * a.radius), ",", P(a.y + this.arcScaleY_ * a.radius), " ", P(a.xStart), ",", P(a.yStart), " ", P(a.xEnd), ",", P(a.yEnd))
                            }
                            a && ((null == i.x || a.x < i.x) && (i.x = a.x),
                            (null == s.x || a.x > s.x) && (s.x = a.x),
                            (null == i.y || a.y < i.y) && (i.y = a.y),
                            (null == s.y || a.y > s.y) && (s.y = a.y))
                        }
                        t.push(' ">'),
                            e ? T(this, t, i, s) : x(this, t),
                            t.push("</g_vml_:shape>"),
                            this.element_.insertAdjacentHTML("beforeEnd", this._clippy(t.join("")))
                    }
                    ,
                    st.fill = function() {
                        this.stroke(!0)
                    }
                    ,
                    st.closePath = function() {
                        this.currentPath_.push({
                            type: "close"
                        })
                    }
                    ,
                    st.save = function() {
                        var e = {};
                        l(this, e),
                            this.aStack_.push(e),
                            this.mStack_.push(this.m_),
                            this.m_ = f(a(), this.m_)
                    }
                    ,
                    st.restore = function() {
                        this.aStack_.length && (l(this.aStack_.pop(), this),
                            this.m_ = this.mStack_.pop())
                    }
                    ,
                    st.translate = function(e, t) {
                        var n = [[1, 0, 0], [0, 1, 0], [e, t, 1]];
                        k(this, f(n, this.m_), !1)
                    }
                    ,
                    st.rotate = function(e) {
                        var t = B(e)
                            , n = H(e)
                            , r = [[t, n, 0], [-n, t, 0], [0, 0, 1]];
                        k(this, f(r, this.m_), !1)
                    }
                    ,
                    st.scale = function(e, t) {
                        this.arcScaleX_ *= e,
                            this.arcScaleY_ *= t;
                        var n = [[e, 0, 0], [0, t, 0], [0, 0, 1]];
                        k(this, f(n, this.m_), !0)
                    }
                    ,
                    st.transform = function(e, t, n, r, i, s) {
                        var o = [[e, t, 0], [n, r, 0], [i, s, 1]];
                        k(this, f(o, this.m_), !0)
                    }
                    ,
                    st.setTransform = function(e, t, n, r, i, s) {
                        var o = [[e, t, 0], [n, r, 0], [i, s, 1]];
                        k(this, o, !0)
                    }
                    ,
                    st.drawText_ = function(e, t, n, i, s) {
                        var o = this.m_
                            , u = 1e3
                            , a = 0
                            , f = u
                            , l = {
                                x: 0,
                                y: 0
                            }
                            , c = []
                            , h = y(g(this.font), this.element_)
                            , p = b(h)
                            , d = this.element_.currentStyle
                            , v = this.textAlign.toLowerCase();
                        switch (v) {
                            case "left":
                            case "center":
                            case "right":
                                break;
                            case "end":
                                v = "ltr" == d.direction ? "right" : "left";
                                break;
                            case "start":
                                v = "rtl" == d.direction ? "right" : "left";
                                break;
                            default:
                                v = "left"
                        }
                        switch (this.textBaseline) {
                            case "hanging":
                            case "top":
                                l.y = h.size / 1.75;
                                break;
                            case "middle":
                                break;
                            default:
                            case null :
                            case "alphabetic":
                            case "ideographic":
                            case "bottom":
                                l.y = -h.size / 2.25
                        }
                        switch (v) {
                            case "right":
                                a = u,
                                    f = .05;
                                break;
                            case "center":
                                a = f = u / 2
                        }
                        var m = N(this, t + l.x, n + l.y);
                        c.push('<g_vml_:line from="', -a, ' 0" to="', f, ' 0.05" ', ' coordsize="100 100" coordorigin="0 0"', ' filled="', !s, '" stroked="', !!s, '" style="position:absolute;width:1px;height:1px;">'),
                            s ? x(this, c) : T(this, c, {
                                x: -a,
                                y: 0
                            }, {
                                x: f,
                                y: h.size
                            });
                        var w = o[0][0].toFixed(3) + "," + o[1][0].toFixed(3) + "," + o[0][1].toFixed(3) + "," + o[1][1].toFixed(3) + ",0,0";
                        if (i) {
                            var E = this.measureText(e).width;
                            if (E > i) {
                                var S = i / E;
                                w = (o[0][0] * S).toFixed(3) + "," + o[1][0].toFixed(3) + "," + (o[0][1] * S).toFixed(3) + "," + o[1][1].toFixed(3) + ",0,0"
                            }
                        }
                        var C = P(m.x / I) + "," + P(m.y / I);
                        c.push('<g_vml_:skew on="t" matrix="', w, '" ', ' offset="', C, '" origin="', a, ' 0" />', '<g_vml_:path textpathok="true" />', '<g_vml_:textpath on="true" string="', r(e), '" style="v-text-align:', v, ";font:", r(p), '" /></g_vml_:line>'),
                            this.element_.insertAdjacentHTML("beforeEnd", c.join(""))
                    }
                    ,
                    st.fillText = function(e, t, n, r) {
                        this.drawText_(e, t, n, r, !1)
                    }
                    ,
                    st.strokeText = function(e, t, n, r) {
                        this.drawText_(e, t, n, r, !0)
                    }
                    ,
                    st.measureText = function(e) {
                        if (!this.textMeasureEl_) {
                            var t = '<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';
                            this.element_.insertAdjacentHTML("beforeEnd", t),
                                this.textMeasureEl_ = this.element_.lastChild
                        }
                        var n = this.element_.ownerDocument;
                        return this.textMeasureEl_.innerHTML = "",
                            this.textMeasureEl_.style.font = this.font,
                            this.textMeasureEl_.appendChild(n.createTextNode(e)),
                        {
                            width: this.textMeasureEl_.offsetWidth
                        }
                    }
                    ,
                    st.clip = function() {
                        var e = this.currentPath_;
                        this._clipRect = this._rect(0, 0, this.canvas.width, this.canvas.height),
                            this._clipPath = this._clipRect + " x " + this._joinPath(e)
                    }
                    ,
                    st._clippy = function(e) {
                        return this._clipPath ? [e, '<g_vml_:shape style="position:absolute;width:10px;height:10px;', z, U, W, this._clipPath, J, V, "solid", X, "#000", $].join("") : e
                    }
                    ,
                    st._joinPath = function(e) {
                        for (var t = "", n = 0, r = e.length; r > n; n++) {
                            var i = e[n];
                            switch (i.type) {
                                case "at":
                                case "wa":
                                    var s = this.arcScaleX_ * i.radius
                                        , o = this.arcScaleY_ * i.radius;
                                    t += [i.type, i.x - s, i.y - o, i.x + s, i.y + o, i.xStart, i.yStart, i.xEnd, i.yEnd].join(" ");
                                    break;
                                case "moveTo":
                                    t += ["m", i.x, i.y, ""].join(" ");
                                    break;
                                case "lineTo":
                                    t += ["l", i.x, i.y, ""].join(" ")
                            }
                        }
                        return t
                    }
                    ,
                    st._rect = function(e, t, n, r) {
                        var i = this._map(e, t)
                            , s = this._map(e + n, t)
                            , o = this._map(e + n, t + r)
                            , u = this._map(e, t + r);
                        return [" m", i.x, " ", i.y, " l", s.x, " ", s.y, " l", o.x, " ", o.y, " l", u.x, " ", u.y, " x"].join("")
                    }
                    ,
                    st._map = function(e, t) {
                        var n = this.m_;
                        return {
                            x: P((e * n[0][0] + t * n[0][1] + n[0][2]) * I - q),
                            y: P((e * n[1][0] + t * n[1][1] + n[1][2]) * I - q)
                        }
                    }
                    ,
                    st.arcTo = function() {}
                    ,
                    st.createPattern = function(e, t) {
                        return new A(e,t)
                    }
                    ,
                    L.prototype.addColorStop = function(e, t) {
                        t = m(t),
                            this.colors_.push({
                                offset: e,
                                color: t.color,
                                alpha: t.alpha
                            })
                    }
                ;
                var ot = _.prototype = new Error;
                ot.INDEX_SIZE_ERR = 1,
                    ot.DOMSTRING_SIZE_ERR = 2,
                    ot.HIERARCHY_REQUEST_ERR = 3,
                    ot.WRONG_DOCUMENT_ERR = 4,
                    ot.INVALID_CHARACTER_ERR = 5,
                    ot.NO_DATA_ALLOWED_ERR = 6,
                    ot.NO_MODIFICATION_ALLOWED_ERR = 7,
                    ot.NOT_FOUND_ERR = 8,
                    ot.NOT_SUPPORTED_ERR = 9,
                    ot.INUSE_ATTRIBUTE_ERR = 10,
                    ot.INVALID_STATE_ERR = 11,
                    ot.SYNTAX_ERR = 12,
                    ot.INVALID_MODIFICATION_ERR = 13,
                    ot.NAMESPACE_ERR = 14,
                    ot.INVALID_ACCESS_ERR = 15,
                    ot.VALIDATION_ERR = 16,
                    ot.TYPE_MISMATCH_ERR = 17,
                    G_vmlCanvasManager = Q,
                    CanvasRenderingContext2D = E,
                    CanvasGradient = L,
                    CanvasPattern = A,
                    DOMException = _
            }()
        }
        , function(e, t, n) {
            (function(i) {
                "use strict";
                function s(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                function o(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var u = function() {
                        function e(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(t, n, r) {
                            return n && e(t.prototype, n),
                            r && e(t, r),
                                t
                        }
                    }()
                    , a = n(7)
                    , f = s(a)
                    , l = n(9)
                    , c = s(l)
                    , h = n(8)
                    , p = s(h)
                    , d = n(29)
                    , v = s(d)
                    , m = n(13)
                    , g = s(m);
                n(113);
                var y = n(17);
                window.$ ? n(117) : n.e(2, function(e) {
                    var t = [e(118)];
                    (function(t) {
                        window.$ = window.jQuery = t,
                            e(117)
                    }
                    ).apply(null , t)
                });
                var b = function() {
                    function e(t) {
                        o(this, e);
                        var n = g["default"].BOSS_MONITOR;
                        y.init({
                            BossId: n,
                            Pwd: 0
                        }),
                            y.monitor(n, {
                                name: t.proj
                            }),
                            this._init().attr(t)
                    }
                    return u(e, [{
                        key: "_init",
                        value: function() {
                            return this.config = {},
                                this
                        }
                    }, {
                        key: "draw",
                        value: function() {
                            var e = this;
                            return window.$ ? (this._draw(),
                                this) : void n.e(2, function(t) {
                                return e._draw(),
                                    e
                            })
                        }
                    }, {
                        key: "_draw",
                        value: function() {
                            this.config.outer && this.config.symbol && (this._beforeDraw(),
                                this._new(),
                                this.show())
                        }
                    }, {
                        key: "destroy",
                        value: function() {
                            return this.painter && this.painter.destroy(),
                                p["default"]._clearData(),
                                "all clear!"
                        }
                    }, {
                        key: "renew",
                        value: function(e) {
                            return $(this.config.outer).show(),
                                this.set("symbol", e),
                                this._beforeDraw(),
                                this._renew(),
                                this.show(),
                                this
                        }
                    }, {
                        key: "setQtData",
                        value: function(e, t) {
                            this.painter && this.painter.setQtData(e, t)
                        }
                    }, {
                        key: "repaint",
                        value: function() {
                            this._beforeDraw(),
                                this.painter._init(),
                                this.painter.repaint()
                        }
                    }, {
                        key: "refresh",
                        value: function() {
                            this.show()
                        }
                    }, {
                        key: "show",
                        value: function() {
                            return this.painter && this.painter.show(),
                                this
                        }
                    }, {
                        key: "hide",
                        value: function() {
                            this.painter && this.painter.hide()
                        }
                    }, {
                        key: "compare",
                        value: function(e) {
                            var t = i.cloneDeep(e)
                                , n = this.config;
                            p["default"].cfg(n.symbol, {
                                outer: n.outer,
                                cmpList: t
                            }),
                                this.painter.show()
                        }
                    }, {
                        key: "setColorize",
                        value: function(e) {
                            this._setColorize(e),
                                p["default"].cfg(this.config.symbol, {
                                    outer: this.config.outer,
                                    color: e
                                }),
                                this.painter.repaint()
                        }
                    }, {
                        key: "_setPainter",
                        value: function(e) {
                            return e && this.set("symbol", e),
                                this._beforeDraw(),
                                this._new(),
                                this
                        }
                    }, {
                        key: "_resetPainter",
                        value: function(e) {
                            return this.set("symbol", e),
                                this._beforeDraw(),
                                this._renew(),
                                this
                        }
                    }, {
                        key: "_beforeDraw",
                        value: function() {
                            var e = this.config
                                , t = e.outer;
                            "string" == typeof t && (e.outer = document.getElementById(t)),
                                this._setColorize(e.color),
                                p["default"].cfg(e.symbol, e)
                        }
                    }, {
                        key: "_new",
                        value: function() {
                            var e = this.config;
                            this.painter = this.painter || (new f["default"]).setSymbol(e.symbol, e.outer.id)
                        }
                    }, {
                        key: "_renew",
                        value: function() {
                            var e = this.config;
                            this.painter._destroyScene(),
                                this.painter.setSymbol(e.symbol, e.outer.id)
                        }
                    }, {
                        key: "_setColorize",
                        value: function(e) {
                            e ? v["default"].HZLD = v["default"]["_" + e] : v["default"].HZLD = v["default"]._HZLD
                        }
                    }, {
                        key: "attr",
                        value: function() {
                            for (var e = this, t = arguments.length, n = Array(t), r = 0; t > r; r++)
                                n[r] = arguments[r];
                            n = c["default"].params(n);
                            var i = n.object
                                , s = n.string;
                            if (i && i.forEach(function(t) {
                                    for (var n in t)
                                        e.set(n, t[n])
                                }),
                                    s)
                                for (var o = 0, u = 2 * Math.floor(s.length / 2); u > o; o += 2)
                                    this.set(s[o], s[o + 1]);
                            return this
                        }
                    }, {
                        key: "set",
                        value: function(e, t) {
                            var n = this.config[e];
                            return n && "object" == typeof n && "object" == typeof t ? i.extend(n, i.cloneDeep(t)) : "object" == typeof t ? this.config[e] = i.cloneDeep(t) : this.config[e] = t,
                                this
                        }
                    }]),
                        e
                }();
                t["default"] = b,
                    window.Alpine = b,
                    e.exports = t["default"]
            }
            ).call(t, n(5))
        }
        , function(e, t, n) {
            var r;
            (function(e, i, s) {
                (function() {
                    function s(e, t) {
                        if (e !== t) {
                            var n = null === e
                                , r = e === k
                                , i = e === e
                                , s = null === t
                                , o = t === k
                                , u = t === t;
                            if (e > t && !s || !i || n && !o && u || r && u)
                                return 1;
                            if (t > e && !n || !u || s && !r && i || o && i)
                                return -1
                        }
                        return 0
                    }
                    function o(e, t, n) {
                        for (var r = e.length, i = n ? r : -1; n ? i-- : ++i < r; )
                            if (t(e[i], i, e))
                                return i;
                        return -1
                    }
                    function u(e, t, n) {
                        if (t !== t)
                            return y(e, n);
                        for (var r = n - 1, i = e.length; ++r < i; )
                            if (e[r] === t)
                                return r;
                        return -1
                    }
                    function a(e) {
                        return "function" == typeof e || !1
                    }
                    function f(e) {
                        return null == e ? "" : e + ""
                    }
                    function l(e, t) {
                        for (var n = -1, r = e.length; ++n < r && t.indexOf(e.charAt(n)) > -1; )
                            ;
                        return n
                    }
                    function c(e, t) {
                        for (var n = e.length; n-- && t.indexOf(e.charAt(n)) > -1; )
                            ;
                        return n
                    }
                    function h(e, t) {
                        return s(e.criteria, t.criteria) || e.index - t.index
                    }
                    function p(e, t, n) {
                        for (var r = -1, i = e.criteria, o = t.criteria, u = i.length, a = n.length; ++r < u; ) {
                            var f = s(i[r], o[r]);
                            if (f) {
                                if (r >= a)
                                    return f;
                                var l = n[r];
                                return f * ("asc" === l || l === !0 ? 1 : -1)
                            }
                        }
                        return e.index - t.index
                    }
                    function d(e) {
                        return Vt[e]
                    }
                    function v(e) {
                        return $t[e]
                    }
                    function m(e, t, n) {
                        return t ? e = Qt[e] : n && (e = Gt[e]),
                        "\\" + e
                    }
                    function g(e) {
                        return "\\" + Gt[e]
                    }
                    function y(e, t, n) {
                        for (var r = e.length, i = t + (n ? 0 : -1); n ? i-- : ++i < r; ) {
                            var s = e[i];
                            if (s !== s)
                                return i
                        }
                        return -1
                    }
                    function b(e) {
                        return !!e && "object" == typeof e
                    }
                    function w(e) {
                        return 160 >= e && e >= 9 && 13 >= e || 32 == e || 160 == e || 5760 == e || 6158 == e || e >= 8192 && (8202 >= e || 8232 == e || 8233 == e || 8239 == e || 8287 == e || 12288 == e || 65279 == e)
                    }
                    function E(e, t) {
                        for (var n = -1, r = e.length, i = -1, s = []; ++n < r; )
                            e[n] === t && (e[n] = V,
                                s[++i] = n);
                        return s
                    }
                    function S(e, t) {
                        for (var n, r = -1, i = e.length, s = -1, o = []; ++r < i; ) {
                            var u = e[r]
                                , a = t ? t(u, r, e) : u;
                            r && n === a || (n = a,
                                o[++s] = u)
                        }
                        return o
                    }
                    function x(e) {
                        for (var t = -1, n = e.length; ++t < n && w(e.charCodeAt(t)); )
                            ;
                        return t
                    }
                    function T(e) {
                        for (var t = e.length; t-- && w(e.charCodeAt(t)); )
                            ;
                        return t
                    }
                    function N(e) {
                        return Jt[e]
                    }
                    function C(e) {
                        function t(e) {
                            if (b(e) && !Aa(e) && !(e instanceof i)) {
                                if (e instanceof r)
                                    return e;
                                if (tu.call(e, "__chain__") && tu.call(e, "__wrapped__"))
                                    return pi(e)
                            }
                            return new r(e)
                        }
                        function n() {}
                        function r(e, t, n) {
                            this.__wrapped__ = e,
                                this.__actions__ = n || [],
                                this.__chain__ = !!t
                        }
                        function i(e) {
                            this.__wrapped__ = e,
                                this.__actions__ = [],
                                this.__dir__ = 1,
                                this.__filtered__ = !1,
                                this.__iteratees__ = [],
                                this.__takeCount__ = Lu,
                                this.__views__ = []
                        }
                        function w() {
                            var e = new i(this.__wrapped__);
                            return e.__actions__ = en(this.__actions__),
                                e.__dir__ = this.__dir__,
                                e.__filtered__ = this.__filtered__,
                                e.__iteratees__ = en(this.__iteratees__),
                                e.__takeCount__ = this.__takeCount__,
                                e.__views__ = en(this.__views__),
                                e
                        }
                        function Z() {
                            if (this.__filtered__) {
                                var e = new i(this);
                                e.__dir__ = -1,
                                    e.__filtered__ = !0
                            } else
                                e = this.clone(),
                                    e.__dir__ *= -1;
                            return e
                        }
                        function rt() {
                            var e = this.__wrapped__.value()
                                , t = this.__dir__
                                , n = Aa(e)
                                , r = 0 > t
                                , i = n ? e.length : 0
                                , s = Vr(0, i, this.__views__)
                                , o = s.start
                                , u = s.end
                                , a = u - o
                                , f = r ? u : o - 1
                                , l = this.__iteratees__
                                , c = l.length
                                , h = 0
                                , p = xu(a, this.__takeCount__);
                            if (!n || U > i || i == a && p == a)
                                return rr(r && n ? e.reverse() : e, this.__actions__);
                            var d = [];
                            e: for (; a-- && p > h; ) {
                                f += t;
                                for (var v = -1, m = e[f]; ++v < c; ) {
                                    var g = l[v]
                                        , y = g.iteratee
                                        , b = g.type
                                        , w = y(m);
                                    if (b == W)
                                        m = w;
                                    else if (!w) {
                                        if (b == z)
                                            continue e;break e
                                    }
                                }
                                d[h++] = m
                            }
                            return d
                        }
                        function st() {
                            this.__data__ = {}
                        }
                        function Vt(e) {
                            return this.has(e) && delete this.__data__[e]
                        }
                        function $t(e) {
                            return "__proto__" == e ? k : this.__data__[e]
                        }
                        function Jt(e) {
                            return "__proto__" != e && tu.call(this.__data__, e)
                        }
                        function Kt(e, t) {
                            return "__proto__" != e && (this.__data__[e] = t),
                                this
                        }
                        function Qt(e) {
                            var t = e ? e.length : 0;
                            for (this.data = {
                                hash: gu(null ),
                                set: new cu
                            }; t--; )
                                this.push(e[t])
                        }
                        function Gt(e, t) {
                            var n = e.data
                                , r = "string" == typeof t || Ps(t) ? n.set.has(t) : n.hash[t];
                            return r ? 0 : -1
                        }
                        function Yt(e) {
                            var t = this.data;
                            "string" == typeof e || Ps(e) ? t.set.add(e) : t.hash[e] = !0
                        }
                        function Zt(e, t) {
                            for (var n = -1, r = e.length, i = -1, s = t.length, o = Ro(r + s); ++n < r; )
                                o[n] = e[n];
                            for (; ++i < s; )
                                o[n++] = t[i];
                            return o
                        }
                        function en(e, t) {
                            var n = -1
                                , r = e.length;
                            for (t || (t = Ro(r)); ++n < r; )
                                t[n] = e[n];
                            return t
                        }
                        function tn(e, t) {
                            for (var n = -1, r = e.length; ++n < r && t(e[n], n, e) !== !1; )
                                ;
                            return e
                        }
                        function nn(e, t) {
                            for (var n = e.length; n-- && t(e[n], n, e) !== !1; )
                                ;
                            return e
                        }
                        function on(e, t) {
                            for (var n = -1, r = e.length; ++n < r; )
                                if (!t(e[n], n, e))
                                    return !1;
                            return !0
                        }
                        function un(e, t, n, r) {
                            for (var i = -1, s = e.length, o = r, u = o; ++i < s; ) {
                                var a = e[i]
                                    , f = +t(a);
                                n(f, o) && (o = f,
                                    u = a)
                            }
                            return u
                        }
                        function an(e, t) {
                            for (var n = -1, r = e.length, i = -1, s = []; ++n < r; ) {
                                var o = e[n];
                                t(o, n, e) && (s[++i] = o)
                            }
                            return s
                        }
                        function fn(e, t) {
                            for (var n = -1, r = e.length, i = Ro(r); ++n < r; )
                                i[n] = t(e[n], n, e);
                            return i
                        }
                        function ln(e, t) {
                            for (var n = -1, r = t.length, i = e.length; ++n < r; )
                                e[i + n] = t[n];
                            return e
                        }
                        function cn(e, t, n, r) {
                            var i = -1
                                , s = e.length;
                            for (r && s && (n = e[++i]); ++i < s; )
                                n = t(n, e[i], i, e);
                            return n
                        }
                        function hn(e, t, n, r) {
                            var i = e.length;
                            for (r && i && (n = e[--i]); i--; )
                                n = t(n, e[i], i, e);
                            return n
                        }
                        function pn(e, t) {
                            for (var n = -1, r = e.length; ++n < r; )
                                if (t(e[n], n, e))
                                    return !0;
                            return !1
                        }
                        function dn(e, t) {
                            for (var n = e.length, r = 0; n--; )
                                r += +t(e[n]) || 0;
                            return r
                        }
                        function vn(e, t) {
                            return e === k ? t : e
                        }
                        function mn(e, t, n, r) {
                            return e !== k && tu.call(r, n) ? e : t
                        }
                        function gn(e, t, n) {
                            for (var r = -1, i = qa(t), s = i.length; ++r < s; ) {
                                var o = i[r]
                                    , u = e[o]
                                    , a = n(u, t[o], o, e, t);
                                (a === a ? a === u : u !== u) && (u !== k || o in e) || (e[o] = a)
                            }
                            return e
                        }
                        function yn(e, t) {
                            return null == t ? e : wn(t, qa(t), e)
                        }
                        function bn(e, t) {
                            for (var n = -1, r = null == e, i = !r && Gr(e), s = i ? e.length : 0, o = t.length, u = Ro(o); ++n < o; ) {
                                var a = t[n];
                                i ? u[n] = Yr(a, s) ? e[a] : k : u[n] = r ? k : e[a]
                            }
                            return u
                        }
                        function wn(e, t, n) {
                            n || (n = {});
                            for (var r = -1, i = t.length; ++r < i; ) {
                                var s = t[r];
                                n[s] = e[s]
                            }
                            return n
                        }
                        function En(e, t, n) {
                            var r = typeof e;
                            return "function" == r ? t === k ? e : or(e, t, n) : null == e ? Lo : "object" == r ? qn(e) : t === k ? Po(e) : Rn(e, t)
                        }
                        function Sn(e, t, n, r, i, s, o) {
                            var u;
                            if (n && (u = i ? n(e, r, i) : n(e)),
                                u !== k)
                                return u;
                            if (!Ps(e))
                                return e;
                            var a = Aa(e);
                            if (a) {
                                if (u = $r(e),
                                        !t)
                                    return en(e, u)
                            } else {
                                var f = ru.call(e)
                                    , l = f == Y;
                                if (f != tt && f != $ && (!l || i))
                                    return Xt[f] ? Kr(e, f, t) : i ? e : {};
                                if (u = Jr(l ? {} : e),
                                        !t)
                                    return yn(u, e)
                            }
                            s || (s = []),
                            o || (o = []);
                            for (var c = s.length; c--; )
                                if (s[c] == e)
                                    return o[c];
                            return s.push(e),
                                o.push(u),
                                (a ? tn : _n)(e, function(r, i) {
                                    u[i] = Sn(r, t, n, i, e, s, o)
                                }),
                                u
                        }
                        function xn(e, t, n) {
                            if ("function" != typeof e)
                                throw new Qo(X);
                            return hu(function() {
                                e.apply(k, n)
                            }, t)
                        }
                        function Tn(e, t) {
                            var n = e ? e.length : 0
                                , r = [];
                            if (!n)
                                return r;
                            var i = -1
                                , s = zr()
                                , o = s == u
                                , a = o && t.length >= U ? vr(t) : null
                                , f = t.length;
                            a && (s = Gt,
                                o = !1,
                                t = a);
                            e: for (; ++i < n; ) {
                                var l = e[i];
                                if (o && l === l) {
                                    for (var c = f; c--; )
                                        if (t[c] === l)
                                            continue e;
                                    r.push(l)
                                } else
                                    s(t, l, 0) < 0 && r.push(l)
                            }
                            return r
                        }
                        function Nn(e, t) {
                            var n = !0;
                            return Bu(e, function(e, r, i) {
                                return n = !!t(e, r, i)
                            }),
                                n
                        }
                        function Cn(e, t, n, r) {
                            var i = r
                                , s = i;
                            return Bu(e, function(e, o, u) {
                                var a = +t(e, o, u);
                                (n(a, i) || a === r && a === s) && (i = a,
                                    s = e)
                            }),
                                s
                        }
                        function kn(e, t, n, r) {
                            var i = e.length;
                            for (n = null == n ? 0 : +n || 0,
                                 0 > n && (n = -n > i ? 0 : i + n),
                                     r = r === k || r > i ? i : +r || 0,
                                 0 > r && (r += i),
                                     i = n > r ? 0 : r >>> 0,
                                     n >>>= 0; i > n; )
                                e[n++] = t;
                            return e
                        }
                        function Ln(e, t) {
                            var n = [];
                            return Bu(e, function(e, r, i) {
                                t(e, r, i) && n.push(e)
                            }),
                                n
                        }
                        function An(e, t, n, r) {
                            var i;
                            return n(e, function(e, n, s) {
                                return t(e, n, s) ? (i = r ? n : e,
                                    !1) : void 0
                            }),
                                i
                        }
                        function On(e, t, n, r) {
                            r || (r = []);
                            for (var i = -1, s = e.length; ++i < s; ) {
                                var o = e[i];
                                b(o) && Gr(o) && (n || Aa(o) || Ns(o)) ? t ? On(o, t, n, r) : ln(r, o) : n || (r[r.length] = o)
                            }
                            return r
                        }
                        function Mn(e, t) {
                            return Fu(e, t, eo)
                        }
                        function _n(e, t) {
                            return Fu(e, t, qa)
                        }
                        function Dn(e, t) {
                            return Iu(e, t, qa)
                        }
                        function Pn(e, t) {
                            for (var n = -1, r = t.length, i = -1, s = []; ++n < r; ) {
                                var o = t[n];
                                Ds(e[o]) && (s[++i] = o)
                            }
                            return s
                        }
                        function Hn(e, t, n) {
                            if (null != e) {
                                n !== k && n in ci(e) && (t = [n]);
                                for (var r = 0, i = t.length; null != e && i > r; )
                                    e = e[t[r++]];
                                return r && r == i ? e : k
                            }
                        }
                        function Bn(e, t, n, r, i, s) {
                            return e === t ? !0 : null == e || null == t || !Ps(e) && !b(t) ? e !== e && t !== t : jn(e, t, Bn, n, r, i, s)
                        }
                        function jn(e, t, n, r, i, s, o) {
                            var u = Aa(e)
                                , a = Aa(t)
                                , f = J
                                , l = J;
                            u || (f = ru.call(e),
                                f == $ ? f = tt : f != tt && (u = zs(e))),
                            a || (l = ru.call(t),
                                l == $ ? l = tt : l != tt && (a = zs(t)));
                            var c = f == tt
                                , h = l == tt
                                , p = f == l;
                            if (p && !u && !c)
                                return Ir(e, t, f);
                            if (!i) {
                                var d = c && tu.call(e, "__wrapped__")
                                    , v = h && tu.call(t, "__wrapped__");
                                if (d || v)
                                    return n(d ? e.value() : e, v ? t.value() : t, r, i, s, o)
                            }
                            if (!p)
                                return !1;
                            s || (s = []),
                            o || (o = []);
                            for (var m = s.length; m--; )
                                if (s[m] == e)
                                    return o[m] == t;
                            s.push(e),
                                o.push(t);
                            var g = (u ? Fr : qr)(e, t, n, r, i, s, o);
                            return s.pop(),
                                o.pop(),
                                g
                        }
                        function Fn(e, t, n) {
                            var r = t.length
                                , i = r
                                , s = !n;
                            if (null == e)
                                return !i;
                            for (e = ci(e); r--; ) {
                                var o = t[r];
                                if (s && o[2] ? o[1] !== e[o[0]] : !(o[0]in e))
                                    return !1
                            }
                            for (; ++r < i; ) {
                                o = t[r];
                                var u = o[0]
                                    , a = e[u]
                                    , f = o[1];
                                if (s && o[2]) {
                                    if (a === k && !(u in e))
                                        return !1
                                } else {
                                    var l = n ? n(a, f, u) : k;
                                    if (l === k ? !Bn(f, a, n, !0) : !l)
                                        return !1
                                }
                            }
                            return !0
                        }
                        function In(e, t) {
                            var n = -1
                                , r = Gr(e) ? Ro(e.length) : [];
                            return Bu(e, function(e, i, s) {
                                r[++n] = t(e, i, s)
                            }),
                                r
                        }
                        function qn(e) {
                            var t = Wr(e);
                            if (1 == t.length && t[0][2]) {
                                var n = t[0][0]
                                    , r = t[0][1];
                                return function(e) {
                                    return null == e ? !1 : e[n] === r && (r !== k || n in ci(e))
                                }
                            }
                            return function(e) {
                                return Fn(e, t)
                            }
                        }
                        function Rn(e, t) {
                            var n = Aa(e)
                                , r = ei(e) && ri(t)
                                , i = e + "";
                            return e = hi(e),
                                function(s) {
                                    if (null == s)
                                        return !1;
                                    var o = i;
                                    if (s = ci(s),
                                        (n || !r) && !(o in s)) {
                                        if (s = 1 == e.length ? s : Hn(s, Kn(e, 0, -1)),
                                            null == s)
                                            return !1;
                                        o = Ci(e),
                                            s = ci(s)
                                    }
                                    return s[o] === t ? t !== k || o in s : Bn(t, s[o], k, !0)
                                }
                        }
                        function Un(e, t, n, r, i) {
                            if (!Ps(e))
                                return e;
                            var s = Gr(t) && (Aa(t) || zs(t))
                                , o = s ? k : qa(t);
                            return tn(o || t, function(u, a) {
                                if (o && (a = u,
                                        u = t[a]),
                                        b(u))
                                    r || (r = []),
                                    i || (i = []),
                                        zn(e, t, a, Un, n, r, i);
                                else {
                                    var f = e[a]
                                        , l = n ? n(f, u, a, e, t) : k
                                        , c = l === k;
                                    c && (l = u),
                                    l === k && (!s || a in e) || !c && (l === l ? l === f : f !== f) || (e[a] = l)
                                }
                            }),
                                e
                        }
                        function zn(e, t, n, r, i, s, o) {
                            for (var u = s.length, a = t[n]; u--; )
                                if (s[u] == a)
                                    return void (e[n] = o[u]);
                            var f = e[n]
                                , l = i ? i(f, a, n, e, t) : k
                                , c = l === k;
                            c && (l = a,
                                Gr(a) && (Aa(a) || zs(a)) ? l = Aa(f) ? f : Gr(f) ? en(f) : [] : qs(a) || Ns(a) ? l = Ns(f) ? Js(f) : qs(f) ? f : {} : c = !1),
                                s.push(a),
                                o.push(l),
                                c ? e[n] = r(l, a, i, s, o) : (l === l ? l !== f : f === f) && (e[n] = l)
                        }
                        function Wn(e) {
                            return function(t) {
                                return null == t ? k : t[e]
                            }
                        }
                        function Xn(e) {
                            var t = e + "";
                            return e = hi(e),
                                function(n) {
                                    return Hn(n, e, t)
                                }
                        }
                        function Vn(e, t) {
                            for (var n = e ? t.length : 0; n--; ) {
                                var r = t[n];
                                if (r != i && Yr(r)) {
                                    var i = r;
                                    pu.call(e, r, 1)
                                }
                            }
                            return e
                        }
                        function $n(e, t) {
                            return e + yu(Cu() * (t - e + 1))
                        }
                        function Jn(e, t, n, r, i) {
                            return i(e, function(e, i, s) {
                                n = r ? (r = !1,
                                    e) : t(n, e, i, s)
                            }),
                                n
                        }
                        function Kn(e, t, n) {
                            var r = -1
                                , i = e.length;
                            t = null == t ? 0 : +t || 0,
                            0 > t && (t = -t > i ? 0 : i + t),
                                n = n === k || n > i ? i : +n || 0,
                            0 > n && (n += i),
                                i = t > n ? 0 : n - t >>> 0,
                                t >>>= 0;
                            for (var s = Ro(i); ++r < i; )
                                s[r] = e[r + t];
                            return s
                        }
                        function Qn(e, t) {
                            var n;
                            return Bu(e, function(e, r, i) {
                                return n = t(e, r, i),
                                    !n
                            }),
                                !!n
                        }
                        function Gn(e, t) {
                            var n = e.length;
                            for (e.sort(t); n--; )
                                e[n] = e[n].value;
                            return e
                        }
                        function Yn(e, t, n) {
                            var r = Rr()
                                , i = -1;
                            t = fn(t, function(e) {
                                return r(e)
                            });
                            var s = In(e, function(e) {
                                var n = fn(t, function(t) {
                                    return t(e)
                                });
                                return {
                                    criteria: n,
                                    index: ++i,
                                    value: e
                                }
                            });
                            return Gn(s, function(e, t) {
                                return p(e, t, n)
                            })
                        }
                        function Zn(e, t) {
                            var n = 0;
                            return Bu(e, function(e, r, i) {
                                n += +t(e, r, i) || 0
                            }),
                                n
                        }
                        function er(e, t) {
                            var n = -1
                                , r = zr()
                                , i = e.length
                                , s = r == u
                                , o = s && i >= U
                                , a = o ? vr() : null
                                , f = [];
                            a ? (r = Gt,
                                s = !1) : (o = !1,
                                a = t ? [] : f);
                            e: for (; ++n < i; ) {
                                var l = e[n]
                                    , c = t ? t(l, n, e) : l;
                                if (s && l === l) {
                                    for (var h = a.length; h--; )
                                        if (a[h] === c)
                                            continue e;
                                    t && a.push(c),
                                        f.push(l)
                                } else
                                    r(a, c, 0) < 0 && ((t || o) && a.push(c),
                                        f.push(l))
                            }
                            return f
                        }
                        function tr(e, t) {
                            for (var n = -1, r = t.length, i = Ro(r); ++n < r; )
                                i[n] = e[t[n]];
                            return i
                        }
                        function nr(e, t, n, r) {
                            for (var i = e.length, s = r ? i : -1; (r ? s-- : ++s < i) && t(e[s], s, e); )
                                ;
                            return n ? Kn(e, r ? 0 : s, r ? s + 1 : i) : Kn(e, r ? s + 1 : 0, r ? i : s)
                        }
                        function rr(e, t) {
                            var n = e;
                            n instanceof i && (n = n.value());
                            for (var r = -1, s = t.length; ++r < s; ) {
                                var o = t[r];
                                n = o.func.apply(o.thisArg, ln([n], o.args))
                            }
                            return n
                        }
                        function ir(e, t, n) {
                            var r = 0
                                , i = e ? e.length : r;
                            if ("number" == typeof t && t === t && Mu >= i) {
                                for (; i > r; ) {
                                    var s = r + i >>> 1
                                        , o = e[s];
                                    (n ? t >= o : t > o) && null !== o ? r = s + 1 : i = s
                                }
                                return i
                            }
                            return sr(e, t, Lo, n)
                        }
                        function sr(e, t, n, r) {
                            t = n(t);
                            for (var i = 0, s = e ? e.length : 0, o = t !== t, u = null === t, a = t === k; s > i; ) {
                                var f = yu((i + s) / 2)
                                    , l = n(e[f])
                                    , c = l !== k
                                    , h = l === l;
                                if (o)
                                    var p = h || r;
                                else
                                    p = u ? h && c && (r || null != l) : a ? h && (r || c) : null == l ? !1 : r ? t >= l : t > l;
                                p ? i = f + 1 : s = f
                            }
                            return xu(s, Ou)
                        }
                        function or(e, t, n) {
                            if ("function" != typeof e)
                                return Lo;
                            if (t === k)
                                return e;
                            switch (n) {
                                case 1:
                                    return function(n) {
                                        return e.call(t, n)
                                    }
                                        ;
                                case 3:
                                    return function(n, r, i) {
                                        return e.call(t, n, r, i)
                                    }
                                        ;
                                case 4:
                                    return function(n, r, i, s) {
                                        return e.call(t, n, r, i, s)
                                    }
                                        ;
                                case 5:
                                    return function(n, r, i, s, o) {
                                        return e.call(t, n, r, i, s, o)
                                    }
                            }
                            return function() {
                                return e.apply(t, arguments)
                            }
                        }
                        function ur(e) {
                            var t = new ou(e.byteLength)
                                , n = new du(t);
                            return n.set(new du(e)),
                                t
                        }
                        function ar(e, t, n) {
                            for (var r = n.length, i = -1, s = Su(e.length - r, 0), o = -1, u = t.length, a = Ro(u + s); ++o < u; )
                                a[o] = t[o];
                            for (; ++i < r; )
                                a[n[i]] = e[i];
                            for (; s--; )
                                a[o++] = e[i++];
                            return a
                        }
                        function fr(e, t, n) {
                            for (var r = -1, i = n.length, s = -1, o = Su(e.length - i, 0), u = -1, a = t.length, f = Ro(o + a); ++s < o; )
                                f[s] = e[s];
                            for (var l = s; ++u < a; )
                                f[l + u] = t[u];
                            for (; ++r < i; )
                                f[l + n[r]] = e[s++];
                            return f
                        }
                        function lr(e, t) {
                            return function(n, r, i) {
                                var s = t ? t() : {};
                                if (r = Rr(r, i, 3),
                                        Aa(n))
                                    for (var o = -1, u = n.length; ++o < u; ) {
                                        var a = n[o];
                                        e(s, a, r(a, o, n), n)
                                    }
                                else
                                    Bu(n, function(t, n, i) {
                                        e(s, t, r(t, n, i), i)
                                    });
                                return s
                            }
                        }
                        function cr(e) {
                            return gs(function(t, n) {
                                var r = -1
                                    , i = null == t ? 0 : n.length
                                    , s = i > 2 ? n[i - 2] : k
                                    , o = i > 2 ? n[2] : k
                                    , u = i > 1 ? n[i - 1] : k;
                                for ("function" == typeof s ? (s = or(s, u, 5),
                                    i -= 2) : (s = "function" == typeof u ? u : k,
                                    i -= s ? 1 : 0),
                                     o && Zr(n[0], n[1], o) && (s = 3 > i ? k : s,
                                         i = 1); ++r < i; ) {
                                    var a = n[r];
                                    a && e(t, a, s)
                                }
                                return t
                            })
                        }
                        function hr(e, t) {
                            return function(n, r) {
                                var i = n ? Uu(n) : 0;
                                if (!ni(i))
                                    return e(n, r);
                                for (var s = t ? i : -1, o = ci(n); (t ? s-- : ++s < i) && r(o[s], s, o) !== !1; )
                                    ;
                                return n
                            }
                        }
                        function pr(e) {
                            return function(t, n, r) {
                                for (var i = ci(t), s = r(t), o = s.length, u = e ? o : -1; e ? u-- : ++u < o; ) {
                                    var a = s[u];
                                    if (n(i[a], a, i) === !1)
                                        break
                                }
                                return t
                            }
                        }
                        function dr(e, t) {
                            function n() {
                                var i = this && this !== rn && this instanceof n ? r : e;
                                return i.apply(t, arguments)
                            }
                            var r = gr(e);
                            return n
                        }
                        function vr(e) {
                            return gu && cu ? new Qt(e) : null
                        }
                        function mr(e) {
                            return function(t) {
                                for (var n = -1, r = No(lo(t)), i = r.length, s = ""; ++n < i; )
                                    s = e(s, r[n], n);
                                return s
                            }
                        }
                        function gr(e) {
                            return function() {
                                var t = arguments;
                                switch (t.length) {
                                    case 0:
                                        return new e;
                                    case 1:
                                        return new e(t[0]);
                                    case 2:
                                        return new e(t[0],t[1]);
                                    case 3:
                                        return new e(t[0],t[1],t[2]);
                                    case 4:
                                        return new e(t[0],t[1],t[2],t[3]);
                                    case 5:
                                        return new e(t[0],t[1],t[2],t[3],t[4]);
                                    case 6:
                                        return new e(t[0],t[1],t[2],t[3],t[4],t[5]);
                                    case 7:
                                        return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])
                                }
                                var n = Hu(e.prototype)
                                    , r = e.apply(n, t);
                                return Ps(r) ? r : n
                            }
                        }
                        function yr(e) {
                            function t(n, r, i) {
                                i && Zr(n, r, i) && (r = k);
                                var s = jr(n, e, k, k, k, k, k, r);
                                return s.placeholder = t.placeholder,
                                    s
                            }
                            return t
                        }
                        function br(e, t) {
                            return gs(function(n) {
                                var r = n[0];
                                return null == r ? r : (n.push(t),
                                    e.apply(k, n))
                            })
                        }
                        function wr(e, t) {
                            return function(n, r, i) {
                                if (i && Zr(n, r, i) && (r = k),
                                        r = Rr(r, i, 3),
                                    1 == r.length) {
                                    n = Aa(n) ? n : li(n);
                                    var s = un(n, r, e, t);
                                    if (!n.length || s !== t)
                                        return s
                                }
                                return Cn(n, r, e, t)
                            }
                        }
                        function Er(e, t) {
                            return function(n, r, i) {
                                if (r = Rr(r, i, 3),
                                        Aa(n)) {
                                    var s = o(n, r, t);
                                    return s > -1 ? n[s] : k
                                }
                                return An(n, r, e)
                            }
                        }
                        function Sr(e) {
                            return function(t, n, r) {
                                return t && t.length ? (n = Rr(n, r, 3),
                                    o(t, n, e)) : -1
                            }
                        }
                        function xr(e) {
                            return function(t, n, r) {
                                return n = Rr(n, r, 3),
                                    An(t, n, e, !0)
                            }
                        }
                        function Tr(e) {
                            return function() {
                                for (var t, n = arguments.length, i = e ? n : -1, s = 0, o = Ro(n); e ? i-- : ++i < n; ) {
                                    var u = o[s++] = arguments[i];
                                    if ("function" != typeof u)
                                        throw new Qo(X);
                                    !t && r.prototype.thru && "wrapper" == Ur(u) && (t = new r([],!0))
                                }
                                for (i = t ? -1 : n; ++i < n; ) {
                                    u = o[i];
                                    var a = Ur(u)
                                        , f = "wrapper" == a ? Ru(u) : k;
                                    t = f && ti(f[0]) && f[1] == (B | _ | P | j) && !f[4].length && 1 == f[9] ? t[Ur(f[0])].apply(t, f[3]) : 1 == u.length && ti(u) ? t[a]() : t.thru(u)
                                }
                                return function() {
                                    var e = arguments
                                        , r = e[0];
                                    if (t && 1 == e.length && Aa(r) && r.length >= U)
                                        return t.plant(r).value();
                                    for (var i = 0, s = n ? o[i].apply(this, e) : r; ++i < n; )
                                        s = o[i].call(this, s);
                                    return s
                                }
                            }
                        }
                        function Nr(e, t) {
                            return function(n, r, i) {
                                return "function" == typeof r && i === k && Aa(n) ? e(n, r) : t(n, or(r, i, 3))
                            }
                        }
                        function Cr(e) {
                            return function(t, n, r) {
                                return ("function" != typeof n || r !== k) && (n = or(n, r, 3)),
                                    e(t, n, eo)
                            }
                        }
                        function kr(e) {
                            return function(t, n, r) {
                                return ("function" != typeof n || r !== k) && (n = or(n, r, 3)),
                                    e(t, n)
                            }
                        }
                        function Lr(e) {
                            return function(t, n, r) {
                                var i = {};
                                return n = Rr(n, r, 3),
                                    _n(t, function(t, r, s) {
                                        var o = n(t, r, s);
                                        r = e ? o : r,
                                            t = e ? t : o,
                                            i[r] = t
                                    }),
                                    i
                            }
                        }
                        function Ar(e) {
                            return function(t, n, r) {
                                return t = f(t),
                                (e ? t : "") + Dr(t, n, r) + (e ? "" : t)
                            }
                        }
                        function Or(e) {
                            var t = gs(function(n, r) {
                                var i = E(r, t.placeholder);
                                return jr(n, e, k, r, i)
                            });
                            return t
                        }
                        function Mr(e, t) {
                            return function(n, r, i, s) {
                                var o = arguments.length < 3;
                                return "function" == typeof r && s === k && Aa(n) ? e(n, r, i, o) : Jn(n, Rr(r, s, 4), i, o, t)
                            }
                        }
                        function _r(e, t, n, r, i, s, o, u, a, f) {
                            function l() {
                                for (var y = arguments.length, b = y, w = Ro(y); b--; )
                                    w[b] = arguments[b];
                                if (r && (w = ar(w, r, i)),
                                    s && (w = fr(w, s, o)),
                                    d || m) {
                                    var S = l.placeholder
                                        , x = E(w, S);
                                    if (y -= x.length,
                                        f > y) {
                                        var T = u ? en(u) : k
                                            , N = Su(f - y, 0)
                                            , C = d ? x : k
                                            , L = d ? k : x
                                            , M = d ? w : k
                                            , _ = d ? k : w;
                                        t |= d ? P : H,
                                            t &= ~(d ? H : P),
                                        v || (t &= ~(A | O));
                                        var D = [e, t, n, M, C, _, L, T, a, N]
                                            , B = _r.apply(k, D);
                                        return ti(e) && zu(B, D),
                                            B.placeholder = S,
                                            B
                                    }
                                }
                                var j = h ? n : this
                                    , F = p ? j[e] : e;
                                return u && (w = ai(w, u)),
                                c && a < w.length && (w.length = a),
                                this && this !== rn && this instanceof l && (F = g || gr(e)),
                                    F.apply(j, w)
                            }
                            var c = t & B
                                , h = t & A
                                , p = t & O
                                , d = t & _
                                , v = t & M
                                , m = t & D
                                , g = p ? k : gr(e);
                            return l
                        }
                        function Dr(e, t, n) {
                            var r = e.length;
                            if (t = +t,
                                r >= t || !wu(t))
                                return "";
                            var i = t - r;
                            return n = null == n ? " " : n + "",
                                go(n, mu(i / n.length)).slice(0, i)
                        }
                        function Pr(e, t, n, r) {
                            function i() {
                                for (var t = -1, u = arguments.length, a = -1, f = r.length, l = Ro(f + u); ++a < f; )
                                    l[a] = r[a];
                                for (; u--; )
                                    l[a++] = arguments[++t];
                                var c = this && this !== rn && this instanceof i ? o : e;
                                return c.apply(s ? n : this, l)
                            }
                            var s = t & A
                                , o = gr(e);
                            return i
                        }
                        function Hr(e) {
                            var t = Xo[e];
                            return function(e, n) {
                                return n = n === k ? 0 : +n || 0,
                                    n ? (n = fu(10, n),
                                    t(e * n) / n) : t(e)
                            }
                        }
                        function Br(e) {
                            return function(t, n, r, i) {
                                var s = Rr(r);
                                return null == r && s === En ? ir(t, n, e) : sr(t, n, s(r, i, 1), e)
                            }
                        }
                        function jr(e, t, n, r, i, s, o, u) {
                            var a = t & O;
                            if (!a && "function" != typeof e)
                                throw new Qo(X);
                            var f = r ? r.length : 0;
                            if (f || (t &= ~(P | H),
                                    r = i = k),
                                    f -= i ? i.length : 0,
                                t & H) {
                                var l = r
                                    , c = i;
                                r = i = k
                            }
                            var h = a ? k : Ru(e)
                                , p = [e, t, n, r, i, l, c, s, o, u];
                            if (h && (ii(p, h),
                                    t = p[1],
                                    u = p[9]),
                                    p[9] = null == u ? a ? 0 : e.length : Su(u - f, 0) || 0,
                                t == A)
                                var d = dr(p[0], p[2]);
                            else
                                d = t != P && t != (A | P) || p[4].length ? _r.apply(k, p) : Pr.apply(k, p);
                            var v = h ? qu : zu;
                            return v(d, p)
                        }
                        function Fr(e, t, n, r, i, s, o) {
                            var u = -1
                                , a = e.length
                                , f = t.length;
                            if (a != f && !(i && f > a))
                                return !1;
                            for (; ++u < a; ) {
                                var l = e[u]
                                    , c = t[u]
                                    , h = r ? r(i ? c : l, i ? l : c, u) : k;
                                if (h !== k) {
                                    if (h)
                                        continue;return !1
                                }
                                if (i) {
                                    if (!pn(t, function(e) {
                                            return l === e || n(l, e, r, i, s, o)
                                        }))
                                        return !1
                                } else if (l !== c && !n(l, c, r, i, s, o))
                                    return !1
                            }
                            return !0
                        }
                        function Ir(e, t, n) {
                            switch (n) {
                                case K:
                                case Q:
                                    return +e == +t;
                                case G:
                                    return e.name == t.name && e.message == t.message;
                                case et:
                                    return e != +e ? t != +t : e == +t;
                                case nt:
                                case it:
                                    return e == t + ""
                            }
                            return !1
                        }
                        function qr(e, t, n, r, i, s, o) {
                            var u = qa(e)
                                , a = u.length
                                , f = qa(t)
                                , l = f.length;
                            if (a != l && !i)
                                return !1;
                            for (var c = a; c--; ) {
                                var h = u[c];
                                if (!(i ? h in t : tu.call(t, h)))
                                    return !1
                            }
                            for (var p = i; ++c < a; ) {
                                h = u[c];
                                var d = e[h]
                                    , v = t[h]
                                    , m = r ? r(i ? v : d, i ? d : v, h) : k;
                                if (m === k ? !n(d, v, r, i, s, o) : !m)
                                    return !1;
                                p || (p = "constructor" == h)
                            }
                            if (!p) {
                                var g = e.constructor
                                    , y = t.constructor;
                                if (g != y && "constructor"in e && "constructor"in t && !("function" == typeof g && g instanceof g && "function" == typeof y && y instanceof y))
                                    return !1
                            }
                            return !0
                        }
                        function Rr(e, n, r) {
                            var i = t.callback || Co;
                            return i = i === Co ? En : i,
                                r ? i(e, n, r) : i
                        }
                        function Ur(e) {
                            for (var t = e.name, n = Pu[t], r = n ? n.length : 0; r--; ) {
                                var i = n[r]
                                    , s = i.func;
                                if (null == s || s == e)
                                    return i.name
                            }
                            return t
                        }
                        function zr(e, n, r) {
                            var i = t.indexOf || Ti;
                            return i = i === Ti ? u : i,
                                e ? i(e, n, r) : i
                        }
                        function Wr(e) {
                            for (var t = to(e), n = t.length; n--; )
                                t[n][2] = ri(t[n][1]);
                            return t
                        }
                        function Xr(e, t) {
                            var n = null == e ? k : e[t];
                            return js(n) ? n : k
                        }
                        function Vr(e, t, n) {
                            for (var r = -1, i = n.length; ++r < i; ) {
                                var s = n[r]
                                    , o = s.size;
                                switch (s.type) {
                                    case "drop":
                                        e += o;
                                        break;
                                    case "dropRight":
                                        t -= o;
                                        break;
                                    case "take":
                                        t = xu(t, e + o);
                                        break;
                                    case "takeRight":
                                        e = Su(e, t - o)
                                }
                            }
                            return {
                                start: e,
                                end: t
                            }
                        }
                        function $r(e) {
                            var t = e.length
                                , n = new e.constructor(t);
                            return t && "string" == typeof e[0] && tu.call(e, "index") && (n.index = e.index,
                                n.input = e.input),
                                n
                        }
                        function Jr(e) {
                            var t = e.constructor;
                            return "function" == typeof t && t instanceof t || (t = $o),
                                new t
                        }
                        function Kr(e, t, n) {
                            var r = e.constructor;
                            switch (t) {
                                case ot:
                                    return ur(e);
                                case K:
                                case Q:
                                    return new r(+e);
                                case ut:
                                case at:
                                case ft:
                                case lt:
                                case ct:
                                case ht:
                                case pt:
                                case dt:
                                case vt:
                                    var i = e.buffer;
                                    return new r(n ? ur(i) : i,e.byteOffset,e.length);
                                case et:
                                case it:
                                    return new r(e);
                                case nt:
                                    var s = new r(e.source,Pt.exec(e));
                                    s.lastIndex = e.lastIndex
                            }
                            return s
                        }
                        function Qr(e, t, n) {
                            null == e || ei(t, e) || (t = hi(t),
                                e = 1 == t.length ? e : Hn(e, Kn(t, 0, -1)),
                                t = Ci(t));
                            var r = null == e ? e : e[t];
                            return null == r ? k : r.apply(e, n)
                        }
                        function Gr(e) {
                            return null != e && ni(Uu(e))
                        }
                        function Yr(e, t) {
                            return e = "number" == typeof e || jt.test(e) ? +e : -1,
                                t = null == t ? _u : t,
                            e > -1 && e % 1 == 0 && t > e
                        }
                        function Zr(e, t, n) {
                            if (!Ps(n))
                                return !1;
                            var r = typeof t;
                            if ("number" == r ? Gr(n) && Yr(t, n.length) : "string" == r && t in n) {
                                var i = n[t];
                                return e === e ? e === i : i !== i
                            }
                            return !1
                        }
                        function ei(e, t) {
                            var n = typeof e;
                            if ("string" == n && kt.test(e) || "number" == n)
                                return !0;
                            if (Aa(e))
                                return !1;
                            var r = !Ct.test(e);
                            return r || null != t && e in ci(t)
                        }
                        function ti(e) {
                            var n = Ur(e);
                            if (n in i.prototype) {
                                var r = t[n];
                                if (e === r)
                                    return !0;
                                var s = Ru(r);
                                return !!s && e === s[0]
                            }
                            return !1
                        }
                        function ni(e) {
                            return "number" == typeof e && e > -1 && e % 1 == 0 && _u >= e
                        }
                        function ri(e) {
                            return e === e && !Ps(e)
                        }
                        function ii(e, t) {
                            var n = e[1]
                                , r = t[1]
                                , i = n | r
                                , s = B > i
                                , o = r == B && n == _ || r == B && n == j && e[7].length <= t[8] || r == (B | j) && n == _;
                            if (!s && !o)
                                return e;
                            r & A && (e[2] = t[2],
                                i |= n & A ? 0 : M);
                            var u = t[3];
                            if (u) {
                                var a = e[3];
                                e[3] = a ? ar(a, u, t[4]) : en(u),
                                    e[4] = a ? E(e[3], V) : en(t[4])
                            }
                            return u = t[5],
                            u && (a = e[5],
                                e[5] = a ? fr(a, u, t[6]) : en(u),
                                e[6] = a ? E(e[5], V) : en(t[6])),
                                u = t[7],
                            u && (e[7] = en(u)),
                            r & B && (e[8] = null == e[8] ? t[8] : xu(e[8], t[8])),
                            null == e[9] && (e[9] = t[9]),
                                e[0] = t[0],
                                e[1] = i,
                                e
                        }
                        function si(e, t) {
                            return e === k ? t : Oa(e, t, si)
                        }
                        function oi(e, t) {
                            e = ci(e);
                            for (var n = -1, r = t.length, i = {}; ++n < r; ) {
                                var s = t[n];
                                s in e && (i[s] = e[s])
                            }
                            return i
                        }
                        function ui(e, t) {
                            var n = {};
                            return Mn(e, function(e, r, i) {
                                t(e, r, i) && (n[r] = e)
                            }),
                                n
                        }
                        function ai(e, t) {
                            for (var n = e.length, r = xu(t.length, n), i = en(e); r--; ) {
                                var s = t[r];
                                e[r] = Yr(s, n) ? i[s] : k
                            }
                            return e
                        }
                        function fi(e) {
                            for (var t = eo(e), n = t.length, r = n && e.length, i = !!r && ni(r) && (Aa(e) || Ns(e)), s = -1, o = []; ++s < n; ) {
                                var u = t[s];
                                (i && Yr(u, r) || tu.call(e, u)) && o.push(u)
                            }
                            return o
                        }
                        function li(e) {
                            return null == e ? [] : Gr(e) ? Ps(e) ? e : $o(e) : so(e)
                        }
                        function ci(e) {
                            return Ps(e) ? e : $o(e)
                        }
                        function hi(e) {
                            if (Aa(e))
                                return e;
                            var t = [];
                            return f(e).replace(Lt, function(e, n, r, i) {
                                t.push(r ? i.replace(_t, "$1") : n || e)
                            }),
                                t
                        }
                        function pi(e) {
                            return e instanceof i ? e.clone() : new r(e.__wrapped__,e.__chain__,en(e.__actions__))
                        }
                        function di(e, t, n) {
                            t = (n ? Zr(e, t, n) : null == t) ? 1 : Su(yu(t) || 1, 1);
                            for (var r = 0, i = e ? e.length : 0, s = -1, o = Ro(mu(i / t)); i > r; )
                                o[++s] = Kn(e, r, r += t);
                            return o
                        }
                        function vi(e) {
                            for (var t = -1, n = e ? e.length : 0, r = -1, i = []; ++t < n; ) {
                                var s = e[t];
                                s && (i[++r] = s)
                            }
                            return i
                        }
                        function mi(e, t, n) {
                            var r = e ? e.length : 0;
                            return r ? ((n ? Zr(e, t, n) : null == t) && (t = 1),
                                Kn(e, 0 > t ? 0 : t)) : []
                        }
                        function gi(e, t, n) {
                            var r = e ? e.length : 0;
                            return r ? ((n ? Zr(e, t, n) : null == t) && (t = 1),
                                t = r - (+t || 0),
                                Kn(e, 0, 0 > t ? 0 : t)) : []
                        }
                        function yi(e, t, n) {
                            return e && e.length ? nr(e, Rr(t, n, 3), !0, !0) : []
                        }
                        function bi(e, t, n) {
                            return e && e.length ? nr(e, Rr(t, n, 3), !0) : []
                        }
                        function wi(e, t, n, r) {
                            var i = e ? e.length : 0;
                            return i ? (n && "number" != typeof n && Zr(e, t, n) && (n = 0,
                                r = i),
                                kn(e, t, n, r)) : []
                        }
                        function Ei(e) {
                            return e ? e[0] : k
                        }
                        function Si(e, t, n) {
                            var r = e ? e.length : 0;
                            return n && Zr(e, t, n) && (t = !1),
                                r ? On(e, t) : []
                        }
                        function xi(e) {
                            var t = e ? e.length : 0;
                            return t ? On(e, !0) : []
                        }
                        function Ti(e, t, n) {
                            var r = e ? e.length : 0;
                            if (!r)
                                return -1;
                            if ("number" == typeof n)
                                n = 0 > n ? Su(r + n, 0) : n;
                            else if (n) {
                                var i = ir(e, t);
                                return r > i && (t === t ? t === e[i] : e[i] !== e[i]) ? i : -1
                            }
                            return u(e, t, n || 0)
                        }
                        function Ni(e) {
                            return gi(e, 1)
                        }
                        function Ci(e) {
                            var t = e ? e.length : 0;
                            return t ? e[t - 1] : k
                        }
                        function ki(e, t, n) {
                            var r = e ? e.length : 0;
                            if (!r)
                                return -1;
                            var i = r;
                            if ("number" == typeof n)
                                i = (0 > n ? Su(r + n, 0) : xu(n || 0, r - 1)) + 1;
                            else if (n) {
                                i = ir(e, t, !0) - 1;
                                var s = e[i];
                                return (t === t ? t === s : s !== s) ? i : -1
                            }
                            if (t !== t)
                                return y(e, i, !0);
                            for (; i--; )
                                if (e[i] === t)
                                    return i;
                            return -1
                        }
                        function Li() {
                            var e = arguments
                                , t = e[0];
                            if (!t || !t.length)
                                return t;
                            for (var n = 0, r = zr(), i = e.length; ++n < i; )
                                for (var s = 0, o = e[n]; (s = r(t, o, s)) > -1; )
                                    pu.call(t, s, 1);
                            return t
                        }
                        function Ai(e, t, n) {
                            var r = [];
                            if (!e || !e.length)
                                return r;
                            var i = -1
                                , s = []
                                , o = e.length;
                            for (t = Rr(t, n, 3); ++i < o; ) {
                                var u = e[i];
                                t(u, i, e) && (r.push(u),
                                    s.push(i))
                            }
                            return Vn(e, s),
                                r
                        }
                        function Oi(e) {
                            return mi(e, 1)
                        }
                        function Mi(e, t, n) {
                            var r = e ? e.length : 0;
                            return r ? (n && "number" != typeof n && Zr(e, t, n) && (t = 0,
                                n = r),
                                Kn(e, t, n)) : []
                        }
                        function _i(e, t, n) {
                            var r = e ? e.length : 0;
                            return r ? ((n ? Zr(e, t, n) : null == t) && (t = 1),
                                Kn(e, 0, 0 > t ? 0 : t)) : []
                        }
                        function Di(e, t, n) {
                            var r = e ? e.length : 0;
                            return r ? ((n ? Zr(e, t, n) : null == t) && (t = 1),
                                t = r - (+t || 0),
                                Kn(e, 0 > t ? 0 : t)) : []
                        }
                        function Pi(e, t, n) {
                            return e && e.length ? nr(e, Rr(t, n, 3), !1, !0) : []
                        }
                        function Hi(e, t, n) {
                            return e && e.length ? nr(e, Rr(t, n, 3)) : []
                        }
                        function Bi(e, t, n, r) {
                            var i = e ? e.length : 0;
                            if (!i)
                                return [];
                            null != t && "boolean" != typeof t && (r = n,
                                n = Zr(e, t, r) ? k : t,
                                t = !1);
                            var s = Rr();
                            return (null != n || s !== En) && (n = s(n, r, 3)),
                                t && zr() == u ? S(e, n) : er(e, n)
                        }
                        function ji(e) {
                            if (!e || !e.length)
                                return [];
                            var t = -1
                                , n = 0;
                            e = an(e, function(e) {
                                return Gr(e) ? (n = Su(e.length, n),
                                    !0) : void 0
                            });
                            for (var r = Ro(n); ++t < n; )
                                r[t] = fn(e, Wn(t));
                            return r
                        }
                        function Fi(e, t, n) {
                            var r = e ? e.length : 0;
                            if (!r)
                                return [];
                            var i = ji(e);
                            return null == t ? i : (t = or(t, n, 4),
                                fn(i, function(e) {
                                    return cn(e, t, k, !0)
                                }))
                        }
                        function Ii() {
                            for (var e = -1, t = arguments.length; ++e < t; ) {
                                var n = arguments[e];
                                if (Gr(n))
                                    var r = r ? ln(Tn(r, n), Tn(n, r)) : n
                            }
                            return r ? er(r) : []
                        }
                        function qi(e, t) {
                            var n = -1
                                , r = e ? e.length : 0
                                , i = {};
                            for (!r || t || Aa(e[0]) || (t = []); ++n < r; ) {
                                var s = e[n];
                                t ? i[s] = t[n] : s && (i[s[0]] = s[1])
                            }
                            return i
                        }
                        function Ri(e) {
                            var n = t(e);
                            return n.__chain__ = !0,
                                n
                        }
                        function Ui(e, t, n) {
                            return t.call(n, e),
                                e
                        }
                        function zi(e, t, n) {
                            return t.call(n, e)
                        }
                        function Wi() {
                            return Ri(this)
                        }
                        function Xi() {
                            return new r(this.value(),this.__chain__)
                        }
                        function Vi(e) {
                            for (var t, r = this; r instanceof n; ) {
                                var i = pi(r);
                                t ? s.__wrapped__ = i : t = i;
                                var s = i;
                                r = r.__wrapped__
                            }
                            return s.__wrapped__ = e,
                                t
                        }
                        function $i() {
                            var e = this.__wrapped__
                                , t = function(e) {
                                    return n && n.__dir__ < 0 ? e : e.reverse()
                                }
                                ;
                            if (e instanceof i) {
                                var n = e;
                                return this.__actions__.length && (n = new i(this)),
                                    n = n.reverse(),
                                    n.__actions__.push({
                                        func: zi,
                                        args: [t],
                                        thisArg: k
                                    }),
                                    new r(n,this.__chain__)
                            }
                            return this.thru(t)
                        }
                        function Ji() {
                            return this.value() + ""
                        }
                        function Ki() {
                            return rr(this.__wrapped__, this.__actions__)
                        }
                        function Qi(e, t, n) {
                            var r = Aa(e) ? on : Nn;
                            return n && Zr(e, t, n) && (t = k),
                            ("function" != typeof t || n !== k) && (t = Rr(t, n, 3)),
                                r(e, t)
                        }
                        function Gi(e, t, n) {
                            var r = Aa(e) ? an : Ln;
                            return t = Rr(t, n, 3),
                                r(e, t)
                        }
                        function Yi(e, t) {
                            return ia(e, qn(t))
                        }
                        function Zi(e, t, n, r) {
                            var i = e ? Uu(e) : 0;
                            return ni(i) || (e = so(e),
                                i = e.length),
                                n = "number" != typeof n || r && Zr(t, n, r) ? 0 : 0 > n ? Su(i + n, 0) : n || 0,
                                "string" == typeof e || !Aa(e) && Us(e) ? i >= n && e.indexOf(t, n) > -1 : !!i && zr(e, t, n) > -1
                        }
                        function es(e, t, n) {
                            var r = Aa(e) ? fn : In;
                            return t = Rr(t, n, 3),
                                r(e, t)
                        }
                        function ts(e, t) {
                            return es(e, Po(t))
                        }
                        function ns(e, t, n) {
                            var r = Aa(e) ? an : Ln;
                            return t = Rr(t, n, 3),
                                r(e, function(e, n, r) {
                                    return !t(e, n, r)
                                })
                        }
                        function rs(e, t, n) {
                            if (n ? Zr(e, t, n) : null == t) {
                                e = li(e);
                                var r = e.length;
                                return r > 0 ? e[$n(0, r - 1)] : k
                            }
                            var i = -1
                                , s = $s(e)
                                , r = s.length
                                , o = r - 1;
                            for (t = xu(0 > t ? 0 : +t || 0, r); ++i < t; ) {
                                var u = $n(i, o)
                                    , a = s[u];
                                s[u] = s[i],
                                    s[i] = a
                            }
                            return s.length = t,
                                s
                        }
                        function is(e) {
                            return rs(e, Lu)
                        }
                        function ss(e) {
                            var t = e ? Uu(e) : 0;
                            return ni(t) ? t : qa(e).length
                        }
                        function os(e, t, n) {
                            var r = Aa(e) ? pn : Qn;
                            return n && Zr(e, t, n) && (t = k),
                            ("function" != typeof t || n !== k) && (t = Rr(t, n, 3)),
                                r(e, t)
                        }
                        function us(e, t, n) {
                            if (null == e)
                                return [];
                            n && Zr(e, t, n) && (t = k);
                            var r = -1;
                            t = Rr(t, n, 3);
                            var i = In(e, function(e, n, i) {
                                return {
                                    criteria: t(e, n, i),
                                    index: ++r,
                                    value: e
                                }
                            });
                            return Gn(i, h)
                        }
                        function as(e, t, n, r) {
                            return null == e ? [] : (r && Zr(t, n, r) && (n = k),
                            Aa(t) || (t = null == t ? [] : [t]),
                            Aa(n) || (n = null == n ? [] : [n]),
                                Yn(e, t, n))
                        }
                        function fs(e, t) {
                            return Gi(e, qn(t))
                        }
                        function ls(e, t) {
                            if ("function" != typeof t) {
                                if ("function" != typeof e)
                                    throw new Qo(X);
                                var n = e;
                                e = t,
                                    t = n
                            }
                            return e = wu(e = +e) ? e : 0,
                                function() {
                                    return --e < 1 ? t.apply(this, arguments) : void 0
                                }
                        }
                        function cs(e, t, n) {
                            return n && Zr(e, t, n) && (t = k),
                                t = e && null == t ? e.length : Su(+t || 0, 0),
                                jr(e, B, k, k, k, k, t)
                        }
                        function hs(e, t) {
                            var n;
                            if ("function" != typeof t) {
                                if ("function" != typeof e)
                                    throw new Qo(X);
                                var r = e;
                                e = t,
                                    t = r
                            }
                            return function() {
                                return --e > 0 && (n = t.apply(this, arguments)),
                                1 >= e && (t = k),
                                    n
                            }
                        }
                        function ps(e, t, n) {
                            function r() {
                                p && uu(p),
                                f && uu(f),
                                    v = 0,
                                    f = p = d = k
                            }
                            function i(t, n) {
                                n && uu(n),
                                    f = p = d = k,
                                t && (v = va(),
                                    l = e.apply(h, a),
                                p || f || (a = h = k))
                            }
                            function s() {
                                var e = t - (va() - c);
                                0 >= e || e > t ? i(d, f) : p = hu(s, e)
                            }
                            function o() {
                                i(g, p)
                            }
                            function u() {
                                if (a = arguments,
                                        c = va(),
                                        h = this,
                                        d = g && (p || !y),
                                    m === !1)
                                    var n = y && !p;
                                else {
                                    f || y || (v = c);
                                    var r = m - (c - v)
                                        , i = 0 >= r || r > m;
                                    i ? (f && (f = uu(f)),
                                        v = c,
                                        l = e.apply(h, a)) : f || (f = hu(o, r))
                                }
                                return i && p ? p = uu(p) : p || t === m || (p = hu(s, t)),
                                n && (i = !0,
                                    l = e.apply(h, a)),
                                !i || p || f || (a = h = k),
                                    l
                            }
                            var a, f, l, c, h, p, d, v = 0, m = !1, g = !0;
                            if ("function" != typeof e)
                                throw new Qo(X);
                            if (t = 0 > t ? 0 : +t || 0,
                                n === !0) {
                                var y = !0;
                                g = !1
                            } else
                                Ps(n) && (y = !!n.leading,
                                    m = "maxWait"in n && Su(+n.maxWait || 0, t),
                                    g = "trailing"in n ? !!n.trailing : g);
                            return u.cancel = r,
                                u
                        }
                        function ds(e, t) {
                            if ("function" != typeof e || t && "function" != typeof t)
                                throw new Qo(X);
                            var n = function() {
                                    var r = arguments
                                        , i = t ? t.apply(this, r) : r[0]
                                        , s = n.cache;
                                    if (s.has(i))
                                        return s.get(i);
                                    var o = e.apply(this, r);
                                    return n.cache = s.set(i, o),
                                        o
                                }
                                ;
                            return n.cache = new ds.Cache,
                                n
                        }
                        function vs(e) {
                            if ("function" != typeof e)
                                throw new Qo(X);
                            return function() {
                                return !e.apply(this, arguments)
                            }
                        }
                        function ms(e) {
                            return hs(2, e)
                        }
                        function gs(e, t) {
                            if ("function" != typeof e)
                                throw new Qo(X);
                            return t = Su(t === k ? e.length - 1 : +t || 0, 0),
                                function() {
                                    for (var n = arguments, r = -1, i = Su(n.length - t, 0), s = Ro(i); ++r < i; )
                                        s[r] = n[t + r];
                                    switch (t) {
                                        case 0:
                                            return e.call(this, s);
                                        case 1:
                                            return e.call(this, n[0], s);
                                        case 2:
                                            return e.call(this, n[0], n[1], s)
                                    }
                                    var o = Ro(t + 1);
                                    for (r = -1; ++r < t; )
                                        o[r] = n[r];
                                    return o[t] = s,
                                        e.apply(this, o)
                                }
                        }
                        function ys(e) {
                            if ("function" != typeof e)
                                throw new Qo(X);
                            return function(t) {
                                return e.apply(this, t)
                            }
                        }
                        function bs(e, t, n) {
                            var r = !0
                                , i = !0;
                            if ("function" != typeof e)
                                throw new Qo(X);
                            return n === !1 ? r = !1 : Ps(n) && (r = "leading"in n ? !!n.leading : r,
                                i = "trailing"in n ? !!n.trailing : i),
                                ps(e, t, {
                                    leading: r,
                                    maxWait: +t,
                                    trailing: i
                                })
                        }
                        function ws(e, t) {
                            return t = null == t ? Lo : t,
                                jr(t, P, k, [e], [])
                        }
                        function Es(e, t, n, r) {
                            return t && "boolean" != typeof t && Zr(e, t, n) ? t = !1 : "function" == typeof t && (r = n,
                                n = t,
                                t = !1),
                                "function" == typeof n ? Sn(e, t, or(n, r, 1)) : Sn(e, t)
                        }
                        function Ss(e, t, n) {
                            return "function" == typeof t ? Sn(e, !0, or(t, n, 1)) : Sn(e, !0)
                        }
                        function xs(e, t) {
                            return e > t
                        }
                        function Ts(e, t) {
                            return e >= t
                        }
                        function Ns(e) {
                            return b(e) && Gr(e) && tu.call(e, "callee") && !lu.call(e, "callee")
                        }
                        function Cs(e) {
                            return e === !0 || e === !1 || b(e) && ru.call(e) == K
                        }
                        function ks(e) {
                            return b(e) && ru.call(e) == Q
                        }
                        function Ls(e) {
                            return !!e && 1 === e.nodeType && b(e) && !qs(e)
                        }
                        function As(e) {
                            return null == e ? !0 : Gr(e) && (Aa(e) || Us(e) || Ns(e) || b(e) && Ds(e.splice)) ? !e.length : !qa(e).length
                        }
                        function Os(e, t, n, r) {
                            n = "function" == typeof n ? or(n, r, 3) : k;
                            var i = n ? n(e, t) : k;
                            return i === k ? Bn(e, t, n) : !!i
                        }
                        function Ms(e) {
                            return b(e) && "string" == typeof e.message && ru.call(e) == G
                        }
                        function _s(e) {
                            return "number" == typeof e && wu(e)
                        }
                        function Ds(e) {
                            return Ps(e) && ru.call(e) == Y
                        }
                        function Ps(e) {
                            var t = typeof e;
                            return !!e && ("object" == t || "function" == t)
                        }
                        function Hs(e, t, n, r) {
                            return n = "function" == typeof n ? or(n, r, 3) : k,
                                Fn(e, Wr(t), n)
                        }
                        function Bs(e) {
                            return Is(e) && e != +e
                        }
                        function js(e) {
                            return null == e ? !1 : Ds(e) ? su.test(eu.call(e)) : b(e) && Bt.test(e)
                        }
                        function Fs(e) {
                            return null === e
                        }
                        function Is(e) {
                            return "number" == typeof e || b(e) && ru.call(e) == et
                        }
                        function qs(e) {
                            var t;
                            if (!b(e) || ru.call(e) != tt || Ns(e) || !tu.call(e, "constructor") && (t = e.constructor,
                                "function" == typeof t && !(t instanceof t)))
                                return !1;
                            var n;
                            return Mn(e, function(e, t) {
                                n = t
                            }),
                            n === k || tu.call(e, n)
                        }
                        function Rs(e) {
                            return Ps(e) && ru.call(e) == nt
                        }
                        function Us(e) {
                            return "string" == typeof e || b(e) && ru.call(e) == it
                        }
                        function zs(e) {
                            return b(e) && ni(e.length) && !!Wt[ru.call(e)]
                        }
                        function Ws(e) {
                            return e === k
                        }
                        function Xs(e, t) {
                            return t > e
                        }
                        function Vs(e, t) {
                            return t >= e
                        }
                        function $s(e) {
                            var t = e ? Uu(e) : 0;
                            return ni(t) ? t ? en(e) : [] : so(e)
                        }
                        function Js(e) {
                            return wn(e, eo(e))
                        }
                        function Ks(e, t, n) {
                            var r = Hu(e);
                            return n && Zr(e, t, n) && (t = k),
                                t ? yn(r, t) : r
                        }
                        function Qs(e) {
                            return Pn(e, eo(e))
                        }
                        function Gs(e, t, n) {
                            var r = null == e ? k : Hn(e, hi(t), t + "");
                            return r === k ? n : r
                        }
                        function Ys(e, t) {
                            if (null == e)
                                return !1;
                            var n = tu.call(e, t);
                            if (!n && !ei(t)) {
                                if (t = hi(t),
                                        e = 1 == t.length ? e : Hn(e, Kn(t, 0, -1)),
                                    null == e)
                                    return !1;
                                t = Ci(t),
                                    n = tu.call(e, t)
                            }
                            return n || ni(e.length) && Yr(t, e.length) && (Aa(e) || Ns(e))
                        }
                        function Zs(e, t, n) {
                            n && Zr(e, t, n) && (t = k);
                            for (var r = -1, i = qa(e), s = i.length, o = {}; ++r < s; ) {
                                var u = i[r]
                                    , a = e[u];
                                t ? tu.call(o, a) ? o[a].push(u) : o[a] = [u] : o[a] = u
                            }
                            return o
                        }
                        function eo(e) {
                            if (null == e)
                                return [];
                            Ps(e) || (e = $o(e));
                            var t = e.length;
                            t = t && ni(t) && (Aa(e) || Ns(e)) && t || 0;
                            for (var n = e.constructor, r = -1, i = "function" == typeof n && n.prototype === e, s = Ro(t), o = t > 0; ++r < t; )
                                s[r] = r + "";
                            for (var u in e)
                                o && Yr(u, t) || "constructor" == u && (i || !tu.call(e, u)) || s.push(u);
                            return s
                        }
                        function to(e) {
                            e = ci(e);
                            for (var t = -1, n = qa(e), r = n.length, i = Ro(r); ++t < r; ) {
                                var s = n[t];
                                i[t] = [s, e[s]]
                            }
                            return i
                        }
                        function no(e, t, n) {
                            var r = null == e ? k : e[t];
                            return r === k && (null == e || ei(t, e) || (t = hi(t),
                                e = 1 == t.length ? e : Hn(e, Kn(t, 0, -1)),
                                r = null == e ? k : e[Ci(t)]),
                                r = r === k ? n : r),
                                Ds(r) ? r.call(e) : r
                        }
                        function ro(e, t, n) {
                            if (null == e)
                                return e;
                            var r = t + "";
                            t = null != e[r] || ei(t, e) ? [r] : hi(t);
                            for (var i = -1, s = t.length, o = s - 1, u = e; null != u && ++i < s; ) {
                                var a = t[i];
                                Ps(u) && (i == o ? u[a] = n : null == u[a] && (u[a] = Yr(t[i + 1]) ? [] : {})),
                                    u = u[a]
                            }
                            return e
                        }
                        function io(e, t, n, r) {
                            var i = Aa(e) || zs(e);
                            if (t = Rr(t, r, 4),
                                null == n)
                                if (i || Ps(e)) {
                                    var s = e.constructor;
                                    n = i ? Aa(e) ? new s : [] : Hu(Ds(s) ? s.prototype : k)
                                } else
                                    n = {};
                            return (i ? tn : _n)(e, function(e, r, i) {
                                return t(n, e, r, i)
                            }),
                                n
                        }
                        function so(e) {
                            return tr(e, qa(e))
                        }
                        function oo(e) {
                            return tr(e, eo(e))
                        }
                        function uo(e, t, n) {
                            return t = +t || 0,
                                n === k ? (n = t,
                                    t = 0) : n = +n || 0,
                            e >= xu(t, n) && e < Su(t, n)
                        }
                        function ao(e, t, n) {
                            n && Zr(e, t, n) && (t = n = k);
                            var r = null == e
                                , i = null == t;
                            if (null == n && (i && "boolean" == typeof e ? (n = e,
                                    e = 1) : "boolean" == typeof t && (n = t,
                                    i = !0)),
                                r && i && (t = 1,
                                    i = !1),
                                    e = +e || 0,
                                    i ? (t = e,
                                        e = 0) : t = +t || 0,
                                n || e % 1 || t % 1) {
                                var s = Cu();
                                return xu(e + s * (t - e + au("1e-" + ((s + "").length - 1))), t)
                            }
                            return $n(e, t)
                        }
                        function fo(e) {
                            return e = f(e),
                            e && e.charAt(0).toUpperCase() + e.slice(1)
                        }
                        function lo(e) {
                            return e = f(e),
                            e && e.replace(Ft, d).replace(Mt, "")
                        }
                        function co(e, t, n) {
                            e = f(e),
                                t += "";
                            var r = e.length;
                            return n = n === k ? r : xu(0 > n ? 0 : +n || 0, r),
                                n -= t.length,
                            n >= 0 && e.indexOf(t, n) == n
                        }
                        function ho(e) {
                            return e = f(e),
                                e && St.test(e) ? e.replace(wt, v) : e
                        }
                        function po(e) {
                            return e = f(e),
                                e && Ot.test(e) ? e.replace(At, m) : e || "(?:)"
                        }
                        function vo(e, t, n) {
                            e = f(e),
                                t = +t;
                            var r = e.length;
                            if (r >= t || !wu(t))
                                return e;
                            var i = (t - r) / 2
                                , s = yu(i)
                                , o = mu(i);
                            return n = Dr("", o, n),
                            n.slice(0, s) + e + n
                        }
                        function mo(e, t, n) {
                            return (n ? Zr(e, t, n) : null == t) ? t = 0 : t && (t = +t),
                                e = wo(e),
                                Nu(e, t || (Ht.test(e) ? 16 : 10))
                        }
                        function go(e, t) {
                            var n = "";
                            if (e = f(e),
                                    t = +t,
                                1 > t || !e || !wu(t))
                                return n;
                            do
                                t % 2 && (n += e),
                                    t = yu(t / 2),
                                    e += e;
                            while (t);return n
                        }
                        function yo(e, t, n) {
                            return e = f(e),
                                n = null == n ? 0 : xu(0 > n ? 0 : +n || 0, e.length),
                            e.lastIndexOf(t, n) == n
                        }
                        function bo(e, n, r) {
                            var i = t.templateSettings;
                            r && Zr(e, n, r) && (n = r = k),
                                e = f(e),
                                n = gn(yn({}, r || n), i, mn);
                            var s, o, u = gn(yn({}, n.imports), i.imports, mn), a = qa(u), l = tr(u, a), c = 0, h = n.interpolate || It, p = "__p += '", d = Jo((n.escape || It).source + "|" + h.source + "|" + (h === Nt ? Dt : It).source + "|" + (n.evaluate || It).source + "|$", "g"), v = "//# sourceURL=" + ("sourceURL"in n ? n.sourceURL : "lodash.templateSources[" + ++zt + "]") + "\n";
                            e.replace(d, function(t, n, r, i, u, a) {
                                return r || (r = i),
                                    p += e.slice(c, a).replace(qt, g),
                                n && (s = !0,
                                    p += "' +\n__e(" + n + ") +\n'"),
                                u && (o = !0,
                                    p += "';\n" + u + ";\n__p += '"),
                                r && (p += "' +\n((__t = (" + r + ")) == null ? '' : __t) +\n'"),
                                    c = a + t.length,
                                    t
                            }),
                                p += "';\n";
                            var m = n.variable;
                            m || (p = "with (obj) {\n" + p + "\n}\n"),
                                p = (o ? p.replace(mt, "") : p).replace(gt, "$1").replace(yt, "$1;"),
                                p = "function(" + (m || "obj") + ") {\n" + (m ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (s ? ", __e = _.escape" : "") + (o ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + p + "return __p\n}";
                            var y = Ga(function() {
                                return Wo(a, v + "return " + p).apply(k, l)
                            });
                            if (y.source = p,
                                    Ms(y))
                                throw y;
                            return y
                        }
                        function wo(e, t, n) {
                            var r = e;
                            return (e = f(e)) ? (n ? Zr(r, t, n) : null == t) ? e.slice(x(e), T(e) + 1) : (t += "",
                                e.slice(l(e, t), c(e, t) + 1)) : e
                        }
                        function Eo(e, t, n) {
                            var r = e;
                            return e = f(e),
                                e ? (n ? Zr(r, t, n) : null == t) ? e.slice(x(e)) : e.slice(l(e, t + "")) : e
                        }
                        function So(e, t, n) {
                            var r = e;
                            return e = f(e),
                                e ? (n ? Zr(r, t, n) : null == t) ? e.slice(0, T(e) + 1) : e.slice(0, c(e, t + "") + 1) : e
                        }
                        function xo(e, t, n) {
                            n && Zr(e, t, n) && (t = k);
                            var r = F
                                , i = I;
                            if (null != t)
                                if (Ps(t)) {
                                    var s = "separator"in t ? t.separator : s;
                                    r = "length"in t ? +t.length || 0 : r,
                                        i = "omission"in t ? f(t.omission) : i
                                } else
                                    r = +t || 0;
                            if (e = f(e),
                                r >= e.length)
                                return e;
                            var o = r - i.length;
                            if (1 > o)
                                return i;
                            var u = e.slice(0, o);
                            if (null == s)
                                return u + i;
                            if (Rs(s)) {
                                if (e.slice(o).search(s)) {
                                    var a, l, c = e.slice(0, o);
                                    for (s.global || (s = Jo(s.source, (Pt.exec(s) || "") + "g")),
                                             s.lastIndex = 0; a = s.exec(c); )
                                        l = a.index;
                                    u = u.slice(0, null == l ? o : l)
                                }
                            } else if (e.indexOf(s, o) != o) {
                                var h = u.lastIndexOf(s);
                                h > -1 && (u = u.slice(0, h))
                            }
                            return u + i
                        }
                        function To(e) {
                            return e = f(e),
                                e && Et.test(e) ? e.replace(bt, N) : e
                        }
                        function No(e, t, n) {
                            return n && Zr(e, t, n) && (t = k),
                                e = f(e),
                            e.match(t || Rt) || []
                        }
                        function Co(e, t, n) {
                            return n && Zr(e, t, n) && (t = k),
                                b(e) ? Ao(e) : En(e, t)
                        }
                        function ko(e) {
                            return function() {
                                return e
                            }
                        }
                        function Lo(e) {
                            return e
                        }
                        function Ao(e) {
                            return qn(Sn(e, !0))
                        }
                        function Oo(e, t) {
                            return Rn(e, Sn(t, !0))
                        }
                        function Mo(e, t, n) {
                            if (null == n) {
                                var r = Ps(t)
                                    , i = r ? qa(t) : k
                                    , s = i && i.length ? Pn(t, i) : k;
                                (s ? s.length : r) || (s = !1,
                                    n = t,
                                    t = e,
                                    e = this)
                            }
                            s || (s = Pn(t, qa(t)));
                            var o = !0
                                , u = -1
                                , a = Ds(e)
                                , f = s.length;
                            n === !1 ? o = !1 : Ps(n) && "chain"in n && (o = n.chain);
                            for (; ++u < f; ) {
                                var l = s[u]
                                    , c = t[l];
                                e[l] = c,
                                a && (e.prototype[l] = function(t) {
                                    return function() {
                                        var n = this.__chain__;
                                        if (o || n) {
                                            var r = e(this.__wrapped__)
                                                , i = r.__actions__ = en(this.__actions__);
                                            return i.push({
                                                func: t,
                                                args: arguments,
                                                thisArg: e
                                            }),
                                                r.__chain__ = n,
                                                r
                                        }
                                        return t.apply(e, ln([this.value()], arguments))
                                    }
                                }(c))
                            }
                            return e
                        }
                        function _o() {
                            return rn._ = iu,
                                this
                        }
                        function Do() {}
                        function Po(e) {
                            return ei(e) ? Wn(e) : Xn(e)
                        }
                        function Ho(e) {
                            return function(t) {
                                return Hn(e, hi(t), t + "")
                            }
                        }
                        function Bo(e, t, n) {
                            n && Zr(e, t, n) && (t = n = k),
                                e = +e || 0,
                                n = null == n ? 1 : +n || 0,
                                null == t ? (t = e,
                                    e = 0) : t = +t || 0;
                            for (var r = -1, i = Su(mu((t - e) / (n || 1)), 0), s = Ro(i); ++r < i; )
                                s[r] = e,
                                    e += n;
                            return s
                        }
                        function jo(e, t, n) {
                            if (e = yu(e),
                                1 > e || !wu(e))
                                return [];
                            var r = -1
                                , i = Ro(xu(e, Au));
                            for (t = or(t, n, 1); ++r < e; )
                                Au > r ? i[r] = t(r) : t(r);
                            return i
                        }
                        function Fo(e) {
                            var t = ++nu;
                            return f(e) + t
                        }
                        function Io(e, t) {
                            return (+e || 0) + (+t || 0)
                        }
                        function qo(e, t, n) {
                            return n && Zr(e, t, n) && (t = k),
                                t = Rr(t, n, 3),
                                1 == t.length ? dn(Aa(e) ? e : li(e), t) : Zn(e, t)
                        }
                        e = e ? sn.defaults(rn.Object(), e, sn.pick(rn, Ut)) : rn;
                        var Ro = e.Array
                            , Uo = e.Date
                            , zo = e.Error
                            , Wo = e.Function
                            , Xo = e.Math
                            , Vo = e.Number
                            , $o = e.Object
                            , Jo = e.RegExp
                            , Ko = e.String
                            , Qo = e.TypeError
                            , Go = Ro.prototype
                            , Yo = $o.prototype
                            , Zo = Ko.prototype
                            , eu = Wo.prototype.toString
                            , tu = Yo.hasOwnProperty
                            , nu = 0
                            , ru = Yo.toString
                            , iu = rn._
                            , su = Jo("^" + eu.call(tu).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$")
                            , ou = e.ArrayBuffer
                            , uu = e.clearTimeout
                            , au = e.parseFloat
                            , fu = Xo.pow
                            , lu = Yo.propertyIsEnumerable
                            , cu = Xr(e, "Set")
                            , hu = e.setTimeout
                            , pu = Go.splice
                            , du = e.Uint8Array
                            , vu = Xr(e, "WeakMap")
                            , mu = Xo.ceil
                            , gu = Xr($o, "create")
                            , yu = Xo.floor
                            , bu = Xr(Ro, "isArray")
                            , wu = e.isFinite
                            , Eu = Xr($o, "keys")
                            , Su = Xo.max
                            , xu = Xo.min
                            , Tu = Xr(Uo, "now")
                            , Nu = e.parseInt
                            , Cu = Xo.random
                            , ku = Vo.NEGATIVE_INFINITY
                            , Lu = Vo.POSITIVE_INFINITY
                            , Au = 4294967295
                            , Ou = Au - 1
                            , Mu = Au >>> 1
                            , _u = 9007199254740991
                            , Du = vu && new vu
                            , Pu = {};
                        t.support = {},
                            t.templateSettings = {
                                escape: xt,
                                evaluate: Tt,
                                interpolate: Nt,
                                variable: "",
                                imports: {
                                    _: t
                                }
                            };
                        var Hu = function() {
                                function e() {}
                                return function(t) {
                                    if (Ps(t)) {
                                        e.prototype = t;
                                        var n = new e;
                                        e.prototype = k
                                    }
                                    return n || {}
                                }
                            }()
                            , Bu = hr(_n)
                            , ju = hr(Dn, !0)
                            , Fu = pr()
                            , Iu = pr(!0)
                            , qu = Du ? function(e, t) {
                                return Du.set(e, t),
                                    e
                            }
                                : Lo
                            , Ru = Du ? function(e) {
                                return Du.get(e)
                            }
                                : Do
                            , Uu = Wn("length")
                            , zu = function() {
                                var e = 0
                                    , t = 0;
                                return function(n, r) {
                                    var i = va()
                                        , s = R - (i - t);
                                    if (t = i,
                                        s > 0) {
                                        if (++e >= q)
                                            return n
                                    } else
                                        e = 0;
                                    return qu(n, r)
                                }
                            }()
                            , Wu = gs(function(e, t) {
                                return b(e) && Gr(e) ? Tn(e, On(t, !1, !0)) : []
                            })
                            , Xu = Sr()
                            , Vu = Sr(!0)
                            , $u = gs(function(e) {
                                for (var t = e.length, n = t, r = Ro(c), i = zr(), s = i == u, o = []; n--; ) {
                                    var a = e[n] = Gr(a = e[n]) ? a : [];
                                    r[n] = s && a.length >= 120 ? vr(n && a) : null
                                }
                                var f = e[0]
                                    , l = -1
                                    , c = f ? f.length : 0
                                    , h = r[0];
                                e: for (; ++l < c; )
                                    if (a = f[l],
                                        (h ? Gt(h, a) : i(o, a, 0)) < 0) {
                                        for (var n = t; --n; ) {
                                            var p = r[n];
                                            if ((p ? Gt(p, a) : i(e[n], a, 0)) < 0)
                                                continue e
                                        }
                                        h && h.push(a),
                                            o.push(a)
                                    }
                                return o
                            })
                            , Ju = gs(function(e, t) {
                                t = On(t);
                                var n = bn(e, t);
                                return Vn(e, t.sort(s)),
                                    n
                            })
                            , Ku = Br()
                            , Qu = Br(!0)
                            , Gu = gs(function(e) {
                                return er(On(e, !1, !0))
                            })
                            , Yu = gs(function(e, t) {
                                return Gr(e) ? Tn(e, t) : []
                            })
                            , Zu = gs(ji)
                            , ea = gs(function(e) {
                                var t = e.length
                                    , n = t > 2 ? e[t - 2] : k
                                    , r = t > 1 ? e[t - 1] : k;
                                return t > 2 && "function" == typeof n ? t -= 2 : (n = t > 1 && "function" == typeof r ? (--t,
                                    r) : k,
                                    r = k),
                                    e.length = t,
                                    Fi(e, n, r)
                            })
                            , ta = gs(function(e) {
                                return e = On(e),
                                    this.thru(function(t) {
                                        return Zt(Aa(t) ? t : [ci(t)], e)
                                    })
                            })
                            , na = gs(function(e, t) {
                                return bn(e, On(t))
                            })
                            , ra = lr(function(e, t, n) {
                                tu.call(e, n) ? ++e[n] : e[n] = 1
                            })
                            , ia = Er(Bu)
                            , sa = Er(ju, !0)
                            , oa = Nr(tn, Bu)
                            , ua = Nr(nn, ju)
                            , aa = lr(function(e, t, n) {
                                tu.call(e, n) ? e[n].push(t) : e[n] = [t]
                            })
                            , fa = lr(function(e, t, n) {
                                e[n] = t
                            })
                            , la = gs(function(e, t, n) {
                                var r = -1
                                    , i = "function" == typeof t
                                    , s = ei(t)
                                    , o = Gr(e) ? Ro(e.length) : [];
                                return Bu(e, function(e) {
                                    var u = i ? t : s && null != e ? e[t] : k;
                                    o[++r] = u ? u.apply(e, n) : Qr(e, t, n)
                                }),
                                    o
                            })
                            , ca = lr(function(e, t, n) {
                                e[n ? 0 : 1].push(t)
                            }, function() {
                                return [[], []]
                            })
                            , ha = Mr(cn, Bu)
                            , pa = Mr(hn, ju)
                            , da = gs(function(e, t) {
                                if (null == e)
                                    return [];
                                var n = t[2];
                                return n && Zr(t[0], t[1], n) && (t.length = 1),
                                    Yn(e, On(t), [])
                            })
                            , va = Tu || function() {
                                    return (new Uo).getTime()
                                }
                            , ma = gs(function(e, t, n) {
                                var r = A;
                                if (n.length) {
                                    var i = E(n, ma.placeholder);
                                    r |= P
                                }
                                return jr(e, r, t, n, i)
                            })
                            , ga = gs(function(e, t) {
                                t = t.length ? On(t) : Qs(e);
                                for (var n = -1, r = t.length; ++n < r; ) {
                                    var i = t[n];
                                    e[i] = jr(e[i], A, e)
                                }
                                return e
                            })
                            , ya = gs(function(e, t, n) {
                                var r = A | O;
                                if (n.length) {
                                    var i = E(n, ya.placeholder);
                                    r |= P
                                }
                                return jr(t, r, e, n, i)
                            })
                            , ba = yr(_)
                            , wa = yr(D)
                            , Ea = gs(function(e, t) {
                                return xn(e, 1, t)
                            })
                            , Sa = gs(function(e, t, n) {
                                return xn(e, t, n)
                            })
                            , xa = Tr()
                            , Ta = Tr(!0)
                            , Na = gs(function(e, t) {
                                if (t = On(t),
                                    "function" != typeof e || !on(t, a))
                                    throw new Qo(X);
                                var n = t.length;
                                return gs(function(r) {
                                    for (var i = xu(r.length, n); i--; )
                                        r[i] = t[i](r[i]);
                                    return e.apply(this, r)
                                })
                            })
                            , Ca = Or(P)
                            , ka = Or(H)
                            , La = gs(function(e, t) {
                                return jr(e, j, k, k, k, On(t))
                            })
                            , Aa = bu || function(e) {
                                    return b(e) && ni(e.length) && ru.call(e) == J
                                }
                            , Oa = cr(Un)
                            , Ma = cr(function(e, t, n) {
                                return n ? gn(e, t, n) : yn(e, t)
                            })
                            , _a = br(Ma, vn)
                            , Da = br(Oa, si)
                            , Pa = xr(_n)
                            , Ha = xr(Dn)
                            , Ba = Cr(Fu)
                            , ja = Cr(Iu)
                            , Fa = kr(_n)
                            , Ia = kr(Dn)
                            , qa = Eu ? function(e) {
                                var t = null == e ? k : e.constructor;
                                return "function" == typeof t && t.prototype === e || "function" != typeof e && Gr(e) ? fi(e) : Ps(e) ? Eu(e) : []
                            }
                                : fi
                            , Ra = Lr(!0)
                            , Ua = Lr()
                            , za = gs(function(e, t) {
                                if (null == e)
                                    return {};
                                if ("function" != typeof t[0]) {
                                    var t = fn(On(t), Ko);
                                    return oi(e, Tn(eo(e), t))
                                }
                                var n = or(t[0], t[1], 3);
                                return ui(e, function(e, t, r) {
                                    return !n(e, t, r)
                                })
                            })
                            , Wa = gs(function(e, t) {
                                return null == e ? {} : "function" == typeof t[0] ? ui(e, or(t[0], t[1], 3)) : oi(e, On(t))
                            })
                            , Xa = mr(function(e, t, n) {
                                return t = t.toLowerCase(),
                                e + (n ? t.charAt(0).toUpperCase() + t.slice(1) : t)
                            })
                            , Va = mr(function(e, t, n) {
                                return e + (n ? "-" : "") + t.toLowerCase()
                            })
                            , $a = Ar()
                            , Ja = Ar(!0)
                            , Ka = mr(function(e, t, n) {
                                return e + (n ? "_" : "") + t.toLowerCase()
                            })
                            , Qa = mr(function(e, t, n) {
                                return e + (n ? " " : "") + (t.charAt(0).toUpperCase() + t.slice(1))
                            })
                            , Ga = gs(function(e, t) {
                                try {
                                    return e.apply(k, t)
                                } catch (n) {
                                    return Ms(n) ? n : new zo(n)
                                }
                            })
                            , Ya = gs(function(e, t) {
                                return function(n) {
                                    return Qr(n, e, t)
                                }
                            })
                            , Za = gs(function(e, t) {
                                return function(n) {
                                    return Qr(e, n, t)
                                }
                            })
                            , ef = Hr("ceil")
                            , tf = Hr("floor")
                            , nf = wr(xs, ku)
                            , rf = wr(Xs, Lu)
                            , sf = Hr("round");
                        return t.prototype = n.prototype,
                            r.prototype = Hu(n.prototype),
                            r.prototype.constructor = r,
                            i.prototype = Hu(n.prototype),
                            i.prototype.constructor = i,
                            st.prototype["delete"] = Vt,
                            st.prototype.get = $t,
                            st.prototype.has = Jt,
                            st.prototype.set = Kt,
                            Qt.prototype.push = Yt,
                            ds.Cache = st,
                            t.after = ls,
                            t.ary = cs,
                            t.assign = Ma,
                            t.at = na,
                            t.before = hs,
                            t.bind = ma,
                            t.bindAll = ga,
                            t.bindKey = ya,
                            t.callback = Co,
                            t.chain = Ri,
                            t.chunk = di,
                            t.compact = vi,
                            t.constant = ko,
                            t.countBy = ra,
                            t.create = Ks,
                            t.curry = ba,
                            t.curryRight = wa,
                            t.debounce = ps,
                            t.defaults = _a,
                            t.defaultsDeep = Da,
                            t.defer = Ea,
                            t.delay = Sa,
                            t.difference = Wu,
                            t.drop = mi,
                            t.dropRight = gi,
                            t.dropRightWhile = yi,
                            t.dropWhile = bi,
                            t.fill = wi,
                            t.filter = Gi,
                            t.flatten = Si,
                            t.flattenDeep = xi,
                            t.flow = xa,
                            t.flowRight = Ta,
                            t.forEach = oa,
                            t.forEachRight = ua,
                            t.forIn = Ba,
                            t.forInRight = ja,
                            t.forOwn = Fa,
                            t.forOwnRight = Ia,
                            t.functions = Qs,
                            t.groupBy = aa,
                            t.indexBy = fa,
                            t.initial = Ni,
                            t.intersection = $u,
                            t.invert = Zs,
                            t.invoke = la,
                            t.keys = qa,
                            t.keysIn = eo,
                            t.map = es,
                            t.mapKeys = Ra,
                            t.mapValues = Ua,
                            t.matches = Ao,
                            t.matchesProperty = Oo,
                            t.memoize = ds,
                            t.merge = Oa,
                            t.method = Ya,
                            t.methodOf = Za,
                            t.mixin = Mo,
                            t.modArgs = Na,
                            t.negate = vs,
                            t.omit = za,
                            t.once = ms,
                            t.pairs = to,
                            t.partial = Ca,
                            t.partialRight = ka,
                            t.partition = ca,
                            t.pick = Wa,
                            t.pluck = ts,
                            t.property = Po,
                            t.propertyOf = Ho,
                            t.pull = Li,
                            t.pullAt = Ju,
                            t.range = Bo,
                            t.rearg = La,
                            t.reject = ns,
                            t.remove = Ai,
                            t.rest = Oi,
                            t.restParam = gs,
                            t.set = ro,
                            t.shuffle = is,
                            t.slice = Mi,
                            t.sortBy = us,
                            t.sortByAll = da,
                            t.sortByOrder = as,
                            t.spread = ys,
                            t.take = _i,
                            t.takeRight = Di,
                            t.takeRightWhile = Pi,
                            t.takeWhile = Hi,
                            t.tap = Ui,
                            t.throttle = bs,
                            t.thru = zi,
                            t.times = jo,
                            t.toArray = $s,
                            t.toPlainObject = Js,
                            t.transform = io,
                            t.union = Gu,
                            t.uniq = Bi,
                            t.unzip = ji,
                            t.unzipWith = Fi,
                            t.values = so,
                            t.valuesIn = oo,
                            t.where = fs,
                            t.without = Yu,
                            t.wrap = ws,
                            t.xor = Ii,
                            t.zip = Zu,
                            t.zipObject = qi,
                            t.zipWith = ea,
                            t.backflow = Ta,
                            t.collect = es,
                            t.compose = Ta,
                            t.each = oa,
                            t.eachRight = ua,
                            t.extend = Ma,
                            t.iteratee = Co,
                            t.methods = Qs,
                            t.object = qi,
                            t.select = Gi,
                            t.tail = Oi,
                            t.unique = Bi,
                            Mo(t, t),
                            t.add = Io,
                            t.attempt = Ga,
                            t.camelCase = Xa,
                            t.capitalize = fo,
                            t.ceil = ef,
                            t.clone = Es,
                            t.cloneDeep = Ss,
                            t.deburr = lo,
                            t.endsWith = co,
                            t.escape = ho,
                            t.escapeRegExp = po,
                            t.every = Qi,
                            t.find = ia,
                            t.findIndex = Xu,
                            t.findKey = Pa,
                            t.findLast = sa,
                            t.findLastIndex = Vu,
                            t.findLastKey = Ha,
                            t.findWhere = Yi,
                            t.first = Ei,
                            t.floor = tf,
                            t.get = Gs,
                            t.gt = xs,
                            t.gte = Ts,
                            t.has = Ys,
                            t.identity = Lo,
                            t.includes = Zi,
                            t.indexOf = Ti,
                            t.inRange = uo,
                            t.isArguments = Ns,
                            t.isArray = Aa,
                            t.isBoolean = Cs,
                            t.isDate = ks,
                            t.isElement = Ls,
                            t.isEmpty = As,
                            t.isEqual = Os,
                            t.isError = Ms,
                            t.isFinite = _s,
                            t.isFunction = Ds,
                            t.isMatch = Hs,
                            t.isNaN = Bs,
                            t.isNative = js,
                            t.isNull = Fs,
                            t.isNumber = Is,
                            t.isObject = Ps,
                            t.isPlainObject = qs,
                            t.isRegExp = Rs,
                            t.isString = Us,
                            t.isTypedArray = zs,
                            t.isUndefined = Ws,
                            t.kebabCase = Va,
                            t.last = Ci,
                            t.lastIndexOf = ki,
                            t.lt = Xs,
                            t.lte = Vs,
                            t.max = nf,
                            t.min = rf,
                            t.noConflict = _o,
                            t.noop = Do,
                            t.now = va,
                            t.pad = vo,
                            t.padLeft = $a,
                            t.padRight = Ja,
                            t.parseInt = mo,
                            t.random = ao,
                            t.reduce = ha,
                            t.reduceRight = pa,
                            t.repeat = go,
                            t.result = no,
                            t.round = sf,
                            t.runInContext = C,
                            t.size = ss,
                            t.snakeCase = Ka,
                            t.some = os,
                            t.sortedIndex = Ku,
                            t.sortedLastIndex = Qu,
                            t.startCase = Qa,
                            t.startsWith = yo,
                            t.sum = qo,
                            t.template = bo,
                            t.trim = wo,
                            t.trimLeft = Eo,
                            t.trimRight = So,
                            t.trunc = xo,
                            t.unescape = To,
                            t.uniqueId = Fo,
                            t.words = No,
                            t.all = Qi,
                            t.any = os,
                            t.contains = Zi,
                            t.eq = Os,
                            t.detect = ia,
                            t.foldl = ha,
                            t.foldr = pa,
                            t.head = Ei,
                            t.include = Zi,
                            t.inject = ha,
                            Mo(t, function() {
                                var e = {};
                                return _n(t, function(n, r) {
                                    t.prototype[r] || (e[r] = n)
                                }),
                                    e
                            }(), !1),
                            t.sample = rs,
                            t.prototype.sample = function(e) {
                                return this.__chain__ || null != e ? this.thru(function(t) {
                                    return rs(t, e)
                                }) : rs(this.value())
                            }
                            ,
                            t.VERSION = L,
                            tn(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(e) {
                                t[e].placeholder = t
                            }),
                            tn(["drop", "take"], function(e, t) {
                                i.prototype[e] = function(n) {
                                    var r = this.__filtered__;
                                    if (r && !t)
                                        return new i(this);
                                    n = null == n ? 1 : Su(yu(n) || 0, 0);
                                    var s = this.clone();
                                    return r ? s.__takeCount__ = xu(s.__takeCount__, n) : s.__views__.push({
                                        size: n,
                                        type: e + (s.__dir__ < 0 ? "Right" : "")
                                    }),
                                        s
                                }
                                    ,
                                    i.prototype[e + "Right"] = function(t) {
                                        return this.reverse()[e](t).reverse()
                                    }
                            }),
                            tn(["filter", "map", "takeWhile"], function(e, t) {
                                var n = t + 1
                                    , r = n != W;
                                i.prototype[e] = function(e, t) {
                                    var i = this.clone();
                                    return i.__iteratees__.push({
                                        iteratee: Rr(e, t, 1),
                                        type: n
                                    }),
                                        i.__filtered__ = i.__filtered__ || r,
                                        i
                                }
                            }),
                            tn(["first", "last"], function(e, t) {
                                var n = "take" + (t ? "Right" : "");
                                i.prototype[e] = function() {
                                    return this[n](1).value()[0]
                                }
                            }),
                            tn(["initial", "rest"], function(e, t) {
                                var n = "drop" + (t ? "" : "Right");
                                i.prototype[e] = function() {
                                    return this.__filtered__ ? new i(this) : this[n](1)
                                }
                            }),
                            tn(["pluck", "where"], function(e, t) {
                                var n = t ? "filter" : "map"
                                    , r = t ? qn : Po;
                                i.prototype[e] = function(e) {
                                    return this[n](r(e))
                                }
                            }),
                            i.prototype.compact = function() {
                                return this.filter(Lo)
                            }
                            ,
                            i.prototype.reject = function(e, t) {
                                return e = Rr(e, t, 1),
                                    this.filter(function(t) {
                                        return !e(t)
                                    })
                            }
                            ,
                            i.prototype.slice = function(e, t) {
                                e = null == e ? 0 : +e || 0;
                                var n = this;
                                return n.__filtered__ && (e > 0 || 0 > t) ? new i(n) : (0 > e ? n = n.takeRight(-e) : e && (n = n.drop(e)),
                                t !== k && (t = +t || 0,
                                    n = 0 > t ? n.dropRight(-t) : n.take(t - e)),
                                    n)
                            }
                            ,
                            i.prototype.takeRightWhile = function(e, t) {
                                return this.reverse().takeWhile(e, t).reverse()
                            }
                            ,
                            i.prototype.toArray = function() {
                                return this.take(Lu)
                            }
                            ,
                            _n(i.prototype, function(e, n) {
                                var s = /^(?:filter|map|reject)|While$/.test(n)
                                    , o = /^(?:first|last)$/.test(n)
                                    , u = t[o ? "take" + ("last" == n ? "Right" : "") : n];
                                u && (t.prototype[n] = function() {
                                    var t = o ? [1] : arguments
                                        , n = this.__chain__
                                        , a = this.__wrapped__
                                        , f = !!this.__actions__.length
                                        , l = a instanceof i
                                        , c = t[0]
                                        , h = l || Aa(a);
                                    h && s && "function" == typeof c && 1 != c.length && (l = h = !1);
                                    var p = function(e) {
                                            return o && n ? u(e, 1)[0] : u.apply(k, ln([e], t))
                                        }
                                        , d = {
                                            func: zi,
                                            args: [p],
                                            thisArg: k
                                        }
                                        , v = l && !f;
                                    if (o && !n)
                                        return v ? (a = a.clone(),
                                            a.__actions__.push(d),
                                            e.call(a)) : u.call(k, this.value())[0];
                                    if (!o && h) {
                                        a = v ? a : new i(this);
                                        var m = e.apply(a, t);
                                        return m.__actions__.push(d),
                                            new r(m,n)
                                    }
                                    return this.thru(p)
                                }
                                )
                            }),
                            tn(["join", "pop", "push", "replace", "shift", "sort", "splice", "split", "unshift"], function(e) {
                                var n = (/^(?:replace|split)$/.test(e) ? Zo : Go)[e]
                                    , r = /^(?:push|sort|unshift)$/.test(e) ? "tap" : "thru"
                                    , i = /^(?:join|pop|replace|shift)$/.test(e);
                                t.prototype[e] = function() {
                                    var e = arguments;
                                    return i && !this.__chain__ ? n.apply(this.value(), e) : this[r](function(t) {
                                        return n.apply(t, e)
                                    })
                                }
                            }),
                            _n(i.prototype, function(e, n) {
                                var r = t[n];
                                if (r) {
                                    var i = r.name
                                        , s = Pu[i] || (Pu[i] = []);
                                    s.push({
                                        name: n,
                                        func: r
                                    })
                                }
                            }),
                            Pu[_r(k, O).name] = [{
                                name: "wrapper",
                                func: k
                            }],
                            i.prototype.clone = w,
                            i.prototype.reverse = Z,
                            i.prototype.value = rt,
                            t.prototype.chain = Wi,
                            t.prototype.commit = Xi,
                            t.prototype.concat = ta,
                            t.prototype.plant = Vi,
                            t.prototype.reverse = $i,
                            t.prototype.toString = Ji,
                            t.prototype.run = t.prototype.toJSON = t.prototype.valueOf = t.prototype.value = Ki,
                            t.prototype.collect = t.prototype.map,
                            t.prototype.head = t.prototype.first,
                            t.prototype.select = t.prototype.filter,
                            t.prototype.tail = t.prototype.rest,
                            t
                    }
                    var k, L = "3.10.1", A = 1, O = 2, M = 4, _ = 8, D = 16, P = 32, H = 64, B = 128, j = 256, F = 30, I = "...", q = 150, R = 16, U = 200, z = 1, W = 2, X = "Expected a function", V = "__lodash_placeholder__", $ = "[object Arguments]", J = "[object Array]", K = "[object Boolean]", Q = "[object Date]", G = "[object Error]", Y = "[object Function]", Z = "[object Map]", et = "[object Number]", tt = "[object Object]", nt = "[object RegExp]", rt = "[object Set]", it = "[object String]", st = "[object WeakMap]", ot = "[object ArrayBuffer]", ut = "[object Float32Array]", at = "[object Float64Array]", ft = "[object Int8Array]", lt = "[object Int16Array]", ct = "[object Int32Array]", ht = "[object Uint8Array]", pt = "[object Uint8ClampedArray]", dt = "[object Uint16Array]", vt = "[object Uint32Array]", mt = /\b__p \+= '';/g, gt = /\b(__p \+=) '' \+/g, yt = /(__e\(.*?\)|\b__t\)) \+\n'';/g, bt = /&(?:amp|lt|gt|quot|#39|#96);/g, wt = /[&<>"'`]/g, Et = RegExp(bt.source), St = RegExp(wt.source), xt = /<%-([\s\S]+?)%>/g, Tt = /<%([\s\S]+?)%>/g, Nt = /<%=([\s\S]+?)%>/g, Ct = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/, kt = /^\w*$/, Lt = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g, At = /^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g, Ot = RegExp(At.source), Mt = /[\u0300-\u036f\ufe20-\ufe23]/g, _t = /\\(\\)?/g, Dt = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, Pt = /\w*$/, Ht = /^0[xX]/, Bt = /^\[object .+?Constructor\]$/, jt = /^\d+$/, Ft = /[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g, It = /($^)/, qt = /['\n\r\u2028\u2029\\]/g, Rt = function() {
                        var e = "[A-Z\\xc0-\\xd6\\xd8-\\xde]"
                            , t = "[a-z\\xdf-\\xf6\\xf8-\\xff]+";
                        return RegExp(e + "+(?=" + e + t + ")|" + e + "?" + t + "|" + e + "+|[0-9]+", "g")
                    }(), Ut = ["Array", "ArrayBuffer", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Math", "Number", "Object", "RegExp", "Set", "String", "_", "clearTimeout", "isFinite", "parseFloat", "parseInt", "setTimeout", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap"], zt = -1, Wt = {};
                    Wt[ut] = Wt[at] = Wt[ft] = Wt[lt] = Wt[ct] = Wt[ht] = Wt[pt] = Wt[dt] = Wt[vt] = !0,
                        Wt[$] = Wt[J] = Wt[ot] = Wt[K] = Wt[Q] = Wt[G] = Wt[Y] = Wt[Z] = Wt[et] = Wt[tt] = Wt[nt] = Wt[rt] = Wt[it] = Wt[st] = !1;
                    var Xt = {};
                    Xt[$] = Xt[J] = Xt[ot] = Xt[K] = Xt[Q] = Xt[ut] = Xt[at] = Xt[ft] = Xt[lt] = Xt[ct] = Xt[et] = Xt[tt] = Xt[nt] = Xt[it] = Xt[ht] = Xt[pt] = Xt[dt] = Xt[vt] = !0,
                        Xt[G] = Xt[Y] = Xt[Z] = Xt[rt] = Xt[st] = !1;
                    var Vt = {
                            "\u00c0": "A",
                            "\u00c1": "A",
                            "\u00c2": "A",
                            "\u00c3": "A",
                            "\u00c4": "A",
                            "\u00c5": "A",
                            "\u00e0": "a",
                            "\u00e1": "a",
                            "\u00e2": "a",
                            "\u00e3": "a",
                            "\u00e4": "a",
                            "\u00e5": "a",
                            "\u00c7": "C",
                            "\u00e7": "c",
                            "\u00d0": "D",
                            "\u00f0": "d",
                            "\u00c8": "E",
                            "\u00c9": "E",
                            "\u00ca": "E",
                            "\u00cb": "E",
                            "\u00e8": "e",
                            "\u00e9": "e",
                            "\u00ea": "e",
                            "\u00eb": "e",
                            "\u00cc": "I",
                            "\u00cd": "I",
                            "\u00ce": "I",
                            "\u00cf": "I",
                            "\u00ec": "i",
                            "\u00ed": "i",
                            "\u00ee": "i",
                            "\u00ef": "i",
                            "\u00d1": "N",
                            "\u00f1": "n",
                            "\u00d2": "O",
                            "\u00d3": "O",
                            "\u00d4": "O",
                            "\u00d5": "O",
                            "\u00d6": "O",
                            "\u00d8": "O",
                            "\u00f2": "o",
                            "\u00f3": "o",
                            "\u00f4": "o",
                            "\u00f5": "o",
                            "\u00f6": "o",
                            "\u00f8": "o",
                            "\u00d9": "U",
                            "\u00da": "U",
                            "\u00db": "U",
                            "\u00dc": "U",
                            "\u00f9": "u",
                            "\u00fa": "u",
                            "\u00fb": "u",
                            "\u00fc": "u",
                            "\u00dd": "Y",
                            "\u00fd": "y",
                            "\u00ff": "y",
                            "\u00c6": "Ae",
                            "\u00e6": "ae",
                            "\u00de": "Th",
                            "\u00fe": "th",
                            "\u00df": "ss"
                        }
                        , $t = {
                            "&": "&amp;",
                            "<": "&lt;",
                            ">": "&gt;",
                            '"': "&quot;",
                            "'": "&#39;",
                            "`": "&#96;"
                        }
                        , Jt = {
                            "&amp;": "&",
                            "&lt;": "<",
                            "&gt;": ">",
                            "&quot;": '"',
                            "&#39;": "'",
                            "&#96;": "`"
                        }
                        , Kt = {
                            "function": !0,
                            object: !0
                        }
                        , Qt = {
                            0: "x30",
                            1: "x31",
                            2: "x32",
                            3: "x33",
                            4: "x34",
                            5: "x35",
                            6: "x36",
                            7: "x37",
                            8: "x38",
                            9: "x39",
                            A: "x41",
                            B: "x42",
                            C: "x43",
                            D: "x44",
                            E: "x45",
                            F: "x46",
                            a: "x61",
                            b: "x62",
                            c: "x63",
                            d: "x64",
                            e: "x65",
                            f: "x66",
                            n: "x6e",
                            r: "x72",
                            t: "x74",
                            u: "x75",
                            v: "x76",
                            x: "x78"
                        }
                        , Gt = {
                            "\\": "\\",
                            "'": "'",
                            "\n": "n",
                            "\r": "r",
                            "\u2028": "u2028",
                            "\u2029": "u2029"
                        }
                        , Yt = Kt[typeof t] && t && !t.nodeType && t
                        , Zt = Kt[typeof e] && e && !e.nodeType && e
                        , en = Yt && Zt && "object" == typeof i && i && i.Object && i
                        , tn = Kt[typeof self] && self && self.Object && self
                        , nn = Kt[typeof window] && window && window.Object && window
                        , rn = (Zt && Zt.exports === Yt && Yt,
                        en || nn !== (this && this.window) && nn || tn || this)
                        , sn = C();
                    rn._ = sn,
                        r = function() {
                            return sn
                        }
                            .call(t, n, t, e),
                    r === k || !(e.exports = r)
                }
                ).call(this)
            }
            ).call(t, n(6)(e), function() {
                    return this
                }(), n(5))
        }
        , function(e, t) {
            e.exports = function(e) {
                return e.webpackPolyfill || (e.deprecate = function() {}
                    ,
                    e.paths = [],
                    e.children = [],
                    e.webpackPolyfill = 1),
                    e
            }
        }
        , function(e, t, n) {
            (function(i) {
                "use strict";
                function s(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                function o(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var u = function() {
                        function e(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(t, n, r) {
                            return n && e(t.prototype, n),
                            r && e(t, r),
                                t
                        }
                    }()
                    , a = n(8)
                    , f = s(a)
                    , l = n(9)
                    , c = s(l)
                    , h = n(10)
                    , p = (s(h),
                        n(11))
                    , d = s(p)
                    , v = n(13)
                    , m = (s(v),
                        n(14))
                    , g = s(m)
                    , y = n(19)
                    , b = s(y)
                    , w = n(109)
                    , E = s(w)
                    , S = n(110)
                    , x = s(S)
                    , T = n(111)
                    , N = s(T)
                    , C = n(112)
                    , k = s(C)
                    , L = n(56)
                    , A = {
                        minute: function(e, t) {
                            return new b["default"](e,t)
                        },
                        day: function(e, t) {
                            return new E["default"](e,t)
                        },
                        fdays: function(e, t) {
                            return new b["default"](e,t)
                        },
                        week: function(e, t) {
                            return new x["default"](e,t)
                        },
                        month: function(e, t) {
                            return new N["default"](e,t)
                        },
                        year1: function(e, t) {
                            return new k["default"](e,t)
                        },
                        year3: function(e, t) {
                            return new k["default"](e,t)
                        },
                        year5: function(e, t) {
                            return new k["default"](e,t)
                        },
                        m5: function(e, t) {
                            return new E["default"](e,t)
                        },
                        m15: function(e, t) {
                            return new E["default"](e,t)
                        },
                        m30: function(e, t) {
                            return new E["default"](e,t)
                        },
                        m60: function(e, t) {
                            return new E["default"](e,t)
                        }
                    }
                    , O = function() {
                        function e() {
                            return o(this, e),
                                this
                        }
                        return u(e, [{
                            key: "setSymbol",
                            value: function(e, t) {
                                return this.symbol = e,
                                    this.config = f["default"].cfg(e)[t],
                                    this.channel = d["default"].channel(t),
                                    this._init(),
                                    this
                            }
                        }, {
                            key: "_init",
                            value: function() {
                                return this._initMenu(),
                                    this._initCoord(),
                                    this._initCanvas(),
                                    this._initLayer(),
                                    this._initScene(),
                                    this
                            }
                        }, {
                            key: "_initMenu",
                            value: function() {
                                var e = this;
                                this.sub1 = this.channel.subscribe("draw", function() {
                                    e.draw()
                                }),
                                    this.sub2 = this.channel.subscribe("stop", function() {
                                        e._destroyScene()
                                    });
                                var t = this.config;
                                this.menu ? this.menu.reset(t) : this.menu = new g["default"](t)
                            }
                        }, {
                            key: "_initCoord",
                            value: function() {
                                var e = this.config.container
                                    , t = $(e).width()
                                    , n = $(e).height();
                                this.coord = {
                                    x: 0,
                                    y: 0,
                                    w: t,
                                    h: n,
                                    width: t,
                                    height: n
                                },
                                    f["default"].cfg(this.symbol, {
                                        outer: this.config.outer,
                                        coord: this.coord
                                    })
                            }
                        }, {
                            key: "_initCanvas",
                            value: function() {
                                if (this.canvas) {
                                    var e = this.canvas
                                        , t = this.coord
                                        , n = t.height
                                        , r = t.width;
                                    (e.getAttr("height") !== n || e.getAttr("width") !== r) && (e.width(this.coord.width),
                                        e.height(this.coord.height))
                                } else
                                    this.canvas = L(this.config.container.id, this.coord)
                            }
                        }, {
                            key: "_initLayer",
                            value: function() {
                                if (!this.layer) {
                                    var e = this.canvas;
                                    this.layer = {
                                        back: e.layer(),
                                        paper: e.layer(),
                                        paint: e.layer(),
                                        fore: e.layer(),
                                        drag: e.layer()
                                    }
                                }
                                f["default"].cfg(this.symbol, {
                                    outer: this.config.outer,
                                    layer: this.layer,
                                    canvas: this.canvas
                                })
                            }
                        }, {
                            key: "_initScene",
                            value: function() {
                                this.menu.getScenes()
                            }
                        }, {
                            key: "_saveConfig",
                            value: function(e) {
                                switch (e) {
                                    case 0:
                                        i.extend(this.config, {
                                            canvas: this.canvas,
                                            layer: this.layer,
                                            coord: this.coord,
                                            scene: this.scene
                                        });
                                        break;
                                    case 1:
                                        i.extend(this.config, {
                                            coord: this.coord
                                        })
                                }
                            }
                        }, {
                            key: "show",
                            value: function() {
                                this.menu.show()
                            }
                        }, {
                            key: "hide",
                            value: function() {
                                this.menu.hide(),
                                    this._destroyScene()
                            }
                        }, {
                            key: "draw",
                            value: function() {
                                this._destroyScene(),
                                    this._checkScene(),
                                    this._drawScene()
                            }
                        }, {
                            key: "destroy",
                            value: function() {
                                this.sub1 && this.sub1.unsubscribe(),
                                this.sub2 && this.sub2.unsubscribe(),
                                    i.forIn(this.layer, function(e) {
                                        e.empty()
                                    })
                            }
                        }, {
                            key: "compare",
                            value: function() {
                                var e = this.symbol
                                    , t = this.config
                                    , n = this.channel || d["default"].channel(e);
                                n.publish(t.outer.id + ".compare")
                            }
                        }, {
                            key: "_destroyScene",
                            value: function() {
                                var e = this._getC("scene", "current")
                                    , t = e.scene;
                                e.current,
                                    i.forIn(t, function(e) {
                                        e.scene && e.scene.status && (e.scene.destroy(),
                                            e.scene.status = 0)
                                    }),
                                    i.forIn(this.layer, function(e) {
                                        e.empty()
                                    })
                            }
                        }, {
                            key: "repaint",
                            value: function() {
                                i.forIn(this.layer, function(e) {
                                    e.empty()
                                });
                                var e = this._getC("current", "symbol", "scene")
                                    , t = e.current
                                    , n = e.scene;
                                if (n) {
                                    var r = n[t];
                                    r.scene.repaint()
                                }
                            }
                        }, {
                            key: "_checkScene",
                            value: function() {
                                var e = this._getC("current", "symbol", "scene")
                                    , t = e.current
                                    , n = e.symbol
                                    , r = e.scene;
                                if (r) {
                                    var s = r[t];
                                    s.scene || i.extend(s, {
                                        name: s.name,
                                        scene: A[t](n, this.config.outer.id)
                                    })
                                }
                            }
                        }, {
                            key: "_drawScene",
                            value: function() {
                                var e = this._getC("scene", "current")
                                    , t = e.scene
                                    , n = e.current;
                                t && t[n] && t[n].scene.init().draw()
                            }
                        }, {
                            key: "setQtData",
                            value: function(e, t) {
                                var n = this._getC("scene", "current")
                                    , r = n.scene
                                    , i = n.current;
                                r && r[i] && r[i].scene.setQtData(e, t)
                            }
                        }, {
                            key: "_setC",
                            value: function(e) {
                                f["default"].cfg(this.symbol, e)
                            }
                        }, {
                            key: "_getC",
                            value: function() {
                                for (var e = this.config, t = arguments.length, n = Array(t), r = 0; t > r; r++)
                                    n[r] = arguments[r];
                                return 1 === n.length && n[0] ? e[n[0]] : i.zipObject(n.map(function(t) {
                                    return [c["default"].rmTag(t), e[t]]
                                }))
                            }
                        }]),
                            e
                    }();
                t["default"] = O,
                    e.exports = t["default"]
            }
            ).call(t, n(5))
        }
        , function(e, t, n) {
            (function(n) {
                "use strict";
                function r(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var i = function() {
                        function e(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(t, n, r) {
                            return n && e(t.prototype, n),
                            r && e(t, r),
                                t
                        }
                    }()
                    , s = "alpineDataset"
                    , o = void 0;
                window[s] = window[s] || {};
                var u = function() {
                    function e() {
                        r(this, e)
                    }
                    return i(e, null , [{
                        key: "cfg",
                        value: function t() {
                            for (var e = arguments.length, r = Array(e), i = 0; e > i; i++)
                                r[i] = arguments[i];
                            var o = r[0];
                            switch (this._initStock(o),
                                r.length) {
                                case 1:
                                    return window[s][o].configAry;
                                case 2:
                                    var t = r[1];
                                    window[s][o].configAry[t.outer.id] ? n.extend(window[s][o].configAry[t.outer.id], t) : window[s][o].configAry[t.outer.id] = n.extend({
                                        fqType: this.getFqType(o, this.getMarket(o)),
                                        market: this.getMarket(o),
                                        isIndex: this.isIndex(o),
                                        cmpList: [],
                                        relatedList: []
                                    }, t)
                            }
                        }
                    }, {
                        key: "delCfg",
                        value: function() {
                            var e = arguments[0]
                                , t = arguments[1];
                            window[s][e].config[t] = o
                        }
                    }, {
                        key: "data",
                        value: function u() {
                            for (var e = arguments.length, t = Array(e), n = 0; e > n; n++)
                                t[n] = arguments[n];
                            var r = t[0];
                            switch (this._initStock(r),
                                t.length) {
                                case 1:
                                    return window[s][r].data;
                                case 3:
                                    var i = t[1]
                                        , u = t[2];
                                    window[s][r].data[i] = u
                            }
                        }
                    }, {
                        key: "_initStock",
                        value: function(e) {
                            var t = window[s];
                            t[e] || void 0 === e || (t[e] = {
                                configAry: {},
                                data: {
                                    minute: o,
                                    fdays: o,
                                    jingzhi: o,
                                    shouyi: o,
                                    dayqfq: o,
                                    weekqfq: o,
                                    monthqfq: o,
                                    dayhfq: o,
                                    weekhfq: o,
                                    monthhfq: o,
                                    day: o,
                                    week: o,
                                    month: o
                                }
                            })
                        }
                    }, {
                        key: "isIndex",
                        value: function(e) {
                            return e.match(/sh000|sz399|nq899|hkHSI$|hkHSCEI$|hkHSCCI$|hkCES100$|hkCES300$|usDJI$|usIXIC$|usINX$/)
                        }
                    }, {
                        key: "getMarket",
                        value: function(e) {
                            var t = /^sh5(0|1)\d{4}$/i
                                , n = /^jj\d{5}[0-9A-Z]$/i
                                , r = /^sz1[568]\d{4}$/i
                                , i = /^qhIF|^qhTF|^qhIC|^qhIH|^qhT\d{4}$/i;
                            return n.test(e) || t.test(e) || r.test(e) ? "fund" : i.test(e) ? "if" : e.substr(0, 2)
                        }
                    }, {
                        key: "getFqType",
                        value: function(e, t) {
                            return /sz|sh|hk|us|nq/.test(t) ? "qfq" : ""
                        }
                    }, {
                        key: "_clearData",
                        value: function() {
                            var e = window[s];
                            n.forIn(e, function(e) {
                                n.forIn(e.config, function(e) {
                                    n.forIn(e.scene, function(e) {
                                        e.scene && e.scene.destroy()
                                    })
                                })
                            }),
                                window[s] = {}
                        }
                    }]),
                        e
                }();
                t["default"] = u,
                    e.exports = t["default"]
            }
            ).call(t, n(5))
        }
        , function(e, t) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var n = {
                params: function(e) {
                    var t = {};
                    return e.forEach(function(e) {
                        var n = typeof e;
                        switch (n) {
                            case "object":
                                Array.isArray(e) ? n = "array" : e instanceof Date && (n = "date");
                                break;
                            case "string":
                                /http:\/\//.test(e) && (n = "url")
                        }
                        n && t[n] ? t[n].push(e) : t[n] = [e]
                    }),
                        t
                },
                rmTag: function(e) {
                    return e.replace(/\w+_/, "")
                },
                binarySearch: function(e, t, n) {
                    var r = e.length
                        , i = Math.floor(r / 2)
                        , s = 0;
                    if (0 == r)
                        return n ? -1 : !1;
                    if (1 * e[i][0] == t)
                        return i;
                    if (1 * e[i][0] < t) {
                        var o = this.binarySearch(e.slice(i + 1, r), t, n);
                        if (o === !1)
                            return o;
                        s = i + 1 + o
                    } else
                        1 * e[i][0] > t && (s = this.binarySearch(e.slice(0, i), t, n));
                    return s
                }
            };
            t["default"] = n,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            (function(i) {
                "use strict";
                function s(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                function o(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }
                function u() {
                    for (var e = {}, t = arguments.length, n = Array(t), r = 0; t > r; r++)
                        n[r] = arguments[r];
                    return n.length > 1 && n.map(function(t) {
                        t in l && (e[t] = i.clone(l[t]))
                    }),
                        e
                }
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var a = function() {
                        function e(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(t, n, r) {
                            return n && e(t.prototype, n),
                            r && e(t, r),
                                t
                        }
                    }()
                    , f = n(9)
                    , l = (s(f),
                    {
                        minute: {
                            name: "\u5206\u65f6"
                        },
                        fdays: {
                            name: "\u4e94\u65e5"
                        },
                        day: {
                            name: "\u65e5 K"
                        },
                        week: {
                            name: "\u5468 K"
                        },
                        month: {
                            name: "\u6708 K"
                        },
                        m5: {
                            name: "5\u5206"
                        },
                        m15: {
                            name: "15\u5206"
                        },
                        m30: {
                            name: "30\u5206"
                        },
                        m60: {
                            name: "60\u5206"
                        },
                        year1: {
                            name: "1 \u5e74"
                        },
                        year3: {
                            name: "3 \u5e74"
                        },
                        year5: {
                            name: "5 \u5e74"
                        }
                    })
                    , c = function() {
                        function e() {
                            o(this, e)
                        }
                        return a(e, null , [{
                            key: "getScenes",
                            value: function(e, t, n) {
                                var r = {};
                                if (!e)
                                    return void 0;
                                switch (t) {
                                    case "sz":
                                    case "sh":
                                        r = u("minute", "fdays", "day", "week", "month", "m5", "m30", "m60", "year1", "year3", "year5");
                                        break;
                                    case "hk":
                                    case "us":
                                        r = u("minute", "fdays", "day", "week", "month", "year1", "year3", "year5");
                                        break;
                                    case "nq":
                                    case "fund":
                                        r = u("minute", "fdays", "day", "week", "month");
                                        break;
                                    case "if":
                                    case "qh":
                                    case "wh":
                                        r = u("minute", "day", "week", "month");
                                        break;
                                    default:
                                        0
                                }
                                n(r)
                            }
                        }]),
                            e
                    }();
                t["default"] = c,
                    e.exports = t["default"]
            }
            ).call(t, n(5))
        }
        , function(e, t, n) {
            (function(i) {
                "use strict";
                function s(e, t) {
                    return function() {
                        if (console.warn || console.log) {
                            var n = "Warning, the " + e + " method has been deprecated. Please use " + t + " instead.";
                            console.warn ? 0 : 0
                        }
                        return g.prototype[t].apply(this, arguments)
                    }
                }
                function o() {
                    for (; N.length; )
                        d.unsubscribe(N.shift())
                }
                function u(e, t, n) {
                    return function(i, s, o) {
                        i === e && o.splice(s, 1),
                        0 === o.length && delete n[t]
                    }
                }
                function a(e, t, n, r, i) {
                    var s = i && i.headers || {};
                    return function(i) {
                        var o;
                        v.resolver.compare(i.topic, e, s) && (s.resolverNoCache || (o = t[n] = t[n] || [],
                            o.push(i)),
                            i.cacheKeys.push(n),
                        r && r(i))
                    }
                }
                function f(e, t) {
                    return {
                        channel: v.SYSTEM_CHANNEL,
                        topic: "subscription." + e,
                        data: {
                            event: "subscription." + e,
                            channel: t.channel,
                            topic: t.topic
                        }
                    }
                }
                function l(e, t) {
                    return "function" == typeof e ? e : e ? function(n) {
                        var r = 0
                            , s = 0;
                        return i.each(e, function(i, o) {
                            r += 1,
                            ("topic" === o && t.compare(n.topic, e.topic, {
                                resolverNoCache: !0
                            }) || "context" === o && e.context === n._context || n[o] === e[o]) && (s += 1)
                        }),
                        r === s
                    }
                        : function() {
                        return !0
                    }
                }
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var c = window
                    , h = c.postal
                    , p = {
                        DEFAULT_CHANNEL: "/",
                        SYSTEM_CHANNEL: "postal",
                        enableSystemMessages: !0,
                        cacheKeyDelimiter: "|",
                        autoCompactResolver: !1
                    }
                    , d = {
                        configuration: i.extend({}, p)
                    }
                    , v = d.configuration
                    , m = function(e, t) {
                        this.bus = t,
                            this.channel = e || v.DEFAULT_CHANNEL
                    }
                    ;
                m.prototype.subscribe = function() {
                    return this.bus.subscribe({
                        channel: this.channel,
                        topic: 1 === arguments.length ? arguments[0].topic : arguments[0],
                        callback: 1 === arguments.length ? arguments[0].callback : arguments[1]
                    })
                }
                    ,
                    m.prototype.publish = function() {
                        var e, t = {};
                        "string" == typeof arguments[0] ? (t.topic = arguments[0],
                            t.data = arguments[1],
                            e = arguments[2]) : (t = arguments[0],
                            e = arguments[1]),
                            t.channel = this.channel,
                            this.bus.publish(t, e)
                    }
                ;
                var g = function(e, t, n) {
                        if (3 !== arguments.length)
                            throw new Error("You must provide a channel, topic and callback when creating a SubscriptionDefinition instance.");
                        if (0 === t.length)
                            throw new Error("Topics cannot be empty");
                        this.channel = e,
                            this.topic = t,
                            this.callback = n,
                            this.pipeline = [],
                            this.cacheKeys = [],
                            this._context = void 0
                    }
                    , y = function() {
                        var e;
                        return function(t) {
                            var n = !1;
                            return "string" == typeof t ? (n = t === e,
                                e = t) : (n = i.isEqual(t, e),
                                e = i.extend({}, t)),
                                !n
                        }
                    }
                    , b = function() {
                        var e = [];
                        return function(t) {
                            var n = !i.any(e, function(e) {
                                return i.isEqual(t, e)
                            });
                            return n && e.push(t),
                                n
                        }
                    }
                    ;
                g.prototype = {
                    "catch": function(e) {
                        var t = this.callback
                            , n = function() {
                                try {
                                    t.apply(this, arguments)
                                } catch (n) {
                                    e(n, arguments[0])
                                }
                            }
                            ;
                        return this.callback = n,
                            this
                    },
                    defer: function() {
                        return this.delay(0)
                    },
                    disposeAfter: function(e) {
                        if ("number" != typeof e || 0 >= e)
                            throw new Error("The value provided to disposeAfter (maxCalls) must be a number greater than zero.");
                        var t = this
                            , n = i.after(e, i.bind(function() {
                                t.unsubscribe()
                            }));
                        return t.pipeline.push(function(e, t, i) {
                            i(e, t),
                                n()
                        }),
                            t
                    },
                    distinct: function() {
                        return this.constraint(new b)
                    },
                    distinctUntilChanged: function() {
                        return this.constraint(new y)
                    },
                    invokeSubscriber: function(e, t) {
                        if (!this.inactive) {
                            var n = this
                                , r = n.pipeline
                                , i = r.length
                                , s = n._context
                                , o = -1
                                , u = !1;
                            if (i) {
                                r = r.concat([n.callback]);
                                var a = function f(e, t) {
                                        o += 1,
                                            i > o ? r[o].call(s, e, t, f) : (n.callback.call(s, e, t),
                                                u = !0)
                                    }
                                    ;
                                a(e, t, 0)
                            } else
                                n.callback.call(s, e, t),
                                    u = !0;
                            return u
                        }
                    },
                    logError: function() {
                        if (console) {
                            var e;
                            e = console.warn ? console.warn : console.log,
                                this["catch"](e)
                        }
                        return this
                    },
                    once: function() {
                        return this.disposeAfter(1)
                    },
                    subscribe: function(e) {
                        return this.callback = e,
                            this
                    },
                    unsubscribe: function() {
                        this.inactive || d.unsubscribe(this)
                    },
                    constraint: function(e) {
                        if ("function" != typeof e)
                            throw new Error("Predicate constraint must be a function");
                        return this.pipeline.push(function(t, n, r) {
                            e.call(this, t, n) && r(t, n)
                        }),
                            this
                    },
                    constraints: function(e) {
                        var t = this;
                        return i.each(e, function(e) {
                            t.constraint(e)
                        }),
                            t
                    },
                    context: function(e) {
                        return this._context = e,
                            this
                    },
                    debounce: function(e, t) {
                        if ("number" != typeof e)
                            throw new Error("Milliseconds must be a number");
                        return this.pipeline.push(i.debounce(function(e, t, n) {
                            n(e, t)
                        }, e, !!t)),
                            this
                    },
                    delay: function(e) {
                        if ("number" != typeof e)
                            throw new Error("Milliseconds must be a number");
                        var t = this;
                        return t.pipeline.push(function(t, n, r) {
                            setTimeout(function() {
                                r(t, n)
                            }, e)
                        }),
                            this
                    },
                    throttle: function(e) {
                        if ("number" != typeof e)
                            throw new Error("Milliseconds must be a number");
                        var t = function(e, t, n) {
                                n(e, t)
                            }
                            ;
                        return this.pipeline.push(i.throttle(t, e)),
                            this
                    }
                };
                for (var w = ["withConstraint", "withConstraints", "withContext", "withDebounce", "withDelay", "withThrottle"], E = ["constraint", "constraints", "context", "debounce", "delay", "throttle"], S = 0; 6 > S; S++) {
                    var x = w[S];
                    g.prototype[x] = s(x, E[S])
                }
                var T = (v.resolver = {
                        cache: {},
                        regex: {},
                        enableCache: !0,
                        compare: function(e, t, n) {
                            var r, s, o, u = t + v.cacheKeyDelimiter + e, a = this.cache[u], f = n || {}, l = this.enableCache && !f.resolverNoCache;
                            return a === !0 ? a : -1 === e.indexOf("#") && -1 === e.indexOf("*") ? (a = t === e,
                            l && (this.cache[u] = a),
                                a) : ((s = this.regex[e]) || (r = "^" + i.map(e.split("."), function(e) {
                                var t = "";
                                return o && (t = "#" !== o ? "\\.\\b" : "\\b"),
                                    t += "#" === e ? "[\\s\\S]*" : "*" === e ? "[^.]+" : e,
                                    o = e,
                                    t
                            }).join("") + "$",
                                s = this.regex[e] = new RegExp(r)),
                                a = s.test(t),
                            l && (this.cache[u] = a),
                                a)
                        },
                        reset: function() {
                            this.cache = {},
                                this.regex = {}
                        },
                        purge: function(e) {
                            var t = this
                                , n = v.cacheKeyDelimiter
                                , r = function(r, i) {
                                    var s = i.split(n)
                                        , o = s[0]
                                        , u = s[1];
                                    "undefined" != typeof e.topic && e.topic !== o || "undefined" != typeof e.binding && e.binding !== u || delete t.cache[i]
                                }
                                , s = function(e, r) {
                                    var i = r.split(n);
                                    0 === d.getSubscribersFor({
                                        topic: i[0]
                                    }).length && delete t.cache[r]
                                }
                                ;
                            if ("undefined" == typeof e)
                                this.reset();
                            else {
                                var o = e.compact === !0 ? s : r;
                                i.each(this.cache, o)
                            }
                        }
                    },
                        0)
                    , N = []
                    , C = 0
                    , k = i.bind(f, void 0, "created")
                    , L = i.bind(f, void 0, "removed");
                if (i.extend(d, {
                        cache: {},
                        subscriptions: {},
                        wireTaps: [],
                        ChannelDefinition: m,
                        SubscriptionDefinition: g,
                        channel: function(e) {
                            return new m(e,this)
                        },
                        addWireTap: function(e) {
                            var t = this;
                            return t.wireTaps.push(e),
                                function() {
                                    var n = t.wireTaps.indexOf(e);
                                    -1 !== n && t.wireTaps.splice(n, 1)
                                }
                        },
                        noConflict: function() {
                            if ("undefined" == typeof window || "undefined" != typeof window && n(12))
                                throw new Error("noConflict can only be used in browser clients which aren't using AMD modules");
                            return c.postal = h,
                                this
                        },
                        getSubscribersFor: function(e) {
                            var t = []
                                , n = this;
                            return i.each(n.subscriptions, function(n) {
                                i.each(n, function(n) {
                                    t = t.concat(i.filter(n, l(e, v.resolver)))
                                })
                            }),
                                t
                        },
                        publish: function(e, t) {
                            ++T;
                            var n = e.channel = e.channel || v.DEFAULT_CHANNEL
                                , r = e.topic;
                            e.timeStamp = new Date,
                            this.wireTaps.length && i.each(this.wireTaps, function(t) {
                                t(e.data, e, T)
                            });
                            var s = n + v.cacheKeyDelimiter + r
                                , u = this.cache[s]
                                , f = 0
                                , l = 0;
                            if (u)
                                i.each(u, function(t) {
                                    t.invokeSubscriber(e.data, e) ? l++ : f++
                                });
                            else {
                                var c = a(r, this.cache, s, function(t) {
                                    t.invokeSubscriber(e.data, e) ? l++ : f++
                                }, e);
                                i.each(this.subscriptions[n], function(e) {
                                    i.each(e, c)
                                })
                            }
                            0 === --T && o(),
                            t && t({
                                activated: l,
                                skipped: f
                            })
                        },
                        reset: function() {
                            this.unsubscribeFor(),
                                v.resolver.reset(),
                                this.subscriptions = {},
                                this.cache = {}
                        },
                        subscribe: function(e) {
                            var t, n = this.subscriptions, r = new g(e.channel || v.DEFAULT_CHANNEL,e.topic,e.callback), s = n[r.channel], o = r.channel.length;
                            return s || (s = n[r.channel] = {}),
                                t = n[r.channel][r.topic],
                            t || (t = n[r.channel][r.topic] = []),
                                t.push(r),
                                i.each(this.cache, function(e, t) {
                                    t.substr(0, o) === r.channel && a(t.split(v.cacheKeyDelimiter)[1], e, t)(r)
                                }),
                            v.enableSystemMessages && this.publish(k(r)),
                                r
                        },
                        unsubscribe: function() {
                            for (var e, t, n, r, s = arguments.length, o = 0; s > o; o++) {
                                if (e = arguments[o],
                                        e.inactive = !0,
                                        T)
                                    return void N.push(e);
                                if (t = this.subscriptions[e.channel],
                                        n = t && t[e.topic]) {
                                    var a = n.length;
                                    for (r = 0; a > r; ) {
                                        if (n[r] === e) {
                                            n.splice(r, 1);
                                            break
                                        }
                                        r += 1
                                    }
                                    if (0 === n.length && (delete t[e.topic],
                                        i.keys(t).length || delete this.subscriptions[e.channel]),
                                        e.cacheKeys && e.cacheKeys.length)
                                        for (var f; f = e.cacheKeys.pop(); )
                                            i.each(this.cache[f], u(e, f, this.cache));
                                    if ("function" == typeof v.resolver.purge) {
                                        var l = v.autoCompactResolver === !0 ? 0 : "number" == typeof v.autoCompactResolver ? v.autoCompactResolver - 1 : !1;
                                        l >= 0 && C === l ? (v.resolver.purge({
                                            compact: !0
                                        }),
                                            C = 0) : l >= 0 && l > C && (C += 1)
                                    }
                                }
                                v.enableSystemMessages && this.publish(L(e))
                            }
                        },
                        unsubscribeFor: function(e) {
                            var t = [];
                            this.subscriptions && (t = this.getSubscribersFor(e),
                                this.unsubscribe.apply(this, t))
                        }
                    }),
                    c && Object.prototype.hasOwnProperty.call(c, "__postalReady__") && i.isArray(c.__postalReady__))
                    for (; c.__postalReady__.length; )
                        c.__postalReady__.shift().onReady(d);
                t["default"] = d,
                    e.exports = t["default"]
            }
            ).call(t, n(5))
        }
        , function(e, t) {
            (function(t) {
                e.exports = t
            }
            ).call(t, {})
        }
        , function(e, t) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var n = {
                CANVAS_SIZE: {
                    width: 525,
                    height: 430
                },
                LARGER_SIZE: {
                    width: 800,
                    height: 600
                },
                FIRST_BATCH_TOTAL: 320,
                BATCH_TOTAL: 640,
                INIT_KLINE_TOTAL: 60,
                INIT_JJ_TOTAL: 33,
                LOOP_FREQUENCY: {
                    KLINE: 6e5,
                    MINUTE: 1e4,
                    FDAYS: 6e5,
                    SQT: 5e3,
                    JINGZHI: 6e5,
                    SHOUYI: 6e5,
                    LONG_LOOP: 36e5,
                    MID_LOOP: 6e4,
                    SHORT_LOOP: 5e3,
                    M5_LOOP: 6e4,
                    M15_LOOP: 6e4,
                    M30_LOOP: 6e5,
                    M60_LOOP: 6e5
                },
                STOCK_UNIT: {
                    sz: "\u624b",
                    sh: "\u624b",
                    nq: "\u624b",
                    hk: "\u80a1",
                    us: "\u80a1",
                    "if": "\u624b",
                    jj: "\u624b"
                },
                MINUTE_VOLUME_GAP: .5,
                MAX_MINUTE_PERCENTAGE: 1.1,
                MAX_VOLUME_PERCENTAGE: 1.1,
                MAX_MACD_PERCENTAGE: 1.1,
                FONT: "11.5px Aria",
                LIGHT_FONT: "11.5px Aria",
                BORD_FONT: "bold 11.5px Aria",
                PANEL_FONT: "11.5px Aria",
                PANEL_LINEHEIGHT: 20,
                FDAYS_SAMPLING: 4,
                MAX_COMPARE: 4,
                BOSS_MONITOR: 2735,
                BOSS_CLICK: 1665
            };
            t["default"] = n,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            (function(i) {
                "use strict";
                function s(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                function o(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var u = function() {
                        function e(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(t, n, r) {
                            return n && e(t.prototype, n),
                            r && e(t, r),
                                t
                        }
                    }()
                    , a = n(8)
                    , f = s(a)
                    , l = n(10)
                    , c = s(l)
                    , h = n(15)
                    , p = s(h)
                    , d = n(11)
                    , v = s(d)
                    , m = n(13)
                    , g = s(m)
                    , y = n(16)
                    , b = s(y)
                    , w = n(4)
                    , E = s(w)
                    , S = n(17)
                    , x = n(18)
                    , T = function() {
                        function e(t) {
                            return o(this, e),
                                this.config = t,
                                this.symbol = t.symbol,
                                this._init(),
                                this
                        }
                        return u(e, [{
                            key: "_init",
                            value: function() {
                                var e = this
                                    , t = this.config;
                                t.outer,
                                t.boss || this.initBoss();
                                var n = (this.channel = v["default"].channel(t.outer.id),
                                t.size || g["default"].CANVAS_SIZE);
                                this.$outer = this._createOuter(n),
                                    this.$sideBar = t.userGraphic && this._createSideBar(),
                                this.$sideBar && this.$sideBar.click(function(t) {
                                    e._sideBarEvent(t)
                                }),
                                    this.$nav = !t.singleChart && this._createNav(n),
                                    this.$canvas = this._createContainer(n),
                                    t.container = this.$canvas[0],
                                    this.$compare = this._createCompare(),
                                this.$compare && this.$compare.hide()
                            }
                        }, {
                            key: "initBoss",
                            value: function() {
                                var e = g["default"].BOSS_CLICK;
                                this.bossId = e,
                                    S.init({
                                        BossId: e,
                                        Pwd: 0
                                    });
                                var t = this.config.market;
                                ("sz" === t || "sh" === t) && (t = "hs"),
                                    S.config(e, {
                                        sBiz: t
                                    }),
                                    S.click(this.bossId, 1)
                            }
                        }, {
                            key: "reset",
                            value: function(e) {
                                f["default"].cfg(e.symbol, {
                                    outer: e.outer,
                                    container: this.config.container
                                }),
                                    this.config = e,
                                    this.symbol = e.symbol,
                                    this._init()
                            }
                        }, {
                            key: "_destroy",
                            value: function() {}
                        }, {
                            key: "getScenes",
                            value: function() {
                                var e = this
                                    , t = this.config
                                    , n = this.config.scene;
                                void 0 !== n ? (this.scenes = n,
                                    this.buildMenu(),
                                    this.resetSenceMenu()) : !function() {
                                    var n = e.config.symbol
                                        , r = e.config.market;
                                    c["default"].getScenes(n, r, function(r) {
                                        e.scenes = r,
                                            f["default"].cfg(n, {
                                                outer: t.outer,
                                                scene: e.scenes
                                            }),
                                            e.buildMenu(),
                                            e.resetSenceMenu()
                                    })
                                }()
                            }
                        }, {
                            key: "show",
                            value: function() {
                                this.config.fullScreen && $(".overlay").show(),
                                    $(this.config.outer).show(),
                                    this.resetScene(),
                                    this.resetSenceMenu()
                            }
                        }, {
                            key: "hide",
                            value: function() {
                                this.stop(),
                                this.config.fullScreen && $(".overlay").hide(),
                                    $(this.config.outer).hide()
                            }
                        }, {
                            key: "buildMenu",
                            value: function() {
                                this._buildScenes(),
                                    this._buildCompare(),
                                    this._buildFqList()
                            }
                        }, {
                            key: "_createNav",
                            value: function(e) {
                                var t = this
                                    , n = this.config
                                    , r = this.$outer
                                    , i = n.outer.id
                                    , s = $("#" + i + " .graphic-nav-ul");
                                return s[0] || (s = $('<ul class= "graphic-nav-ul"></ul>'),
                                    s.css({
                                        width: e.width - 2
                                    }),
                                    s.click(function(e) {
                                        t._menuEvent(e)
                                    }),
                                    s.mouseover(function(e) {
                                        t._menuEventOver(e)
                                    }),
                                    r.append(s)),
                                    s
                            }
                        }, {
                            key: "_createCompare",
                            value: function() {
                                var e = this.config
                                    , t = this.$outer
                                    , n = e.outer.id;
                                if (e.compare === !1)
                                    return null ;
                                var r = $("#" + n + " .compare");
                                if (!r[0]) {
                                    r = $('<div class = "compare"><div class=\'compare-left\'><label>\u80a1\u7968\u5bf9\u6bd4:</label><input class="text" type="text">\n                        <input class="button" type="button" value="\u5bf9\u6bd4"></div>\n                        <div class = \'portfolio-ad\'><a class="ad-app" href="http://finance.qq.com/products/portfolio/download.htm?pgv_ref=stockhtm.finance.middle.pic" target="_blank" alt="\u624b\u673a\u7248\u81ea\u9009\u80a1"></a></div>\n                        <div class = "compare-panel"></div></div>');
                                    var i = this.$popTips;
                                    i || (i = this.$popTips = $('<div class ="popup cmp-tips"><div>\u6700\u591a\u540c\u65f6\u5bf9\u6bd4' + (g["default"].MAX_COMPARE + 1) + '\u53ea\u80a1\u7968\uff0c\u8bf7\u8c03\u6574\u540e\u518d\u8fdb\u884c\u5bf9\u6bd4\u3002</div>\n                        <input type="button" class = "cmp-ok-button" value="\u786e\u5b9a"/></div>')),
                                        i.find(".cmp-ok-button").click(function() {
                                            $(this).parent().hide()
                                        }),
                                        t.append(r, i)
                                }
                                return r
                            }
                        }, {
                            key: "_createSideBar",
                            value: function(e) {
                                var t = this.config
                                    , n = this.$outer
                                    , r = t.outer.id
                                    , i = $("#" + r + " .sideBar");
                                return i[0] || (i = $(x),
                                    n.append(i)),
                                    i
                            }
                        }, {
                            key: "_createContainer",
                            value: function(e) {
                                var t = this.config
                                    , n = this.$outer
                                    , r = t.outer.id
                                    , i = $("#" + r + "-alpine");
                                i[0] || (i = $("<div id = " + r + "-alpine></div>"),
                                    n.append(i));
                                var s = e.width
                                    , o = e.height;
                                return this.$nav && (o -= this.$nav.height()),
                                    i.css({
                                        height: o + "px",
                                        width: s + "px"
                                    }),
                                    i
                            }
                        }, {
                            key: "_createOuter",
                            value: function(e) {
                                var t = this.config.outer.id
                                    , n = $(this.config.outer).find("#" + t + "-container");
                                n.length || (n = $("<div id=" + t + "-container></div>"),
                                    $(this.config.outer).append(n));
                                var r = e.width
                                    , i = e.height;
                                return n.css({
                                    position: "absolute",
                                    width: r + "px",
                                    height: i + "px"
                                }),
                                    $(this.config.outer).css({
                                        width: r + "px",
                                        height: i + "px"
                                    }),
                                    n
                            }
                        }, {
                            key: "_buildScenes",
                            value: function() {
                                var e = this.config
                                    , t = this.scenes
                                    , n = this.$nav;
                                n && n.empty(),
                                    this._buildLarger();
                                var r = e.current || e.defaultChart
                                    , i = void 0;
                                for (var s in t) {
                                    var o = $('<li class="chart" value="' + s + '"></li>');
                                    o.text(t[s].name),
                                    n && n.append(o),
                                    s === r && (i = o)
                                }
                                i = i || n.children(".chart")[0],
                                    $(i).addClass("graphic-menu-active"),
                                    f["default"].cfg(e.symbol, {
                                        outer: e.outer,
                                        current: $(i)[0].getAttribute("value")
                                    })
                            }
                        }, {
                            key: "_buildLarger",
                            value: function() {
                                if (this.$nav) {
                                    var e = this.config;
                                    if (e.larger !== !1) {
                                        var t = $('<li class="zoom" value = "zoom"> </li>');
                                        this.$nav && this.$nav.append(t)
                                    }
                                    if (e.fullScreen) {
                                        var n = $('<li class="popup popup-close" value = "close"></li>');
                                        this.$nav && this.$nav.append(n)
                                    }
                                }
                            }
                        }, {
                            key: "_buildOverlay",
                            value: function() {
                                var e = this.config
                                    , t = $(".overlay");
                                t[0] || (t = $('<div class="overlay"></div>'),
                                    $("body").append(t));
                                var n = this.config.outer.id + "-larger"
                                    , r = $("#" + n);
                                if (r[0]) {
                                    var i = this.setLargerChartStyle();
                                    this.larger.painter ? (r.show(),
                                        this.larger.attr({
                                            chartStyle: i
                                        }),
                                        this.larger._resetPainter(this.symbol)) : (this.larger.attr({
                                        chartStyle: i
                                    }),
                                        this.larger._setPainter(this.symbol))
                                } else {
                                    r = $("<div id =" + n + ' class = "alpine-graphic-larger ">\n                                <div class="larger-title">\n                                        <span class="larger-name"></span>\n                                        <span class="larger-code"></span>\n                                        <span class="larger-status popup"></span>\n                                </div>\n                            </div>'),
                                        $("body").append(r);
                                    var s = r.find(".larger-title");
                                    this.dragTitle(s),
                                        this.$larger = r;
                                    var i = this.setLargerChartStyle()
                                        , o = {
                                            outer: n,
                                            proj: e.proj,
                                            size: g["default"].LARGER_SIZE,
                                            isIndex: e.isIndex,
                                            color: e.color,
                                            chartStyle: i,
                                            symbol: e.symbol,
                                            compare: e.compare,
                                            larger: !1,
                                            fullScreen: !0,
                                            userGraphic: e.larger ? e.larger.userGraphic : !0
                                        };
                                    this.larger = (new E["default"](o))._setPainter(),
                                        this.larger.painter.menu.main = this
                                }
                                this.larger.hide()
                            }
                        }, {
                            key: "dragTitle",
                            value: function(e) {
                                var t = this;
                                e.mousedown(function(e) {
                                    t.dragging = !0,
                                        t.draggingStartPos = {
                                            x: e.pageX,
                                            y: e.pageY
                                        }
                                }),
                                    e.mousemove(function(e) {
                                        if (t.dragging) {
                                            var n = t.$larger
                                                , r = t.draggingStartPos
                                                , i = n.offset()
                                                , s = i.top
                                                , o = i.left;
                                            s += e.pageY - r.y,
                                                o += e.pageX - r.x,
                                                t.$larger.css({
                                                    left: o + "px",
                                                    top: s + "px",
                                                    margin: 0
                                                }),
                                                t.draggingStartPos = {
                                                    x: e.pageX,
                                                    y: e.pageY
                                                }
                                        }
                                    }),
                                    e.mouseup(function(e) {
                                        t.dragging = !1
                                    })
                            }
                        }, {
                            key: "_buildCompare",
                            value: function() {
                                var e = this
                                    , t = this.config;
                                t.compare !== !1 && !function() {
                                    var n = e.$compare
                                        , r = t.market;
                                    r = {
                                        sz: "gp",
                                        sh: "gp",
                                        nq: "nq",
                                        hk: "hk",
                                        us: "us",
                                        "if": "if",
                                        wh: "wh"
                                    }[r],
                                        n.find("input[type=text]").smartbox({
                                            defaultType: r,
                                            $button: n.find("input[type=button]"),
                                            onclick: function(t) {
                                                var n = ""
                                                    , i = t[0]
                                                    , s = t[1]
                                                    , o = t[2];
                                                switch (i) {
                                                    case "us":
                                                        n = i + s.toUpperCase();
                                                        break;
                                                    case "hk":
                                                        n = "ZS" === t[4] ? i + s.toUpperCase() : i + s;
                                                        break;
                                                    case "qh":
                                                        n = r + s;
                                                        break;
                                                    default:
                                                        n = i + s
                                                }
                                                e.addCmp({
                                                    symbol: n,
                                                    name: o
                                                }) && e._showCmpPanel()
                                            }
                                        }),
                                    ("minute" === t.current || "fdays" === t.current) && (n.show(),
                                        e._showCmpPanel())
                                }()
                            }
                        }, {
                            key: "_buildFqList",
                            value: function() {
                                var e = this;
                                if (this.$nav && this.hasFqType()) {
                                    var t = this.config
                                        , n = $('<div class = "fqList"></div>');
                                    "us" === t.market ? n.html('<ul><li class="fqType" value="nfq">\u4e0d\u590d\u6743</li><li class="fqType" value="qfq" style ="color:#ddd">\u524d\u590d\u6743</li></ul>') : n.html('<ul><li class="fqType" value="nfq">\u4e0d\u590d\u6743</li><li class="fqType" value="qfq" style ="color:#ddd">\u524d\u590d\u6743</li><li class="fqType" value="hfq">\u540e\u590d\u6743</li></ul>'),
                                        this.$fqList = n,
                                        this.$nav.append(n),
                                        n.click(function(t) {
                                            e._fqEvent(t)
                                        }),
                                        this.$nav.mouseleave(function(t) {
                                            e._menuEventOut(t)
                                        })
                                }
                            }
                        }, {
                            key: "addCmp",
                            value: function(e) {
                                var t = this.config.cmpList;
                                if (e.symbol === this.symbol)
                                    return !1;
                                for (var n = 0, r = t.length; r > n; n++)
                                    if (t[n].symbol === e.symbol)
                                        return !1;
                                return t.length === g["default"].MAX_COMPARE ? (this.$popTips.show(),
                                    !1) : (e.src ? t.push(e) : t.push(i.clone(e)),
                                    e.selected = !0,
                                this.config.boss || S.click(this.bossId, 23),
                                    this.repaint(),
                                    !0)
                            }
                        }, {
                            key: "removeCmp",
                            value: function(e) {
                                for (var t = this.config.cmpList, n = 0, r = t.length; r > n; n++)
                                    if (t[n].symbol === e.symbol)
                                        return v["default"].channel(e.symbol).publish(this.config.outer.id + ".compare.delete"),
                                            e.selected = !1,
                                            !0
                            }
                        }, {
                            key: "repaint",
                            value: function() {
                                this.channel.publish("draw")
                            }
                        }, {
                            key: "stop",
                            value: function() {
                                this.channel.publish("stop")
                            }
                        }, {
                            key: "_fqEvent",
                            value: function(e) {
                                var t = this.config
                                    , n = e.target || e.srcElement
                                    , r = this.$fqList.children().children()
                                    , i = r.length
                                    , s = n.getAttribute("value");
                                if ("nfq" == s && (s = ""),
                                    s !== t.fqType || t.current !== this.hoverChartType) {
                                    for (var o = i - 1; o >= 0; o--)
                                        $(r[o]).css("color", "#1b6393");
                                    $(n).css("color", "#ddd"),
                                        this.$fqList.hide();
                                    for (var u = this.$nav, a = u.children(), l = a.length, o = l - 1; o >= 0; o--) {
                                        var c = a[o].getAttribute("value");
                                        c in this.scenes && (a[o].className = "graphic-menu-inactive",
                                        c === this.hoverChartType && (a[o].className = "graphic-menu-active"))
                                    }
                                    if (!this.config.boss) {
                                        if (this.hoverChartType !== t.current) {
                                            var h = {
                                                day: 11,
                                                week: 12,
                                                month: 13
                                            }[this.hoverChartType];
                                            S.click(this.bossId, h)
                                        }
                                        s !== t.fqType && S.click(this.bossId, s || "nfq")
                                    }
                                    f["default"].cfg(this.symbol, {
                                        outer: t.outer,
                                        fqType: s,
                                        current: this.hoverChartType
                                    }),
                                        this.resetSenceMenu(),
                                        this.repaint()
                                }
                            }
                        }, {
                            key: "_menuEvent",
                            value: function(e) {
                                var t = e.target || e.srcElement
                                    , n = t.getAttribute("value")
                                    , r = this.config;
                                this.$nav;
                                switch (n) {
                                    case "zoom":
                                        this._buildOverlay(),
                                            this._showLargerTitle(),
                                            this._showCmpPanel(),
                                            f["default"].cfg(r.symbol, {
                                                outer: this.larger.config.outer,
                                                fqType: r.fqType,
                                                current: r.current
                                            }),
                                            this.larger.show(),
                                        r.boss || S.click(this.bossId, 21);
                                        break;
                                    case "close":
                                        f["default"].cfg(r.symbol, {
                                            outer: this.main.config.outer,
                                            fqType: r.fqType,
                                            current: r.current
                                        }),
                                            this.main.show(),
                                            this.hide();
                                        break;
                                    case "qfq":
                                    case "hfq":
                                    case "nfq":
                                        break;
                                    default:
                                        if (!n || n == r.current)
                                            return;
                                        if (f["default"].cfg(r.symbol, {
                                                outer: r.outer,
                                                current: n
                                            }),
                                                !r.boss) {
                                            var i = {
                                                minute: 1,
                                                fdays: 2,
                                                m5: 3,
                                                m30: 4,
                                                m60: 5,
                                                year1: 6,
                                                year3: 7,
                                                year5: 8,
                                                day: 11,
                                                week: 12,
                                                month: 13
                                            }[n];
                                            S.click(this.bossId, i)
                                        }
                                        this.resetSenceMenu(),
                                            this.resetScene()
                                }
                            }
                        }, {
                            key: "resetSenceMenu",
                            value: function() {
                                this.resetCompare(),
                                    this.resetSideBar(),
                                    this.resetBottomTips()
                            }
                        }, {
                            key: "resetScene",
                            value: function() {
                                for (var e = this.$nav ? this.$nav.children() : [], t = e.length, n = 0; t > n; n++) {
                                    var r = e[n]
                                        , i = r.getAttribute("value");
                                    i in this.scenes && (i === this.config.current ? r.className = "graphic-menu-active" : r.className = "graphic-menu-inactive")
                                }
                                if (this.$fqList)
                                    for (var s = this.$fqList.children().children(), o = s.length, u = this.config.fqType || "nfq", n = o - 1; n >= 0; n--)
                                        $(s[n]).css("color", "#1b6393"),
                                            s[n].getAttribute("value"),
                                        s[n].getAttribute("value") === u && $(s[n]).css("color", "#ddd");
                                this.repaint()
                            }
                        }, {
                            key: "resetSideBar",
                            value: function() {
                                if (this.$sideBar) {
                                    var e = this.config.current;
                                    this.$sideBar.find(".invalid").removeClass("invalid"),
                                        e.match(/^day|^week|^month|^year|m5|m15|m30|m60/) ? e.match(/^year/) && this.$sideBar.find(".graphic").addClass("invalid") : this.$sideBar.find("ul li").addClass("invalid");
                                    var t = this.$outer.find(".user-graphic-panel");
                                    this.config.userPaint = !1,
                                        t.find(".cur").removeClass("cur"),
                                        t.find(".cur-type").removeClass("cur-type"),
                                        t.hide(),
                                        this.$sideBar.find(".graphic").removeClass("cur")
                                }
                            }
                        }, {
                            key: "resetCompare",
                            value: function() {
                                if (this.$compare) {
                                    var e = this.config.current;
                                    e.match(/minute|fdays/) ? this.$compare.show() : this.$compare.hide()
                                }
                            }
                        }, {
                            key: "resetBottomTips",
                            value: function() {
                                if (this.$bottomTips)
                                    if (this.config.fullScreen)
                                        this.$bottomTips.hide();
                                    else {
                                        var e = this.config.current;
                                        e.match(/minute|fdays/) ? this.$bottomTips.show() : this.$bottomTips.hide()
                                    }
                            }
                        }, {
                            key: "_menuEventOver",
                            value: function(e) {
                                var t = e.target || e.srcElement
                                    , n = t.getAttribute("value")
                                    , r = this.$fqList;
                                if (r)
                                    if ("string" == typeof n && n.match(/^day|week|month|year/)) {
                                        var i = t.offsetLeft - 2;
                                        r.css("left", i + "px"),
                                            r.show(),
                                            this.hoverChartType = n
                                    } else
                                        t.className && "fqType" === t.className || r.hide()
                            }
                        }, {
                            key: "_menuEventOut",
                            value: function() {
                                var e = this.$fqList;
                                e.hide()
                            }
                        }, {
                            key: "_sideBarEvent",
                            value: function(e) {
                                var t = this.config.current;
                                if (t.match(/^day|^week|^month|^year|m5|m15|m30|m60/)) {
                                    var n = e.target.getAttribute("value");
                                    if (n && !e.target.className.match(/cur/)) {
                                        var r = $(e.target)
                                            , i = this.$outer.find(".user-graphic-panel")
                                            , s = this.$sideBar;
                                        switch (this.config.boss || S.click(this.bossId, 22),
                                            n) {
                                            case "normal":
                                            case "log":
                                                this._toggleMathType(n);
                                                break;
                                            case "userGraphic":
                                                this.config.userPaint = !0,
                                                    i.show(),
                                                    r.addClass("cur");
                                                break;
                                            case "close":
                                                this.config.userPaint = !1,
                                                    i.hide(),
                                                    s.find(".graphic").removeClass("cur"),
                                                    i.find(".cur").removeClass("cur"),
                                                    i.find(".cur-type").removeClass("cur-type");
                                                break;
                                            case "clear":
                                                this.config.userPaint = "clear",
                                                    i.find(".cur").removeClass("cur"),
                                                    i.find(".cur-type").removeClass("cur-type");
                                                break;
                                            default:
                                                return this.config.userPaint = n,
                                                    i.find(".cur").removeClass("cur"),
                                                    i.find(".cur-type").removeClass("cur-type"),
                                                    r.parent().addClass("cur"),
                                                    void r.addClass("cur-type")
                                        }
                                        this.repaint()
                                    }
                                }
                            }
                        }, {
                            key: "_toggleMathType",
                            value: function(e) {
                                this.config.mathType = e;
                                var t = this.$sideBar
                                    , n = t.find(".norm")
                                    , r = t.find(".log");
                                "normal" === e ? (r.removeClass("cur"),
                                    n.addClass("cur")) : "log" === e && (n.removeClass("cur"),
                                    r.addClass("cur"))
                            }
                        }, {
                            key: "_showLargerTitle",
                            value: function() {
                                var e = this.config.current
                                    , t = this.config.market
                                    , n = this.symbol;
                                e.match(/^day|week|month|year/) && (e.match(/^year/) && (e = "day"),
                                    e += this.config.fqType);
                                var r = f["default"].data(n)[e].calData
                                    , i = r.name || r.o && r.o.name
                                    , s = this.$larger.find(".larger-name");
                                s.html(i);
                                var o = this.$larger.find(".larger-code");
                                if ("us" === t) {
                                    var u = n.lastIndexOf(".");
                                    t = u > 0 ? n.substr(u + 1) : t
                                }
                                var a = {
                                    sz: "\u6df1\u5733",
                                    sh: "\u4e0a\u6d77",
                                    hk: "\u9999\u6e2f",
                                    us: "\u7f8e\u56fd",
                                    nq: "\u65b0\u4e09\u677f",
                                    OQ: "NASDAQ",
                                    N: "NYSE",
                                    AM: "AMEX",
                                    AR: "ARCA",
                                    "if": "\u80a1\u6307\u671f\u8d27",
                                    qh: "\u671f\u8d27",
                                    wh: "\u5916\u6c47",
                                    fund: "\u57fa\u91d1"
                                }[t];
                                o.html(a + ": " + this.symbol.substr(2));
                                var l = this.$larger.find(".larger-status");
                                this._getMarketStatus(this.config.market, function(e) {
                                    e ? l.html(e) : l.hide()
                                })
                            }
                        }, {
                            key: "_getRelatedList",
                            value: function(e) {
                                var t = this.config.relatedList;
                                if (t.length)
                                    e();
                                else {
                                    var n = void 0
                                        , r = void 0;
                                    switch (this.config.market) {
                                        case "sz":
                                        case "sh":
                                            n = ["sh000001", "sz399001"],
                                                this._addRelateMkt(n),
                                                this.config.isIndex ? this._getHotAll(e) : (r = "http://web.ifzq.gtimg.cn/stock/relate/data/relate?_var=_RELATE&code=" + this.symbol,
                                                    this._getRelate(r, e));
                                            break;
                                        case "nq":
                                            n = ["nq899001", "nq899002"],
                                                this._addRelateMkt(n);
                                            break;
                                        case "hk":
                                            n = ["hkHSI"],
                                                this._addRelateMkt(n),
                                                this.config.isIndex ? this._getHotAll(e, "hk") : (r = "http://web.ifzq.gtimg.cn/hk/aastocks/relate/relate?_var=_RELATE&code=" + this.symbol,
                                                    this._getRelate(r, e));
                                            break;
                                        case "us":
                                            n = ["usDJI", "usIXIC", "usINX"],
                                                this._addRelateMkt(n),
                                                this.config.isIndex ? this._getTop10(e) : (r = "http://web.ifzq.gtimg.cn/hk/aastocks/relate/usRelate?_var=_RELATE&code=" + this.symbol,
                                                    this._getRelate(r, e));
                                            break;
                                        default:
                                            e()
                                    }
                                }
                            }
                        }, {
                            key: "_addRelateMkt",
                            value: function(e) {
                                var t = this.symbol
                                    , n = this.config.relatedList;
                                e.forEach(function(e) {
                                    e !== t && n.push("s_" + e)
                                })
                            }
                        }, {
                            key: "_getRelate",
                            value: function(e, t) {
                                var n = this
                                    , r = this.config.relatedList;
                                b["default"].get(e, function() {
                                    var e = window._RELATE && window._RELATE.data;
                                    return e ? (e = e.slice(0, 10),
                                        "us" === n.config.market ? e.forEach(function(e) {
                                            var t = e.code
                                                , n = t.lastIndexOf(".");
                                            t = -1 == n ? t : t.slice(0, n).replace(/\./g, "__"),
                                                r.push("s_" + t)
                                        }) : "hk" === n.config.market ? e.forEach(function(e) {
                                            r.push("s_hk" + e.code)
                                        }) : e.forEach(function(e) {
                                            r.push("s_" + e.code)
                                        }),
                                        window._RELATE = null ,
                                        void t()) : void t()
                                })
                            }
                        }, {
                            key: "_getHotAll",
                            value: function(e, t) {
                                var n = this;
                                t = t || "sstock";
                                var r = this.config.relatedList
                                    , i = "http://stockhtm.finance.qq.com/" + t + "/quotpage/inc_hot/hot_all.js";
                                b["default"].get(i, function() {
                                    var t = window.v_hot_all.split("|");
                                    t = t.slice(0, 10),
                                        t.forEach(function(e) {
                                            var t = e.split("_")[0]
                                                , i = e.split("_")[1];
                                            switch (i) {
                                                case "1":
                                                    i = "sh";
                                                    break;
                                                case "51":
                                                    i = "sz";
                                                    break;
                                                case "100":
                                                    i = "hk"
                                            }
                                            t !== n.symbol.substr(2) && r.push("s_" + i + t)
                                        }),
                                        e()
                                })
                            }
                        }, {
                            key: "_getTop10",
                            value: function(e) {
                                var t = this
                                    , n = this.config.relatedList
                                    , r = "http://qt.gtimg.cn/?q=us_imp_zdftop10";
                                b["default"].get(r, function() {
                                    var r = window.v_us_imp_zdftop10.split("^");
                                    r = r.slice(0, 10),
                                        r.forEach(function(e) {
                                            var r = e.split("~")[3];
                                            if (r !== t.symbol.substr(2)) {
                                                var i = r.lastIndexOf(".");
                                                r = -1 == i ? r : r.slice(0, i).replace(/\./g, "__"),
                                                    n.push("s_us" + r)
                                            }
                                        }),
                                        e()
                                })
                            }
                        }, {
                            key: "_showCmpPanel",
                            value: function() {
                                var e = this
                                    , t = this.config;
                                if (t.fullScreen) {
                                    var n = this.$compare.find(".compare-panel");
                                    n.empty(),
                                        this._getRelatedList(function() {
                                            var i = t.cmpList;
                                            if (i.length)
                                                for (var s = 0, o = i.length; o > s; s++) {
                                                    var u = i[s];
                                                    u.selected = !0,
                                                        e._appendCmpItem(n, u)
                                                }
                                            var a = t.relatedList;
                                            if (a.length) {
                                                var f = "http://qt.gtimg.cn/?q=" + a.join(",");
                                                b["default"].get(f, function() {
                                                    a.forEach(function(i) {
                                                        var s = window["v_" + i].split("~")
                                                            , o = void 0;
                                                        "us" === t.market && (o = s[2],
                                                        s[2].match(/^\./) && (o = o.substr(1)),
                                                            o = "us" + o);
                                                        var u = {
                                                                symbol: o || i.substr(2),
                                                                name: s[1],
                                                                selected: !1
                                                            }
                                                            , a = t.cmpList
                                                            , f = !1;
                                                        a.forEach(function(e) {
                                                            e.symbol === u.symbol && (f = !0)
                                                        }),
                                                        f || e._appendCmpItem(n, u)
                                                    })
                                                })
                                            }
                                        })
                                }
                            }
                        }, {
                            key: "_appendCmpItem",
                            value: function(e, t) {
                                var n = this
                                    , r = $('<div class="compare-item ' + (t.selected ? "checked" : "") + '" id="item-' + t.symbol + " \">\n                            <span class = 'checkbox'><span class='checkmark'>&radic;</span></span>\n                            <label >" + t.name + "</label></div>");
                                e.append(r),
                                e.children().length > 8,
                                    r.click(function(e) {
                                        e.preventDefault(),
                                            n._toggleCmpItem(e, t)
                                    })
                            }
                        }, {
                            key: "_toggleCmpItem",
                            value: function(e, t) {
                                var n = t.selected;
                                n ? this.removeCmp(t) && ($(e.target).removeClass("checked"),
                                    $(e.target).parents(".compare-item").removeClass("checked")) : this.addCmp(t) && ($(e.target).addClass("checked"),
                                    $(e.target).parents(".compare-item").addClass("checked"))
                            }
                        }, {
                            key: "_getMarketStatus",
                            value: function(e, t) {
                                b["default"].get("http://sqt.gtimg.cn/q=marketStat", function() {
                                    var n = window.v_marketStat.split("|")
                                        , r = {
                                            sz: 3,
                                            sh: 2,
                                            hk: 1,
                                            us: 4
                                        }[e];
                                    r = n[r],
                                        t(r && r.split("_")[2])
                                })
                            }
                        }, {
                            key: "hasFqType",
                            value: function() {
                                return this.config.market.match(/sz|sh|us|hk|nq/) ? this.config.isIndex ? !1 : !0 : !1
                            }
                        }, {
                            key: "setLargerChartStyle",
                            value: function() {
                                var e = this.config
                                    , t = p["default"].larger
                                    , n = p["default"]["larger-" + e.market] || {}
                                    , r = i.cloneDeep(n);
                                if (i.defaultsDeep(r, t),
                                        !e.larger)
                                    return r;
                                var s = i.cloneDeep(e.larger.style || {});
                                return i.defaultsDeep(s, r),
                                    s
                            }
                        }]),
                            e
                    }();
                t["default"] = T,
                    e.exports = t["default"]
            }
            ).call(t, n(5))
        }
        , function(e, t) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var n = 0
                , r = 1
                , i = {
                    "default": {
                        minute: {
                            titleArea: {
                                display: !0,
                                volume_text: !0,
                                position: {
                                    top: 5,
                                    left: 10,
                                    height: 25,
                                    right: 10
                                },
                                cmpPanelType: r
                            },
                            minuteArea: {
                                display: !0,
                                minuteEl: !0,
                                minuteAvgEl: !0,
                                position: {
                                    top: 10,
                                    left: 65,
                                    height: 190,
                                    right: 65
                                }
                            },
                            volumeArea: {
                                display: !0,
                                position: {
                                    top: 40,
                                    left: 65,
                                    height: 65,
                                    right: 65
                                }
                            }
                        },
                        kline: {
                            titleArea: {
                                display: !0,
                                volume_text: !0,
                                position: {
                                    top: 5,
                                    left: 10,
                                    height: 25,
                                    right: 5
                                }
                            },
                            klineArea: {
                                display: !0,
                                shape: "candle",
                                position: {
                                    top: 10,
                                    left: 65,
                                    height: 157,
                                    right: 40
                                },
                                ma: !0
                            },
                            volumeArea: {
                                display: !0,
                                position: {
                                    top: 35,
                                    left: 65,
                                    height: 40,
                                    right: 40
                                },
                                ma: !0
                            },
                            indexArea: {
                                display: !0,
                                position: {
                                    top: 15,
                                    left: 65,
                                    height: 40,
                                    right: 40
                                }
                            },
                            trendArea: {
                                display: !0,
                                position: {
                                    top: 20,
                                    left: 65,
                                    height: 35,
                                    right: 40
                                }
                            },
                            panel: {
                                display: !0,
                                volume_text: !0
                            }
                        },
                        year: {
                            titleArea: {
                                display: !0,
                                volume_text: !0,
                                position: {
                                    top: 5,
                                    left: 10,
                                    height: 25,
                                    right: 5
                                }
                            },
                            klineArea: {
                                display: !0,
                                shape: "line",
                                position: {
                                    top: 10,
                                    left: 65,
                                    height: 157,
                                    right: 40
                                },
                                ma: !1
                            },
                            volumeArea: {
                                display: !0,
                                position: {
                                    top: 35,
                                    left: 65,
                                    height: 40,
                                    right: 40
                                },
                                ma: !0
                            },
                            indexArea: {
                                display: !0,
                                position: {
                                    top: 15,
                                    left: 65,
                                    height: 40,
                                    right: 40
                                }
                            },
                            trendArea: {
                                display: !0,
                                position: {
                                    top: 20,
                                    left: 65,
                                    height: 35,
                                    right: 40
                                }
                            },
                            panel: {
                                display: !1
                            }
                        }
                    },
                    wh: {
                        minute: {
                            titleArea: {
                                volume_text: !1
                            },
                            minuteArea: {
                                minuteAvgEl: !1,
                                position: {
                                    top: 10,
                                    left: 65,
                                    height: 240,
                                    right: 65
                                }
                            },
                            volumeArea: {
                                display: !1
                            }
                        },
                        kline: {
                            titleArea: {
                                volume_text: !1
                            },
                            klineArea: {
                                position: {
                                    top: 10,
                                    left: 65,
                                    height: 150,
                                    right: 40
                                }
                            },
                            volumeArea: {
                                display: !1
                            },
                            indexArea: {
                                position: {
                                    top: 38,
                                    left: 65,
                                    height: 50,
                                    right: 40
                                }
                            },
                            panel: {
                                volume_text: !1
                            }
                        },
                        year: {
                            titleArea: {
                                volume_text: !1
                            },
                            volumeArea: {
                                display: !1
                            },
                            indexArea: {
                                display: !0,
                                position: {
                                    top: 38,
                                    left: 65,
                                    height: 50,
                                    right: 40
                                }
                            }
                        }
                    },
                    larger: {
                        minute: {
                            titleArea: {
                                display: !0,
                                volume_text: !0,
                                position: {
                                    top: 15,
                                    left: 15,
                                    height: 25,
                                    right: 15
                                },
                                cmpPanelType: n
                            },
                            minuteArea: {
                                display: !0,
                                minuteEl: !0,
                                minuteAvgEl: !0,
                                position: {
                                    top: 20,
                                    left: 65,
                                    height: 225,
                                    right: 65
                                }
                            },
                            volumeArea: {
                                display: !0,
                                position: {
                                    top: 40,
                                    left: 65,
                                    height: 65,
                                    right: 65
                                }
                            }
                        },
                        kline: {
                            titleArea: {
                                display: !0,
                                volume_text: !0,
                                position: {
                                    top: 15,
                                    left: 15,
                                    height: 25,
                                    right: 15
                                }
                            },
                            klineArea: {
                                display: !0,
                                shape: "candle",
                                position: {
                                    top: 20,
                                    left: 65,
                                    height: 225,
                                    right: 65
                                },
                                ma: !0
                            },
                            volumeArea: {
                                display: !0,
                                position: {
                                    top: 40,
                                    left: 65,
                                    height: 40,
                                    right: 65
                                },
                                ma: !0
                            },
                            indexArea: {
                                display: !0,
                                position: {
                                    top: 15,
                                    left: 65,
                                    height: 50,
                                    right: 65
                                }
                            },
                            trendArea: {
                                display: !0,
                                position: {
                                    top: 25,
                                    left: 65,
                                    height: 35,
                                    right: 65
                                }
                            },
                            panel: {
                                display: !0,
                                volume_text: !0
                            }
                        },
                        year: {
                            titleArea: {
                                display: !0,
                                volume_text: !0,
                                position: {
                                    top: 15,
                                    left: 15,
                                    height: 25,
                                    right: 15
                                }
                            },
                            klineArea: {
                                display: !0,
                                shape: "line",
                                position: {
                                    top: 20,
                                    left: 65,
                                    height: 225,
                                    right: 40
                                },
                                ma: !1
                            },
                            volumeArea: {
                                display: !0,
                                position: {
                                    top: 40,
                                    left: 65,
                                    height: 40,
                                    right: 40
                                },
                                ma: !0
                            },
                            indexArea: {
                                display: !0,
                                position: {
                                    top: 15,
                                    left: 65,
                                    height: 50,
                                    right: 40
                                }
                            },
                            trendArea: {
                                display: !0,
                                position: {
                                    top: 25,
                                    left: 65,
                                    height: 35,
                                    right: 40
                                }
                            },
                            panel: {
                                display: !1
                            }
                        }
                    },
                    "larger-wh": {
                        minute: {
                            titleArea: {
                                volume_text: !1
                            },
                            minuteArea: {
                                minuteAvgEl: !1,
                                position: {
                                    height: 300
                                }
                            },
                            volumeArea: {
                                display: !1
                            }
                        },
                        kline: {
                            titleArea: {
                                volume_text: !1
                            },
                            klineArea: {
                                position: {
                                    height: 280
                                }
                            },
                            volumeArea: {
                                display: !1
                            },
                            indexArea: {
                                position: {
                                    top: 40,
                                    height: 50
                                }
                            },
                            trendArea: {
                                position: {
                                    top: 30
                                }
                            },
                            panel: {
                                volume_text: !1
                            }
                        },
                        year: {
                            titleArea: {
                                volume_text: !1
                            },
                            klineArea: {
                                position: {
                                    height: 280
                                }
                            },
                            volumeArea: {
                                display: !1
                            },
                            indexArea: {
                                position: {
                                    top: 40,
                                    height: 50
                                }
                            },
                            trendArea: {
                                position: {
                                    top: 30
                                }
                            }
                        }
                    }
                };
            t["default"] = i,
                e.exports = t["default"]
        }
        , function(e, t) {
            "use strict";
            function n(e, t) {
                if (o)
                    s.push({
                        url: e,
                        callback: t
                    });
                else {
                    o = !0;
                    var r = document.createElement("script")
                        , u = document.getElementsByTagName("head")[0];
                    r.id = new Date + Math.random(),
                        r.src = i(e),
                        r.async = !1,
                        r.onload = r.onerror = r.onreadystatechange = function() {
                            if (/loaded|complete|undefined/.test(r.readyState) && (t(),
                                    u.removeChild(r),
                                    o = !1,
                                    s.length)) {
                                var e = s.shift();
                                n(e.url, e.callback)
                            }
                        }
                        ,
                        u.appendChild(r)
                }
            }
            function r(e, t) {
                var n = document.createElement("script")
                    , r = document.getElementsByTagName("head")[0];
                n.id = new Date + Math.random(),
                    n.src = i(e),
                    n.async = !0,
                    n.onload = n.onerror = n.onreadystatechange = function() {
                        /loaded|complete|undefined/.test(n.readyState) && (t(),
                            r.removeChild(n))
                    }
                    ,
                    r.appendChild(n)
            }
            function i(e) {
                var t = -1 !== e.indexOf("?");
                return e + (t ? "&r=" : "?r=") + Math.random()
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var s = []
                , o = !1;
            t["default"] = {
                get: r,
                getSync: n
            },
                e.exports = t["default"]
        }
        , function(e, t, n) {
            var r;
            (function() {
                window,
                    window.BossImg = new Image;
                var i;
                !function() {
                    var e;
                    i = function() {
                        if (e)
                            return e;
                        e = this;
                        var t, n = {
                                total: 0
                            }, r = function(e) {
                                var t = ["http://btrace.qq.com/kvcollect?"];
                                for (var n in e)
                                    t.push(n, "=", e[n], "&");
                                return t.push("_dc=", Math.random()),
                                    t.join("")
                            }
                            , i = function() {
                                return navigator.connection
                            }(), s = function() {
                                var e = navigator.userAgent
                                    , t = e.toLowerCase()
                                    , n = {
                                        msie: /(?:msie\s|trident.*rv:)([\w.]+)/i,
                                        firefox: /Firefox\/([\w.]+)/i,
                                        chrome: /Chrome\/([\w.]+)/i,
                                        safari: /version\/([\w.]+).*Safari/i,
                                        opera: /(?:OPR\/|Opera.+version\/)([\w.]+)/i
                                    }
                                    , r = {
                                        MSIE: /(compatible;\smsie\s|Trident\/)[\w.]+/i,
                                        Camino: /Camino/i,
                                        KHTML: /KHTML/i,
                                        Presto: /Presto\/[\w.]+/i,
                                        Gecko: /Gecko\/[\w.]+/i,
                                        WebKit: /AppleWebKit\/[\w.]+/i
                                    }
                                    , i = {
                                        kernel: "unknow",
                                        version: "unknow"
                                    };
                                for (var s in n) {
                                    var o = t.match(n[s]);
                                    i[s] = o ? !0 : !1,
                                    o && (i.version = o[1],
                                        i.bname = s)
                                }
                                for (var s in r) {
                                    var o = t.match(r[s]);
                                    o && (i.kernel = o[0])
                                }
                                var u = t.match(/(Windows\sNT\s|Mac\sOS\sX\s|Android\s|ipad.*\sos\s|iphone\sos\s)([\d._-]+)/i);
                                return i.os = null !== u ? u[0] : !1,
                                    i.mobile = null !== t.match(/Mobile/i) ? "mobile" : "",
                                    [i.bname, i.kernel, i.os, i.mobile, i.version].join(",")
                            }(), o = function() {
                                var e = [];
                                if ("number" == typeof arguments[0])
                                    return void 0 === n[arguments[0]] || "number" != typeof arguments[0] ? void 0 : arguments;
                                if (1 !== n.total)
                                    throw new Error("Please specify the bossId");
                                for (var t = arguments.length; t > 0; t--)
                                    e[t] = arguments[t - 1];
                                for (var r in n)
                                    return e[0] = Number(r),
                                        e
                            }
                            , u = [], a = function(e, i) {
                                if (n[e])
                                    for (var s in n[e])
                                        i[s] = n[e][s];
                                return t ? void u.push(i) : void (t = setTimeout(function() {
                                    window.BossImg.src = "about:blank",
                                        window.BossImg.src = r(i),
                                        t = null ,
                                    u.length && a(e, u.shift())
                                }, 100))
                            }
                            ;
                        this.init = function() {
                            for (var e = arguments.length - 1; e >= 0; e--) {
                                var t = arguments[e];
                                if (void 0 === t.BossId || "number" != typeof t.BossId)
                                    throw new Error("BossId is missing or not a number");
                                if (void 0 === t.Pwd || "number" != typeof t.Pwd)
                                    throw new Error("Pwd is missing or not a number");
                                n[t.BossId] || (n[t.BossId] = t,
                                    n.total++)
                            }
                        }
                            ,
                            this.add = function() {
                                this.init.apply(this, arguments)
                            }
                            ,
                            this.config = function() {
                                var e = o.apply(this, arguments)
                                    , t = e[0]
                                    , r = e[1];
                                for (var i in r)
                                    n[t][i] = r[i]
                            }
                            ,
                            this.monitor = function() {
                                var e = o.apply(this, arguments)
                                    , t = e[0]
                                    , n = e[1];
                                window.onerror = function(e, r, o) {
                                    var u = {
                                        cginame: {
                                            hangqing: 1,
                                            portfolio: 2,
                                            qqPanel: 3
                                        }[n.name],
                                        err_desc: encodeURIComponent(e),
                                        err_file: encodeURIComponent(location.href + "," + r),
                                        err_line: o,
                                        version: s,
                                        nettype: i
                                    };
                                    a(t, u)
                                }
                            }
                            ,
                            this.click = function() {
                                var e = o.apply(this, arguments);
                                if (e) {
                                    var t = e[0]
                                        , n = e[1]
                                        , r = document.cookie.match(/( |^)(l?)uin=(o0*)(.*?)(;|$)/)
                                        , i = r && r.length && r[4]
                                        , s = {
                                            iQQ: i,
                                            sOp: n
                                        };
                                    a(t, s)
                                }
                            }
                            ,
                            this.report = function() {
                                var e = o.apply(this, arguments)
                                    , t = e[0]
                                    , n = e[1]
                                    , r = e[2]
                                    , u = e[3]
                                    , f = "";
                                if (n && n.params) {
                                    if ("object" != typeof n.params)
                                        f = n.params;
                                    else {
                                        f = [];
                                        for (var c in n.params)
                                            f.push(c, n.params[c]);
                                        f = f.join(",")
                                    }
                                    f = encodeURIComponent(f)
                                }
                                var h = {
                                    rcode: r && r.code,
                                    err_desc: r && encodeURIComponent(r.msg),
                                    hcode: r && r.hcode,
                                    sDomain: n && encodeURIComponent(n.url),
                                    url_param: f,
                                    cginame: u && u.name,
                                    iAction: u && u.action,
                                    all_time: u && u.all_time,
                                    conn_time: u && u.conn_time,
                                    tran_time: u && u.tran_time,
                                    retry_count: u && u.retry_count,
                                    err_file: encodeURIComponent(location.href),
                                    version: s,
                                    nettype: i
                                };
                                a(t, h)
                            }
                    }
                }(),
                    r = function() {
                        return new i
                    }
                        .call(t, n, t, e),
                void 0 === r || !(e.exports = r)
            }
            ).call(this)
        }
        , function(e, t) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var n = "<div class = \"sideBar\">\n                    <ul>\n                        <li value=\"normal\" class=\"norm invalid cur\">\u666e\u901a</li>\n                        <li value=\"log\" class=\"log invalid\">\u5bf9\u6570</li>\n                        <li value =\"userGraphic\" class=\"graphic invalid\" title=\"\u753b\u56fe\u5de5\u5177\u4ec5\u5728k\u7ebf\u4e0b\u6709\u6548\">\u753b\u56fe</li>\n                    </ul>\n                </div>\n                <div class = \"user-graphic-panel\">\n                    <ul>\n                        <li class=\"panel-top\"><span class = 'popup menu'></span>\n                        <span class = 'popup popup-close' value=\"close\" title='\u5173\u95ed\u7ed8\u753b'></span></li>\n                        <li ><span  class = 'popup line' value =\"line\" title='\u7ebf\u6bb5'></span></li>\n                        <li ><span  class = 'popup horizon' value =\"horizon\" title='\u6491/\u538b\u7ebf'></span></li>\n                        <li ><span  class = 'popup regression'  value ='regression' title='\u56de\u5f52\u7ebf'></span> </li>\n\n                        <li ><span  class = 'popup rect' value =\"rect\"  title='\u77e9\u5f62'></span></li>\n                        <li ><span  class = 'popup cycle' value = 'cycle' title = '\u5468\u671f\u7ebf'></span></li>\n                        <li ><span  class = 'popup division' value ='division' title = '\u9ec4\u91d1\u5206\u5272\u7ebf' ></span> </li>\n                        <li ><span  class = 'popup percentage' value ='percentage' title='\u767e\u5206\u6bd4\u7ebf' ></span></li>\n                        <li ><span  class = 'popup band' value ='band' title='\u6ce2\u6bb5\u7ebf' ></span></li>\n                        <li ><span  class = 'popup fibonacci' value ='fib' title='\u6590\u6ce2\u90a3\u5951\u7ebf' ></span></li>\n\n                        <li><span  class = 'popup up'  value=\"up\" title = '\u6da8\u6807\u8bb0'></span></li>\n                        <li><span  class = 'popup down' value=\"down\" title = '\u8dcc\u6807\u8bb0'></span></li>\n                        <li><span  class = 'popup text'  value =\"text\" title = '\u6587\u672c'></span></li>\n                        <li ><span class= 'popup pointer' value =\"pointer\" title = '\u6307\u9488'></span></li>\n                        <li ><span class= 'popup remove' value =\"remove\" title = '\u5220\u9664'></span></li>\n                        <li ><span class= 'clear popup' value=\"clear\" title = '\u6e05\u9664\u5168\u90e8'></span></li>\n                    </ul>\n                </div>";
            t["default"] = n,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , u = function(e, t, n) {
                    for (var r = !0; r; ) {
                        var i = e
                            , s = t
                            , o = n;
                        u = f = a = void 0,
                            r = !1,
                        null === i && (i = Function.prototype);
                        var u = Object.getOwnPropertyDescriptor(i, s);
                        if (void 0 !== u) {
                            if ("value"in u)
                                return u.value;
                            var a = u.get;
                            if (void 0 === a)
                                return;
                            return a.call(o)
                        }
                        var f = Object.getPrototypeOf(i);
                        if (null === f)
                            return;
                        e = f,
                            t = s,
                            n = o,
                            r = !0
                    }
                }
                , a = n(11)
                , f = (r(a),
                    n(20))
                , l = function(e) {
                    function t(e, n) {
                        i(this, t),
                            u(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e, n)
                    }
                    return s(t, e),
                        o(t, [{
                            key: "destroy",
                            value: function() {
                                this.source.stop(),
                                    this.sqt.stop(),
                                    this.data.stop(),
                                    this.chart.destroy();
                                var e = this.cfg.cmpList;
                                this.stopCmp(e),
                                this.changeSub && this.changeSub.unsubscribe()
                            }
                        }, {
                            key: "draw",
                            value: function() {
                                this.status = 1;
                                var e = this.setChartCfg();
                                if (this.chart.init(e).drawAll(),
                                        this.data.start(),
                                        this._sourceNoCache(),
                                        !this.cfg.pushQt) {
                                    "hk" !== this.cfg.market || this.cfg.isIndex ? this.sqt.start() : this.sqt.startOnce();
                                    var t = this.cfg.cmpList;
                                    this.addCmpList(t),
                                        this.listenToCmpListChange()
                                }
                            }
                        }]),
                        t
                }(f);
            t["default"] = l,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            (function(i) {
                "use strict";
                function s(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                function o(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }
                function u(e) {
                    return {
                        "if": y["default"],
                        sz: S["default"],
                        sh: S["default"],
                        hk: C["default"],
                        us: O["default"],
                        wh: P["default"],
                        nq: F["default"]
                    }[e]
                }
                function a(e) {
                    return {
                        "if": w["default"],
                        sz: T["default"],
                        sh: T["default"],
                        hk: L["default"],
                        us: _["default"],
                        wh: B["default"],
                        nq: q["default"]
                    }[e]
                }
                function f(e) {
                    return {
                        minute: U["default"],
                        fdays: W["default"],
                        day: V["default"],
                        week: V["default"],
                        month: V["default"],
                        m5: V["default"],
                        m15: V["default"],
                        m30: V["default"],
                        m60: V["default"],
                        year1: J["default"],
                        year3: J["default"],
                        year5: J["default"]
                    }[e]
                }
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var l = function() {
                        function e(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(t, n, r) {
                            return n && e(t.prototype, n),
                            r && e(t, r),
                                t
                        }
                    }()
                    , c = n(11)
                    , h = s(c)
                    , p = n(8)
                    , d = s(p)
                    , v = n(21)
                    , m = s(v)
                    , g = n(38)
                    , y = s(g)
                    , b = n(39)
                    , w = s(b)
                    , E = n(40)
                    , S = s(E)
                    , x = n(42)
                    , T = s(x)
                    , N = n(43)
                    , C = s(N)
                    , k = n(44)
                    , L = s(k)
                    , A = n(45)
                    , O = s(A)
                    , M = n(46)
                    , _ = s(M)
                    , D = n(47)
                    , P = s(D)
                    , H = n(48)
                    , B = s(H)
                    , j = n(49)
                    , F = s(j)
                    , I = n(50)
                    , q = s(I)
                    , R = n(51)
                    , U = s(R)
                    , z = n(79)
                    , W = s(z)
                    , X = n(80)
                    , V = s(X)
                    , $ = n(108)
                    , J = s($)
                    , K = n(15)
                    , Q = s(K)
                    , G = function() {
                        function e(t, n) {
                            o(this, e);
                            var r = d["default"].cfg(t)[n];
                            this.symbol = t,
                                this.cfg = r,
                                this.init()
                        }
                        return l(e, [{
                            key: "destroy",
                            value: function() {
                                this.fetchSub && this.fetchSub.unsubscribe(),
                                this.chart && this.chart.destroy(),
                                this.data && this.data.stop(),
                                this.source && this.source.stop(),
                                this.sqt && this.sqt.stop()
                            }
                        }, {
                            key: "init",
                            value: function() {
                                if (!this.source) {
                                    var e = this.symbol
                                        , t = this.cfg.market
                                        , n = this.cfg.outer.id;
                                    "fund" === t && (t = e.substr(0, 2));
                                    var r = this.cfg.current
                                        , i = f(r)
                                        , s = this.setChartCfg()
                                        , o = u(t)
                                        , l = a(t);
                                    this.source = new o(e,n),
                                        this.data = new l(e,n),
                                        this.chart = new i(e,s),
                                        this.sqt = new m["default"](e,n)
                                }
                                return this._afterInit(),
                                    this
                            }
                        }, {
                            key: "_afterInit",
                            value: function() {}
                        }, {
                            key: "draw",
                            value: function() {
                                this.status = 1;
                                var e = this.setChartCfg();
                                this.data.start(),
                                    this.cfg.current.match(/m5|m15|m30|m60/) ? (this._sourceNoCache(),
                                        this.sqt.startOnce()) : (this._sourceCache(),
                                        this.listenToFetch()),
                                    this.chart.init(e).drawAll(),
                                this.cfg.pushQt || ("hk" === this.cfg.market && !this.cfg.isIndex || this.cfg.current.match(/year/) ? this.sqt.startOnce() : this.sqt.start())
                            }
                        }, {
                            key: "_sourceCache",
                            value: function() {
                                var e = this.cfg.current
                                    , t = this.cfg.fqType;
                                e.match(/year/) && (e = "day"),
                                e.match(/m5|m15|m30|m60/) && (t = ""),
                                    this.source.startCache()
                            }
                        }, {
                            key: "_sourceNoCache",
                            value: function() {
                                "hk" !== this.cfg.market || this.cfg.isIndex ? this.source.start() : this.source.startOnce()
                            }
                        }, {
                            key: "repaint",
                            value: function() {
                                this.chart.destroy();
                                var e = this.setChartCfg();
                                this.chart.init(e).drawAll()
                            }
                        }, {
                            key: "setQtData",
                            value: function(e, t) {
                                this.sqt.setQtData(e, t)
                            }
                        }, {
                            key: "setChartCfg",
                            value: function() {
                                var e = this.cfg
                                    , t = this.getChartCfgType(e.current)
                                    , n = this.cfg.market
                                    , r = this.cfg.chartStyle && this.cfg.chartStyle[t] || {}
                                    , s = Q["default"]["default"][t]
                                    , o = Q["default"][n] && Q["default"][n][t] || s
                                    , u = i.cloneDeep(o);
                                i.defaultsDeep(u, s);
                                var a = i.cloneDeep(u);
                                return u = i.cloneDeep(r),
                                    i.defaultsDeep(u, a),
                                    u.chartId = this.cfg.outer.id,
                                    u
                            }
                        }, {
                            key: "getChartCfgType",
                            value: function(e) {
                                return /^day|week|month|m5|m15|m30|m60/.test(e) ? e = "kline" : /minute|fdays/.test(e) ? e = "minute" : /year/.test(e) && (e = "year"),
                                    e
                            }
                        }, {
                            key: "listenToFetch",
                            value: function() {
                                var e = this
                                    , t = h["default"].channel(this.symbol)
                                    , n = this.cfg
                                    , r = n.outer.id;
                                this.fetchSub = t.subscribe(r + ".fetch.*", function(t) {
                                    e.source.startCache(t)
                                })
                            }
                        }, {
                            key: "listenToCmpListChange",
                            value: function() {
                                var e = this
                                    , t = h["default"].channel(this.symbol)
                                    , n = this.cfg
                                    , r = n.outer.id;
                                this.changeSub = t.subscribe(r + ".compare", function() {
                                    e.destroy(),
                                        e.draw()
                                })
                            }
                        }, {
                            key: "addCmpList",
                            value: function(e) {
                                var t = this;
                                e && (e = e.map(function(e, n, r) {
                                    return t.addCompare(e)
                                }))
                            }
                        }, {
                            key: "addCompare",
                            value: function(e) {
                                var t = e.symbol
                                    , n = this.cfg.outer.id
                                    , r = this.cfg.market;
                                "fund" === r && (r = t.substr(0, 2));
                                var i = u(r)
                                    , s = a(r);
                                return d["default"].cfg(t, {
                                    symbol: t,
                                    outer: this.cfg.outer,
                                    current: this.cfg.current
                                }),
                                    e.src = new i(t,n),
                                    e.data = new s(t,n),
                                e.sqt || (e.sqt = new m["default"](t,n)),
                                    e.sub = this.listenToCmpDel(t),
                                    e.data.start(),
                                    e.src.start(),
                                    "hk" === this.cfg.market ? (e.sqt.startOnce(),
                                        e.src.stop()) : e.sqt.start(),
                                    e
                            }
                        }, {
                            key: "stopCmp",
                            value: function(e) {
                                e && e.forEach(function(e, t, n) {
                                    e.sub && e.sub.unsubscribe(),
                                    e.src && e.src.stop(),
                                    e.data && e.data.stop(),
                                    e.sqt && e.sqt.stop()
                                })
                            }
                        }, {
                            key: "listenToCmpDel",
                            value: function(e) {
                                var t = this
                                    , n = h["default"].channel(e)
                                    , r = n.subscribe(this.cfg.outer.id + ".compare.delete", function() {
                                        t.deleteCompare(e)
                                    });
                                return r
                            }
                        }, {
                            key: "deleteCompare",
                            value: function(e) {
                                var t = this
                                    , n = -1
                                    , r = this.cfg.cmpList;
                                r.map(function(r, i, s) {
                                    r.symbol == e && (r.src.stop(),
                                        r.sqt.stop(),
                                        r.data.stop(),
                                        r.sub.unsubscribe(),
                                        t.chart.removeCmp(e),
                                        n = i)
                                }),
                                n >= 0 && (r.splice(n, 1),
                                    r.maxPct = null ,
                                    this.destroy(),
                                    this.draw())
                            }
                        }]),
                            e
                    }();
                t["default"] = G,
                    e.exports = t["default"]
            }
            ).call(t, n(5))
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , u = function(e, t, n) {
                    for (var r = !0; r; ) {
                        var i = e
                            , s = t
                            , o = n;
                        u = f = a = void 0,
                            r = !1,
                        null === i && (i = Function.prototype);
                        var u = Object.getOwnPropertyDescriptor(i, s);
                        if (void 0 !== u) {
                            if ("value"in u)
                                return u.value;
                            var a = u.get;
                            if (void 0 === a)
                                return;
                            return a.call(o)
                        }
                        var f = Object.getPrototypeOf(i);
                        if (null === f)
                            return;
                        e = f,
                            t = s,
                            n = o,
                            r = !0
                    }
                }
                , a = n(22)
                , f = r(a)
                , l = n(8)
                , c = r(l)
                , h = n(13)
                , p = r(h)
                , d = n(24)
                , v = r(d)
                , m = function(e) {
                    function t(e, n, r) {
                        i(this, t),
                            u(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e),
                            this.symbol = e,
                            this.cfg = c["default"].cfg(e)[n]
                    }
                    return s(t, e),
                        o(t, [{
                            key: "_init",
                            value: function() {
                                this.symbol,
                                    this.type = this.type || this.cfg.current,
                                    this.topic = this.type,
                                    this.FREQUENCY = p["default"].LOOP_FREQUENCY.SQT;
                                var e = this.getParams()
                                    , t = e.handler
                                    , n = e.url;
                                this.handler = t,
                                    this.url = n
                            }
                        }, {
                            key: "getParams",
                            value: function() {
                                var e = this.symbol
                                    , t = this.cfg.market;
                                "fund" == t && (t = e.substr(0, 2));
                                var n = void 0
                                    , r = void 0;
                                switch (t) {
                                    case "if":
                                        r = "v_if" + e.substr(2),
                                            n = "http://web.sqt.gtimg.cn/q=if" + e.substr(2);
                                        break;
                                    case "wh":
                                        r = "v_" + e,
                                            n = "http://web.sqt.gtimg.cn/q=" + e;
                                        break;
                                    case "sz":
                                    case "sh":
                                    case "nq":
                                        r = "v_" + e,
                                            n = "http://web.sqt.gtimg.cn/q=" + e;
                                        break;
                                    case "hk":
                                        r = "v_r_" + e,
                                            n = "http://web.sqt.gtimg.cn/q=r_" + e,
                                        "hkHSI" !== e && (n += ",r_hkHSI");
                                        break;
                                    case "us":
                                        var i = void 0
                                            , s = e.lastIndexOf(".");
                                        i = -1 == s ? e : e.slice(0, s).replace(/\./g, "__"),
                                            r = "v_" + i,
                                            n = "http://web.sqt.gtimg.cn/q=usDJI," + i
                                }
                                return {
                                    url: n,
                                    handler: r
                                }
                            }
                        }, {
                            key: "publish",
                            value: function(e) {
                                var t = this.cfg.current
                                    , n = this.cfg.outer.id;
                                this.channel.publish([n, "qt", t].join("."), e)
                            }
                        }, {
                            key: "loop",
                            value: function() {
                                this.getData()
                            }
                        }, {
                            key: "getData",
                            value: function() {
                                var e = this
                                    , t = this.cfg.market;
                                v["default"].get(this.url, function() {
                                    var n = window[e.handler];
                                    "us" === t ? e.setQtData(n, window.v_usDJI) : "hk" === t ? e.setQtData(n, window.v_r_hkHSI) : e.setQtData(n)
                                })
                            }
                        }, {
                            key: "setQtData",
                            value: function(e, t) {
                                if (t) {
                                    t = t.Symbol ? t : t.split(/~|,/),
                                        e = e.Symbol ? e : e.split(/~|,/);
                                    var n = t.TimeStamp || t[30];
                                    e.TimeStamp ? e.TimeStamp = n : e[30] && (e[30] = n)
                                }
                                this.publish(e)
                            }
                        }]),
                        t
                }(f["default"]);
            t["default"] = m,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var s = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , o = n(8)
                , u = r(o)
                , a = n(11)
                , f = r(a)
                , l = n(16)
                , c = r(l)
                , h = n(23)
                , p = r(h)
                , d = n(25)
                , v = r(d)
                , m = function() {
                    function e(t) {
                        return i(this, e),
                            this.channel = f["default"].channel(t),
                            this._counter = 0,
                            this
                    }
                    return s(e, [{
                        key: "_init",
                        value: function() {}
                    }, {
                        key: "start",
                        value: function() {
                            var e = this;
                            this.stop(),
                                this._init(),
                                this.loop(),
                                this.timer = setInterval(function() {
                                    e.loop()
                                }, this.FREQUENCY)
                        }
                    }, {
                        key: "stop",
                        value: function() {
                            this._counter++,
                                this.data = null ,
                                clearInterval(this.timer),
                                this.timer = null
                        }
                    }, {
                        key: "loop",
                        value: function() {
                            this.data = null ,
                                this.getData()
                        }
                    }, {
                        key: "startOnce",
                        value: function() {
                            this.stop(),
                                this._init(),
                                this.loop()
                        }
                    }, {
                        key: "startCache",
                        value: function(e) {
                            this.stop(),
                                this._init();
                            var t = this.type
                                , n = (this.symbol,
                                    this.fqType);
                            t.match(/year/) && (t = "day");
                            var r = u["default"].data(this.symbol)[t + n];
                            this.fetchYear = e;
                            var i = u["default"].data(this.symbol)["trend" + n];
                            this.trend = i ? i.calData : null ,
                            this.trend == [] && (i = null ),
                                r ? (this.data = r.sourceData,
                                this.fetchYear && this.fetchYear.length && this.fetchMore(this._counter)) : this.getCacheData()
                        }
                    }, {
                        key: "fetchMore",
                        value: function(e) {
                            var t = this.fetchYear
                                , n = this.type;
                            n = n.match(/year/) ? "day" : n;
                            for (var r = this.trend.o.trendYearList[n], i = 0, s = 0, o = 0, u = t.length; u > o; o++)
                                if (i)
                                    i = 0;
                                else {
                                    if (1 === t.length) {
                                        var a = this.getKlineUrl(t[0]);
                                        return void this.getData(e, a)
                                    }
                                    for (var f = t[o], l = t[o + 1], c = !1, h = r.length; h - 1 > s; s++)
                                        if (r[s][0] === f) {
                                            r[s + 1][0] === l && (c = !0);
                                            break
                                        }
                                    var p = void 0
                                        , d = this.handler;
                                    c ? (p = this.getKlineUrl(f, l),
                                        i = 1) : (p = this.getKlineUrl(f),
                                        i = 0),
                                        p = p.replace(d, d + f),
                                        this.getData(e, p, d + f)
                                }
                        }
                    }, {
                        key: "mergeYearData",
                        value: function() {
                            var e = this.type.match(/year/) ? "day" : this.type
                                , t = this.trend.o.trendYearList[e]
                                , n = [];
                            return t.forEach(function(e) {
                                var t = n.length ? n[n.length - 1][0] : ""
                                    , r = e.data
                                    , i = void 0;
                                r && (i = r[0][0],
                                t === i && n.pop(),
                                    n = n.concat(r))
                            }),
                                n
                        }
                    }, {
                        key: "getData",
                        value: function(e, t, n) {
                            var r = this;
                            e = e || this._counter,
                                t = t || this.url,
                                n = n || this.handler,
                                c["default"].get(t, function(t) {
                                    r._getSrcData(e, n)
                                })
                        }
                    }, {
                        key: "getCacheData",
                        value: function() {
                            var e = this
                                , t = this._counter
                                , n = this.cfg.outer.id
                                , r = this.symbol
                                , i = this.trend;
                            (this.type.match(/year/) && !i || (this.getData(t),
                            !this.cfg.market.match(/wh|if/) && !this.type.match(/m5|m15|m30|m60/))) && (i || (this.channel.subscribe(n + ".data.trend", function(n) {
                                u["default"].data(r, "trend" + e.cfg.fqType, n),
                                    e.trend = n.calData,
                                e.trend.length || (e.trend = null ),
                                    e.type.match(/year/) ? e.getData(t) : e.publish()
                            }).disposeAfter(1),
                                (new v["default"](r,n)).start(),
                                (new p["default"](r,n)).startOnce()))
                        }
                    }, {
                        key: "_getSrcData",
                        value: function() {
                            this.data = window[this.handler]
                        }
                    }, {
                        key: "publish",
                        value: function() {
                            this.data && this.channel.publish(this.cfg.outer.id + ".source." + this.type, this.data)
                        }
                    }]),
                        e
                }();
            t["default"] = m,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var s = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , o = n(22)
                , u = (r(o),
                    n(8))
                , a = r(u)
                , f = n(13)
                , l = (r(f),
                    n(24))
                , c = r(l)
                , h = n(11)
                , p = r(h)
                , d = function() {
                    function e(t, n) {
                        return i(this, e),
                            this.channel = p["default"].channel(t),
                            this.symbol = t,
                            this.cfg = a["default"].cfg(t)[n],
                            this
                    }
                    return s(e, [{
                        key: "_init",
                        value: function() {
                            this.symbol,
                                this.type = "trend",
                                this.fqType = this.cfg.fqType;
                            var e = this.getParams()
                                , t = e.handler
                                , n = e.url;
                            this.handler = t,
                                this.url = n
                        }
                    }, {
                        key: "startOnce",
                        value: function() {
                            this._init(),
                                this.getData()
                        }
                    }, {
                        key: "getParams",
                        value: function() {
                            var e = this.symbol
                                , t = this.fqType;
                            t = t ? t : "raw";
                            var n = "trend_" + t;
                            "us" === this.cfg.market && this.cfg.isIndex && (e = "us." + this.symbol.substr(2)),
                                t = this.cfg.isIndex ? "raw" : t;
                            var r = "http://web.ifzq.gtimg.cn/other/klineweb/klineWeb/weekTrends?code=" + e + "&type=" + t + "&_var=" + n;
                            return {
                                url: r,
                                handler: n
                            }
                        }
                    }, {
                        key: "getData",
                        value: function() {
                            var e = this;
                            c["default"].get(this.url, function() {
                                e.data = window[e.handler].data,
                                    e.publish()
                            })
                        }
                    }, {
                        key: "publish",
                        value: function() {
                            this.data && this.channel.publish(this.cfg.outer.id + ".source." + this.type, this.data)
                        }
                    }]),
                        e
                }();
            t["default"] = d,
                e.exports = t["default"]
        }
        , function(e, t) {
            "use strict";
            function n(e, t) {
                if (o)
                    s.push({
                        url: e,
                        callback: t
                    });
                else {
                    o = !0;
                    var r = document.createElement("script")
                        , u = document.getElementsByTagName("head")[0];
                    r.id = new Date + Math.random(),
                        r.src = i(e),
                        r.async = !1,
                        r.onload = r.onerror = r.onreadystatechange = function() {
                            if (/loaded|complete|undefined/.test(r.readyState) && (t(),
                                    u.removeChild(r),
                                    o = !1,
                                    s.length)) {
                                var e = s.shift();
                                n(e.url, e.callback)
                            }
                        }
                        ,
                        u.appendChild(r)
                }
            }
            function r(e, t) {
                var n = document.createElement("script")
                    , r = document.getElementsByTagName("head")[0];
                n.id = new Date + Math.random(),
                    n.src = i(e),
                    n.async = !0,
                    n.onload = n.onerror = n.onreadystatechange = function() {
                        /loaded|complete|undefined/.test(n.readyState) && (t(),
                            r.removeChild(n))
                    }
                    ,
                    r.appendChild(n)
            }
            function i(e) {
                var t = -1 !== e.indexOf("?");
                return e + (t ? "&r=" : "?r=") + Math.random()
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var s = []
                , o = !1;
            t["default"] = {
                get: r,
                getSync: n
            },
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , u = function(e, t, n) {
                    for (var r = !0; r; ) {
                        var i = e
                            , s = t
                            , o = n;
                        u = f = a = void 0,
                            r = !1,
                        null === i && (i = Function.prototype);
                        var u = Object.getOwnPropertyDescriptor(i, s);
                        if (void 0 !== u) {
                            if ("value"in u)
                                return u.value;
                            var a = u.get;
                            if (void 0 === a)
                                return;
                            return a.call(o)
                        }
                        var f = Object.getPrototypeOf(i);
                        if (null === f)
                            return;
                        e = f,
                            t = s,
                            n = o,
                            r = !0
                    }
                }
                , a = n(26)
                , f = r(a)
                , l = n(28)
                , c = r(l)
                , h = n(33)
                , p = (r(h),
                    n(37))
                , d = r(p)
                , v = n(8)
                , m = r(v)
                , g = n(11)
                , y = r(g)
                , b = function(e) {
                    function t(e, n) {
                        i(this, t);
                        var r = m["default"].cfg(e)[n];
                        u(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e, r)
                    }
                    return s(t, e),
                        o(t, [{
                            key: "listen",
                            value: function() {
                                var e = this;
                                this.channel = y["default"].channel(this.symbol);
                                var t = this.cfg.outer.id
                                    , n = t + ".source." + this.type;
                                this.subSrc = this.channel.subscribe(n, function(t) {
                                    e.updateSrc(t)
                                }).disposeAfter(1)
                            }
                        }, {
                            key: "updateSrc",
                            value: function(e) {
                                this.data = {},
                                    this.data.sourceData = e,
                                    this.data.processData = this._processSrc(e),
                                    this.data.calData = this._calculate(),
                                    this.publish()
                            }
                        }, {
                            key: "_processSrc",
                            value: function(e) {
                                var t = f["default"].trend(e);
                                return {
                                    data: t
                                }
                            }
                        }, {
                            key: "_calculate",
                            value: function() {
                                var e = (this.type,
                                    this.data);
                                return c["default"].calTrend(e.processData.data)
                            }
                        }, {
                            key: "start",
                            value: function() {
                                this.stop(),
                                    this.cfg,
                                    this.type = "trend",
                                    this.type,
                                    this.fqType,
                                    this.listen()
                            }
                        }]),
                        t
                }(d["default"]);
            t["default"] = b,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            (function(i) {
                "use strict";
                function s(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                function o(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }
                function u(e, t) {
                    var n = parseInt(e.substr(0, 2), 10)
                        , r = parseInt(e.substr(2), 10) + 1;
                    r >= 60 && (n++,
                        r %= 60);
                    var i = (10 > n ? "0" : "") + n + (10 > r ? "0" : "") + r;
                    return 4 == t.length && i > t[1] && i < t[2] ? t[2] : i
                }
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var a = function() {
                        function e(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(t, n, r) {
                            return n && e(t.prototype, n),
                            r && e(t, r),
                                t
                        }
                    }()
                    , f = n(27)
                    , l = s(f)
                    , c = function() {
                        function e() {
                            o(this, e)
                        }
                        return a(e, null , [{
                            key: "min",
                            value: function(e, t, n) {
                                if (e.length) {
                                    var r = e.cfg
                                        , i = 1;
                                    "hk" == t && r && r.isIndex && (i = 1e4),
                                    "" === e[e.length - 1] && e.pop();
                                    for (var s = 0, o = 0, a = l["default"].marketTime(t), f = a.length, c = a[0], h = a[f - 1], p = 0; p < e.length; p++) {
                                        var d = e[p];
                                        "string" == typeof d && (d = d.split(" "));
                                        var v = p ? u(c, a) : c;
                                        for (d[1] = 1 * d[1],
                                             0 === d[1] && (d[1] = 0 == p ? 0 : e[p - 1][1]),
                                                 d[2] = d[2] * i,
                                                 d[3] = d[2] - s,
                                                 o += d[1] * d[3],
                                             d[3] < 0 && (d[3] = 0),
                                                 s = d[2],
                                                 d[4] = 0 === d[2] ? d[1] : o / d[2]; d[0] > v && h > v; ) {
                                            var m = []
                                                , g = e[p - 1];
                                            g || (g = d),
                                                m[0] = v,
                                                m[1] = g[1],
                                                m[2] = g[2],
                                                m[3] = 0,
                                                m[4] = g[4],
                                                e.splice(p, 0, m),
                                                v = u(v, a),
                                                p++
                                        }
                                        c = d[0],
                                            e[p] = d
                                    }
                                    if (n)
                                        for (var d = e[e.length - 1], v = u(d[0], a); h >= v; ) {
                                            var m = [];
                                            m[0] = v,
                                                m[1] = d[1],
                                                m[2] = d[2],
                                                m[3] = 0,
                                                m[4] = d[4],
                                                e.push(m),
                                                v = u(v, a)
                                        }
                                    for (; e.length >= 1 && e[0][0] < a[0]; )
                                        e.shift();
                                    for (; e.length >= 1 && e[e.length - 1][0] > h; )
                                        e.pop();
                                    return e.counter = s,
                                        e.turnover = o,
                                        e.last = e[e.length - 1] || ["0000"],
                                        e
                                }
                            }
                        }, {
                            key: "kline",
                            value: function(e) {
                                for (var t = [], n = 0, r = e.length; r > n; n++) {
                                    var s = e[n]
                                        , o = [];
                                    o = "string" == typeof s ? s.split(" ") : i.clone(s),
                                        o[0] = o[0].replace(/-/g, "");
                                    for (var u = 1, a = s.length; a > u; u++)
                                        o[u] = 1 * o[u];
                                    t.push(o)
                                }
                                return t
                            }
                        }, {
                            key: "fDays",
                            value: function(e, t) {
                                for (var n = 0, r = e.cfg, i = 5, s = i - 1; s >= 0; s--)
                                    if (e[s] && e[s].data)
                                        e[s].data.cfg = r,
                                            e[s].data = 0 === s ? this.min(e[s].data, t) : this.min(e[s].data, t, "all"),
                                        n || (n = 1 * e[s].prec);
                                    else {
                                        e[s] = {};
                                        var o = l["default"].marketTime(t)
                                            , u = o.length
                                            , a = o[u - 1];
                                        e[s].data = this.min([a + " 0 0"], t)
                                    }
                                return e.close = n,
                                    e
                            }
                        }, {
                            key: "klineIF",
                            value: function(e) {
                                return e = e.map(function(e, t, n) {
                                    "string" == typeof e && (e = e.split(" ")),
                                        e[0] = "20" + e[0];
                                    for (var r = 1; 6 > r; r++)
                                        e[r] = 1 * (e[r] || 0);
                                    return e
                                })
                            }
                        }, {
                            key: "trend",
                            value: function(e) {
                                return e.forEach(function(e) {
                                    e[0] = e[0].replace(/-/g, ""),
                                        e[1] *= 1
                                }),
                                    e
                            }
                        }]),
                            e
                    }();
                t["default"] = c,
                    e.exports = t["default"]
            }
            ).call(t, n(5))
        }
        , function(e, t) {
            "use strict";
            function n(e) {
                return {
                    sh: {
                        timeTags: ["9:30", "10:30", "11:30/13:00", "14:00", "15:00"],
                        step: [2, 2, 2, 2]
                    },
                    sz: {
                        timeTags: ["9:30", "10:30", "11:30/13:00", "14:00", "15:00"],
                        step: [2, 2, 2, 2]
                    },
                    nq: {
                        timeTags: ["9:30", "10:30", "11:30/13:00", "14:00", "15:00"],
                        step: [2, 2, 2, 2]
                    },
                    hk: {
                        timeTags: ["9:30", "10:00", "11:00", "12:00/13:00", "14:00", "15:00", "16:00"],
                        step: [1, 2, 2, 2, 2, 2]
                    },
                    us: {
                        timeTags: ["9:30", "10:00", "11:00", "12:00", "13:00", "14:00", "15:00", "16:00"],
                        step: [1, 2, 2, 2, 2, 2, 2]
                    },
                    "if": {
                        timeTags: ["9:15", "10:00", "10:45", "11:30/13:00", "13:45", "14:30", "15:15"],
                        step: [1, 1, 1, 1, 1, 1]
                    },
                    qh: {
                        timeTags: ["9:15", "10:00", "10:45", "11:30/13:00", "13:45", "14:30", "15:15"],
                        step: [1, 1, 1, 1, 1, 1]
                    },
                    wh: {
                        timeTags: ["0:00", "3:00", "6:00", "9:00", "12:00", "15:00", "18:00", "21:00", "24:00"],
                        step: [1, 1, 1, 1, 1, 1, 1, 1]
                    },
                    fund: {
                        timeTags: ["9:30", "10:30", "11:30/13:00", "14:00", "15:00"],
                        step: [2, 2, 2, 2]
                    }
                }[e]
            }
            function r(e) {
                return {
                    sh: ["0930", "1130", "1300", "1500"],
                    1: ["0930", "1130", "1300", "1500"],
                    sz: ["0930", "1130", "1300", "1500"],
                    51: ["0930", "1130", "1300", "1500"],
                    nq: ["0930", "1130", "1300", "1500"],
                    61: ["0930", "1130", "1300", "1500"],
                    hk: ["0930", "1201", "1300", "1600"],
                    100: ["0930", "1201", "1300", "1600"],
                    us: ["0930", "1600"],
                    200: ["0930", "1600"],
                    "if": ["0915", "1130", "1300", "1515"],
                    qh: ["0915", "1130", "1300", "1515"],
                    300: ["0915", "1130", "1300", "1515"],
                    wh: ["0000", "2400"]
                }[e]
            }
            function i(e) {
                return {
                    minute: {
                        sh: 242,
                        sz: 242,
                        nq: 242,
                        hk: 333,
                        us: 391,
                        "if": 272,
                        300: 272,
                        wh: 1440
                    }[e],
                    fdays: {
                        sh: s(243),
                        sz: s(243),
                        nq: s(243),
                        hk: s(333),
                        us: s(391)
                    }[e]
                }
            }
            function s(e) {
                return (e - 1) % 4 ? 5 * (Math.ceil(e / 4) + 1) : 5 * Math.ceil(e / 4)
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = {
                timeTags: n,
                marketTime: r,
                marketMaxX: i
            };
            t["default"] = o,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var s = function() {
                    function e(e, t) {
                        var n = []
                            , r = !0
                            , i = !1
                            , s = void 0;
                        try {
                            for (var o, u = e[Symbol.iterator](); !(r = (o = u.next()).done) && (n.push(o.value),
                            !t || n.length !== t); r = !0)
                                ;
                        } catch (a) {
                            i = !0,
                                s = a
                        } finally {
                            try {
                                !r && u["return"] && u["return"]()
                            } finally {
                                if (i)
                                    throw s
                            }
                        }
                        return n
                    }
                    return function(t, n) {
                        if (Array.isArray(t))
                            return t;
                        if (Symbol.iterator in Object(t))
                            return e(t, n);
                        throw new TypeError("Invalid attempt to destructure non-iterable instance")
                    }
                }()
                , o = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , u = n(13)
                , a = r(u)
                , f = n(29)
                , l = (r(f),
                    n(31))
                , c = r(l)
                , h = n(32)
                , p = r(h)
                , d = function() {
                    function e() {
                        i(this, e)
                    }
                    return o(e, null , [{
                        key: "calMinute",
                        value: function(e) {
                            var t = {};
                            e.data = this.calQtMinute(e);
                            var n = e.data
                                , r = e.date
                                , i = (e.status,
                                    e.close)
                                , o = e.open
                                , u = e.name;
                            i = i || o;
                            var a = []
                                , f = []
                                , l = []
                                , c = []
                                , h = []
                                , p = -Number.MAX_VALUE
                                , d = Number.MAX_VALUE
                                , v = 0
                                , m = 0;
                            n.forEach(function(e, t, n) {
                                var r = s(e, 5)
                                    , o = r[0]
                                    , u = r[1]
                                    , g = r[2]
                                    , y = r[3]
                                    , b = r[4];
                                a.push(u);
                                var w = 100 * (u / i - 1);
                                w = w ? w : 0,
                                    f.push(w),
                                    l.push(b);
                                var E = u - m;
                                E || (E = h.length ? h[h.length - 1][1] : 0),
                                    h.push([y, E]),
                                    c.push([o, u, w, y, E, b, g]),
                                    p = Math.max(u, p),
                                    d = Math.min(u, d),
                                    v = Math.max(y, v),
                                    m = u
                            });
                            var g = Math.abs(p - i)
                                , y = Math.abs(d - i)
                                , b = g > y ? g : y
                                , w = b / i || .001
                                , E = e.decimalPosition
                                , S = c.length;
                            return t = {
                                name: u,
                                price: {
                                    data: a,
                                    percent: f,
                                    abs: b,
                                    maxPct: 100 * w,
                                    average: l,
                                    fixed: E
                                },
                                volume: {
                                    data: h,
                                    max: v
                                },
                                fullData: c,
                                rawdata: n,
                                last: c[S - 1],
                                close: i,
                                date: r
                            },
                                t.status = e.status,
                                t
                        }
                    }, {
                        key: "calQtMinute",
                        value: function(e, t) {
                            t = t || e.data;
                            var n = e.marketTime
                                , r = e.qtTime
                                , i = e.qtDate
                                , s = e.date;
                            if (n.length > 2 && r > n[1] && r < n[2] && (r = n[1]),
                                !s || s.replace(/-/g, "") < i)
                                t = [],
                                    t.last = ["0000"],
                                    t.counter = 0,
                                    t.turnover = 0,
                                    e.date = i;
                            else if (s > i)
                                return t;
                            var o = (e.market,
                                    e.close,
                                    e.open)
                                , u = e.qtPrice
                                , a = e.qtVolume
                                , f = n[n.length - 1]
                                , l = n[0]
                                , c = t.last[0]
                                , h = a - t.counter
                                , p = t.turnover + u * h
                                , d = t.length;
                            t.cfg ? t.cfg.isIndex : !1;
                            if (r > c && f >= r && r >= l || !t.length) {
                                d || (t.push([l, o, a, 0, o]),
                                    d++);
                                for (var v = t[d - 1]; v[0] < r && v[0] < f; )
                                    v = t[d++] = [this.getNextTime(v[0], n), v[1], 0, v[3], v[4]];
                                v[1] = u || v[1],
                                    v[2] = a,
                                    v[3] = h,
                                    v[4] = p / v[2] || v[1],
                                    t.last = v,
                                    t.counter = a,
                                    t.turnover = p
                            } else if ((r === c || l > r) && u) {
                                var v = t[d - 1]
                                    , m = d > 1 ? t[d - 2][2] : 0;
                                h = a - m,
                                (v[1] !== u || v[3] !== h) && (v[1] = u,
                                    v[2] = a,
                                    v[3] = h,
                                    v[4] = p / v[2] || v[1],
                                    t.last = v)
                            }
                            return t
                        }
                    }, {
                        key: "kline",
                        value: function(e) {
                            for (var t = e.data, n = (e.qtDate,
                                e.name), r = e.trendUnit, i = 0, s = 0, o = 0, u = 0, a = 0, f = 0, l = -Number.MAX_VALUE, h = +Number.MAX_VALUE, p = [], d = [], v = [], m = [], g = [], y = 0, b = (t.length,
                                0), w = t.length; w > b; b++) {
                                var E = t[b].slice(0, 6)
                                    , S = E[0]
                                    , x = E[1]
                                    , T = E[2]
                                    , N = E[3]
                                    , C = E[4]
                                    , k = E[5];
                                p.push(T),
                                    d.push(N),
                                    v.push(C),
                                    g.push(k);
                                var L = T - x;
                                L || (L = b > 0 ? T - p[b - 1] : 0),
                                    E = E.concat([L]),
                                    i += T,
                                    s += T,
                                    o += T,
                                    u += k,
                                    a += k,
                                    f += k,
                                    b >= 19 ? (i -= t[b - 5][2],
                                        s -= t[b - 10][2],
                                        o -= 19 == b ? 0 : t[b - 20][2],
                                        u -= t[b - 5][5],
                                        a -= t[b - 10][5],
                                        f -= 19 == b ? 0 : t[b - 20][5],
                                        t[b] = E.concat([i / 5, s / 10, o / 20, u / 5, a / 10, f / 20])) : b >= 9 ? (i -= t[b - 5][2],
                                        s -= 9 == b ? 0 : t[b - 10][2],
                                        u -= t[b - 5][5],
                                        a -= 9 == b ? 0 : t[b - 10][5],
                                        t[b] = E.concat([i / 5, s / 10, "", u / 5, a / 10, ""])) : b >= 4 ? (i -= 4 == b ? 0 : t[b - 5][2],
                                        u -= 4 == b ? 0 : t[b - 5][5],
                                        t[b] = E.concat([i / 5, "", "", u / 5, "", ""])) : t[b] = E.concat(["", "", "", "", "", ""]);
                                var A = "date" === r ? S.slice(0, 8) : S.slice(0, 4);
                                A !== y && (y = A,
                                    m.push(["date" === r ? [y.slice(0, 4), y.slice(4, 6), y.slice(6, 8)].join("/") : y, b])),
                                    l = Math.max(l, T),
                                    h = Math.min(h, T)
                            }
                            return m.push([" ", t.length]),
                                t.rawdata = t,
                                t.o = {
                                    name: n,
                                    len: p.length,
                                    MACD: c["default"].MACD(p),
                                    maxValAll: l,
                                    minValAll: h,
                                    fixed: e.decimalPosition,
                                    closingPrice: p,
                                    highPrice: d,
                                    lowPrice: v,
                                    volume: g,
                                    trendTimeTags: m,
                                    status: e.status,
                                    open: t[0] && t[0][1]
                                },
                                t
                        }
                    }, {
                        key: "klineQT",
                        value: function(e, t) {
                            if (!e.data || !e.data.length)
                                return [];
                            if (e.status || !e.open || !e.close || !e.qtPrice || !e.qtMaxVal || !e.qtMinVal)
                                return e.data;
                            var n = e.data
                                , r = e.qtDate
                                , i = e.open
                                , s = e.qtPrice
                                , o = e.qtMaxVal
                                , u = e.qtMinVal
                                , a = e.qtVolume
                                , f = n.length - 1
                                , l = n[f]
                                , c = l[0]
                                , h = [r, i, s, o, u, a]
                                , p = h[2] - h[1];
                            if (h[2] === h[1] && (p = f > 0 ? h[2] - n[f - 1][2] : 0),
                                    h = h.concat(p),
                                r === c) {
                                if ("month" === t || "week" === t) {
                                    var d = l[5] + a - (n.volumeAll || a);
                                    n.volumeAll = a,
                                        h = [r, l[1], s, Math.max(o, l[3]), Math.min(o, l[4]), d];
                                    var v = h[2] - h[1];
                                    h[2] === h[1] && (v = f > 0 ? h[2] - n[f - 1][2] : 0),
                                        h = h.concat(v)
                                }
                                n[f] = h;
                                var m = this.calMA(n, f, 5)
                                    , g = this.calMA(n, f, 10)
                                    , y = this.calMA(n, f, 20)
                                    , b = this.calMA(n, f, 5, "v")
                                    , w = this.calMA(n, f, 10, "v")
                                    , E = this.calMA(n, f, 20, "v");
                                h = h.concat([m, g, y, b, w, E]),
                                    n[f] = h
                            } else
                                r > c && (n.push(h),
                                    this.kline(e));
                            return n
                        }
                    }, {
                        key: "calMklineQT",
                        value: function(e, t) {
                            if (!e.data)
                                return [];
                            if (e.status || !e.close || !e.qtPrice || !e.qtMaxVal || !e.qtMinVal)
                                return e.data;
                            var n = e.data
                                , r = e.qtDate
                                , i = e.qtTime
                                , s = e.qtPrice
                                , o = e.qtVolume
                                , u = e.marketTime;
                            if (i < u[0] || i > u[1] && i < u[2] || i > u[3])
                                return n;
                            var a = n.length - 1
                                , f = n[a]
                                , l = n[a - 1]
                                , c = f[0].slice(0, 8)
                                , h = f[0].substr(8)
                                , p = l ? l[0].substr(8) : u[0];
                            p = p > h ? u[0] : p;
                            var d = 1 * t.substr(1);
                            if (void 0 === n.volumeAll)
                                return r > c ? n.volumeAll = 0 : n.volumeAll = o - f[5],
                                    n;
                            if (r > c || h - p >= d && i > h) {
                                var v = [r + "" + i, s, s, s, s, r > c ? o : o - n.volumeAll]
                                    , m = v[2] - f[2];
                                v = v.concat(m),
                                    n.push(v),
                                    n.volumeAll = o,
                                    this.calMKline(e)
                            } else if (i >= h) {
                                var g = f[1]
                                    , y = f[3]
                                    , b = f[4]
                                    , v = [r + "" + i, g, s, s > y ? s : y, b > s ? s : b, o - n.volumeAll]
                                    , m = a > 0 ? v[2] - l[2] : 0;
                                v = v.concat(m),
                                    n[a] = v;
                                var w = this.calMA(n, a, 5)
                                    , E = this.calMA(n, a, 10)
                                    , S = this.calMA(n, a, 20)
                                    , x = this.calMA(n, a, 5, "v")
                                    , T = this.calMA(n, a, 10, "v")
                                    , N = this.calMA(n, a, 20, "v");
                                v = v.concat([w, E, S, x, T, N]),
                                    n[a] = v
                            }
                            return n
                        }
                    }, {
                        key: "calMKline",
                        value: function(e) {
                            e.trendUnit = "date";
                            var t = this.kline(e)
                                , n = t.o.trendTimeTags
                                , r = n.length;
                            if (5 >= r)
                                return t;
                            var i = n[r - 5 - 1][1]
                                , s = t.slice(i, t.length);
                            return e.data = s,
                                this.kline(e)
                        }
                    }, {
                        key: "calMA",
                        value: function(e, t, n, r) {
                            var i = r ? 5 : 2
                                , s = 0;
                            if (t >= n - 1) {
                                for (var o = 0; n > o; o++)
                                    s += e[t - o][i];
                                return s / n
                            }
                            return ""
                        }
                    }, {
                        key: "klineIndex",
                        value: function() {
                            var e = arguments[0]
                                , t = arguments[1]
                                , n = void 0
                                , r = void 0
                                , i = void 0
                                , s = void 0
                                , o = void 0;
                            switch (e) {
                                case "RSI":
                                    return n = t.closingPrice,
                                    {
                                        RSI6: c["default"].RSI(n, 6),
                                        RSI12: c["default"].RSI(n, 12),
                                        RSI24: c["default"].RSI(n, 24)
                                    };
                                case "KDJ":
                                    return n = t.closingPrice,
                                        r = t.highPrice,
                                        i = t.lowPrice,
                                        c["default"].KDJ(n, i, r, 9, 3, 3);
                                case "DMI":
                                    return n = t.closingPrice,
                                        r = t.highPrice,
                                        i = t.lowPrice,
                                        c["default"].DMI(r, i, n);
                                case "OBV":
                                    return n = t.closingPrice,
                                        s = t.volume,
                                        o = t.open,
                                        c["default"].OBV(n, s, o);
                                case "W&R":
                                    return n = t.closingPrice,
                                        r = t.highPrice,
                                        i = t.lowPrice,
                                        c["default"].WR(n, i, r, 10, 6);
                                case "BOLL":
                                    return n = t.closingPrice,
                                        c["default"].BOLL(n, 20, 2);
                                case "SAR":
                                    return r = t.highPrice,
                                        i = t.lowPrice,
                                        c["default"].SAR(r, i, 10, 2, 20)
                            }
                        }
                    }, {
                        key: "calFDays",
                        value: function(e) {
                            var t = {};
                            e.date = e.data[0].date,
                                e.data[0].data = this.calQtFDays(e.data[0].data, e);
                            for (var n = [], r = [], i = [], o = [], u = [], f = [], l = -Number.MAX_VALUE, c = Number.MAX_VALUE, h = 0, d = e.data, v = 1 * d.close, m = a["default"].FDAYS_SAMPLING, g = function(e, t) {
                                    var a = d[e].data
                                        , g = d[e].date;
                                    if (g) {
                                        g = p["default"]["new"](g);
                                        var y = p["default"].getDayCh(g.getDay());
                                        g = p["default"].dash(g),
                                            g = g + " " + y,
                                            f.push(g)
                                    }
                                    var b = a.length
                                        , w = 0;
                                    a.forEach(function(e, t, a) {
                                        if (!(t % m) || t === b - 1) {
                                            var f = s(e, 5)
                                                , p = f[0]
                                                , d = f[1]
                                                , y = f[2]
                                                , E = f[3]
                                                , S = f[4];
                                            n.push(d);
                                            var x = 100 * (d / v - 1);
                                            x = x ? x : 0,
                                                u.push(x),
                                                r.push(S),
                                                w = t ? a[t - 1][1] : w;
                                            var T = d - w;
                                            T || (T = o.length ? o[o.length - 1][1] : 0),
                                                o.push([E, T]),
                                                i.push([p, d, x, E, T, S, g, y]),
                                                l = Math.max(d, l),
                                                c = Math.min(d, c),
                                                h = Math.max(E, h)
                                        }
                                    })
                                }
                                     , y = e.data.length, b = y - 1; b >= 0; b--)
                                g(b, y);
                            if (!f.length) {
                                var w = p["default"]["new"](e.qtDate)
                                    , E = p["default"].getDayCh(w.getDay());
                                w = p["default"].dash(w),
                                    w = w + " " + E,
                                    f.push(w)
                            }
                            var S = Math.abs(l - v)
                                , x = Math.abs(c - v)
                                , T = S > x ? S : x
                                , N = T / v || .001
                                , C = e.decimalPosition
                                , k = i.length;
                            return t = {
                                name: e.name,
                                price: {
                                    data: n,
                                    percent: u,
                                    abs: T,
                                    maxPct: 100 * N,
                                    average: r,
                                    fixed: C
                                },
                                volume: {
                                    data: o,
                                    max: h
                                },
                                date: f,
                                fullData: i,
                                rawdata: d,
                                last: i[k - 1],
                                close: v
                            },
                                t.status = e.status,
                                t
                        }
                    }, {
                        key: "calQtFDays",
                        value: function(e, t) {
                            return t.data ? e = this.calQtMinute(t, e) : null
                        }
                    }, {
                        key: "calTrend",
                        value: function(e) {
                            for (var t = [], n = 0, r = Number.MAX_VALUE, i = "", s = [], o = {
                                day: [],
                                week: [],
                                month: []
                            }, u = 0, a = e.length; a > u; u++) {
                                var f = e[u][0]
                                    , l = e[u][1];
                                t.push(l),
                                    n = Math.max(n, l),
                                    r = Math.min(r, l),
                                f.slice(0, 4) !== i && (i = f.slice(0, 4),
                                    s.push([i, u]),
                                    o.day.push([i, !1]),
                                    o.week.push([i, !1]),
                                    o.month.push([i, !1]))
                            }
                            s.push([" ", e.length]),
                                e.rawdata = e;
                            var c = n - r;
                            return e.o = {
                                len: t.length,
                                maxValAll: c ? n : n + .1,
                                minValAll: c ? r : r - .1,
                                closingPrice: t,
                                trendTimeTags: s,
                                trendYearList: o
                            },
                                e
                        }
                    }, {
                        key: "getNextTime",
                        value: function(e, t) {
                            var n = parseInt(e.substr(0, 2), 10)
                                , r = parseInt(e.substr(2), 10) + 1;
                            r >= 60 && (n++,
                                r %= 60);
                            var i = (10 > n ? "0" : "") + n + (10 > r ? "0" : "") + r;
                            return 4 == t.length && i > t[1] && i < t[2] ? t[2] : i
                        }
                    }]),
                        e
                }();
            t["default"] = d,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var s = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , o = n(30)
                , u = r(o)
                , a = function() {
                    function e() {
                        i(this, e)
                    }
                    return s(e, null , [{
                        key: "HZLD",
                        value: function(e) {
                            return this._HZLD(e)
                        }
                    }, {
                        key: "_HZLD",
                        value: function(e, t) {
                            return "string" == typeof e && e.replace(/%/, ""),
                                e > 0 ? u["default"].change.red : 0 > e ? u["default"].change.green : t ? u["default"].change.red : u["default"].change.gray
                        }
                    }, {
                        key: "_LZHD",
                        value: function(e, t) {
                            return "string" == typeof e && e.replace(/%/, ""),
                                e >= 0 ? u["default"].change.green : 0 > e ? u["default"].change.red : t ? u["default"].change.greend : u["default"].change.gray
                        }
                    }]),
                        e
                }();
            t["default"] = a,
                e.exports = t["default"]
        }
        , function(e, t) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var n = {
                background: {
                    color: "rgba(240, 247, 252, 1)",
                    gridColor: "#f0f7fc"
                },
                border: {
                    width: 1,
                    color: "#d9e6ef",
                    inner: "#d9e6ef"
                },
                title: {
                    background: "#f4f4f4",
                    text: "#385e7c"
                },
                change: {
                    red: "#d91a2a",
                    green: "#17a63a",
                    gray: "#385e7c"
                },
                text: {
                    ma5: "#85a1ef",
                    ma10: "#f99a61",
                    ma20: "#ee6ac5",
                    label: "#82a2c4"
                },
                index: {
                    MACD: "#ee6ac5",
                    DIFF: "#85a1ef",
                    DEA: "#f99a61",
                    RSI6: "#6283ec",
                    RSI12: "#ff9351",
                    RSI24: "#006000",
                    PDI: "#6283ec",
                    MDI: "#ff9351",
                    ADX: "#00ff60",
                    ADXR: "#006000",
                    K: "#6283ec",
                    D: "#ff9351",
                    J: "#006000",
                    OBV: "#85a1ef",
                    WR1: "#85a1ef",
                    WR2: "#006000",
                    UPPER: "#85a1ef",
                    MID: "#f99a61",
                    LOWER: "#006000",
                    SAR: "#85a1ef",
                    background: "#f0f7fc",
                    text: "#98b2cf",
                    stroke: "#1044ba"
                },
                index_menu: {
                    background: "#dde9f1",
                    text: "#99a5b0",
                    selected_text: "#1c91fe",
                    selected_background: "#ebf3f9"
                },
                trend: {
                    width: 1,
                    strokeColor: "#e0eefd",
                    fillColor: "#c2d4e6"
                },
                halfLine: "1px #67b4e7",
                minute: {
                    strokeColor: "1px #136aa1",
                    gradientColorTop: "rgba(175,219,252,1)",
                    gradientColorBottom: "rgba(175,219,252,0)",
                    avgColor: "1px #e79c4a",
                    dotColor: "1px #dd6f44",
                    dotFill: "#fff"
                },
                cross: {
                    color: "#b3b6b8"
                },
                crossBox: {
                    stroke: "#5ba6e0",
                    fill: "#80b9e6",
                    text: "#fff"
                },
                panel: {
                    background: "rgba(255,255,255,0.8)",
                    text: "#878774",
                    border: "#d6d5ce"
                },
                dragbar: {
                    border: "#8cb3da",
                    background: "rgba(249, 242, 192, 0.5)",
                    barColor: "#ecf3fc"
                },
                userGraphic: {
                    lineColor: "red",
                    textColor: "black",
                    label: {
                        border: "green",
                        rectColor: "green",
                        defaultColor: "black",
                        height: 14
                    },
                    anchor: {
                        width: 5,
                        hitWidth: 10,
                        color: "black",
                        border: "red"
                    }
                },
                jingzhi: {
                    unit: "2px #3fb4de",
                    sum: "2px #fd9e4c"
                },
                compareMain: {
                    lineWidth: "2px",
                    color: "#6dc6e6"
                },
                compare: [{
                    lineWidth: "2px",
                    color: "#fd9e4c"
                }, {
                    lineWidth: "2px",
                    color: "#c176f5"
                }, {
                    lineWidth: "2px",
                    color: "#c1b4ac"
                }, {
                    lineWidth: "2px",
                    color: "#fb5b3b"
                }],
                status: {
                    line: "#333",
                    color: "#333",
                    background: "rgba(255,255,255,0.8)",
                    font: "20px \u5fae\u8f6f\u96c5\u9ed1"
                }
            };
            t["default"] = n,
                e.exports = t["default"]
        }
        , function(e, t) {
            "use strict";
            function n(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var r = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , i = function() {
                    function e() {
                        n(this, e)
                    }
                    return r(e, null , [{
                        key: "MACD",
                        value: function t(e, n, r, i) {
                            var s = this;
                            r = r || 12,
                                n = n || 26,
                                i = i || 9;
                            var o = s.SUB(s.EMA(e, r), s.EMA(e, n))
                                , u = s.EMA(o, i)
                                , t = s.MUL(2, s.SUB(o, u));
                            return {
                                DIF: o,
                                DEA: u,
                                MACD: t
                            }
                        }
                    }, {
                        key: "RSI",
                        value: function(e, t) {
                            var n = this
                                , r = arguments
                                , i = r.length
                                , s = n.REF(e, 1)
                                , o = n.SUB(e, s)
                                , u = n.MAX(o, 0)
                                , a = n.ABS(o);
                            if (2 == i)
                                return n.MUL(100, n.DIV(n.SMA(u, t, 1), n.SMA(a, t, 1)));
                            for (var f = {}, l = 1; i > l; l++)
                                t = r[l],
                                    f["RSI" + t] = n.MUL(100, n.DIV(n.SMA(u, t, 1), n.SMA(a, t, 1)));
                            return f
                        }
                    }, {
                        key: "KDJ",
                        value: function(e, t, n, r, i, s) {
                            function o(e) {
                                return 0 > e ? 0 : e > 100 ? 100 : e
                            }
                            var u = this
                                , a = u.LLV(t, r)
                                , f = u.DIV(u.MUL(u.SUB(e, a), 100), u.SUB(u.HHV(n, r), a))
                                , l = u.SMA(f, i, 1)
                                , c = u.SMA(l, s, 1)
                                , h = u.SUB(u.MUL(3, l), u.MUL(2, c));
                            return {
                                K: u.forEach([l], o),
                                D: u.forEach([c], o),
                                J: u.forEach([h], o)
                            }
                        }
                    }, {
                        key: "DMI",
                        value: function(e, t, n, r, i) {
                            var s = this;
                            r = r || 14,
                                i = i || 6;
                            var o = []
                                , u = []
                                , a = [];
                            s.forEach([e, t], function(r, i) {
                                var f = this.index
                                    , l = f - 1
                                    , c = r - e[l]
                                    , h = t[l] - i
                                    , p = n[l];
                                s.isNumber(c) && s.isNumber(h) && (o[f] = c > 0 && c > h ? c : 0,
                                    u[f] = h > 0 && h > c ? h : 0),
                                    a[this.index] = Math.max(r - i, Math.abs(r - p), Math.abs(i - p))
                            });
                            var f = s.SUM(a, r)
                                , l = s.SUM(o, r)
                                , c = s.SUM(u, r)
                                , h = []
                                , p = []
                                , d = [];
                            s.forEach([l, c, f], function(e, t, n) {
                                var r = h[this.index] = 100 * e / n
                                    , i = p[this.index] = 100 * t / n;
                                d[this.index] = 100 * Math.abs(i - r) / (r + i)
                            });
                            var v = s.MA(d, i)
                                , m = s.DIV(s.ADD(v, s.REF(v, i)), 2);
                            return {
                                PDI: h,
                                MDI: p,
                                ADX: v,
                                ADXR: m
                            }
                        }
                    }, {
                        key: "WR",
                        value: function(e, t, n, r) {
                            for (var i = this, s = arguments.length, o = 3, u = {}; s > o; o++) {
                                r = arguments[o];
                                var a = i.HHV(n, r);
                                u["WR" + r] = i.DIV(i.MUL(i.SUB(a, e), 100), i.SUB(a, i.LLV(t, r)))
                            }
                            return 4 == s ? u["WR" + r] : u
                        }
                    }, {
                        key: "OBV",
                        value: function(e, t, n) {
                            for (var r = [e[0] > n ? t[0] : e[0] < n ? -t[0] : 0], i = 1, s = e.length; s > i; i++)
                                e[i] > e[i - 1] ? r[i] = r[i - 1] + t[i] : e[i] < e[i - 1] ? r[i] = r[i - 1] - t[i] : r[i] = r[i - 1];
                            return {
                                OBV: r
                            }
                        }
                    }, {
                        key: "BOLL",
                        value: function(e, t, n) {
                            var r = this;
                            t = t || 20,
                                n = n || 2;
                            var i = r.MA(e, t)
                                , s = r.MUL(r.STD(e, t), n)
                                , o = r.ADD(i, s)
                                , u = r.SUB(i, s);
                            return {
                                UPPER: o,
                                MID: i,
                                LOWER: u
                            }
                        }
                    }, {
                        key: "SAR",
                        value: function i(e, t, n, r, s) {
                            n = n || 10,
                                r = r || 2,
                                s = s || 20;
                            var i = []
                                , o = []
                                , u = []
                                , a = e.length
                                , f = []
                                , l = function(l) {
                                    if (!(l >= a))
                                        if (i[l] = Math.min.apply(null , t.slice(l - n, l)),
                                                f[l] = 1,
                                            i[l] > t[l])
                                            c(l + 1);
                                        else
                                            for (u[l] = Math.max.apply(null , e.slice(l - n + 1, l + 1)),
                                                     o[l] = r; a - 1 > l; ) {
                                                if (i[l + 1] = i[l] + o[l] * (u[l] - i[l]) / 100,
                                                        f[l + 1] = 1,
                                                    i[l + 1] > t[l + 1])
                                                    return void c(l + 2);
                                                u[l + 1] = Math.max.apply(null , e.slice(l - n + 2, l + 2)),
                                                    e[l + 1] > u[l] ? (o[l + 1] = o[l] + r,
                                                    o[l + 1] > s && (o[l + 1] = s)) : o[l + 1] = o[l],
                                                    l++
                                            }
                                }
                                , c = function(c) {
                                    if (!(c >= a)) {
                                        if (i[c] = Math.max.apply(null , e.slice(c - n, c)),
                                                f[c] = -1,
                                            i[c] < e[c])
                                            return void l(c + 1);
                                        for (u[c] = Math.min.apply(null , t.slice(c - n + 1, c + 1)),
                                                 o[c] = r; a - 1 > c; ) {
                                            if (i[c + 1] = i[c] + o[c] * (u[c] - i[c]) / 100,
                                                    f[c + 1] = -1,
                                                i[c + 1] < e[c + 1])
                                                return void l(c + 2);
                                            u[c + 1] = Math.min.apply(null , t.slice(c - n + 2, c + 2)),
                                                t[c + 1] < u[c] ? (o[c + 1] = o[c] + r,
                                                o[c + 1] > s && (o[c + 1] = s)) : o[c + 1] = o[c],
                                                c++
                                        }
                                    }
                                }
                                ;
                            return e[n] > e[0] || t[n] > t[0] ? l(n) : c(n),
                            {
                                SAR: {
                                    data: i,
                                    direction: f
                                }
                            }
                        }
                    }, {
                        key: "ADD",
                        value: function() {
                            for (var e = this, t = arguments.length, n = Array(t), r = 0; t > r; r++)
                                n[r] = arguments[r];
                            return this.forEach(n, function() {
                                for (var t = arguments.length, n = Array(t), r = 0; t > r; r++)
                                    n[r] = arguments[r];
                                return e.reduce(n, function(e, t) {
                                    return e + t
                                }, !0)
                            })
                        }
                    }, {
                        key: "SUB",
                        value: function() {
                            for (var e = this, t = arguments.length, n = Array(t), r = 0; t > r; r++)
                                n[r] = arguments[r];
                            return this.forEach(n, function() {
                                for (var t = arguments.length, n = Array(t), r = 0; t > r; r++)
                                    n[r] = arguments[r];
                                return e.reduce(n, function(e, t) {
                                    return e - t
                                }, !0)
                            })
                        }
                    }, {
                        key: "MUL",
                        value: function() {
                            for (var e = this, t = arguments.length, n = Array(t), r = 0; t > r; r++)
                                n[r] = arguments[r];
                            return this.forEach(n, function() {
                                for (var t = arguments.length, n = Array(t), r = 0; t > r; r++)
                                    n[r] = arguments[r];
                                return e.reduce(n, function(e, t) {
                                    return e * t
                                }, !0)
                            })
                        }
                    }, {
                        key: "DIV",
                        value: function() {
                            for (var e = this, t = arguments.length, n = Array(t), r = 0; t > r; r++)
                                n[r] = arguments[r];
                            return this.forEach(n, function() {
                                for (var t = arguments.length, n = Array(t), r = 0; t > r; r++)
                                    n[r] = arguments[r];
                                return e.reduce(n, function(e, t) {
                                    return e / t
                                }, !0)
                            })
                        }
                    }, {
                        key: "POW",
                        value: function() {
                            for (var e = arguments.length, t = Array(e), n = 0; e > n; n++)
                                t[n] = arguments[n];
                            return this.forEach(t, function(e, t) {
                                return Math.pow(e, t)
                            })
                        }
                    }, {
                        key: "MAX",
                        value: function() {
                            for (var e = this, t = arguments.length, n = Array(t), r = 0; t > r; r++)
                                n[r] = arguments[r];
                            return this.forEach(n, function() {
                                for (var t = arguments.length, n = Array(t), r = 0; t > r; r++)
                                    n[r] = arguments[r];
                                return e.reduce(n, function(e, t) {
                                    return t > e ? t : e
                                })
                            })
                        }
                    }, {
                        key: "ABS",
                        value: function(e) {
                            return this.forEach([e], function(e) {
                                return Math.abs(e)
                            })
                        }
                    }, {
                        key: "REF",
                        value: function(e, t) {
                            return Array(t).concat(e).slice(0, e.length)
                        }
                    }, {
                        key: "HHV",
                        value: function(e, t) {
                            return this.hhvllv(e, t, function(e, t) {
                                return t > e ? t : e
                            })
                        }
                    }, {
                        key: "LLV",
                        value: function(e, t) {
                            return this.hhvllv(e, t, function(e, t) {
                                return e > t ? t : e
                            })
                        }
                    }, {
                        key: "SUM",
                        value: function(e, t) {
                            var n = e.length
                                , r = 0
                                , i = 0
                                , s = 0
                                , o = [];
                            if (t > n)
                                return Array(n);
                            if (0 >= t)
                                return this.reduce(e, function(e, t) {
                                    return e + t
                                });
                            if (1 >= t)
                                return e.slice();
                            for (; t - 1 > s && n > r; )
                                this.isNumber(e[r]) && (i += e[r],
                                    s++),
                                    r++;
                            for (; n > r; r++)
                                this.isNumber(e[r]) && (this.isNumber(i) ? i += e[r] : i = e[r]),
                                    o[r] = i,
                                this.isNumber(e[r - t + 1]) && (i -= e[r - t + 1]);
                            return o
                        }
                    }, {
                        key: "MA",
                        value: function(t, n) {
                            var r = t.length
                                , i = 0
                                , s = -1
                                , o = 0
                                , u = 0
                                , a = [];
                            if (0 >= n)
                                return u = e.reduce(t, function(e, t) {
                                    return e + t
                                }),
                                u / r;
                            if (1 >= n)
                                return t.slice();
                            if (n > r)
                                return Array(r);
                            for (; r > i && n - 1 > o; )
                                e.isNumber(t[i]) && (u += t[i],
                                    o++),
                                    i++;
                            for (; r > i; i++,
                                s++)
                                e.isNumber(t[i]) && (u += t[i]),
                                e.isNumber(t[i - n]) && (u -= t[i - n]),
                                    a[i] = u / n;
                            return a
                        }
                    }, {
                        key: "DMA",
                        value: function(t, n, r) {
                            var i = t.length
                                , s = 0
                                , o = 1 - n
                                , u = 0
                                , a = [];
                            e.isArray(n);
                            if (n > 1)
                                return Array(i);
                            if (1 == n)
                                return t.slice();
                            if (e.isArray(n)) {
                                for (; i > s; s++)
                                    if (e.isNumber(t[s]) && e.isNumber(n[s])) {
                                        a[s] = 1 == r ? 0 : t[s],
                                            u = t[s],
                                            s++;
                                        break
                                    }
                                for (; i > s; s++)
                                    e.isNumber(t[s]) && e.isNumber(n[s]) ? u = a[s] = n[s] * t[s] + (1 - n[s]) * u : a[s] = a[s - 1]
                            } else {
                                for (; i > s; s++)
                                    if (e.isNumber(t[s])) {
                                        a[s] = 1 == r ? 0 : t[s],
                                            u = t[s],
                                            s++;
                                        break
                                    }
                                for (; i > s; s++)
                                    e.isNumber(t[s]) ? u = a[s] = n * t[s] + o * u : a[s] = a[s - 1]
                            }
                            return a
                        }
                    }, {
                        key: "SMA",
                        value: function(e, t, n) {
                            var r = this;
                            return r.DMA(e, n / t, 1)
                        }
                    }, {
                        key: "EMA",
                        value: function(t, n) {
                            return e.DMA(t, 2 / (n + 1))
                        }
                    }, {
                        key: "WMA",
                        value: function(t, n) {
                            var r = t.length
                                , i = 0
                                , s = -1
                                , o = [];
                            if (1 >= n)
                                return t.slice();
                            if (n > r)
                                return Array(r);
                            for (var u = n * (n + 1) / 2, a = 0, f = 0; n - 1 > i; i++)
                                e.isNumber(t[i]) && (a += t[i],
                                    f += (i + 1) * t[i]);
                            for (; r > i; i++,
                                s++)
                                e.isNumber(t[i]) && (a += t[i],
                                    f += t[i] * n),
                                s >= 0 && e.isNumber(t[s]) && (a -= t[s]),
                                    o[i] = f / u,
                                    f -= a;
                            return o
                        }
                    }, {
                        key: "STD",
                        value: function(t, n) {
                            for (var r = [], i = e.MA(t, n), s = n - 1, o = t.length; o > s; s++) {
                                for (var u = 0, a = s - n + 1; s >= a; a++)
                                    u += Math.pow(t[a] - i[s], 2);
                                r[s] = Math.sqrt(u / n)
                            }
                            return r
                        }
                    }, {
                        key: "forEach",
                        value: function(e, t) {
                            var n, r, i, s = e.length, o = [], u = -1, a = [];
                            for (r = 0; s > r; r++)
                                o[r] = this.isArray(e[r]) ? e[r].length : -1,
                                o[r] > u && (u = o[r]);
                            for (r = 0; u > r; r++) {
                                for (n = [],
                                         i = 0; s > i; i++)
                                    n[i] = o[i] < 0 ? e[i] : e[i][r];
                                a[r] = t.apply({
                                    index: r
                                }, n)
                            }
                            return a
                        }
                    }, {
                        key: "reduce",
                        value: function(e, t, n, r, i) {
                            var s, o = 0, u = e.length;
                            for ("number" == typeof t && (o = t,
                                u = n,
                                t = r,
                                n = i); u > o; o++)
                                if (n || this.isNumber(e[o])) {
                                    s = +e[o];
                                    break
                                }
                            for (o++; u > o; o++)
                                (n || this.isNumber(e[o])) && (s = t(s, +e[o], o));
                            return s
                        }
                    }, {
                        key: "isArray",
                        value: function(e) {
                            return "[object Array]" == {}.toString.call(e)
                        }
                    }, {
                        key: "isNumber",
                        value: function(e) {
                            return null !== e && "" !== e && isFinite(e)
                        }
                    }, {
                        key: "hhvllv",
                        value: function(e, t, n) {
                            var r = []
                                , i = t - 1
                                , s = e.length;
                            if (t > s)
                                return Array(s);
                            if (0 >= t)
                                return this.reduce(e, n);
                            if (1 >= t)
                                return e.slice();
                            for (; s > i; i++)
                                r[i] = this.reduce(e, i - t + 1, i + 1, n);
                            return r
                        }
                    }]),
                        e
                }();
            t["default"] = i,
                e.exports = t["default"]
        }
        , function(e, t) {
            "use strict";
            function n(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var r = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , i = function() {
                    function e() {
                        n(this, e)
                    }
                    return r(e, null , [{
                        key: "pad",
                        value: function(e) {
                            return 10 > e ? "0" + e : e
                        }
                    }, {
                        key: "dash",
                        value: function(e) {
                            return e ? e.getUTCFullYear() + "-" + this.pad(e.getUTCMonth() + 1) + "-" + this.pad(e.getUTCDate()) : void 0
                        }
                    }, {
                        key: "new",
                        value: function(e) {
                            var t = e.substr(0, 4) + "-" + e.substr(4, 2) + "-" + e.substr(6, 2);
                            return new Date(t)
                        }
                    }, {
                        key: "getDayCh",
                        value: function(e) {
                            return {
                                1: "\u5468\u4e00",
                                2: "\u5468\u4e8c",
                                3: "\u5468\u4e09",
                                4: "\u5468\u56db",
                                5: "\u5468\u4e94",
                                6: "\u5468\u516d",
                                7: "\u5468\u65e5"
                            }[e]
                        }
                    }, {
                        key: "timing",
                        value: function(e) {
                            return e.substr(8, 4)
                        }
                    }]),
                        e
                }();
            t["default"] = i,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var s = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , o = n(34)
                , u = r(o)
                , a = n(35)
                , f = r(a)
                , l = n(36)
                , c = r(l)
                , h = n(27)
                , p = r(h)
                , d = function() {
                    function e() {
                        i(this, e)
                    }
                    return s(e, null , [{
                        key: "formatIF",
                        value: function(e, t) {
                            var n = e.data
                                , r = e.date;
                            "string" == typeof t && (t = t.split(","));
                            var i = t[(0,
                                f["default"])("TIME")];
                            i = i.slice(0, 2) + i.slice(3, 5);
                            var s = t[(0,
                                f["default"])("DATE")];
                            return s = s.replace(/-/g, ""),
                                r = r && "20" + r.substr(5) || s,
                            {
                                data: n,
                                date: r,
                                status: t[(0,
                                    f["default"])("STATUS")],
                                symbol: t[(0,
                                    f["default"])("NAME")].slice(-6, 0),
                                market: "if",
                                marketTime: p["default"].marketTime("if"),
                                close: 1 * t[(0,
                                    f["default"])("CP")],
                                open: 1 * t[(0,
                                    f["default"])("OP")],
                                name: t[(0,
                                    f["default"])("NAME")],
                                qtTime: i,
                                qtDate: s,
                                qtPrice: 1 * t[(0,
                                    f["default"])("PRICE")],
                                qtVolume: 1 * t[(0,
                                    f["default"])("VOLUME")],
                                qtMaxVal: 1 * t[(0,
                                    f["default"])("MAX_VAL")],
                                qtMinVal: 1 * t[(0,
                                    f["default"])("MIN_VAL")],
                                decimalPosition: 1
                            }
                        }
                    }, {
                        key: "formatWH",
                        value: function(e, t) {
                            var n = e.data
                                , r = e.date;
                            "string" == typeof t && (t = t.split("~"));
                            var i = t[(0,
                                c["default"])("TIME")];
                            i = i.slice(0, 8);
                            var s = t[(0,
                                c["default"])("TIME")].substr(8);
                            return s = s.slice(0, 2) + s.slice(2, 4),
                                r = r && "20" + r.substr(5) || i,
                            {
                                data: n,
                                date: r,
                                status: t[(0,
                                    c["default"])("STATUS")],
                                symbol: t[(0,
                                    u["default"])("CODE")],
                                market: "wh",
                                marketTime: p["default"].marketTime("wh"),
                                close: 1 * t[(0,
                                    c["default"])("CP")],
                                open: 1 * t[(0,
                                    c["default"])("OP")],
                                name: t[(0,
                                    c["default"])("NAME")],
                                qtTime: s,
                                qtDate: i,
                                qtPrice: 1 * t[(0,
                                    c["default"])("PRICE")],
                                qtVolume: 1 * t[(0,
                                    c["default"])("VOLUME")],
                                qtMaxVal: 1 * t[(0,
                                    c["default"])("MAX_VAL")],
                                qtMinVal: 1 * t[(0,
                                    c["default"])("MIN_VAL")],
                                decimalPosition: 4
                            }
                        }
                    }, {
                        key: "formatHS",
                        value: function(e, t) {
                            if (t.Symbol)
                                return this.formatPushQt(e, t);
                            var n = e.data
                                , r = e.date;
                            "string" == typeof t && (t = t.split("~"));
                            var i = t[(0,
                                    u["default"])("MK")]
                                , s = t[(0,
                                    u["default"])("TIME")].slice(0, 8);
                            r = r || s;
                            var o = t[(0,
                                    u["default"])("STATUS")]
                                , a = e.fqFactor;
                            return {
                                data: n,
                                date: r,
                                symbol: t[(0,
                                    u["default"])("CODE")],
                                status: o,
                                market: i,
                                marketTime: p["default"].marketTime(i),
                                close: this.calFqQt(a, t[(0,
                                    u["default"])("CP")]),
                                open: this.calFqQt(a, t[(0,
                                    u["default"])("OP")]),
                                name: t[(0,
                                    u["default"])("NAME")],
                                qtTime: t[(0,
                                    u["default"])("TIME")].slice(8, 12),
                                qtDate: s,
                                qtPrice: this.calFqQt(a, t[(0,
                                    u["default"])("PRICE")]),
                                qtVolume: 1 * t[(0,
                                    u["default"])("VOLUME")],
                                qtMaxVal: this.calFqQt(a, t[(0,
                                    u["default"])("MAX_VAL")]),
                                qtMinVal: this.calFqQt(a, t[(0,
                                    u["default"])("MIN_VAL")]),
                                decimalPosition: t[(0,
                                    u["default"])("CODE")].match(/^200|^900/) ? 3 : 2
                            }
                        }
                    }, {
                        key: "formatHK",
                        value: function(e, t) {
                            if (t.Symbol)
                                return this.formatPushQt(e, t);
                            var n = e.data
                                , r = e.date;
                            "string" == typeof t && (t = t.split("~"));
                            var i = "hk"
                                , s = t[(0,
                                    u["default"])("TIME")].replace(/\/| |\:/g, "")
                                , o = s.slice(8, 12);
                            s = s.slice(0, 8),
                                r = r || s;
                            var a = e.fqFactor;
                            return {
                                data: n,
                                date: r,
                                status: t[(0,
                                    u["default"])("STATUS")],
                                symbol: t[(0,
                                    u["default"])("CODE")],
                                market: i,
                                marketTime: p["default"].marketTime(i),
                                close: this.calFqQt(a, t[(0,
                                    u["default"])("CP")]),
                                open: this.calFqQt(a, t[(0,
                                    u["default"])("OP")]),
                                name: t[(0,
                                    u["default"])("NAME")],
                                qtTime: o,
                                qtDate: s,
                                qtPrice: this.calFqQt(a, t[(0,
                                    u["default"])("PRICE")]),
                                qtVolume: 1 * t[(0,
                                    u["default"])("VOLUME")],
                                qtMaxVal: this.calFqQt(a, t[(0,
                                    u["default"])("MAX_VAL")]),
                                qtMinVal: this.calFqQt(a, t[(0,
                                    u["default"])("MIN_VAL")]),
                                decimalPosition: 1 * t[(0,
                                    u["default"])("PRICE")] > .5 ? 2 : 3
                            }
                        }
                    }, {
                        key: "calFqQt",
                        value: function(e, t) {
                            var n = 1 * t;
                            return e ? n * e : n
                        }
                    }, {
                        key: "formatUS",
                        value: function(e, t) {
                            if (t.Symbol)
                                return this.formatPushQt(e, t, "us");
                            var n = e.data
                                , r = e.date
                                , i = "us";
                            "string" == typeof t && (t = t.split("~"));
                            var s = t[(0,
                                u["default"])("STATUS")];
                            s = "0" === s ? "" : s;
                            var o = t[(0,
                                u["default"])("TIME")].slice(0, 10).replace(/-/g, "");
                            return r = r || o,
                            {
                                data: n,
                                date: r,
                                status: s,
                                symbol: t[(0,
                                    u["default"])("CODE")].replace(/^\./, ""),
                                market: "us",
                                marketTime: p["default"].marketTime(i),
                                close: 1 * t[(0,
                                    u["default"])("CP")],
                                open: 1 * t[(0,
                                    u["default"])("OP")] || 1 * t[(0,
                                    u["default"])("CP")],
                                name: t[(0,
                                    u["default"])("NAME")],
                                qtTime: t[(0,
                                    u["default"])("TIME")].slice(11, 16).replace(/:/g, ""),
                                qtDate: o,
                                qtPrice: 1 * t[(0,
                                    u["default"])("PRICE")],
                                qtVolume: 1 * t[(0,
                                    u["default"])("VOLUME")],
                                qtMaxVal: 1 * t[(0,
                                    u["default"])("MAX_VAL")],
                                qtMinVal: 1 * t[(0,
                                    u["default"])("MIN_VAL")],
                                decimalPosition: 2
                            }
                        }
                    }, {
                        key: "formatPushQt",
                        value: function(e, t, n) {
                            var r = e.data
                                , i = e.date;
                            n = n || t.Mkt;
                            var s = t.TimeStamp.replace(/\/|-| |\:/g, "").slice(0, 8);
                            i = i || s;
                            var o = t.Status
                                , u = e.fqFactor;
                            return {
                                data: r,
                                date: i,
                                symbol: t.Symbol,
                                status: o,
                                market: n,
                                marketTime: p["default"].marketTime(n),
                                close: this.calFqQt(u, t.PrevClose),
                                open: this.calFqQt(u, t.Open),
                                name: t.Name,
                                qtTime: t.TimeStamp.replace(/\/|-| |\:/g, "").slice(8, 12),
                                qtDate: s,
                                qtPrice: this.calFqQt(u, t.Price),
                                qtVolume: 1 * (t._Vol || t.Vol),
                                qtMaxVal: this.calFqQt(u, t.High),
                                qtMinVal: this.calFqQt(u, t.Low),
                                decimalPosition: t.Symbol.match(/^200|^900/) ? 3 : 2
                            }
                        }
                    }, {
                        key: "trend",
                        value: function(e, t) {
                            var n = e.data
                                , r = t.index;
                            r && (t = t[0]),
                            "string" == typeof t && (t = t.split("~")),
                            "string" == typeof r && (r = r.split("~"));
                            var i = (r ? r : t)[(0,
                                u["default"])("TIME")].replace(/-/g, "").slice(0, 8);
                            return {
                                data: n,
                                qtDate: i,
                                qtPrice: 1 * t[(0,
                                    u["default"])("PRICE")]
                            }
                        }
                    }, {
                        key: "unit",
                        value: function(e, t) {
                            t = void 0 == t ? 2 : t;
                            var n = Math.abs(e);
                            return 1e4 > n ? e.toFixed(t) : 1e8 > n ? (e / 1e4).toFixed(2) + "\u4e07" : (e / 1e8).toFixed(2) + "\u4ebf"
                        }
                    }, {
                        key: "isValidNum",
                        value: function(e) {
                            return isNaN(e) || e === 1 / 0 || e === -1 / 0 || e === Number.MAX_VALUE || e === -Number.MAX_VALUE ? !1 : !0
                        }
                    }]),
                        e
                }();
            t["default"] = d,
                e.exports = t["default"]
        }
        , function(e, t) {
            "use strict";
            function n(e) {
                return {
                    MK: 0,
                    NAME: 1,
                    CODE: 2,
                    PRICE: 3,
                    CP: 4,
                    OP: 5,
                    TOTAL: 6,
                    OUTER_DISC: 7,
                    INNER_DISC: 8,
                    B1_VAL: 9,
                    B1_VOL: 10,
                    B2_VAL: 11,
                    B2_VOL: 12,
                    B3_VAL: 13,
                    B3_VOL: 14,
                    B4_VAL: 15,
                    B4_VOL: 16,
                    B5_VAL: 17,
                    B5_VOL: 18,
                    S1_VAL: 19,
                    S1_VOL: 20,
                    S2_VAL: 21,
                    S2_VOL: 22,
                    S3_VAL: 23,
                    S3_VOL: 24,
                    S4_VAL: 25,
                    S4_VOL: 26,
                    S5_VAL: 27,
                    S5_VOL: 28,
                    DETAIL: 29,
                    TIME: 30,
                    CHANGE: 31,
                    CHANGE_RATE: 32,
                    MAX_VAL: 33,
                    MIN_VAL: 34,
                    FORMER: 35,
                    VOLUME: 36,
                    TURNOVER: 37,
                    TURNOVER_RATE: 38,
                    PE_RATIO: 39,
                    STATUS: 40,
                    MAX_VAL_2: 41,
                    MIN_VAL_2: 42,
                    AMPLITUDE: 43,
                    MCCS: 44,
                    MARKET_CAP: 45,
                    RISE_STOP: 47,
                    FALL_STOP: 48,
                    VOLUME_RATIO: 49
                }[e]
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            }),
                t["default"] = n,
                e.exports = t["default"]
        }
        , function(e, t) {
            "use strict";
            function n(e) {
                return {
                    NAME: 0,
                    OP: 1,
                    MAX_VAL: 2,
                    MIN_VAL: 3,
                    PRICE: 4,
                    VOLUME: 5,
                    TURNOVER: 6,
                    THOLD: 7,
                    TCL: 8,
                    TSE: 9,
                    RISE_STOP: 10,
                    FALL_STOP: 11,
                    YFOT: 12,
                    TFOT: 13,
                    CP: 14,
                    SE: 15,
                    HOLD: 16,
                    B1_VAL: 17,
                    B1_VOL: 18,
                    B2_VAL: 19,
                    B2_VOL: 20,
                    B3_VAL: 21,
                    B3_VOL: 22,
                    B4_VAL: 23,
                    B4_VOL: 24,
                    B5_VAL: 25,
                    B5_VOL: 26,
                    S1_VAL: 27,
                    S1_VOL: 28,
                    S2_VAL: 29,
                    S2_VOL: 30,
                    S3_VAL: 31,
                    S3_VOL: 32,
                    S4_VAL: 33,
                    S4_VOL: 34,
                    S5_VAL: 35,
                    S5_VOL: 36,
                    DATE: 37,
                    TIME: 38,
                    MILLI: 39
                }[e]
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            }),
                t["default"] = n,
                e.exports = t["default"]
        }
        , function(e, t) {
            "use strict";
            function n(e) {
                return {
                    MK: 0,
                    NAME: 1,
                    CODE: 2,
                    PRICE: 3,
                    VOLUME: 4,
                    TIME: 5,
                    CP: 6,
                    OP: 7,
                    MAX_VAL: 8,
                    MIN_VAL: 9
                }[e]
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            }),
                t["default"] = n,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var s = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , o = n(11)
                , u = r(o)
                , a = n(8)
                , f = r(a)
                , l = function() {
                    function e(t, n) {
                        i(this, e),
                            this.symbol = t,
                            this.cfg = n
                    }
                    return s(e, [{
                        key: "listen",
                        value: function() {
                            this.ListenToSource(),
                                this.ListenToQt()
                        }
                    }, {
                        key: "ListenToSource",
                        value: function() {
                            var e = this;
                            this.channel = u["default"].channel(this.symbol);
                            var t = this.cfg.outer.id
                                , n = t + ".source." + this.type;
                            this.subSrc = this.channel.subscribe(n, function(t) {
                                e.updateSrc(t)
                            })
                        }
                    }, {
                        key: "ListenToQt",
                        value: function() {
                            var e = this
                                , t = this.cfg.outer.id
                                , n = t + ".qt." + this.type;
                            this.type.match(/year/) || (this.subQt = this.channel.subscribe(n, function(t) {
                                e.updateQt(t)
                            }))
                        }
                    }, {
                        key: "updateSrc",
                        value: function(e) {
                            this.data = {},
                                this.data.sourceData = e,
                                this.data.processData = this._processSrc(e);
                            var t = this.type.match(/year/) ? "day" : this.type;
                            f["default"].data(this.symbol, t + this.cfg.fqType, this.data),
                            this.qt && this.updateQt(this.qt)
                        }
                    }, {
                        key: "updateQt",
                        value: function(e) {
                            this.qt = e;
                            var t = this.type.match(/year/) ? "day" : this.type;
                            this.data = f["default"].data(this.symbol)[t + this.cfg.fqType] || this.data,
                            this.data && this.data.processData && (this.data.formatData = this._format(),
                                this.data.calData = this._calculate(),
                                this.publish())
                        }
                    }, {
                        key: "_processSrc",
                        value: function(e) {
                            return e
                        }
                    }, {
                        key: "_format",
                        value: function() {}
                    }, {
                        key: "_calculate",
                        value: function() {}
                    }, {
                        key: "publish",
                        value: function() {
                            var e = this.cfg
                                , t = e.outer.id
                                , n = this.type;
                            this.channel.publish([t, ".data.", n].join(""), this.data)
                        }
                    }, {
                        key: "stop",
                        value: function() {
                            this.data = null ,
                            this.subSrc && this.subSrc.unsubscribe(),
                            this.subQt && this.subQt.unsubscribe()
                        }
                    }, {
                        key: "start",
                        value: function() {
                            this.stop();
                            var e = this.cfg;
                            this.type = e.current,
                                this.fqType = e.fqType;
                            var t = this.type
                                , n = this.fqType;
                            this.type.match(/year/) && (t = "day"),
                            this.type.match(/m5|m15|m30|m60/) && (n = ""),
                                this.data = f["default"].data(this.symbol)[t + n],
                                this.listen()
                        }
                    }]),
                        e
                }();
            t["default"] = l,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , u = function(e, t, n) {
                    for (var r = !0; r; ) {
                        var i = e
                            , s = t
                            , o = n;
                        u = f = a = void 0,
                            r = !1,
                        null === i && (i = Function.prototype);
                        var u = Object.getOwnPropertyDescriptor(i, s);
                        if (void 0 !== u) {
                            if ("value"in u)
                                return u.value;
                            var a = u.get;
                            if (void 0 === a)
                                return;
                            return a.call(o)
                        }
                        var f = Object.getPrototypeOf(i);
                        if (null === f)
                            return;
                        e = f,
                            t = s,
                            n = o,
                            r = !0
                    }
                }
                , a = n(22)
                , f = r(a)
                , l = n(13)
                , c = r(l)
                , h = n(8)
                , p = r(h)
                , d = n(21)
                , v = (r(d),
                    n(16))
                , m = r(v)
                , g = function(e) {
                    function t(e, n) {
                        i(this, t),
                            u(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e),
                            this.symbol = e,
                            this.cfg = p["default"].cfg(e)[n]
                    }
                    return s(t, e),
                        o(t, [{
                            key: "_init",
                            value: function() {
                                var e = (this.symbol,
                                        this.cfg)
                                    , t = (this.type = e.current,
                                        this.getParams())
                                    , n = t.handler
                                    , r = t.url
                                    , i = t.frequency;
                                this.FREQUENCY = i,
                                    this.handler = n,
                                    this.url = r
                            }
                        }, {
                            key: "getParams",
                            value: function() {
                                var e = this.symbol.substr(2)
                                    , t = this.type
                                    , n = void 0
                                    , r = void 0
                                    , i = void 0;
                                switch (t) {
                                    case "minute":
                                        r = "min_data",
                                            n = ["http://data.gtimg.cn/flashdata/indexfuture/minute/if", e, ".js"].join(""),
                                            i = c["default"].LOOP_FREQUENCY.MID_LOOP;
                                        break;
                                    case "day":
                                    case "year1":
                                    case "year3":
                                    case "year5":
                                        r = "latest_daily_data",
                                            n = ["http://data.gtimg.cn/flashdata/indexfuture/latest/daily/if", e, ".js"].join(""),
                                            i = c["default"].LOOP_FREQUENCY.LONG_LOOP;
                                        break;
                                    case "week":
                                    case "month":
                                        r = t + "ly_data",
                                            n = ["http://data.gtimg.cn/flashdata/indexfuture/", t, "ly/if", e, ".js"].join(""),
                                            i = c["default"].LOOP_FREQUENCY.LONG_LOOP
                                }
                                return {
                                    frequency: i,
                                    url: n,
                                    handler: r
                                }
                            }
                        }, {
                            key: "_getSrcData",
                            value: function(e) {
                                var t = {
                                    minute: this.getMinuteSrcData,
                                    year1: this.getDaySrcData,
                                    year3: this.getDaySrcData,
                                    year5: this.getDaySrcData,
                                    day: this.getDaySrcData,
                                    week: this.getWMSrcData,
                                    month: this.getWMSrcData
                                }[this.type];
                                return t.call(this, e)
                            }
                        }, {
                            key: "getMinuteSrcData",
                            value: function() {
                                this.data = window[this.handler],
                                    this.publish()
                            }
                        }, {
                            key: "getWMSrcData",
                            value: function() {
                                var e = window[this.handler].split("\n");
                                e.shift(),
                                    e.pop(),
                                    this.data = e,
                                    this.publish()
                            }
                        }, {
                            key: "getDaySrcData",
                            value: function(e) {
                                if (e !== this._counter)
                                    return void (this.data = null );
                                var t = window[this.handler].split("\n");
                                t.shift(),
                                    t.pop(),
                                    this.setYearList(t.shift()),
                                    this.data = t,
                                    this.getNextYearDayData(e)
                            }
                        }, {
                            key: "getData",
                            value: function(e, t) {
                                var n = this;
                                e = e || this._counter,
                                    m["default"].getSync(t || this.url, function(t) {
                                        n._getSrcData(e)
                                    })
                            }
                        }, {
                            key: "getNextYearDayData",
                            value: function(e) {
                                var t = this;
                                if (e !== this._counter)
                                    return void (this.data = null );
                                var n = this.currentNum
                                    , r = this.all;
                                if (n == r)
                                    return void this.publish();
                                var i = this.yearList
                                    , s = (i.length,
                                        this.nextI)
                                    , o = i[s][0]
                                    , u = this.yearData
                                    , a = ["http://data.gtimg.cn/flashdata/indexfuture/daily/", o, "/if", this.symbol.substr(2), ".js"].join("")
                                    , f = "daily_data_" + o;
                                m["default"].getSync(a, function() {
                                    var r = window[f].split("\n");
                                    r.shift(),
                                        r.pop(),
                                        u = r.concat(u),
                                        t.yearData = u;
                                    var i = u.length;
                                    i > n && (t.data = u,
                                        t.currentNum = i,
                                        t.publish()),
                                        t.nextI--,
                                        t.getNextYearDayData(e)
                                })
                            }
                        }, {
                            key: "setYearList",
                            value: function(e) {
                                this.yearList = [];
                                var t = e.split(" ");
                                this.currentNum = 1 * t[0].substr(4),
                                    this.all = 1 * t[1].substr(6),
                                    this.yearData = [];
                                for (var n = t.length, r = 3; n > r; r++) {
                                    var i = t[r].split(":");
                                    i[1] *= 1,
                                        this.yearList.push(i)
                                }
                                this.nextI = this.yearList.length - 1
                            }
                        }]),
                        t
                }(f["default"]);
            t["default"] = g,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , u = function(e, t, n) {
                    for (var r = !0; r; ) {
                        var i = e
                            , s = t
                            , o = n;
                        u = f = a = void 0,
                            r = !1,
                        null === i && (i = Function.prototype);
                        var u = Object.getOwnPropertyDescriptor(i, s);
                        if (void 0 !== u) {
                            if ("value"in u)
                                return u.value;
                            var a = u.get;
                            if (void 0 === a)
                                return;
                            return a.call(o)
                        }
                        var f = Object.getPrototypeOf(i);
                        if (null === f)
                            return;
                        e = f,
                            t = s,
                            n = o,
                            r = !0
                    }
                }
                , a = n(26)
                , f = r(a)
                , l = n(28)
                , c = r(l)
                , h = n(33)
                , p = r(h)
                , d = n(37)
                , v = r(d)
                , m = n(8)
                , g = r(m)
                , y = function(e) {
                    function t(e, n) {
                        i(this, t);
                        var r = g["default"].cfg(e)[n];
                        u(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e, r)
                    }
                    return s(t, e),
                        o(t, [{
                            key: "_processSrc",
                            value: function(e) {
                                var t = void 0;
                                return t = "minute" === this.type ? this.processMinuteData : this.processKlineData,
                                    t.call(this, e)
                            }
                        }, {
                            key: "processMinuteData",
                            value: function(e) {
                                e = e.split("\n"),
                                "" == e[0] && e.shift(0);
                                var t = e.shift(0)
                                    , n = f["default"].min(e, "if");
                                return {
                                    data: n,
                                    date: t
                                }
                            }
                        }, {
                            key: "processKlineData",
                            value: function(e) {
                                var t = f["default"].klineIF(e);
                                return {
                                    data: t
                                }
                            }
                        }, {
                            key: "_format",
                            value: function() {
                                var e = this.data
                                    , t = this.qt
                                    , n = e.processData;
                                return p["default"].formatIF(n, t)
                            }
                        }, {
                            key: "_calculate",
                            value: function() {
                                var e = this.type
                                    , t = this.data
                                    , n = t.formatData
                                    , r = this.data.calData;
                                if (!this.symbol.match(n.symbol))
                                    return r;
                                switch (e) {
                                    case "minute":
                                        r = c["default"].calMinute(n);
                                        break;
                                    case "day":
                                        r || (r = c["default"].kline(n)),
                                            n.data = r,
                                            r = c["default"].klineQT(n);
                                        break;
                                    case "month":
                                    case "week":
                                        r || (r = c["default"].kline(n)),
                                            n.data = r,
                                            r = c["default"].klineQT(n)
                                }
                                return r
                            }
                        }]),
                        t
                }(v["default"]);
            t["default"] = y,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , u = function(e, t, n) {
                    for (var r = !0; r; ) {
                        var i = e
                            , s = t
                            , o = n;
                        u = f = a = void 0,
                            r = !1,
                        null === i && (i = Function.prototype);
                        var u = Object.getOwnPropertyDescriptor(i, s);
                        if (void 0 !== u) {
                            if ("value"in u)
                                return u.value;
                            var a = u.get;
                            if (void 0 === a)
                                return;
                            return a.call(o)
                        }
                        var f = Object.getPrototypeOf(i);
                        if (null === f)
                            return;
                        e = f,
                            t = s,
                            n = o,
                            r = !0
                    }
                }
                , a = n(22)
                , f = r(a)
                , l = n(41)
                , c = (r(l),
                    n(13))
                , h = r(c)
                , p = n(8)
                , d = r(p)
                , v = n(16)
                , m = (r(v),
                    n(32))
                , g = (r(m),
                    function(e) {
                        function t(e, n) {
                            i(this, t),
                                u(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e),
                                this.symbol = e,
                                this.cfg = d["default"].cfg(e)[n]
                        }
                        return s(t, e),
                            o(t, [{
                                key: "_init",
                                value: function() {
                                    var e = (this.symbol,
                                            this.cfg)
                                        , t = this.type = e.current;
                                    this.urlType = t,
                                        this.fqType = e.fqType,
                                    /year/.test(t) && (this.urlType = "day"),
                                        this.isFund = "fund" === e.market ? "fund" : "";
                                    var n = this.getParams()
                                        , r = n.handler
                                        , i = n.url
                                        , s = n.frequency;
                                    this.FREQUENCY = s,
                                        this.handler = r,
                                        this.url = i
                                }
                            }, {
                                key: "getParams",
                                value: function() {
                                    var e = this.symbol
                                        , t = this.type
                                        , n = this.urlType
                                        , r = this.fqType
                                        , i = void 0
                                        , s = void 0
                                        , o = void 0;
                                    switch (t) {
                                        case "minute":
                                            s = "min_data_" + e,
                                                i = ["http://web.ifzq.gtimg.cn/appstock/app/minute/query?_var=", s, "&code=", e].join(""),
                                                o = h["default"].LOOP_FREQUENCY.MID_LOOP;
                                            break;
                                        case "fdays":
                                            s = "fdays_data_" + e,
                                                i = ["http://web.ifzq.gtimg.cn/appstock/app/day/query?_var=", s, "&code=", e].join(""),
                                                o = h["default"].LOOP_FREQUENCY.MID_LOOP;
                                            break;
                                        case "day":
                                        case "week":
                                        case "month":
                                        case "year1":
                                        case "year3":
                                        case "year5":
                                            s = "kline_" + n + r,
                                                i = this.getKlineUrl(),
                                                o = h["default"].LOOP_FREQUENCY.LONG_LOOP;
                                            break;
                                        case "m5":
                                        case "m15":
                                        case "m30":
                                        case "m60":
                                            s = t + "_today",
                                                i = ["http://ifzq.gtimg.cn/appstock/app/kline/mkline?param=" + this.symbol, t, "", 320].join(",") + "&_var=" + s,
                                                o = h["default"].LOOP_FREQUENCY[t.toUpperCase() + "_LOOP"]
                                    }
                                    return {
                                        frequency: o,
                                        url: i,
                                        handler: s
                                    }
                                }
                            }, {
                                key: "_getSrcData",
                                value: function(e, t) {
                                    var n = void 0
                                        , r = this.type;
                                    return n = "minute" === r || "fdays" === r ? this.getMinuteSrcData : r.match(/m5|m15|m30|m60/) ? this.getMMSrcData : this.getKlineSrcData,
                                        n.call(this, e, t)
                                }
                            }, {
                                key: "getMinuteSrcData",
                                value: function() {
                                    this.data = window[this.handler],
                                        this.publish()
                                }
                            }, {
                                key: "getMMSrcData",
                                value: function(e) {
                                    var t = this.symbol
                                        , n = window[this.handler].data[t];
                                    n.qt[t],
                                        this.data = n[this.type],
                                        this.publish()
                                }
                            }, {
                                key: "getKlineSrcData",
                                value: function(e, t) {
                                    var n = this
                                        , r = this.symbol;
                                    t = t || this.handler;
                                    var i = window[t].data[r]
                                        , s = i.qt[r]
                                        , o = i[this.fqType + this.urlType] || i[this.urlType]
                                        , u = this.urlType
                                        , a = this.trend;
                                    if (!a || !a.length)
                                        return this.data = {
                                            data: o,
                                            qt: s
                                        },
                                            void this.publish();
                                    var f = this.trend.o.trendYearList[u]
                                        , l = []
                                        , c = void 0
                                        , h = f[0][0];
                                    if (this.fetchYear ? !function() {
                                            for (var e = 0, t = o.length; t > e; e++) {
                                                var r = o[e][0].slice(0, 4);
                                                r !== c && r >= h && l.push([r, e]),
                                                    c = r
                                            }
                                            var i = 0
                                                , s = l[i]
                                                , u = l.length;
                                            f.forEach(function(e) {
                                                if (!(i >= l.length) && e[0] === s[0]) {
                                                    var t = s[1]
                                                        , r = i + 1 >= u ? o.length : l[i + 1][1];
                                                    e.data = o.slice(t, r),
                                                        e[1] = !0;
                                                    var a = void 0;
                                                    n.fetchYear.forEach(function(e, t) {
                                                        e === s[0] && (a = t)
                                                    }),
                                                        n.fetchYear.splice(a, 1),
                                                        i++,
                                                        s = l[i]
                                                }
                                            })
                                        }() : !function() {
                                            for (var e = 0, t = o.length; t > e; e++) {
                                                var n = o[e][0].slice(0, 4);
                                                n !== c && n >= h && l.push([n, e]),
                                                    c = n
                                            }
                                            var r = 0
                                                , i = l[r]
                                                , s = l.length;
                                            f.forEach(function(e) {
                                                if (e[0] === i[0]) {
                                                    var t = i[1]
                                                        , n = r + 1 >= s ? o.length : l[r + 1][1];
                                                    e.data = o.slice(t, n),
                                                        e[1] = 0 == r ? o[0][0].replace(/-/g, "") : !0,
                                                        r++,
                                                        i = l[r]
                                                }
                                            })
                                        }(),
                                        !this.fetchYear || !this.fetchYear.length) {
                                        var p = this.mergeYearData();
                                        this.data = {
                                            data: p,
                                            qt: s
                                        },
                                            this.publish()
                                    }
                                }
                            }, {
                                key: "getKlineUrl",
                                value: function() {
                                    for (var e = arguments.length, t = Array(e), n = 0; e > n; n++)
                                        t[n] = arguments[n];
                                    var r = t.length;
                                    r || (t = "");
                                    var i = this.symbol
                                        , s = this.urlType
                                        , o = this.fqType
                                        , u = "kline_" + s + o
                                        , a = this.isFund
                                        , f = h["default"].FIRST_BATCH_TOTAL * (2 == r ? 2 : 1)
                                        , l = t ? t[0] + "-01-01" : ""
                                        , c = t ? t[r - 1] + "-12-31" : "";
                                    return o ? ["http://web.ifzq.gtimg.cn/appstock/app/fqkline/get?_var=" + u + "&param=" + i, s, l, c, f, o].join(",") : ["http://web.ifzq.gtimg.cn/appstock/app/kline/kline?_var=" + u + "&param=" + i, s, l, c, f, a].join(",")
                                }
                            }]),
                            t
                    }(f["default"]));
            t["default"] = g,
                e.exports = t["default"]
        }
        , function(e, t) {
            "use strict";
            function n(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var r = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , i = function() {
                    function e() {
                        n(this, e)
                    }
                    return r(e, null , [{
                        key: "split",
                        value: function(e) {
                            var t = {};
                            return e.forEach(function(e) {
                                var n = typeof e;
                                switch (n) {
                                    case "object":
                                        Array.isArray(e) ? n = "array" : e instanceof Date && (n = "date");
                                        break;
                                    case "string":
                                        /http:\/\//.test(e) && (n = "url")
                                }
                                n && t[n] ? t[n].push(e) : t[n] = [e]
                            }),
                                t
                        }
                    }]),
                        e
                }();
            t["default"] = i,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , u = function(e, t, n) {
                    for (var r = !0; r; ) {
                        var i = e
                            , s = t
                            , o = n;
                        u = f = a = void 0,
                            r = !1,
                        null === i && (i = Function.prototype);
                        var u = Object.getOwnPropertyDescriptor(i, s);
                        if (void 0 !== u) {
                            if ("value"in u)
                                return u.value;
                            var a = u.get;
                            if (void 0 === a)
                                return;
                            return a.call(o)
                        }
                        var f = Object.getPrototypeOf(i);
                        if (null === f)
                            return;
                        e = f,
                            t = s,
                            n = o,
                            r = !0
                    }
                }
                , a = n(26)
                , f = r(a)
                , l = n(33)
                , c = r(l)
                , h = n(28)
                , p = r(h)
                , d = n(37)
                , v = r(d)
                , m = n(8)
                , g = r(m)
                , y = function(e) {
                    function t(e, n) {
                        i(this, t);
                        var r = g["default"].cfg(e)[n];
                        u(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e, r)
                    }
                    return s(t, e),
                        o(t, [{
                            key: "_processSrc",
                            value: function(e) {
                                var t = this.type
                                    , n = void 0;
                                return n = "minute" === t ? this.processMinuteData : "fdays" === t ? this.processFDaysData : t.match(/m5|m15|m30|m60/) ? this.processMMData : this.processKlineData,
                                    n.call(this, e)
                            }
                        }, {
                            key: "processMinuteData",
                            value: function(e) {
                                var t = this.symbol
                                    , n = e.data[t].qt[t];
                                this.qt = n;
                                var r = e.data[t].data.date
                                    , i = e.data[t].data.data;
                                return i = f["default"].min(i, t.substr(0, 2)),
                                {
                                    data: i,
                                    date: r
                                }
                            }
                        }, {
                            key: "processFDaysData",
                            value: function(e) {
                                var t = this.symbol
                                    , n = e.data[t].qt[t];
                                this.qt = n;
                                var r = e.data[t].data;
                                return r = f["default"].fDays(r, this.symbol.substr(0, 2)),
                                {
                                    data: r
                                }
                            }
                        }, {
                            key: "processMMData",
                            value: function(e) {
                                var t = f["default"].kline(e);
                                return {
                                    data: t
                                }
                            }
                        }, {
                            key: "processKlineData",
                            value: function(e) {
                                var t = e.qt;
                                this.qt = t;
                                var n = f["default"].kline(e.data);
                                return "hfq" === this.cfg.fqType && (n.fqFactor = this.calFqFactor(n, t)),
                                {
                                    data: n,
                                    fqFactor: n.fqFactor
                                }
                            }
                        }, {
                            key: "calFqFactor",
                            value: function(e, t) {
                                var n = e.length ? e[e.length - 1] : []
                                    , r = n[0]
                                    , i = t[30].replace(/-|:|\//g, "").slice(0, 8);
                                return i === r ? n[2] / t[3] : void 0
                            }
                        }, {
                            key: "_format",
                            value: function() {
                                var e = this.data
                                    , t = this.qt
                                    , n = e.processData;
                                return c["default"].formatHS(n, t)
                            }
                        }, {
                            key: "_calculate",
                            value: function() {
                                var e = this.type
                                    , t = this.data
                                    , n = t.formatData
                                    , r = this.data.calData;
                                if (!this.symbol.match(n.symbol))
                                    return r;
                                switch (e) {
                                    case "minute":
                                        r = p["default"].calMinute(n);
                                        break;
                                    case "fdays":
                                        r = p["default"].calFDays(n);
                                        break;
                                    case "day":
                                        r || (r = p["default"].kline(n)),
                                            n.data = r,
                                            r = p["default"].klineQT(n);
                                        break;
                                    case "month":
                                    case "week":
                                        r || (r = p["default"].kline(n)),
                                            n.data = r,
                                            r = p["default"].klineQT(n, e);
                                        break;
                                    case "year1":
                                    case "year3":
                                    case "year5":
                                        r || (r = p["default"].kline(n));
                                        break;
                                    case "m5":
                                    case "m15":
                                    case "m30":
                                    case "m60":
                                        r || (r = p["default"].calMKline(n)),
                                            n.data = r,
                                            r = p["default"].calMklineQT(n, e)
                                }
                                return r
                            }
                        }]),
                        t
                }(v["default"]);
            t["default"] = y,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , u = function(e, t, n) {
                    for (var r = !0; r; ) {
                        var i = e
                            , s = t
                            , o = n;
                        u = f = a = void 0,
                            r = !1,
                        null === i && (i = Function.prototype);
                        var u = Object.getOwnPropertyDescriptor(i, s);
                        if (void 0 !== u) {
                            if ("value"in u)
                                return u.value;
                            var a = u.get;
                            if (void 0 === a)
                                return;
                            return a.call(o)
                        }
                        var f = Object.getPrototypeOf(i);
                        if (null === f)
                            return;
                        e = f,
                            t = s,
                            n = o,
                            r = !0
                    }
                }
                , a = n(22)
                , f = r(a)
                , l = n(41)
                , c = (r(l),
                    n(13))
                , h = r(c)
                , p = n(8)
                , d = r(p)
                , v = function(e) {
                    function t(e, n) {
                        i(this, t),
                            u(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e),
                            this.symbol = e,
                            this.cfg = d["default"].cfg(e)[n]
                    }
                    return s(t, e),
                        o(t, [{
                            key: "_init",
                            value: function() {
                                var e = (this.symbol,
                                        this.cfg)
                                    , t = this.type = e.current;
                                this.fqType = e.fqType,
                                    this.urlType = t,
                                /year/.test(t) && (this.urlType = "day");
                                var n = this.getParams()
                                    , r = n.handler
                                    , i = n.url
                                    , s = n.frequency;
                                this.FREQUENCY = s,
                                    this.handler = r,
                                    this.url = i
                            }
                        }, {
                            key: "getParams",
                            value: function() {
                                var e = this.symbol
                                    , t = this.type
                                    , n = this.urlType
                                    , r = this.fqType
                                    , i = void 0
                                    , s = void 0
                                    , o = void 0;
                                switch (t) {
                                    case "minute":
                                        s = "min_data_" + e,
                                            i = ["http://web.ifzq.gtimg.cn/appstock/app/hkMinute/query?_var=", s, "&code=", e].join(""),
                                            o = h["default"].LOOP_FREQUENCY.MID_LOOP;
                                        break;
                                    case "fdays":
                                        s = "fdays_data_" + e,
                                            i = ["http://web.ifzq.gtimg.cn/appstock/app/day/query?_var=", s, "&code=", e].join(""),
                                            o = h["default"].LOOP_FREQUENCY.MID_LOOP;
                                        break;
                                    case "day":
                                    case "week":
                                    case "month":
                                    case "year1":
                                    case "year3":
                                    case "year5":
                                        s = "kline_" + n + r,
                                            i = this.getKlineUrl(),
                                            o = h["default"].LOOP_FREQUENCY.LONG_LOOP
                                }
                                return {
                                    frequency: o,
                                    url: i,
                                    handler: s
                                }
                            }
                        }, {
                            key: "_getSrcData",
                            value: function(e, t) {
                                var n = void 0
                                    , r = this.type;
                                return n = "minute" === r || "fdays" === r ? this.getMinuteSrcData : this.getKlineSrcData,
                                    n.call(this, e, t)
                            }
                        }, {
                            key: "getMinuteSrcData",
                            value: function() {
                                this.data = window[this.handler],
                                    this.publish()
                            }
                        }, {
                            key: "getKlineSrcData",
                            value: function(e, t) {
                                var n = this
                                    , r = this.symbol;
                                t = t || this.handler;
                                var i = window[t].data[r]
                                    , s = i.qt[r]
                                    , o = i[this.fqType + this.urlType] || i[this.urlType]
                                    , u = this.urlType
                                    , a = this.trend;
                                if (!a || !a.length)
                                    return this.data = {
                                        data: o,
                                        qt: s
                                    },
                                        void this.publish();
                                var f = this.trend.o.trendYearList[u]
                                    , l = []
                                    , c = void 0
                                    , h = f[0][0];
                                if (this.fetchYear ? !function() {
                                        for (var e = 0, t = o.length; t > e; e++) {
                                            var r = o[e][0].slice(0, 4);
                                            r !== c && r >= h && l.push([r, e]),
                                                c = r
                                        }
                                        var i = 0
                                            , s = l[i]
                                            , u = l.length;
                                        f.forEach(function(e) {
                                            if (!(i >= l.length) && e[0] === s[0]) {
                                                var t = s[1]
                                                    , r = i + 1 >= u ? o.length : l[i + 1][1];
                                                e.data = o.slice(t, r),
                                                    e[1] = !0;
                                                var a = void 0;
                                                n.fetchYear.forEach(function(e, t) {
                                                    e === s[0] && (a = t)
                                                }),
                                                    n.fetchYear.splice(a, 1),
                                                    i++,
                                                    s = l[i]
                                            }
                                        })
                                    }() : !function() {
                                        for (var e = 0, t = o.length; t > e; e++) {
                                            var n = o[e][0].slice(0, 4);
                                            n !== c && n >= h && l.push([n, e]),
                                                c = n
                                        }
                                        var r = 0
                                            , i = l[r]
                                            , s = l.length;
                                        f.forEach(function(e) {
                                            if (e[0] === i[0]) {
                                                var t = i[1]
                                                    , n = r + 1 >= s ? o.length : l[r + 1][1];
                                                e.data = o.slice(t, n),
                                                    e[1] = 0 == r ? o[0][0].replace(/-/g, "") : !0,
                                                    r++,
                                                    i = l[r]
                                            }
                                        })
                                    }(),
                                    !this.fetchYear || !this.fetchYear.length) {
                                    var p = this.mergeYearData();
                                    this.data = {
                                        data: p,
                                        qt: s
                                    },
                                        this.publish()
                                }
                            }
                        }, {
                            key: "getKlineUrl",
                            value: function() {
                                for (var e = arguments.length, t = Array(e), n = 0; e > n; n++)
                                    t[n] = arguments[n];
                                var r = t.length;
                                r || (t = "");
                                var i = this.symbol
                                    , s = (this.type,
                                        this.urlType)
                                    , o = this.fqType
                                    , u = "kline_" + s + o
                                    , a = h["default"].FIRST_BATCH_TOTAL * (2 == r ? 2 : 1)
                                    , f = t ? t[0] + "-01-01" : ""
                                    , l = t ? t[r - 1] + "-12-31" : "";
                                return this.cfg.isIndex && (o = ""),
                                    o ? ["http://web.ifzq.gtimg.cn/appstock/app/hkfqkline/get?_var=" + u + "&param=" + i, s, f, l, a, o].join(",") : ["http://web.ifzq.gtimg.cn/appstock/app/kline/kline?_var=" + u + "&param=" + i, s, f, l, a, ""].join(",")
                            }
                        }]),
                        t
                }(f["default"]);
            t["default"] = v,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , u = function(e, t, n) {
                    for (var r = !0; r; ) {
                        var i = e
                            , s = t
                            , o = n;
                        u = f = a = void 0,
                            r = !1,
                        null === i && (i = Function.prototype);
                        var u = Object.getOwnPropertyDescriptor(i, s);
                        if (void 0 !== u) {
                            if ("value"in u)
                                return u.value;
                            var a = u.get;
                            if (void 0 === a)
                                return;
                            return a.call(o)
                        }
                        var f = Object.getPrototypeOf(i);
                        if (null === f)
                            return;
                        e = f,
                            t = s,
                            n = o,
                            r = !0
                    }
                }
                , a = n(26)
                , f = r(a)
                , l = n(33)
                , c = r(l)
                , h = n(28)
                , p = r(h)
                , d = n(37)
                , v = r(d)
                , m = n(8)
                , g = r(m)
                , y = function(e) {
                    function t(e, n) {
                        i(this, t);
                        var r = g["default"].cfg(e)[n];
                        u(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e, r)
                    }
                    return s(t, e),
                        o(t, [{
                            key: "_processSrc",
                            value: function(e) {
                                var t = this.type
                                    , n = void 0;
                                return n = "minute" === t ? this.processMinuteData : "fdays" === t ? this.processFDaysData : this.processKlineData,
                                    n.call(this, e)
                            }
                        }, {
                            key: "processMinuteData",
                            value: function(e) {
                                var t = this.symbol
                                    , n = e.data[t].qt[t];
                                this.qt = n;
                                var r = e.data[t].data.date
                                    , i = e.data[t].data.data;
                                return i.cfg = this.cfg,
                                    i = f["default"].min(i, "hk"),
                                {
                                    data: i,
                                    date: r
                                }
                            }
                        }, {
                            key: "calFqFactor",
                            value: function(e, t) {
                                var n = e.length ? e[e.length - 1] : []
                                    , r = n[0]
                                    , i = t[30].replace(/-|:|\//g, "").slice(0, 8);
                                return i === r ? n[2] / t[3] : void 0
                            }
                        }, {
                            key: "processFDaysData",
                            value: function(e) {
                                var t = this.symbol
                                    , n = e.data[t].qt[t];
                                this.qt = n;
                                var r = e.data[t].data;
                                return r.cfg = this.cfg,
                                    r = f["default"].fDays(r, "hk"),
                                {
                                    data: r
                                }
                            }
                        }, {
                            key: "processKlineData",
                            value: function(e) {
                                var t = e.qt;
                                this.qt = t;
                                var n = f["default"].kline(e.data);
                                return "hfq" === this.cfg.fqType && (n.fqFactor = this.calFqFactor(n, t)),
                                {
                                    data: n,
                                    fqFactor: n.fqFactor
                                }
                            }
                        }, {
                            key: "_format",
                            value: function() {
                                var e = this.data
                                    , t = this.qt
                                    , n = e.processData
                                    , r = c["default"].formatHK(n, t);
                                return r.qtVolume = this.cfg.isIndex ? 1e4 * r.qtVolume : r.qtVolume,
                                    r
                            }
                        }, {
                            key: "_calculate",
                            value: function() {
                                var e = this.type
                                    , t = this.data
                                    , n = t.formatData
                                    , r = this.data.calData;
                                if (!this.symbol.match(n.symbol))
                                    return r;
                                switch (e) {
                                    case "minute":
                                        r = p["default"].calMinute(n);
                                        break;
                                    case "fdays":
                                        r = p["default"].calFDays(n);
                                        break;
                                    case "day":
                                        r || (r = p["default"].kline(n)),
                                            n.data = r,
                                            r = p["default"].klineQT(n, e);
                                        break;
                                    case "month":
                                    case "week":
                                        r || (r = p["default"].kline(n)),
                                            n.data = r,
                                            r = p["default"].klineQT(n, e);
                                        break;
                                    case "year1":
                                    case "year3":
                                    case "year5":
                                        r || (r = p["default"].kline(n)),
                                            n.data = r
                                }
                                return r
                            }
                        }]),
                        t
                }(v["default"]);
            t["default"] = y,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , u = function(e, t, n) {
                    for (var r = !0; r; ) {
                        var i = e
                            , s = t
                            , o = n;
                        u = f = a = void 0,
                            r = !1,
                        null === i && (i = Function.prototype);
                        var u = Object.getOwnPropertyDescriptor(i, s);
                        if (void 0 !== u) {
                            if ("value"in u)
                                return u.value;
                            var a = u.get;
                            if (void 0 === a)
                                return;
                            return a.call(o)
                        }
                        var f = Object.getPrototypeOf(i);
                        if (null === f)
                            return;
                        e = f,
                            t = s,
                            n = o,
                            r = !0
                    }
                }
                , a = n(22)
                , f = r(a)
                , l = n(41)
                , c = (r(l),
                    n(13))
                , h = r(c)
                , p = n(8)
                , d = r(p)
                , v = function(e) {
                    function t(e, n) {
                        i(this, t),
                            u(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e),
                            this.symbol = e,
                            this.cfg = d["default"].cfg(e)[n]
                    }
                    return s(t, e),
                        o(t, [{
                            key: "_init",
                            value: function() {
                                var e = (this.symbol,
                                        this.cfg)
                                    , t = this.type = e.current;
                                this.fqType = e.fqType,
                                    this.urlType = t,
                                /year/.test(t) && (this.urlType = "day");
                                var n = this.getParams()
                                    , r = n.handler
                                    , i = n.url
                                    , s = n.frequency;
                                this.FREQUENCY = s,
                                    this.handler = r,
                                    this.url = i
                            }
                        }, {
                            key: "getParams",
                            value: function() {
                                var e = this.symbol
                                    , t = this.type
                                    , n = this.urlType
                                    , r = this.fqType
                                    , i = void 0
                                    , s = void 0
                                    , o = void 0;
                                switch (("usDJI" === e || "usIXIC" === e || "usINX" === e) && (e = "us." + e.substr(2)),
                                    t) {
                                    case "minute":
                                        s = "min_data_" + this.symbol.replace(/[\.-]/g, ""),
                                            i = ["http://web.ifzq.gtimg.cn/appstock/app/UsMinute/query?_var=", s, "&code=", e].join(""),
                                            o = h["default"].LOOP_FREQUENCY.MID_LOOP;
                                        break;
                                    case "fdays":
                                        s = "fdays_data_" + this.symbol.replace(/[\.-]/g, ""),
                                            i = ["http://web.ifzq.gtimg.cn/appstock/app/dayus/query?_var=", s, "&code=", e].join(""),
                                            o = h["default"].LOOP_FREQUENCY.MID_LOOP;
                                        break;
                                    case "day":
                                    case "week":
                                    case "month":
                                    case "year1":
                                    case "year3":
                                    case "year5":
                                        s = "kline_" + n + r,
                                            i = this.getKlineUrl()
                                }
                                return {
                                    frequency: o,
                                    url: i,
                                    handler: s
                                }
                            }
                        }, {
                            key: "_getSrcData",
                            value: function(e, t) {
                                var n = void 0
                                    , r = this.type;
                                return n = "minute" === r || "fdays" === r ? this.getMinuteSrcData : this.getKlineSrcData,
                                    n.call(this, e, t)
                            }
                        }, {
                            key: "getMinuteSrcData",
                            value: function() {
                                this.data = window[this.handler],
                                    this.publish()
                            }
                        }, {
                            key: "getKlineSrcData",
                            value: function(e, t) {
                                var n = this;
                                t = t || this.handler;
                                var r = this.symbol;
                                ("usDJI" == r || "usIXIC" == r || "usINX" == r) && (r = "us." + r.substr(2));
                                var i = window[t].data[r]
                                    , s = i.qt[r]
                                    , o = i[this.fqType + this.urlType] || i[this.urlType]
                                    , u = this.urlType
                                    , a = this.trend;
                                if (!a || !a.length)
                                    return this.data = {
                                        data: o,
                                        qt: s
                                    },
                                        void this.publish();
                                var f = this.trend.o.trendYearList[u]
                                    , l = []
                                    , c = void 0
                                    , h = f[0][0];
                                if (this.fetchYear ? !function() {
                                        for (var e = 0, t = o.length; t > e; e++) {
                                            var r = o[e][0].slice(0, 4);
                                            r !== c && r >= h && l.push([r, e]),
                                                c = r
                                        }
                                        var i = 0
                                            , s = l[i]
                                            , u = l.length;
                                        f.forEach(function(e) {
                                            if (!(i >= l.length) && e[0] === s[0]) {
                                                var t = s[1]
                                                    , r = i + 1 >= u ? o.length : l[i + 1][1];
                                                e.data = o.slice(t, r),
                                                    e[1] = !0;
                                                var a = void 0;
                                                n.fetchYear.forEach(function(e, t) {
                                                    e === s[0] && (a = t)
                                                }),
                                                    n.fetchYear.splice(a, 1),
                                                    i++,
                                                    s = l[i]
                                            }
                                        })
                                    }() : !function() {
                                        for (var e = 0, t = o.length; t > e; e++) {
                                            var n = o[e][0].slice(0, 4);
                                            n !== c && n >= h && l.push([n, e]),
                                                c = n
                                        }
                                        var r = 0
                                            , i = l[r]
                                            , s = l.length;
                                        f.forEach(function(e) {
                                            if (e[0] === i[0]) {
                                                var t = i[1]
                                                    , n = r + 1 >= s ? o.length : l[r + 1][1];
                                                e.data = o.slice(t, n),
                                                    e[1] = 0 == r ? o[0][0].replace(/-/g, "") : !0,
                                                    r++,
                                                    i = l[r]
                                            }
                                        })
                                    }(),
                                    !this.fetchYear || !this.fetchYear.length) {
                                    var p = this.mergeYearData();
                                    this.data = {
                                        data: p,
                                        qt: s
                                    },
                                        this.publish()
                                }
                            }
                        }, {
                            key: "getKlineUrl",
                            value: function() {
                                for (var e = arguments.length, t = Array(e), n = 0; e > n; n++)
                                    t[n] = arguments[n];
                                var r = t.length;
                                r || (t = "");
                                var i = this.symbol
                                    , s = this.urlType
                                    , o = this.fqType
                                    , u = "kline_" + s + o
                                    , a = h["default"].FIRST_BATCH_TOTAL * (2 == r ? 2 : 1)
                                    , f = t ? t[0] + "-01-01" : ""
                                    , l = t ? t[r - 1] + "-12-31" : "";
                                return ("usDJI" == i || "usIXIC" == i || "usINX" == i) && (i = "us." + i.substr(2)),
                                    o ? ["http://web.ifzq.gtimg.cn/appstock/app/usfqkline/get?_var=" + u + "&param=" + i, s, f, l, a, o].join(",") : ["http://web.ifzq.gtimg.cn/appstock/app/kline/kline?_var=" + u + "&param=" + i, s, f, l, a, ""].join(",")
                            }
                        }]),
                        t
                }(f["default"]);
            t["default"] = v,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , u = function(e, t, n) {
                    for (var r = !0; r; ) {
                        var i = e
                            , s = t
                            , o = n;
                        u = f = a = void 0,
                            r = !1,
                        null === i && (i = Function.prototype);
                        var u = Object.getOwnPropertyDescriptor(i, s);
                        if (void 0 !== u) {
                            if ("value"in u)
                                return u.value;
                            var a = u.get;
                            if (void 0 === a)
                                return;
                            return a.call(o)
                        }
                        var f = Object.getPrototypeOf(i);
                        if (null === f)
                            return;
                        e = f,
                            t = s,
                            n = o,
                            r = !0
                    }
                }
                , a = n(26)
                , f = r(a)
                , l = n(33)
                , c = r(l)
                , h = n(28)
                , p = r(h)
                , d = n(37)
                , v = r(d)
                , m = n(8)
                , g = r(m)
                , y = function(e) {
                    function t(e, n) {
                        i(this, t);
                        var r = g["default"].cfg(e)[n];
                        u(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e, r)
                    }
                    return s(t, e),
                        o(t, [{
                            key: "_processSrc",
                            value: function(e) {
                                var t = this.type
                                    , n = void 0;
                                return n = "minute" === t ? this.processMinuteData : "fdays" === t ? this.processFDaysData : this.processKlineData,
                                    n.call(this, e)
                            }
                        }, {
                            key: "processMinuteData",
                            value: function(e) {
                                var t = this.symbol;
                                t.match(/usDJI$|usIXIC$|usINX$/) && (t = "us." + t.substr(2));
                                var n = e.data[t].qt[t];
                                this.qt = n;
                                var r = e.data[t].data.date
                                    , i = e.data[t].data.data;
                                return i.cfg = this.cfg,
                                    i = f["default"].min(i, "us"),
                                {
                                    data: i,
                                    date: r
                                }
                            }
                        }, {
                            key: "processFDaysData",
                            value: function(e) {
                                var t = this.symbol;
                                t.match(/usDJI$|usIXIC$|usINX$/) && (t = "us." + t.substr(2));
                                var n = e.data[t].qt[t];
                                this.qt = n;
                                var r = e.data[t].data;
                                return r.cfg = this.cfg,
                                    r = f["default"].fDays(r, "us"),
                                {
                                    data: r
                                }
                            }
                        }, {
                            key: "processKlineData",
                            value: function(e) {
                                var t = e.qt;
                                this.qt = t;
                                var n = f["default"].kline(e.data);
                                return {
                                    data: n
                                }
                            }
                        }, {
                            key: "_format",
                            value: function() {
                                var e = this.data
                                    , t = this.qt
                                    , n = e.processData;
                                return c["default"].formatUS(n, t)
                            }
                        }, {
                            key: "_calculate",
                            value: function() {
                                var e = this.type
                                    , t = this.data
                                    , n = t.formatData
                                    , r = this.data.calData;
                                if (!this.symbol.match(n.symbol))
                                    return r;
                                switch (e) {
                                    case "minute":
                                        r = p["default"].calMinute(n);
                                        break;
                                    case "fdays":
                                        r = p["default"].calFDays(n);
                                        break;
                                    case "day":
                                        r || (r = p["default"].kline(n)),
                                            n.data = r,
                                            r = p["default"].klineQT(n);
                                        break;
                                    case "month":
                                    case "week":
                                        r || (r = p["default"].kline(n)),
                                            n.data = r,
                                            r = p["default"].klineQT(n, e);
                                        break;
                                    case "year1":
                                    case "year3":
                                    case "year5":
                                        r || (r = p["default"].kline(n))
                                }
                                return r
                            }
                        }]),
                        t
                }(v["default"]);
            t["default"] = y,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , u = function(e, t, n) {
                    for (var r = !0; r; ) {
                        var i = e
                            , s = t
                            , o = n;
                        u = f = a = void 0,
                            r = !1,
                        null === i && (i = Function.prototype);
                        var u = Object.getOwnPropertyDescriptor(i, s);
                        if (void 0 !== u) {
                            if ("value"in u)
                                return u.value;
                            var a = u.get;
                            if (void 0 === a)
                                return;
                            return a.call(o)
                        }
                        var f = Object.getPrototypeOf(i);
                        if (null === f)
                            return;
                        e = f,
                            t = s,
                            n = o,
                            r = !0
                    }
                }
                , a = n(22)
                , f = r(a)
                , l = n(13)
                , c = r(l)
                , h = n(8)
                , p = r(h)
                , d = n(21)
                , v = (r(d),
                    n(16))
                , m = r(v)
                , g = function(e) {
                    function t(e, n) {
                        i(this, t),
                            u(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e),
                            this.symbol = e,
                            this.cfg = p["default"].cfg(e)[n]
                    }
                    return s(t, e),
                        o(t, [{
                            key: "_init",
                            value: function() {
                                var e = (this.symbol,
                                        this.cfg)
                                    , t = (this.type = e.current,
                                        this.getParams())
                                    , n = t.handler
                                    , r = t.url
                                    , i = t.frequency;
                                this.FREQUENCY = i,
                                    this.handler = n,
                                    this.url = r
                            }
                        }, {
                            key: "getParams",
                            value: function() {
                                var e = this.symbol
                                    , t = this.type;
                                e.match(/USD/) && (e = e.replace(/USD/, ""));
                                var n = void 0
                                    , r = void 0
                                    , i = void 0;
                                switch (t) {
                                    case "minute":
                                        r = "min_data",
                                            n = ["http://data.gtimg.cn/flashdata/wh/minute/", e.substr(2), ".js"].join(""),
                                            i = c["default"].LOOP_FREQUENCY.MID_LOOP;
                                        break;
                                    case "day":
                                    case "year1":
                                    case "year3":
                                    case "year5":
                                        r = "latest_daily_data",
                                            n = ["http://data.gtimg.cn/flashdata/wh/latest/daily/", e, ".js"].join(""),
                                            i = c["default"].LOOP_FREQUENCY.LONG_LOOP;
                                        break;
                                    case "week":
                                    case "month":
                                        r = t + "ly_data",
                                            n = ["http://data.gtimg.cn/flashdata/wh/", t, "ly/", e, ".js"].join(""),
                                            i = c["default"].LOOP_FREQUENCY.LONG_LOOP
                                }
                                return {
                                    frequency: i,
                                    url: n,
                                    handler: r
                                }
                            }
                        }, {
                            key: "_getSrcData",
                            value: function(e) {
                                var t = {
                                    minute: this.getMinuteSrcData,
                                    day: this.getDaySrcData,
                                    year1: this.getDaySrcData,
                                    year3: this.getDaySrcData,
                                    year5: this.getDaySrcData,
                                    week: this.getWMSrcData,
                                    month: this.getWMSrcData
                                }[this.type];
                                return t.call(this, e)
                            }
                        }, {
                            key: "getMinuteSrcData",
                            value: function() {
                                this.data = window[this.handler],
                                    this.publish()
                            }
                        }, {
                            key: "getWMSrcData",
                            value: function() {
                                var e = window[this.handler].split("\n");
                                e.shift(),
                                    e.pop(),
                                    this.data = e,
                                    this.publish()
                            }
                        }, {
                            key: "getDaySrcData",
                            value: function(e) {
                                if (e !== this._counter)
                                    return void (this.data = null );
                                var t = window[this.handler].split("\n");
                                t.shift(),
                                    t.pop(),
                                    this.setYearList(t.shift()),
                                    this.data = t,
                                    this.getNextYearDayData(e)
                            }
                        }, {
                            key: "getData",
                            value: function(e, t) {
                                var n = this;
                                e = e || this._counter,
                                    m["default"].getSync(t || this.url, function(t) {
                                        n._getSrcData(e)
                                    })
                            }
                        }, {
                            key: "getNextYearDayData",
                            value: function(e) {
                                var t = this;
                                if (e !== this._counter)
                                    return void (this.data = null );
                                var n = this.currentNum
                                    , r = this.all;
                                if (n == r)
                                    return void this.publish();
                                var i = this.yearList
                                    , s = (i.length,
                                        this.nextI);
                                if (!(0 > s)) {
                                    var o = i[s][0]
                                        , u = this.yearData
                                        , a = this.symbol;
                                    a.match(/USD/) && (a = a.replace(/USD/, ""));
                                    var f = ["http://data.gtimg.cn/flashdata/wh/daily/", o, "/", a, ".js"].join("")
                                        , l = "daily_data_" + o;
                                    m["default"].getSync(f, function() {
                                        var r = window[l].split("\n");
                                        r.shift(),
                                            r.pop(),
                                            u = r.concat(u),
                                            t.yearData = u;
                                        var i = u.length;
                                        i > n && (t.data = u,
                                            t.currentNum = i,
                                            t.publish()),
                                            t.nextI--,
                                            t.getNextYearDayData(e)
                                    })
                                }
                            }
                        }, {
                            key: "setYearList",
                            value: function(e) {
                                this.yearList = [];
                                var t = e.split(" ");
                                this.currentNum = 1 * t[0].substr(4),
                                    this.all = 1 * t[1].substr(6),
                                    this.yearData = [];
                                for (var n = t.length, r = 3; n > r; r++) {
                                    var i = t[r].split(":");
                                    i[1] *= 1,
                                        this.yearList.push(i)
                                }
                                this.nextI = this.yearList.length - 1
                            }
                        }]),
                        t
                }(f["default"]);
            t["default"] = g,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , u = function(e, t, n) {
                    for (var r = !0; r; ) {
                        var i = e
                            , s = t
                            , o = n;
                        u = f = a = void 0,
                            r = !1,
                        null === i && (i = Function.prototype);
                        var u = Object.getOwnPropertyDescriptor(i, s);
                        if (void 0 !== u) {
                            if ("value"in u)
                                return u.value;
                            var a = u.get;
                            if (void 0 === a)
                                return;
                            return a.call(o)
                        }
                        var f = Object.getPrototypeOf(i);
                        if (null === f)
                            return;
                        e = f,
                            t = s,
                            n = o,
                            r = !0
                    }
                }
                , a = n(26)
                , f = r(a)
                , l = n(28)
                , c = r(l)
                , h = n(33)
                , p = r(h)
                , d = n(37)
                , v = r(d)
                , m = n(8)
                , g = r(m)
                , y = function(e) {
                    function t(e, n) {
                        i(this, t);
                        var r = g["default"].cfg(e)[n];
                        u(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e, r)
                    }
                    return s(t, e),
                        o(t, [{
                            key: "_processSrc",
                            value: function(e) {
                                var t = void 0;
                                return t = "minute" === this.type ? this.processMinuteData : this.processKlineData,
                                    t.call(this, e)
                            }
                        }, {
                            key: "processMinuteData",
                            value: function(e) {
                                e = e.split("\n"),
                                "" == e[0] && e.shift(0);
                                var t = e.shift(0)
                                    , n = f["default"].min(e, "wh");
                                return {
                                    data: n,
                                    date: t
                                }
                            }
                        }, {
                            key: "processKlineData",
                            value: function(e) {
                                var t = f["default"].klineIF(e);
                                return {
                                    data: t
                                }
                            }
                        }, {
                            key: "_format",
                            value: function() {
                                var e = this.data
                                    , t = this.qt
                                    , n = e.processData;
                                return p["default"].formatWH(n, t)
                            }
                        }, {
                            key: "_calculate",
                            value: function() {
                                var e = this.type
                                    , t = this.data
                                    , n = t.formatData
                                    , r = this.data.calData;
                                if (!this.symbol.match(n.symbol))
                                    return r;
                                switch (e) {
                                    case "minute":
                                        r = c["default"].calMinute(n);
                                        break;
                                    case "day":
                                        r || (r = c["default"].kline(n)),
                                            r = c["default"].klineQT(n);
                                        break;
                                    case "month":
                                    case "week":
                                        r || (r = c["default"].kline(n))
                                }
                                return r
                            }
                        }]),
                        t
                }(v["default"]);
            t["default"] = y,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , u = function(e, t, n) {
                    for (var r = !0; r; ) {
                        var i = e
                            , s = t
                            , o = n;
                        u = f = a = void 0,
                            r = !1,
                        null === i && (i = Function.prototype);
                        var u = Object.getOwnPropertyDescriptor(i, s);
                        if (void 0 !== u) {
                            if ("value"in u)
                                return u.value;
                            var a = u.get;
                            if (void 0 === a)
                                return;
                            return a.call(o)
                        }
                        var f = Object.getPrototypeOf(i);
                        if (null === f)
                            return;
                        e = f,
                            t = s,
                            n = o,
                            r = !0
                    }
                }
                , a = n(22)
                , f = r(a)
                , l = n(41)
                , c = (r(l),
                    n(13))
                , h = r(c)
                , p = n(8)
                , d = r(p)
                , v = n(16)
                , m = (r(v),
                    n(32))
                , g = (r(m),
                    function(e) {
                        function t(e, n) {
                            i(this, t),
                                u(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e),
                                this.symbol = e,
                                this.cfg = d["default"].cfg(e)[n]
                        }
                        return s(t, e),
                            o(t, [{
                                key: "_init",
                                value: function() {
                                    var e = (this.symbol,
                                            this.cfg)
                                        , t = this.type = e.current;
                                    this.urlType = t,
                                        this.fqType = e.fqType,
                                    /year/.test(t) && (this.urlType = "day"),
                                        this.isFund = "fund" === e.market ? "fund" : "";
                                    var n = this.getParams()
                                        , r = n.handler
                                        , i = n.url
                                        , s = n.frequency;
                                    this.FREQUENCY = s,
                                        this.handler = r,
                                        this.url = i
                                }
                            }, {
                                key: "getParams",
                                value: function() {
                                    var e = this.symbol
                                        , t = this.type
                                        , n = this.urlType
                                        , r = this.fqType
                                        , i = void 0
                                        , s = void 0
                                        , o = void 0;
                                    switch (t) {
                                        case "minute":
                                            s = "min_data_" + e,
                                                i = ["http://web.ifzq.gtimg.cn/appstock/app/minute/query?_var=", s, "&code=", e].join(""),
                                                o = h["default"].LOOP_FREQUENCY.MID_LOOP;
                                            break;
                                        case "fdays":
                                            s = "fdays_data_" + e,
                                                i = ["http://web.ifzq.gtimg.cn/appstock/app/day/query?_var=", s, "&code=", e].join(""),
                                                o = h["default"].LOOP_FREQUENCY.MID_LOOP;
                                            break;
                                        case "day":
                                        case "week":
                                        case "month":
                                            s = "kline_" + n + r,
                                                i = this.getKlineUrl(),
                                                o = h["default"].LOOP_FREQUENCY.LONG_LOOP
                                    }
                                    return {
                                        frequency: o,
                                        url: i,
                                        handler: s
                                    }
                                }
                            }, {
                                key: "_getSrcData",
                                value: function(e, t) {
                                    var n = void 0
                                        , r = this.type;
                                    return n = "minute" === r || "fdays" === r ? this.getMinuteSrcData : this.getKlineSrcData,
                                        n.call(this, e, t)
                                }
                            }, {
                                key: "getMinuteSrcData",
                                value: function() {
                                    this.data = window[this.handler],
                                        this.publish()
                                }
                            }, {
                                key: "getKlineSrcData",
                                value: function(e, t) {
                                    var n = this
                                        , r = this.symbol;
                                    t = t || this.handler;
                                    var i = window[t].data[r]
                                        , s = i.qt[r]
                                        , o = i[this.fqType + this.urlType] || i[this.urlType]
                                        , u = this.urlType
                                        , a = this.trend;
                                    if (!a || !a.length)
                                        return this.data = {
                                            data: o,
                                            qt: s
                                        },
                                            void this.publish();
                                    var f = this.trend.o.trendYearList[u]
                                        , l = []
                                        , c = void 0
                                        , h = f[0][0];
                                    if (this.fetchYear ? !function() {
                                            for (var e = 0, t = o.length; t > e; e++) {
                                                var r = o[e][0].slice(0, 4);
                                                r !== c && r >= h && l.push([r, e]),
                                                    c = r
                                            }
                                            var i = 0
                                                , s = l[i]
                                                , u = l.length;
                                            f.forEach(function(e) {
                                                if (!(i >= l.length) && e[0] === s[0]) {
                                                    var t = s[1]
                                                        , r = i + 1 >= u ? o.length : l[i + 1][1];
                                                    e.data = o.slice(t, r),
                                                        e[1] = !0;
                                                    var a = void 0;
                                                    n.fetchYear.forEach(function(e, t) {
                                                        e === s[0] && (a = t)
                                                    }),
                                                        n.fetchYear.splice(a, 1),
                                                        i++,
                                                        s = l[i]
                                                }
                                            })
                                        }() : !function() {
                                            for (var e = 0, t = o.length; t > e; e++) {
                                                var n = o[e][0].slice(0, 4);
                                                n !== c && n >= h && l.push([n, e]),
                                                    c = n
                                            }
                                            var r = 0
                                                , i = l[r]
                                                , s = l.length;
                                            f.forEach(function(e) {
                                                if (e[0] === i[0]) {
                                                    var t = i[1]
                                                        , n = r + 1 >= s ? o.length : l[r + 1][1];
                                                    e.data = o.slice(t, n),
                                                        e[1] = 0 == r ? o[0][0].replace(/-/g, "") : !0,
                                                        r++,
                                                        i = l[r]
                                                }
                                            })
                                        }(),
                                        !this.fetchYear || !this.fetchYear.length) {
                                        var p = this.mergeYearData();
                                        this.data = {
                                            data: p,
                                            qt: s
                                        },
                                            this.publish()
                                    }
                                }
                            }, {
                                key: "getKlineUrl",
                                value: function() {
                                    for (var e = arguments.length, t = Array(e), n = 0; e > n; n++)
                                        t[n] = arguments[n];
                                    var r = t.length;
                                    r || (t = "");
                                    var i = this.symbol
                                        , s = this.urlType
                                        , o = this.fqType
                                        , u = "kline_" + s + o
                                        , a = this.isFund
                                        , f = h["default"].FIRST_BATCH_TOTAL * (2 == r ? 2 : 1)
                                        , l = t ? t[0] + "-01-01" : ""
                                        , c = t ? t[r - 1] + "-12-31" : "";
                                    return o ? ["http://web.ifzq.gtimg.cn/appstock/app/fqkline/get?_var=" + u + "&param=" + i, s, l, c, f, o].join(",") : ["http://web.ifzq.gtimg.cn/appstock/app/kline/kline?_var=" + u + "&param=" + i, s, l, c, f, a].join(",")
                                }
                            }]),
                            t
                    }(f["default"]));
            t["default"] = g,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , u = function(e, t, n) {
                    for (var r = !0; r; ) {
                        var i = e
                            , s = t
                            , o = n;
                        u = f = a = void 0,
                            r = !1,
                        null === i && (i = Function.prototype);
                        var u = Object.getOwnPropertyDescriptor(i, s);
                        if (void 0 !== u) {
                            if ("value"in u)
                                return u.value;
                            var a = u.get;
                            if (void 0 === a)
                                return;
                            return a.call(o)
                        }
                        var f = Object.getPrototypeOf(i);
                        if (null === f)
                            return;
                        e = f,
                            t = s,
                            n = o,
                            r = !0
                    }
                }
                , a = n(26)
                , f = r(a)
                , l = n(33)
                , c = r(l)
                , h = n(28)
                , p = r(h)
                , d = n(37)
                , v = r(d)
                , m = n(8)
                , g = r(m)
                , y = function(e) {
                    function t(e, n) {
                        i(this, t);
                        var r = g["default"].cfg(e)[n];
                        u(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e, r)
                    }
                    return s(t, e),
                        o(t, [{
                            key: "_processSrc",
                            value: function(e) {
                                var t = this.type
                                    , n = void 0;
                                return n = "minute" === t ? this.processMinuteData : "fdays" === t ? this.processFDaysData : this.processKlineData,
                                    n.call(this, e)
                            }
                        }, {
                            key: "processMinuteData",
                            value: function(e) {
                                var t = this.symbol
                                    , n = e.data[t].qt[t];
                                this.qt = n;
                                var r = e.data[t].data.date
                                    , i = e.data[t].data.data;
                                return i = f["default"].min(i, t.substr(0, 2)),
                                {
                                    data: i,
                                    date: r
                                }
                            }
                        }, {
                            key: "processFDaysData",
                            value: function(e) {
                                var t = this.symbol
                                    , n = e.data[t].qt[t];
                                this.qt = n;
                                var r = e.data[t].data;
                                return r = f["default"].fDays(r, this.symbol.substr(0, 2)),
                                {
                                    data: r
                                }
                            }
                        }, {
                            key: "processMMData",
                            value: function(e) {
                                var t = f["default"].kline(e);
                                return {
                                    data: t
                                }
                            }
                        }, {
                            key: "processKlineData",
                            value: function(e) {
                                var t = e.qt;
                                this.qt = t;
                                var n = f["default"].kline(e.data);
                                return "hfq" === this.cfg.fqType && (n.fqFactor = this.calFqFactor(n, t)),
                                {
                                    data: n,
                                    fqFactor: n.fqFactor
                                }
                            }
                        }, {
                            key: "calFqFactor",
                            value: function(e, t) {
                                var n = e.length ? e[e.length - 1] : []
                                    , r = n[0]
                                    , i = t[30].replace(/-|:|\//g, "").slice(0, 8);
                                return i === r ? n[2] / t[3] : void 0
                            }
                        }, {
                            key: "_format",
                            value: function() {
                                var e = this.data
                                    , t = this.qt
                                    , n = e.processData;
                                return c["default"].formatHS(n, t)
                            }
                        }, {
                            key: "_calculate",
                            value: function() {
                                var e = this.type
                                    , t = this.data
                                    , n = t.formatData
                                    , r = this.data.calData;
                                if (!this.symbol.match(n.symbol))
                                    return r;
                                switch (e) {
                                    case "minute":
                                        r = p["default"].calMinute(n);
                                        break;
                                    case "fdays":
                                        r = p["default"].calFDays(n);
                                        break;
                                    case "day":
                                        r || (r = p["default"].kline(n)),
                                            n.data = r,
                                            r = p["default"].klineQT(n);
                                        break;
                                    case "month":
                                    case "week":
                                        r || (r = p["default"].kline(n)),
                                            n.data = r,
                                            r = p["default"].klineQT(n, e)
                                }
                                return r
                            }
                        }]),
                        t
                }(v["default"]);
            t["default"] = y,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , u = function(e, t, n) {
                    for (var r = !0; r; ) {
                        var i = e
                            , s = t
                            , o = n;
                        u = f = a = void 0,
                            r = !1,
                        null === i && (i = Function.prototype);
                        var u = Object.getOwnPropertyDescriptor(i, s);
                        if (void 0 !== u) {
                            if ("value"in u)
                                return u.value;
                            var a = u.get;
                            if (void 0 === a)
                                return;
                            return a.call(o)
                        }
                        var f = Object.getPrototypeOf(i);
                        if (null === f)
                            return;
                        e = f,
                            t = s,
                            n = o,
                            r = !0
                    }
                }
                , a = n(52)
                , f = r(a)
                , l = function(e) {
                    function t(e, n) {
                        i(this, t),
                            u(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e, n),
                            this.symbol = e,
                            this.chartCfg = n
                    }
                    return s(t, e),
                        o(t, [{
                            key: "draw_minute",
                            value: function() {
                                var e = this.data
                                    , t = e.price.abs
                                    , n = e.close
                                    , r = e.price
                                    , i = this.coord.minuteArea;
                                t = 1e-5 > t ? .01 * n || .01 : t,
                                    i.reAxis([0, this.maxX], [n - t, n + t]),
                                    this.paperEl.$("minuteEl").attr({
                                        data: r.data,
                                        coord: i
                                    }),
                                this.chartCfg.minuteArea.minuteAvgEl && this.paperEl.$("minuteAvgEl").attr({
                                    data: r.average,
                                    coord: i
                                })
                            }
                        }]),
                        t
                }(f["default"]);
            t["default"] = l,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = function() {
                    function e(e, t) {
                        var n = []
                            , r = !0
                            , i = !1
                            , s = void 0;
                        try {
                            for (var o, u = e[Symbol.iterator](); !(r = (o = u.next()).done) && (n.push(o.value),
                            !t || n.length !== t); r = !0)
                                ;
                        } catch (a) {
                            i = !0,
                                s = a
                        } finally {
                            try {
                                !r && u["return"] && u["return"]()
                            } finally {
                                if (i)
                                    throw s
                            }
                        }
                        return n
                    }
                    return function(t, n) {
                        if (Array.isArray(t))
                            return t;
                        if (Symbol.iterator in Object(t))
                            return e(t, n);
                        throw new TypeError("Invalid attempt to destructure non-iterable instance")
                    }
                }()
                , u = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , a = function(e, t, n) {
                    for (var r = !0; r; ) {
                        var i = e
                            , s = t
                            , o = n;
                        u = f = a = void 0,
                            r = !1,
                        null === i && (i = Function.prototype);
                        var u = Object.getOwnPropertyDescriptor(i, s);
                        if (void 0 !== u) {
                            if ("value"in u)
                                return u.value;
                            var a = u.get;
                            if (void 0 === a)
                                return;
                            return a.call(o)
                        }
                        var f = Object.getPrototypeOf(i);
                        if (null === f)
                            return;
                        e = f,
                            t = s,
                            n = o,
                            r = !0
                    }
                }
                , f = n(8)
                , l = r(f)
                , c = n(11)
                , h = r(c)
                , p = n(53)
                , d = (r(p),
                    n(55))
                , v = r(d)
                , m = n(29)
                , g = r(m)
                , y = n(57)
                , b = r(y)
                , w = n(59)
                , E = r(w)
                , S = n(60)
                , x = r(S)
                , T = n(61)
                , N = r(T)
                , C = n(62)
                , k = r(C)
                , L = n(63)
                , A = r(L)
                , O = n(69)
                , M = r(O)
                , _ = n(70)
                , D = r(_)
                , P = n(71)
                , H = r(P)
                , B = n(72)
                , j = r(B)
                , F = n(73)
                , I = r(F)
                , q = n(74)
                , R = (r(q),
                    n(75))
                , U = r(R)
                , z = n(76)
                , W = r(z)
                , X = n(77)
                , V = r(X)
                , $ = n(30)
                , J = r($)
                , K = n(13)
                , Q = r(K)
                , G = n(78)
                , Y = r(G)
                , Z = n(68)
                , et = r(Z)
                , tt = n(64)
                , nt = r(tt)
                , rt = n(56)
                , it = function(e) {
                    function t(e, n) {
                        i(this, t),
                            a(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e, n);
                        var r = this.cfg
                            , s = this.type = r.current;
                        this.topic = this.dataTopic = s;
                        var o = r.market;
                        "fund" == o && (o = e.substr(0, 2)),
                            this.market = o,
                            this.maxX = et["default"].marketMaxX(o)[s],
                            this.subscribeArray = {},
                            this.nTimeStep = et["default"].timeTags(o).step,
                            this.timeTags = et["default"].timeTags(o).timeTags
                    }
                    return s(t, e),
                        u(t, [{
                            key: "init",
                            value: function(e) {
                                var t = this;
                                this.chartCfg = e || this.chartCfg,
                                    this.backEl = this.back.group(),
                                    this.paperEl = this.paper.group(),
                                    this.paperCmpEl = this.paper.group(),
                                    this.staticForeEl = this.fore.group(),
                                    this.staticForeCmpEl = this.fore.group(),
                                    this.dynamicForeEl = this.fore.group(),
                                    this.dynamicForeCmpEl = this.fore.group(),
                                    this.loadingEl = this.back.group(),
                                this._isCoordChange() && this.getCoord(),
                                    this.setElement(),
                                    this._onMouse(),
                                    this.listenToData();
                                var n = this._getCmpList();
                                return n && n.forEach(function(e, n, r) {
                                    t.listenToData(e.symbol)
                                }),
                                    this
                            }
                        }, {
                            key: "destroy",
                            value: function() {
                                if (this._unMouse(),
                                        this.stopListenToData(),
                                        this.subscribeArray) {
                                    var e = this.subscribeArray;
                                    for (var t in e)
                                        e[t].unsubscribe()
                                }
                                this._getCmpList() && (this._getCmpList().maxPct = null ),
                                    this.clearLayer()
                            }
                        }, {
                            key: "getCoord",
                            value: function() {
                                this.coord = this.coord || {};
                                var e = this.coord
                                    , t = this.chartCfg
                                    , n = this.w - 2
                                    , r = (this.h - 2,
                                        0);
                                if (t.titleArea.display) {
                                    var i = t.titleArea.position
                                        , s = i.left
                                        , o = i.top
                                        , u = i.height
                                        , a = i.right;
                                    r += o,
                                        e.titleGrid = {
                                            x: s,
                                            y: r,
                                            w: n - s - a,
                                            h: u
                                        },
                                        r += u,
                                        this._axis("title", e.titleGrid)
                                }
                                if (t.minuteArea.display) {
                                    var f = t.minuteArea.position
                                        , s = f.left
                                        , l = f.top
                                        , u = f.height
                                        , a = f.right;
                                    r += l;
                                    var c = 0;
                                    this.nTimeStep.forEach(function(e) {
                                        c += e
                                    }),
                                        c = "minute" === this.type ? c : 5,
                                        e.minuteGrid = {
                                            x: s,
                                            y: r,
                                            w: n - s - a,
                                            h: u,
                                            m: 8,
                                            n: c
                                        };
                                    var h = 4
                                        , p = 5;
                                    e.minuteLabelGrid = {
                                        x: s - h - p,
                                        y: r,
                                        w: s - h - p - 1,
                                        h: u
                                    },
                                        e.minuteLabelRightGrid = {
                                            x: n - s + h + p,
                                            y: r,
                                            w: s - h - p - 1,
                                            h: u
                                        },
                                        e.minuteLabelBottomGrid = {
                                            x: s,
                                            y: r + u + p,
                                            w: n - s - a,
                                            h: 40 - 2 * p
                                        },
                                        r += u,
                                        this._axis("minuteArea", e.minuteGrid),
                                        this._axis("minuteLabel", e.minuteLabelGrid),
                                        this._axis("minuteLabelRight", e.minuteLabelRightGrid),
                                        this._axis("minuteLabelBottom", e.minuteLabelBottomGrid)
                                }
                                if (t.volumeArea.display) {
                                    var d = t.volumeArea.position
                                        , s = d.left
                                        , v = d.top
                                        , u = d.height
                                        , a = d.right;
                                    r += v,
                                        e.volumeGrid = {
                                            x: s,
                                            y: r,
                                            w: n - s - a,
                                            h: u,
                                            m: 3,
                                            n: 1
                                        },
                                        e.volumeBarGrid = {
                                            x: s + 1,
                                            y: r,
                                            w: n - s - a,
                                            h: u
                                        };
                                    var h = 4
                                        , p = 5;
                                    e.volumeLabelGrid = {
                                        x: s - h - p,
                                        y: r,
                                        w: s - h - p - 1,
                                        h: 2 * u / 3
                                    },
                                        r += u,
                                        this._axis("volumeArea", e.volumeBarGrid),
                                        this._axis("volumeLabel", e.volumeLabelGrid)
                                }
                            }
                        }, {
                            key: "setElement",
                            value: function() {
                                this.setBack(),
                                    this.setPaper(),
                                    this.setLoading(),
                                    this.setFore()
                            }
                        }, {
                            key: "setBack",
                            value: function() {
                                var e = this.backEl;
                                e.hide();
                                var t = this.coord
                                    , n = J["default"].border.color
                                    , r = J["default"].background.gridColor
                                    , i = J["default"].border.inner;
                                if (t.title && e.custom(W["default"]).attr({
                                        coord: t.title,
                                        stroke: n,
                                        fill: r,
                                        r: 4
                                    }),
                                    t.minuteArea && (e.custom(E["default"]).attr(t.minuteGrid).stroke(n).inner(i).fill(r),
                                        this.set_timeLabel()),
                                        t.volumeArea) {
                                    e.custom(E["default"]).attr(t.volumeGrid).stroke(n).inner(i).fill(r);
                                    var s = Q["default"].STOCK_UNIT[this.market];
                                    "hk" === this.cfg.market && this.cfg.isIndex && (s = "\u5143"),
                                        e.text(s, t.volumeArea.l - 10, t.volumeArea.b).textBaseline("middle").textAlign("right").font(Q["default"].FONT).fill(J["default"].text.label)
                                }
                            }
                        }, {
                            key: "set_timeLabel",
                            value: function() {
                                this.backEl.custom(k["default"]).attr({
                                    coord: this.coord.minuteLabelBottom,
                                    data: this.timeTags,
                                    step: this.nTimeStep,
                                    align: "center"
                                })
                            }
                        }, {
                            key: "setPaper",
                            value: function() {
                                var e = this.paperEl
                                    , t = this.paperCmpEl;
                                e.hide(),
                                    t.hide();
                                var n = this.coord
                                    , r = this.maxX
                                    , i = J["default"].minute.strokeColor
                                    , s = [J["default"].minute.gradientColorTop, J["default"].minute.gradientColorBottom]
                                    , o = J["default"].minute.avgColor
                                    , u = J["default"].text.label
                                    , a = J["default"].halfLine
                                    , f = J["default"].compareMain.lineWidth + " " + J["default"].compareMain.color;
                                if (n.minuteArea) {
                                    var l = n.minuteLabel;
                                    e.custom(A["default"]).id("minuteLabelEl").attr({
                                        align: "right",
                                        coord: l,
                                        color: !1,
                                        fill: u
                                    });
                                    var c = n.minuteLabelRight;
                                    e.custom(A["default"]).id("minuteLabelRightEl").attr({
                                        align: "left",
                                        percentage: !0,
                                        symbol: !0,
                                        coord: c
                                    }),
                                        t.custom(A["default"]).id("cmpLabelRightEl").attr({
                                            align: "left",
                                            percentage: !0,
                                            symbol: !0,
                                            coord: c
                                        }),
                                        e.custom(N["default"]).id("minuteEl").attr({
                                            maxX: r,
                                            stroke: i,
                                            gradient: s
                                        }),
                                        t.custom(N["default"]).id("mainLineEl").attr({
                                            maxX: r,
                                            stroke: f
                                        }),
                                        t.group().id("cmpLineEl"),
                                        e.custom(N["default"]).id("minuteAvgEl").attr({
                                            maxX: r,
                                            stroke: o,
                                            coord: n.minuteArea,
                                            gradient: !1
                                        }),
                                        e.custom(x["default"]).id("midlineEl").attr({
                                            coord: n.minuteGrid,
                                            stroke: a,
                                            dash: "",
                                            position: .5
                                        })
                                }
                                var h = n.volumeArea;
                                if (h) {
                                    var p = n.volumeLabel;
                                    e.custom(A["default"]).id("volumeLabelEl").attr({
                                        align: "right",
                                        coord: p,
                                        color: !1,
                                        fill: u,
                                        fixed: 0,
                                        unit: !0
                                    }),
                                        t.custom(A["default"]).id("volumeLabelEl").attr({
                                            align: "right",
                                            coord: p,
                                            color: !1,
                                            fill: u,
                                            fixed: 0,
                                            unit: !0
                                        }),
                                        e.custom(M["default"]).id("volumeEl").attr({
                                            maxX: r,
                                            coord: h
                                        }),
                                        t.custom(M["default"]).id("volumeEl").attr({
                                            maxX: r,
                                            coord: h
                                        })
                                }
                            }
                        }, {
                            key: "setLoading",
                            value: function() {
                                this.loading = this.loadingEl.custom(v["default"]).x(this.w / 2).y(this.h / 2)
                            }
                        }, {
                            key: "setFore",
                            value: function() {
                                var e = this.staticForeEl
                                    , t = this.staticForeCmpEl
                                    , n = this.dynamicForeEl
                                    , r = this.dynamicForeCmpEl;
                                e.hide(),
                                    n.hide(),
                                    t.hide(),
                                    r.hide();
                                var i = this.coord
                                    , s = (this.maxX,
                                        J["default"].title.text)
                                    , o = J["default"].cross.color
                                    , u = J["default"].minute.dotColor
                                    , a = J["default"].minute.dotFill
                                    , f = (J["default"].cross.color,
                                        J["default"].background.minuteGrid,
                                        i.title);
                                f && (e.custom(V["default"]).id("titleTextEl").attr({
                                    coord: f,
                                    fill: s,
                                    market: this.cfg.market
                                }),
                                    t.custom(U["default"]).id("titleCmpEl").attr({
                                        coord: f,
                                        outerId: this.cfg.outer.id,
                                        click: !!this.chartCfg.titleArea.cmpPanelType
                                    }));
                                var l = i.minuteArea;
                                l && (n.custom(D["default"]).id("minCrossEl").attr({
                                    coord: l,
                                    stroke: o
                                }).setAttr("z-index", 20),
                                    r.custom(D["default"]).id("mainCrossEl").attr({
                                        coord: l,
                                        stroke: o
                                    }).setAttr("z-index", 20),
                                    r.group().id("cmpCrossEl").setAttr("z-index", 20),
                                    n.custom(I["default"]).id("dotMinEl").attr({
                                        coord: l,
                                        r: 3,
                                        stroke: u,
                                        fill: a
                                    }).setAttr("z-index", 50),
                                    r.custom(I["default"]).id("mainDotEl").attr({
                                        coord: l,
                                        r: 3,
                                        stroke: u,
                                        fill: a
                                    }).setAttr("z-index", 50),
                                    r.group().id("cmpDotEl").setAttr("z-index", 50),
                                    n.custom(H["default"]).id("crossBoxEl").attr({
                                        coord: l,
                                        position: "LRB",
                                        padding: 4,
                                        boxWidth: i.minuteLabel.width
                                    }).setAttr("z-index", 90),
                                    r.custom(H["default"]).id("crossBoxEl").attr({
                                        coord: l,
                                        position: "LRB",
                                        padding: 4,
                                        boxWidth: i.minuteLabel.width
                                    }).setAttr("z-index", 99),
                                    r.group().id("cmpCrossBoxEl").setAttr("z-index", 90));
                                var c = i.volumeArea;
                                c && (n.custom(D["default"]).id("volCrossEl").attr({
                                    coord: c,
                                    stroke: o
                                }).setAttr("z-index", 20),
                                    n.rect(0, 0, 0, 0).id("rectVolEl"),
                                    r.custom(D["default"]).id("volCrossEl").attr({
                                        coord: c,
                                        stroke: o
                                    }).setAttr("z-index", 20),
                                    r.rect(0, 0, 0, 0).id("rectVolEl"))
                            }
                        }, {
                            key: "listenToData",
                            value: function(e) {
                                var t = this;
                                e = e || this.symbol;
                                var n = h["default"].channel(e)
                                    , r = n.subscribe(this.cfg.outer.id + ".data." + this.type, function(n) {
                                        l["default"].data(e, t.type, n),
                                            t.drawAll()
                                    });
                                this.subscribeArray[e] = r
                            }
                        }, {
                            key: "stopListenToData",
                            value: function(e) {
                                e = e || this.symbol,
                                this.subscribeArray[e] && this.subscribeArray[e].unsubscribe()
                            }
                        }, {
                            key: "_over",
                            value: function(e, t) {
                                this.data && (this._getCmpList() ? this.showDynamicForeCmp(e, t) : this.showDynamicFore(e, t))
                            }
                        }, {
                            key: "_out",
                            value: function() {
                                this.data && (this.dynamicForeEl.hide(),
                                    this.dynamicForeCmpEl.hide(),
                                    this._getCmpList() ? this.showStaticForeCmp() : this.showStaticFore())
                            }
                        }, {
                            key: "drawAll",
                            value: function() {
                                if (this.showBack(),
                                        this.loading.start(),
                                        this.data = this._getData(this.symbol),
                                        this.data) {
                                    if (this.loading.stop(),
                                            this._getCmpList())
                                        this.compareMax(),
                                            this.showPaperCmp(),
                                            this.overState ? this.showDynamicForeCmp(this.overX, this.overY) : this.showStaticForeCmp();
                                    else {
                                        if ("D" === this.data.status)
                                            return this.draw_status(),
                                                void this.fore.show();
                                        this.showPaper(),
                                            this.overState ? this.showDynamicFore(this.overX, this.overY) : this.showStaticFore()
                                    }
                                    this.cfg.cb && (this.cfg.cb(),
                                        l["default"].cfg(this.symbol, {
                                            outer: this.cfg.outer,
                                            cb: null
                                        }),
                                        this.cfg.cb = null )
                                }
                            }
                        }, {
                            key: "showBack",
                            value: function() {
                                this.backEl && this.backEl.show()
                            }
                        }, {
                            key: "showPaper",
                            value: function() {
                                this.paperEl && (this.coord.minuteArea && (this.draw_minuteLabel(),
                                    this.draw_minuteLabelRight(),
                                    this.draw_minute(),
                                "fdays" === this.type && this.draw_timeLabel()),
                                this.coord.volumeArea && (this.draw_volumeLabel(),
                                    this.draw_volume()),
                                    this.paperEl.show())
                            }
                        }, {
                            key: "showPaperCmp",
                            value: function() {
                                this.paperCmpEl && (this.coord.minuteArea && (this.draw_cmpLabelRight(),
                                    this.draw_cmp(),
                                "fdays" === this.type && this.draw_cmpTimeLabel()),
                                this.coord.volumeArea && (this.draw_volumeLabel(),
                                    this.draw_volume()),
                                    this.paperCmpEl.show())
                            }
                        }, {
                            key: "showStaticFore",
                            value: function() {
                                this.staticForeEl && (this.coord.title && this.draw_title(),
                                    this.staticForeEl.show())
                            }
                        }, {
                            key: "showStaticForeCmp",
                            value: function() {
                                this.staticForeCmpEl && (this.coord.title && this.draw_titleCmpPanel(),
                                    this.staticForeCmpEl.show())
                            }
                        }, {
                            key: "showDynamicFore",
                            value: function(e, t) {
                                if (this.dynamicForeEl) {
                                    var n = this.coord.minuteArea
                                        , r = this.data.fullData
                                        , i = this.coord.volumeArea
                                        , s = this.data.volume
                                        , o = this.maxX
                                        , u = n.w / (o - 1)
                                        , a = n.x2dLine(e);
                                    0 > a && (a = 0),
                                    a > r.length && (a = r.length - 1);
                                    var f = this.fdaysDataStart ? r[a + this.fdaysDataStart] : r[a];
                                    if (f) {
                                        var l = rt.util.shift(n.baseX + a * u)
                                            , c = n.d2y(f[1]);
                                        this.dynamicForeEl.$("minCrossEl").attr({
                                            x: l,
                                            y: c
                                        }),
                                            this.dynamicForeEl.$("dotMinEl").attr({
                                                x: l,
                                                y: c
                                            });
                                        var h = this.data.price.fixed
                                            , p = f[1].toFixed(h)
                                            , d = f[2]
                                            , v = d >= 0 ? "+" : "";
                                        d = v + d.toFixed(2) + "%";
                                        var m = f[0].slice(0, 2) + ":" + f[0].slice(2, 4);
                                        if (this.dynamicForeEl.$("crossBoxEl").attr({
                                                data: {
                                                    left: p,
                                                    right: d,
                                                    bottom: m
                                                },
                                                x: l,
                                                y: c
                                            }),
                                                i) {
                                            var y = this.fdaysDataStart ? s.data[a + this.fdaysDataStart][0] : s.data[a][0];
                                            if (l = i.d2x(a),
                                                    c = i.d2y(y),
                                                    this.dynamicForeEl.$("volCrossEl").attr({
                                                        x: l
                                                    }).show(),
                                                    y) {
                                                var b = g["default"].HZLD(this.fdaysDataStart ? s.data[a + this.fdaysDataStart][1] : s.data[a][1], "noGray");
                                                this.dynamicForeEl.$("rectVolEl").attr({
                                                    x: rt.util.shift(l) - 1,
                                                    y: rt.util.shift(c) - 2,
                                                    width: 2,
                                                    height: rt.util.shift(i.b) - rt.util.shift(c) + 2,
                                                    fill: b,
                                                    stroke: b
                                                }).show()
                                            } else
                                                this.dynamicForeEl.$("rectVolEl").hide()
                                        }
                                        this.coord.title && this.draw_title(f),
                                            this.dynamicForeEl.show(),
                                            this.staticForeEl.show()
                                    }
                                }
                            }
                        }, {
                            key: "cal_titleData",
                            value: function(e) {
                                var t = this.data
                                    , n = (t.close,
                                        t.date);
                                n = [n.slice(4, 6), n.slice(6, 8)].join("/");
                                var r = t.price.fixed
                                    , i = o(t.last, 7)
                                    , s = i[0]
                                    , u = i[1]
                                    , a = i[2]
                                    , f = i[6]
                                    , l = s.slice(0, 2) + ":" + s.slice(2, 4)
                                    , c = g["default"].HZLD(a)
                                    , h = J["default"].text.title;
                                a = a >= 0 ? "+" + a.toFixed(2) : a.toFixed(2);
                                var p = [["\u4ef7 \u683c", u.toFixed(r), c], ["\u6da8\u8dcc\u5e45", a + "%", c]];
                                if (e) {
                                    var d = "hk" === this.cfg.market && this.cfg.isIndex ? "\u6210\u4ea4\u989d" : "\u6210\u4ea4\u91cf";
                                    p.push([d, nt["default"].unit(f, 0), h])
                                }
                                return {
                                    time: n + " " + l,
                                    data: p
                                }
                            }
                        }, {
                            key: "cal_currentTitle",
                            value: function(e, t) {
                                var n = this.data
                                    , r = n.close
                                    , i = n.date;
                                i = [i.slice(4, 6), i.slice(6, 8)].join("/");
                                var s = n.price.fixed
                                    , u = o(e, 6)
                                    , a = u[0]
                                    , f = u[1]
                                    , l = u[2]
                                    , c = u[3]
                                    , h = u[5]
                                    , p = a.slice(0, 2) + ":" + a.slice(2, 4)
                                    , d = g["default"].HZLD(l)
                                    , v = g["default"].HZLD(h - r)
                                    , m = J["default"].text.title;
                                l = l >= 0 ? "+" + l.toFixed(2) : l.toFixed(2);
                                var y = [["\u4ef7 \u683c", f.toFixed(s), d], ["\u6da8\u8dcc\u5e45", l + "%", d]];
                                if (t) {
                                    var b = "hk" === this.cfg.market && this.cfg.isIndex ? "\u6210\u4ea4\u989d" : "\u6210\u4ea4\u91cf";
                                    y.push([b, nt["default"].unit(c, 0), m]),
                                        y.push(["\u5747 \u4ef7", h.toFixed(s), v])
                                }
                                return {
                                    time: i + " " + p,
                                    data: y
                                }
                            }
                        }, {
                            key: "draw_status",
                            value: function() {
                                var e = this.data.status
                                    , t = this.coord.minuteGrid;
                                this.fore.$("statusBox") || (this.fore.custom(j["default"]).id("statusBox").attr({
                                    coord: t,
                                    status: e
                                }),
                                    this._unMouse())
                            }
                        }, {
                            key: "draw_title",
                            value: function(e) {
                                var t = void 0
                                    , n = this.chartCfg.titleArea.volume_text;
                                t = e ? this.cal_currentTitle(e, n) : this.cal_titleData(n),
                                    this.staticForeEl.$("titleTextEl").attr({
                                        data: t
                                    })
                            }
                        }, {
                            key: "draw_minuteLabel",
                            value: function() {
                                var e = this.data.price.abs
                                    , t = this.data.close;
                                e = 1e-5 > e ? .001 * t || .01 : e;
                                var n = this.data.price.fixed;
                                this.paperEl.$("minuteLabelEl").attr({
                                    data: {
                                        maxVal: t + e,
                                        minVal: t - e,
                                        n: 9
                                    },
                                    fixed: n
                                })
                            }
                        }, {
                            key: "draw_minuteLabelRight",
                            value: function() {
                                var e = this.data.price
                                    , t = 0 === e.maxPct ? .1 : e.maxPct;
                                this.paperEl.$("minuteLabelRightEl").data({
                                    maxVal: t,
                                    minVal: -t,
                                    n: 9
                                })
                            }
                        }, {
                            key: "draw_volumeLabel",
                            value: function() {
                                var e = (this.coord.volumeLabel,
                                        this.data.volume)
                                    , t = e.max * Q["default"].MAX_VOLUME_PERCENTAGE;
                                this.paperEl.$("volumeLabelEl").data({
                                    maxVal: t,
                                    minVal: t / 3,
                                    n: 3
                                }),
                                    this.paperCmpEl.$("volumeLabelEl").data({
                                        maxVal: t,
                                        minVal: t / 3,
                                        n: 3
                                    })
                            }
                        }, {
                            key: "draw_volume",
                            value: function() {
                                var e = this.data
                                    , t = e.volume
                                    , n = this.coord.volumeArea
                                    , r = 0 === e.volume.max ? 1 : e.volume.max * Q["default"].MAX_VOLUME_PERCENTAGE;
                                n.reAxis([0, this.maxX], [0, r]),
                                    this.paperEl.$("volumeEl").attr({
                                        data: t.data,
                                        coord: n
                                    }),
                                    this.paperCmpEl.$("volumeEl").attr({
                                        data: t.data,
                                        coord: n
                                    })
                            }
                        }, {
                            key: "showDynamicForeCmp",
                            value: function(e, t) {
                                var n = this;
                                if (this.dynamicForeCmpEl) {
                                    var r = this.coord.minuteArea
                                        , i = this.data
                                        , s = this.coord.volumeArea
                                        , o = this.data.volume
                                        , u = this.maxX
                                        , a = this._getCmpList()
                                        , f = void 0
                                        , l = void 0
                                        , c = r.w / (u - 1)
                                        , h = r.x2dLine(e);
                                    0 > h && (h = 0),
                                    h >= i.fullData.length && (h = i.fullData.length - 1);
                                    var p = i.fullData[h];
                                    if (p) {
                                        f = rt.util.shift(r.baseX + h * c),
                                            l = r.d2y(p[2]),
                                            this.dynamicForeCmpEl.$("mainCrossEl").attr({
                                                x: f,
                                                y: l
                                            }),
                                            this.dynamicForeCmpEl.$("mainDotEl").attr({
                                                x: f,
                                                y: l
                                            });
                                        var d = this.data.price.fixed
                                            , v = p[1].toFixed(d)
                                            , m = p[2]
                                            , y = m >= 0 ? "+" : "";
                                        m = y + m.toFixed(2) + "%";
                                        var b = p[0].slice(0, 2) + ":" + p[0].slice(2, 4);
                                        if (this.dynamicForeCmpEl.$("crossBoxEl").attr({
                                                data: {
                                                    left: v,
                                                    right: m,
                                                    bottom: b
                                                },
                                                x: f,
                                                y: l
                                            }),
                                                a.forEach(function(e, t, i) {
                                                    var s = n._getData(e.symbol);
                                                    if (s && (p = s.fullData[h])) {
                                                        l = r.d2y(p[2]);
                                                        var o = n.dynamicForeCmpEl.$("cmpCrossEl").$(e.symbol);
                                                        if (o)
                                                            o.attr({
                                                                y: l
                                                            });
                                                        else {
                                                            var u = J["default"].cross.color;
                                                            n.dynamicForeCmpEl.$("cmpCrossEl").custom(D["default"]).id(e.symbol).attr({
                                                                y: l,
                                                                coord: r,
                                                                stroke: u
                                                            })
                                                        }
                                                        var a = n.dynamicForeCmpEl.$("cmpDotEl").$(e.symbol);
                                                        if (a)
                                                            a.attr({
                                                                x: f,
                                                                y: l
                                                            });
                                                        else {
                                                            var c = J["default"].minute.dotColor
                                                                , d = J["default"].minute.dotFill;
                                                            n.dynamicForeCmpEl.$("cmpDotEl").custom(I["default"]).id(e.symbol).attr({
                                                                x: f,
                                                                y: l,
                                                                coord: r,
                                                                r: 3,
                                                                stroke: c,
                                                                fill: d
                                                            })
                                                        }
                                                        var g = n.dynamicForeCmpEl.$("cmpCrossBoxEl").$(e.symbol);
                                                        if (g) {
                                                            var y = s.price.fixed
                                                                , b = p[1].toFixed(y)
                                                                , w = p[2]
                                                                , E = w >= 0 ? "+" : "";
                                                            w = E + w.toFixed(2) + "%",
                                                                g.attr({
                                                                    data: {
                                                                        left: b,
                                                                        right: w
                                                                    },
                                                                    y: l
                                                                })
                                                        } else {
                                                            var S = J["default"].compare[t].color;
                                                            n.dynamicForeCmpEl.$("cmpCrossBoxEl").custom(H["default"]).id(e.symbol).attr({
                                                                data: {
                                                                    left: v,
                                                                    right: m
                                                                },
                                                                fill: S,
                                                                stroke: S,
                                                                y: l,
                                                                coord: r,
                                                                position: "LR",
                                                                padding: 4,
                                                                boxWidth: n.coord.minuteLabel.width
                                                            })
                                                        }
                                                    }
                                                }),
                                                s) {
                                            var w = this.fdaysDataStart ? o.data[h + this.fdaysDataStart] : o.data[h];
                                            if (w)
                                                if (w = w[0],
                                                        f = s.d2x(h),
                                                        l = s.d2y(w),
                                                        this.dynamicForeCmpEl.$("volCrossEl").attr({
                                                            x: f
                                                        }),
                                                        w) {
                                                    var E = g["default"].HZLD(this.fdaysDataStart ? o.data[h + this.fdaysDataStart][1] : o.data[h][1], "noGray");
                                                    this.dynamicForeCmpEl.$("rectVolEl").attr({
                                                        x: rt.util.shift(f) - 1,
                                                        y: rt.util.shift(l) - 2,
                                                        width: 2,
                                                        height: rt.util.shift(s.b) - rt.util.shift(l) + 2,
                                                        fill: E,
                                                        stroke: E
                                                    }).show()
                                                } else
                                                    this.dynamicForeCmpEl.$("rectVolEl").hide()
                                        }
                                        this.coord.title && this.draw_titleCmpPanel(h),
                                            this.dynamicForeCmpEl.show(),
                                            this.staticForeCmpEl.show()
                                    }
                                }
                            }
                        }, {
                            key: "compareMax",
                            value: function() {
                                var e = this
                                    , t = -Number.MAX_VALUE
                                    , n = this.data;
                                n && (t = Math.max(n.price.maxPct, t));
                                var r = this._getCmpList();
                                r.forEach(function(n, i, s) {
                                    var o = e._getData(n.symbol);
                                    o && (t = Math.max(o.price.maxPct, t),
                                        r.maxX = o.maxX)
                                }),
                                    r.maxPct = t
                            }
                        }, {
                            key: "draw_cmpLabelRight",
                            value: function() {
                                var e = this._getCmpList();
                                this.coord.minuteLabelRight,
                                    this.paperCmpEl.$("cmpLabelRightEl").data({
                                        maxVal: e.maxPct,
                                        minVal: -e.maxPct,
                                        n: 9,
                                        fixed: 2
                                    })
                            }
                        }, {
                            key: "draw_cmp",
                            value: function() {
                                var e = this
                                    , t = this._getCmpList();
                                if (void 0 !== t.maxPct) {
                                    var n = this.coord.minuteArea
                                        , r = t.maxPct || .01;
                                    n.reAxis([0, this.maxX], [-r, r]);
                                    var i = (new b["default"](n.x,n.y,n.w,n.h)).axis([0, this.maxX], [-r, r])
                                        , s = this.data;
                                    this.paperCmpEl.$("mainLineEl").attr({
                                        data: s.price.percent,
                                        coord: i
                                    }),
                                        t.forEach(function(t, n, r) {
                                            var s = e._getData(t.symbol);
                                            if (s) {
                                                var o = e.paperCmpEl.$("cmpLineEl").$(t.symbol);
                                                if (o)
                                                    o.attr({
                                                        data: s.price.percent,
                                                        coord: i
                                                    });
                                                else {
                                                    var u = J["default"].compare[n].lineWidth + " " + J["default"].compare[n].color;
                                                    e.paperCmpEl.$("cmpLineEl").custom(N["default"]).id(t.symbol).attr({
                                                        data: s.price.percent,
                                                        coord: i,
                                                        maxX: e.maxX,
                                                        stroke: u
                                                    })
                                                }
                                            }
                                        })
                                }
                            }
                        }, {
                            key: "draw_titleCmpPanel",
                            value: function(e) {
                                var t = void 0;
                                t = e ? this.cal_currentCmpPanelData(e) : this.cal_cmpPanelData(),
                                    this.staticForeCmpEl.$("titleCmpEl").attr({
                                        data: t
                                    })
                            }
                        }, {
                            key: "draw_currentCmpBox",
                            value: function(e, t, n) {
                                this.fore.custom(H["default"]).attr({
                                    coord: this.coord.minuteArea,
                                    data: e,
                                    x: t,
                                    y: n,
                                    boxes: "R"
                                })
                            }
                        }, {
                            key: "cal_cmpPanelData",
                            value: function() {
                                var e = this
                                    , t = []
                                    , n = this.data;
                                t.push({
                                    name: n.name,
                                    percent: 100 * (n.last[1] / n.close - 1) || 0,
                                    symbol: this.symbol,
                                    color: J["default"].compareMain.color
                                });
                                var r = this._getCmpList();
                                return r.forEach(function(n, r, i) {
                                    var s = e._getData(n.symbol);
                                    if (s) {
                                        var o = {
                                            name: s.name,
                                            percent: 100 * (s.last[1] / s.close - 1) || 0,
                                            symbol: n.symbol,
                                            color: J["default"].compare[r].color
                                        };
                                        t.push(o)
                                    }
                                }),
                                    t
                            }
                        }, {
                            key: "cal_currentCmpData",
                            value: function(e) {
                                var t = o(e, 1)
                                    , n = t[0]
                                    , r = n.slice(0, 2) + ":" + n.slice(2, 4);
                                return {
                                    crossTime: r
                                }
                            }
                        }, {
                            key: "cal_currentCmpPanelData",
                            value: function(e) {
                                var t = this
                                    , n = []
                                    , r = this.data
                                    , i = r.fullData[e];
                                n.push({
                                    name: r.name,
                                    percent: i[2],
                                    symbol: this.symbol,
                                    color: J["default"].compareMain.color
                                });
                                var s = this._getCmpList();
                                return s.forEach(function(r, i, s) {
                                    var o = t._getData(r.symbol);
                                    if (o) {
                                        var u = o.fullData[e]
                                            , a = {
                                                name: o.name,
                                                color: J["default"].compare[i].color,
                                                symbol: r.symbol,
                                                percent: u && u[2]
                                            };
                                        n.push(a)
                                    }
                                }),
                                    n
                            }
                        }, {
                            key: "removeCmp",
                            value: function(e) {
                                this.stopListenToData(e),
                                    delete this.subscribeArray[e],
                                    this._getCmpList().maxPct = null ,
                                    this.drawAll()
                            }
                        }]),
                        t
                }(Y["default"]);
            t["default"] = it,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var s = function() {
                    function e(e, t) {
                        var n = []
                            , r = !0
                            , i = !1
                            , s = void 0;
                        try {
                            for (var o, u = e[Symbol.iterator](); !(r = (o = u.next()).done) && (n.push(o.value),
                            !t || n.length !== t); r = !0)
                                ;
                        } catch (a) {
                            i = !0,
                                s = a
                        } finally {
                            try {
                                !r && u["return"] && u["return"]()
                            } finally {
                                if (i)
                                    throw s
                            }
                        }
                        return n
                    }
                    return function(t, n) {
                        if (Array.isArray(t))
                            return t;
                        if (Symbol.iterator in Object(t))
                            return e(t, n);
                        throw new TypeError("Invalid attempt to destructure non-iterable instance")
                    }
                }()
                , o = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , u = n(13)
                , a = r(u)
                , f = n(29)
                , l = (r(f),
                    n(31))
                , c = r(l)
                , h = n(54)
                , p = r(h)
                , d = function() {
                    function e() {
                        i(this, e)
                    }
                    return o(e, null , [{
                        key: "calMinute",
                        value: function(e) {
                            var t = {};
                            e.data = this.calQtMinute(e);
                            var n = e.data
                                , r = e.date
                                , i = (e.status,
                                    e.close)
                                , o = e.open
                                , u = e.name;
                            i = i || o;
                            var a = []
                                , f = []
                                , l = []
                                , c = []
                                , h = []
                                , p = -Number.MAX_VALUE
                                , d = Number.MAX_VALUE
                                , v = 0
                                , m = 0;
                            n.forEach(function(e, t, n) {
                                var r = s(e, 5)
                                    , o = r[0]
                                    , u = r[1]
                                    , g = r[2]
                                    , y = r[3]
                                    , b = r[4];
                                a.push(u);
                                var w = 100 * (u / i - 1);
                                w = w ? w : 0,
                                    f.push(w),
                                    l.push(b);
                                var E = u - m;
                                E || (E = h.length ? h[h.length - 1][1] : 0),
                                    h.push([y, E]),
                                    c.push([o, u, w, y, E, b, g]),
                                    p = Math.max(u, p),
                                    d = Math.min(u, d),
                                    v = Math.max(y, v),
                                    m = u
                            });
                            var g = Math.abs(p - i)
                                , y = Math.abs(d - i)
                                , b = g > y ? g : y
                                , w = b / i || .001
                                , E = e.decimalPosition
                                , S = c.length;
                            return t = {
                                name: u,
                                price: {
                                    data: a,
                                    percent: f,
                                    abs: b,
                                    maxPct: 100 * w,
                                    average: l,
                                    fixed: E
                                },
                                volume: {
                                    data: h,
                                    max: v
                                },
                                fullData: c,
                                rawdata: n,
                                last: c[S - 1],
                                close: i,
                                date: r
                            },
                                t.status = e.status,
                                t
                        }
                    }, {
                        key: "calQtMinute",
                        value: function(e, t) {
                            t = t || e.data;
                            var n = e.marketTime
                                , r = e.qtTime
                                , i = e.qtDate
                                , s = e.date;
                            if (n.length > 2 && r > n[1] && r < n[2] && (r = n[1]),
                                !s || s.replace(/-/g, "") < i)
                                t = [],
                                    t.last = ["0000"],
                                    t.counter = 0,
                                    t.turnover = 0,
                                    e.date = i;
                            else if (s > i)
                                return t;
                            var o = (e.market,
                                    e.close,
                                    e.open)
                                , u = e.qtPrice
                                , a = e.qtVolume
                                , f = n[n.length - 1]
                                , l = n[0]
                                , c = t.last[0]
                                , h = a - t.counter
                                , p = t.turnover + u * h
                                , d = t.length;
                            t.cfg ? t.cfg.isIndex : !1;
                            if (r > c && f >= r && r >= l || !t.length) {
                                d || (t.push([l, o, a, 0, o]),
                                    d++);
                                for (var v = t[d - 1]; v[0] < r && v[0] < f; )
                                    v = t[d++] = [this.getNextTime(v[0], n), v[1], 0, v[3], v[4]];
                                v[1] = u || v[1],
                                    v[2] = a,
                                    v[3] = h,
                                    v[4] = p / v[2] || v[1],
                                    t.last = v,
                                    t.counter = a,
                                    t.turnover = p
                            } else if ((r === c || l > r) && u) {
                                var v = t[d - 1]
                                    , m = d > 1 ? t[d - 2][2] : 0;
                                h = a - m,
                                (v[1] !== u || v[3] !== h) && (v[1] = u,
                                    v[2] = a,
                                    v[3] = h,
                                    v[4] = p / v[2] || v[1],
                                    t.last = v)
                            }
                            return t
                        }
                    }, {
                        key: "kline",
                        value: function(e) {
                            for (var t = e.data, n = (e.qtDate,
                                e.name), r = e.trendUnit, i = 0, s = 0, o = 0, u = 0, a = 0, f = 0, l = -Number.MAX_VALUE, h = +Number.MAX_VALUE, p = [], d = [], v = [], m = [], g = [], y = 0, b = (t.length,
                                0), w = t.length; w > b; b++) {
                                var E = t[b].slice(0, 6)
                                    , S = E[0]
                                    , x = E[1]
                                    , T = E[2]
                                    , N = E[3]
                                    , C = E[4]
                                    , k = E[5];
                                p.push(T),
                                    d.push(N),
                                    v.push(C),
                                    g.push(k);
                                var L = T - x;
                                L || (L = b > 0 ? T - p[b - 1] : 0),
                                    E = E.concat([L]),
                                    i += T,
                                    s += T,
                                    o += T,
                                    u += k,
                                    a += k,
                                    f += k,
                                    b >= 19 ? (i -= t[b - 5][2],
                                        s -= t[b - 10][2],
                                        o -= 19 == b ? 0 : t[b - 20][2],
                                        u -= t[b - 5][5],
                                        a -= t[b - 10][5],
                                        f -= 19 == b ? 0 : t[b - 20][5],
                                        t[b] = E.concat([i / 5, s / 10, o / 20, u / 5, a / 10, f / 20])) : b >= 9 ? (i -= t[b - 5][2],
                                        s -= 9 == b ? 0 : t[b - 10][2],
                                        u -= t[b - 5][5],
                                        a -= 9 == b ? 0 : t[b - 10][5],
                                        t[b] = E.concat([i / 5, s / 10, "", u / 5, a / 10, ""])) : b >= 4 ? (i -= 4 == b ? 0 : t[b - 5][2],
                                        u -= 4 == b ? 0 : t[b - 5][5],
                                        t[b] = E.concat([i / 5, "", "", u / 5, "", ""])) : t[b] = E.concat(["", "", "", "", "", ""]);
                                var A = "date" === r ? S.slice(0, 8) : S.slice(0, 4);
                                A !== y && (y = A,
                                    m.push(["date" === r ? [y.slice(0, 4), y.slice(4, 6), y.slice(6, 8)].join("/") : y, b])),
                                    l = Math.max(l, T),
                                    h = Math.min(h, T)
                            }
                            return m.push([" ", t.length]),
                                t.rawdata = t,
                                t.o = {
                                    name: n,
                                    len: p.length,
                                    MACD: c["default"].MACD(p),
                                    maxValAll: l,
                                    minValAll: h,
                                    fixed: e.decimalPosition,
                                    closingPrice: p,
                                    highPrice: d,
                                    lowPrice: v,
                                    volume: g,
                                    trendTimeTags: m,
                                    status: e.status,
                                    open: t[0] && t[0][1]
                                },
                                t
                        }
                    }, {
                        key: "klineQT",
                        value: function(e, t) {
                            if (!e.data || !e.data.length)
                                return [];
                            if (e.status || !e.open || !e.close || !e.qtPrice || !e.qtMaxVal || !e.qtMinVal)
                                return e.data;
                            var n = e.data
                                , r = e.qtDate
                                , i = e.open
                                , s = e.qtPrice
                                , o = e.qtMaxVal
                                , u = e.qtMinVal
                                , a = e.qtVolume
                                , f = n.length - 1
                                , l = n[f]
                                , c = l[0]
                                , h = [r, i, s, o, u, a]
                                , p = h[2] - h[1];
                            if (h[2] === h[1] && (p = f > 0 ? h[2] - n[f - 1][2] : 0),
                                    h = h.concat(p),
                                r === c) {
                                if ("month" === t || "week" === t) {
                                    var d = l[5] + a - (n.volumeAll || a);
                                    n.volumeAll = a,
                                        h = [r, l[1], s, Math.max(o, l[3]), Math.min(o, l[4]), d];
                                    var v = h[2] - h[1];
                                    h[2] === h[1] && (v = f > 0 ? h[2] - n[f - 1][2] : 0),
                                        h = h.concat(v)
                                }
                                n[f] = h;
                                var m = this.calMA(n, f, 5)
                                    , g = this.calMA(n, f, 10)
                                    , y = this.calMA(n, f, 20)
                                    , b = this.calMA(n, f, 5, "v")
                                    , w = this.calMA(n, f, 10, "v")
                                    , E = this.calMA(n, f, 20, "v");
                                h = h.concat([m, g, y, b, w, E]),
                                    n[f] = h
                            } else
                                r > c && (n.push(h),
                                    this.kline(e));
                            return n
                        }
                    }, {
                        key: "calMklineQT",
                        value: function(e, t) {
                            if (!e.data)
                                return [];
                            if (e.status || !e.close || !e.qtPrice || !e.qtMaxVal || !e.qtMinVal)
                                return e.data;
                            var n = e.data
                                , r = e.qtDate
                                , i = e.qtTime
                                , s = e.qtPrice
                                , o = e.qtVolume
                                , u = e.marketTime;
                            if (i < u[0] || i > u[1] && i < u[2] || i > u[3])
                                return n;
                            var a = n.length - 1
                                , f = n[a]
                                , l = n[a - 1]
                                , c = f[0].slice(0, 8)
                                , h = f[0].substr(8)
                                , p = l ? l[0].substr(8) : u[0];
                            p = p > h ? u[0] : p;
                            var d = 1 * t.substr(1);
                            if (void 0 === n.volumeAll)
                                return r > c ? n.volumeAll = 0 : n.volumeAll = o - f[5],
                                    n;
                            if (r > c || h - p >= d && i > h) {
                                var v = [r + "" + i, s, s, s, s, r > c ? o : o - n.volumeAll]
                                    , m = v[2] - f[2];
                                v = v.concat(m),
                                    n.push(v),
                                    n.volumeAll = o,
                                    this.calMKline(e)
                            } else if (i >= h) {
                                var g = f[1]
                                    , y = f[3]
                                    , b = f[4]
                                    , v = [r + "" + i, g, s, s > y ? s : y, b > s ? s : b, o - n.volumeAll]
                                    , m = a > 0 ? v[2] - l[2] : 0;
                                v = v.concat(m),
                                    n[a] = v;
                                var w = this.calMA(n, a, 5)
                                    , E = this.calMA(n, a, 10)
                                    , S = this.calMA(n, a, 20)
                                    , x = this.calMA(n, a, 5, "v")
                                    , T = this.calMA(n, a, 10, "v")
                                    , N = this.calMA(n, a, 20, "v");
                                v = v.concat([w, E, S, x, T, N]),
                                    n[a] = v
                            }
                            return n
                        }
                    }, {
                        key: "calMKline",
                        value: function(e) {
                            e.trendUnit = "date";
                            var t = this.kline(e)
                                , n = t.o.trendTimeTags
                                , r = n.length;
                            if (5 >= r)
                                return t;
                            var i = n[r - 5 - 1][1]
                                , s = t.slice(i, t.length);
                            return e.data = s,
                                this.kline(e)
                        }
                    }, {
                        key: "calMA",
                        value: function(e, t, n, r) {
                            var i = r ? 5 : 2
                                , s = 0;
                            if (t >= n - 1) {
                                for (var o = 0; n > o; o++)
                                    s += e[t - o][i];
                                return s / n
                            }
                            return ""
                        }
                    }, {
                        key: "klineIndex",
                        value: function() {
                            var e = arguments[0]
                                , t = arguments[1]
                                , n = void 0
                                , r = void 0
                                , i = void 0
                                , s = void 0
                                , o = void 0;
                            switch (e) {
                                case "RSI":
                                    return n = t.closingPrice,
                                    {
                                        RSI6: c["default"].RSI(n, 6),
                                        RSI12: c["default"].RSI(n, 12),
                                        RSI24: c["default"].RSI(n, 24)
                                    };
                                case "KDJ":
                                    return n = t.closingPrice,
                                        r = t.highPrice,
                                        i = t.lowPrice,
                                        c["default"].KDJ(n, i, r, 9, 3, 3);
                                case "DMI":
                                    return n = t.closingPrice,
                                        r = t.highPrice,
                                        i = t.lowPrice,
                                        c["default"].DMI(r, i, n);
                                case "OBV":
                                    return n = t.closingPrice,
                                        s = t.volume,
                                        o = t.open,
                                        c["default"].OBV(n, s, o);
                                case "W&R":
                                    return n = t.closingPrice,
                                        r = t.highPrice,
                                        i = t.lowPrice,
                                        c["default"].WR(n, i, r, 10, 6);
                                case "BOLL":
                                    return n = t.closingPrice,
                                        c["default"].BOLL(n, 20, 2);
                                case "SAR":
                                    return r = t.highPrice,
                                        i = t.lowPrice,
                                        c["default"].SAR(r, i, 10, 2, 20)
                            }
                        }
                    }, {
                        key: "calFDays",
                        value: function(e) {
                            var t = {};
                            e.date = e.data[0].date,
                                e.data[0].data = this.calQtFDays(e.data[0].data, e);
                            for (var n = [], r = [], i = [], o = [], u = [], f = [], l = -Number.MAX_VALUE, c = Number.MAX_VALUE, h = 0, d = e.data, v = 1 * d.close, m = a["default"].FDAYS_SAMPLING, g = function(e, t) {
                                    var a = d[e].data
                                        , g = d[e].date;
                                    if (g) {
                                        g = p["default"]["new"](g);
                                        var y = p["default"].getDayCh(g.getDay());
                                        g = p["default"].dash(g),
                                            g = g + " " + y,
                                            f.push(g)
                                    }
                                    var b = a.length
                                        , w = 0;
                                    a.forEach(function(e, t, a) {
                                        if (!(t % m) || t === b - 1) {
                                            var f = s(e, 5)
                                                , p = f[0]
                                                , d = f[1]
                                                , y = f[2]
                                                , E = f[3]
                                                , S = f[4];
                                            n.push(d);
                                            var x = 100 * (d / v - 1);
                                            x = x ? x : 0,
                                                u.push(x),
                                                r.push(S),
                                                w = t ? a[t - 1][1] : w;
                                            var T = d - w;
                                            T || (T = o.length ? o[o.length - 1][1] : 0),
                                                o.push([E, T]),
                                                i.push([p, d, x, E, T, S, g, y]),
                                                l = Math.max(d, l),
                                                c = Math.min(d, c),
                                                h = Math.max(E, h)
                                        }
                                    })
                                }
                                     , y = e.data.length, b = y - 1; b >= 0; b--)
                                g(b, y);
                            if (!f.length) {
                                var w = p["default"]["new"](e.qtDate)
                                    , E = p["default"].getDayCh(w.getDay());
                                w = p["default"].dash(w),
                                    w = w + " " + E,
                                    f.push(w)
                            }
                            var S = Math.abs(l - v)
                                , x = Math.abs(c - v)
                                , T = S > x ? S : x
                                , N = T / v || .001
                                , C = e.decimalPosition
                                , k = i.length;
                            return t = {
                                name: e.name,
                                price: {
                                    data: n,
                                    percent: u,
                                    abs: T,
                                    maxPct: 100 * N,
                                    average: r,
                                    fixed: C
                                },
                                volume: {
                                    data: o,
                                    max: h
                                },
                                date: f,
                                fullData: i,
                                rawdata: d,
                                last: i[k - 1],
                                close: v
                            },
                                t.status = e.status,
                                t
                        }
                    }, {
                        key: "calQtFDays",
                        value: function(e, t) {
                            return t.data ? e = this.calQtMinute(t, e) : null
                        }
                    }, {
                        key: "calTrend",
                        value: function(e) {
                            for (var t = [], n = 0, r = Number.MAX_VALUE, i = "", s = [], o = {
                                day: [],
                                week: [],
                                month: []
                            }, u = 0, a = e.length; a > u; u++) {
                                var f = e[u][0]
                                    , l = e[u][1];
                                t.push(l),
                                    n = Math.max(n, l),
                                    r = Math.min(r, l),
                                f.slice(0, 4) !== i && (i = f.slice(0, 4),
                                    s.push([i, u]),
                                    o.day.push([i, !1]),
                                    o.week.push([i, !1]),
                                    o.month.push([i, !1]))
                            }
                            s.push([" ", e.length]),
                                e.rawdata = e;
                            var c = n - r;
                            return e.o = {
                                len: t.length,
                                maxValAll: c ? n : n + .1,
                                minValAll: c ? r : r - .1,
                                closingPrice: t,
                                trendTimeTags: s,
                                trendYearList: o
                            },
                                e
                        }
                    }, {
                        key: "getNextTime",
                        value: function(e, t) {
                            var n = parseInt(e.substr(0, 2), 10)
                                , r = parseInt(e.substr(2), 10) + 1;
                            r >= 60 && (n++,
                                r %= 60);
                            var i = (10 > n ? "0" : "") + n + (10 > r ? "0" : "") + r;
                            return 4 == t.length && i > t[1] && i < t[2] ? t[2] : i
                        }
                    }]),
                        e
                }();
            t["default"] = d,
                e.exports = t["default"]
        }
        , function(e, t) {
            "use strict";
            function n(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var r = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , i = function() {
                    function e() {
                        n(this, e)
                    }
                    return r(e, null , [{
                        key: "pad",
                        value: function(e) {
                            return 10 > e ? "0" + e : e
                        }
                    }, {
                        key: "dash",
                        value: function(e) {
                            return e ? e.getUTCFullYear() + "-" + this.pad(e.getUTCMonth() + 1) + "-" + this.pad(e.getUTCDate()) : void 0
                        }
                    }, {
                        key: "new",
                        value: function(e) {
                            var t = e.substr(0, 4) + "-" + e.substr(4, 2) + "-" + e.substr(6, 2);
                            return new Date(t)
                        }
                    }, {
                        key: "getDayCh",
                        value: function(e) {
                            return {
                                1: "\u5468\u4e00",
                                2: "\u5468\u4e8c",
                                3: "\u5468\u4e09",
                                4: "\u5468\u56db",
                                5: "\u5468\u4e94",
                                6: "\u5468\u516d",
                                7: "\u5468\u65e5"
                            }[e]
                        }
                    }, {
                        key: "timing",
                        value: function(e) {
                            return e.substr(8, 4)
                        }
                    }]),
                        e
                }();
            t["default"] = i,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(30)
                , s = (r(i),
                    n(29))
                , o = (r(s),
                    n(13))
                , u = (r(o),
                    n(56))
                , a = u.Shape.custom({
                    _afterInit: function() {
                        var e = this;
                        this._anim = new u.Animate(function(t) {
                                var n = e.rotation()
                                    , r = e.dashes();
                                e.position((e.position() + Math.round(t * r / n)) % r)
                            }
                        ),
                            this.hide()
                    },
                    start: function(e) {
                        if (this._timer && (clearTimeout(this._timer),
                                this._timer = !1),
                                this._anim.start(),
                                this.show(),
                                e) {
                            var t = this;
                            this._timer = setTimeout(function() {
                                t.stop()
                            }, e)
                        }
                    },
                    stop: function() {
                        this._anim.stop(),
                            this.hide()
                    },
                    _afterRemove: function() {
                        this._anim.stop()
                    },
                    _draw: function(e) {
                        var t = this.dashes()
                            , n = this.radius()
                            , r = this.position()
                            , i = this.height()
                            , s = this.width()
                            , o = this.x()
                            , a = this.y()
                            , f = u.Color(this.color());
                        e.lineWidth = s;
                        for (var l = 0, c = t; c > l; l++)
                            e.save(),
                                e.translate(o, a),
                                e.rotate((r + l) * Math.PI * 2 / c),
                                e.beginPath(),
                                e.moveTo(n, 0),
                                e.lineTo(n + i, 0),
                                f.a = (l + 1) / c,
                                e.strokeStyle = f.getString(),
                                e.stroke(),
                                e.restore();
                        e.beginPath()
                    }
                }, {
                    x: 0,
                    y: 0,
                    color: "#000000",
                    dashes: 30,
                    radius: 30,
                    height: 10,
                    width: 2.5,
                    rotation: 700,
                    position: 0
                });
            t["default"] = a,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            var r, i, s = function(e, t) {
                    return new s.Canvas(e,t)
                }
                ;
            !function(s, o) {
                r = o,
                    i = "function" == typeof r ? r.call(t, n, t, e) : r,
                void 0 === i || !(e.exports = i)
            }(this, function() {
                return s
            }),
                function() {
                    function e(e) {
                        return e && "object" == typeof e && "number" == typeof e.nodeType && "string" == typeof e.nodeName
                    }
                    var t = s.util = {}
                        , n = document.createElement("canvas");
                    t.bind = function(e, t) {
                        return e.bind ? e.bind(t) : function() {
                            return e.apply(t)
                        }
                    }
                        ,
                        t.canvas = !!n.getContext,
                        t.PIXEL_RATIO = function() {
                            if (t.canvas) {
                                var e = n.getContext("2d")
                                    , r = window.devicePixelRatio || 1
                                    , i = e.webkitBackingStorePixelRatio || e.mozBackingStorePixelRatio || e.msBackingStorePixelRatio || e.oBackingStorePixelRatio || e.backingStorePixelRatio || 1;
                                return r / i
                            }
                            return 1
                        }(),
                        t.round = function(e) {
                            return .5 + e << 0
                        }
                        ,
                        t.shift = function(e) {
                            return (e << 0) + .5
                        }
                    ;
                    var r = Object.prototype.toString;
                    t.is = function(e, t) {
                        switch (t) {
                            case "null":
                                return null === e;
                            case "undefined":
                                return void 0 === e;
                            case "boolean":
                            case "bool":
                                return e === !0 || e === !1 || "[object Boolean]" === r.call(e);
                            case "finite":
                                return isFinite(e) && !isNaN(parseFloat(e));
                            case "object":
                                return t = typeof e,
                                "object" === t && !!e;
                            default:
                                return r.call(e).slice(8, -1).toLowerCase() == t
                        }
                    }
                        ,
                        t.each = function(e, t, n) {
                            for (var r = 0; r < e.length; r++)
                                t.call(n, e[r], r)
                        }
                        ,
                        t.camelize = function(e) {
                            e = e.split("-");
                            for (var t = 1; t < e.length; t++)
                                e[t] = e[t].charAt(0).toUpperCase() + e[t].substr(1);
                            return e.join("")
                        }
                        ,
                        t.clone = function(e) {
                            var n = {};
                            for (var r in e)
                                e.hasOwnProperty(r) && (e[r] && t.is(e[r].clone, "function") ? n[r] = e[r].clone() : t.is(e[r], "array") ? n[r] = e[r].slice() : t.is(e[r], "object") ? n[r] = t.clone(e[r]) : n[r] = e[r]);
                            return n
                        }
                        ,
                        t.extend = function(e, n) {
                            for (var r, i = Array.prototype.slice.call(arguments, 1), s = t.is(e, "array") ? e : [e], o = 0; o < s.length; o++) {
                                e = s[o];
                                for (var u = 0; u < i.length; u++) {
                                    n = i[u];
                                    for (r in n)
                                        e[r] = n[r]
                                }
                            }
                            return e
                        }
                        ,
                        t.mkClass = function(e, n) {
                            function r(t, n, i, s, o, u, a, f) {
                                if (this instanceof r) {
                                    var l = e.apply(this, arguments);
                                    return this instanceof r || (l = this),
                                        l
                                }
                                switch (arguments.length) {
                                    case 0:
                                        return new r;
                                    case 1:
                                        return new r(t);
                                    case 2:
                                        return new r(t,n);
                                    case 3:
                                        return new r(t,n,i);
                                    case 4:
                                        return new r(t,n,i,s);
                                    case 5:
                                        return new r(t,n,i,s,o);
                                    case 6:
                                        return new r(t,n,i,s,o,u);
                                    case 7:
                                        return new r(t,n,i,s,o,u,a);
                                    case 8:
                                        return new r(t,n,i,s,o,u,a,f);
                                    default:
                                        throw new Error("too many arguments")
                                }
                            }
                            "function" != typeof e && (n = e,
                                e = function() {}
                            ),
                            n && (r.prototype = n,
                                r.prototype.constructor = r);
                            for (var i = 2; i < arguments.length; i++) {
                                n = arguments[i];
                                for (var s in n)
                                    r.prototype[s] = n[s]
                            }
                            return r.$init = e,
                                r.extend = function(e, n) {
                                    function i() {}
                                    i.prototype = r.prototype,
                                    t.is(e, "object") && (n = e,
                                        e = function() {
                                            return r.$init.apply(this, arguments)
                                        }
                                    );
                                    var s = t.mkClass(function() {
                                        return e.apply(this, arguments)
                                    }, new i, n, {
                                        $base: function(e) {
                                            for (var t = Array.prototype.slice.call(arguments, 1), n = r; n; ) {
                                                if (n.prototype[e])
                                                    return n.prototype[e].apply(this, t);
                                                n = n.$superClass
                                            }
                                            throw Error("\u7236\u7c7b\u4e2d\u4e0d\u5b58\u5728\u51fd\u6570\uff1a" + e)
                                        }
                                    });
                                    return s.$super = function(e) {
                                        return r.$init.apply(e, [].slice.call(arguments, 1))
                                    }
                                        ,
                                        s.$superClass = r,
                                        s
                                }
                                ,
                                r
                        }
                        ,
                        t.keys = function(e) {
                            if (!t.is(e, "object"))
                                return [];
                            if (Object.keys)
                                return Object.keys(e);
                            var n = [];
                            for (var r in e)
                                e.hasOwnProperty(r) && n.push(r);
                            if (!{
                                    toString: null
                                }.propertyIsEnumerable("toString"))
                                for (var i = ["constructor", "valueOf", "isPrototypeOf", "toString", "propertyIsEnumerable", "hasOwnProperty", "toLocaleString"], s = i.length, o = "function" == typeof e.constructor ? Function.prototype : Object.prototype; s--; ) {
                                    var u = i[s];
                                    if ("constructor" === u ? e.hasOwnProperty(u) : u in e && e[u] !== o[u]) {
                                        for (var a = !1, f = 0; f < n.length; f++)
                                            if (n[f] === u) {
                                                a = !0;
                                                break
                                            }
                                        a || n.push(u)
                                    }
                                }
                            return n
                        }
                    ;
                    var i = function(n, r, s, o) {
                            if (n === r)
                                return 0 !== n || 1 / n === 1 / r;
                            if (null === n || null === r)
                                return n === r;
                            var u = Object.prototype.toString.call(n);
                            if (u !== Object.prototype.toString.call(r))
                                return !1;
                            switch (u) {
                                case "[object RegExp]":
                                case "[object String]":
                                    return "" + n == "" + r;
                                case "[object Number]":
                                    return +n !== +n ? +r !== +r : 0 === +n ? 1 / +n === 1 / r : +n === +r;
                                case "[object Date]":
                                case "[object Boolean]":
                                    return +n === +r
                            }
                            var a = "[object Array]" === u;
                            if (!a) {
                                if ("object" != typeof n || "object" != typeof r)
                                    return !1;
                                var f = n.constructor
                                    , l = r.constructor;
                                if (f !== l && !(t.is(f, "function") && f instanceof f && t.is(l, "function") && l instanceof l) && "constructor"in n && "constructor"in r)
                                    return !1
                            }
                            for (var c = s.length; c--; )
                                if (s[c] === n)
                                    return o[c] === r;
                            if (s.push(n),
                                    o.push(r),
                                    a) {
                                if (c = n.length,
                                    c !== r.length)
                                    return !1;
                                for (; c--; )
                                    if (!i(n[c], r[c], s, o))
                                        return !1
                            } else {
                                if (e(n) || e(r))
                                    return n === r;
                                var h, p = t.keys(n);
                                if (c = p.length,
                                    t.keys(r).length !== c)
                                    return !1;
                                for (; c--; )
                                    if (h = p[c],
                                        !r.hasOwnProperty(h) || !i(n[h], r[h], s, o))
                                        return !1
                            }
                            return s.pop(),
                                o.pop(),
                                !0
                        }
                        ;
                    t.isEqual = function(e, t) {
                        return i(e, t, [], [])
                    }
                        ,
                        t.now = Date.now || function() {
                            return (new Date).getTime()
                        }
                        ,
                        t.cloneEvent = function(e) {
                            function t() {
                                for (var t in e)
                                    "function" != typeof e[t] && (this[t] = e[t])
                            }
                            return t.prototype = e.prototype,
                                new t
                        }
                        ,
                        t.throttle = function(e, n, r) {
                            var i, s, o, u = null , a = 0;
                            n = n > 0 ? n : 10,
                            r || (r = {});
                            var f = function() {
                                    a = r.leading === !1 ? 0 : t.now(),
                                        u = null ,
                                        o = e.apply(i, s),
                                    u || (i = s = null )
                                }
                                ;
                            return function() {
                                var c = t.now();
                                a || r.leading !== !1 || (a = c);
                                var h = n - (c - a);
                                return i = this,
                                    s = arguments,
                                    0 >= h || h > n ? (clearTimeout(u),
                                        u = null ,
                                        a = c,
                                        o = e.apply(i, s),
                                    u || (i = s = null )) : u || r.trailing === !1 || (u = setTimeout(f, h)),
                                    o
                            }
                        }
                        ,
                        t.isPointInCircle = function(e, t, n, r, i) {
                            return Math.pow(n - e, 2) + Math.pow(r - t, 2) <= Math.pow(i, 2)
                        }
                        ,
                        t.isPointInPolygon = function(e, t, n) {
                            for (var r, i, s = 0, o = n.length, u = 0; o > s; s++)
                                r = n[s],
                                    i = n[s + 1 == o ? 0 : s + 1],
                                (r[1] <= t && i[1] >= t || i[1] <= t && r[1] >= t) && (r[0] <= e || i[0] <= e) && (u ^= r[0] + (t - r[1]) * (i[0] - r[0]) / (i[1] - r[1]) <= e);
                            return u
                        }
                        ,
                        t.isPointInArea = function(e, n, r) {
                            return r.circle ? t.isPointInCircle(e, n, r.x, r.y, r.r) : r.polygon ? t.isPointInPolygon(e, n, r.vertex) : !1
                        }
                        ,
                        t.getAreaCenter = function(e) {
                            t.is("areas", "array") || (e = [e]);
                            var n = 0
                                , r = 0
                                , i = e.length;
                            return t.each(e, function(e) {
                                if (e.circle)
                                    n += e.x,
                                        r += e.y;
                                else if (e.polygon) {
                                    var i = 0
                                        , s = 0
                                        , o = e.vertex.length;
                                    t.each(e.vertex, function(e) {
                                        i += e[0],
                                            s += e[1]
                                    }),
                                        n += i / o,
                                        r += s / o
                                }
                            }),
                            {
                                x: n / i,
                                y: r / i
                            }
                        }
                }(),
                function() {
                    var e = s.util
                        , t = e.mkClass(function() {
                            this.children = [],
                                this.exp = ""
                        }, {
                            appendChild: function(e) {
                                this.children.push(e)
                            },
                            getString: function() {
                                for (var e = this.children, t = [this.exp], n = 0; n < e.length; n++)
                                    t.push(e[n].getString());
                                return t = t.join("\\s*"),
                                this.type && (t = "\\s*(\\s*" + t + "\\s*)\\s*"),
                                    t
                            },
                            getValue: function(e) {
                                var t, n = this.children;
                                if (!this.type)
                                    return e[this.index];
                                for (var r = [], i = 0; i < n.length; i++)
                                    n[i].type && (t = n[i].getValue(e),
                                    "undefined" != typeof t && r.push(t));
                                if (r.length || (t = e[this.index],
                                    "" !== t && "undefined" != typeof t && r.push(t)),
                                        r.length)
                                    return this.fn.apply(this, r)
                            }
                        })
                        , n = s.Lex = e.mkClass(function(t, n) {
                            function r() {
                                return [].slice.call(arguments)
                            }
                            for (var i in n)
                                e.is(n[i], "array") ? n[i][0] = n[i][0].source || n[i][0] : n[i] = [n[i].source, r];
                            this._rule = n,
                                this._buildIndex = 0,
                                this.tree = this._build("<" + t + ">"),
                                this.rule = new RegExp("^" + this.tree.getString() + "$")
                        }, {
                            _build: function(n) {
                                var r = this._rule
                                    , i = new t;
                                if (/^<([^>]+)>$/.test(n)) {
                                    if (n = n.substr(1, n.length - 2),
                                            !r[n])
                                        return i.exp = n,
                                            i;
                                    i.type = n,
                                        i.fn = r[n][1],
                                        n = r[n][0],
                                        this._buildIndex += 1
                                }
                                i.index = this._buildIndex;
                                for (var s, o = /<([^>]+)>/g, u = 0; !e.is(s = o.exec(n), "null"); )
                                    u != s.index && i.appendChild(this._build(n.substr(u, s.index - u))),
                                        u = o.lastIndex,
                                        i.appendChild(this._build(s[0]));
                                return u != n.length && (0 === u ? (i.exp = n,
                                    this._buildIndex += n.replace(/\\.|\[(?:\\.|[^\]])*\]|(\((?!\?[!:=]))|./g, function(e, t) {
                                        return t ? "." : ""
                                    }).length) : i.appendChild(this._build(n.substr(u)))),
                                    i
                            },
                            parse: function(e) {
                                var t = e.match(this.rule);
                                return t ? this.tree.getValue(t) : void 0
                            },
                            extend: function(e, t) {
                                for (var r in this._rule)
                                    t[r] = this._rule[r];
                                return new n(e,t)
                            }
                        })
                }(),
                function() {
                    var e = s.util
                        , t = new s.Lex("font",{
                            font: [/((<svw>)?<font-size>(\/<line-height>)? <font-family>)|<named>/, function(t) {
                                var n = s.Font();
                                if (1 == arguments.length)
                                    n.named = t;
                                else {
                                    var r = [].slice.apply(arguments);
                                    r.unshift(n.attrs),
                                        e.extend.apply(e, r)
                                }
                                return n
                            }
                            ],
                            svw: [/(<s-v-w> )?(<s-v-w> )?(<s-v-w> )?/, function(t, n, r) {
                                return e.extend({}, t, n, r)
                            }
                            ],
                            "s-v-w": [/<font-style>|<font-variant>|<font-weight>/, function(e) {
                                return e
                            }
                            ],
                            named: [/caption|icon|menu|message-box|small-caption|status-bar/, function(e) {
                                return e
                            }
                            ],
                            "font-style": [/normal|italic|oblique/, function(e) {
                                return {
                                    style: e
                                }
                            }
                            ],
                            "font-variant": [/normal|small-caps/, function(e) {
                                return {
                                    variant: e
                                }
                            }
                            ],
                            "font-weight": [/normal|bold|bolder|lighter|<num>/, function(e) {
                                return {
                                    weight: e
                                }
                            }
                            ],
                            "font-size": [/<absolute-size>|<relative-size>|<length>/, function(e) {
                                return {
                                    size: e
                                }
                            }
                            ],
                            "line-height": [/normal|<length>/, function(e) {
                                return {
                                    height: e
                                }
                            }
                            ],
                            "absolute-size": [/xx-small|x-small|small|medium|large|x-large|xx-large/, function(e) {
                                return e
                            }
                            ],
                            "relative-size": [/smaller|larger/i, function(e) {
                                return e
                            }
                            ],
                            length: [/<num>(<unit>)?/, function(e, t) {
                                return 0 === e ? 0 : e + (t || "px")
                            }
                            ],
                            unit: [/em|ex|ch|rem|vw|vh|vm|%|cm|mm|in|pt|pc|px/, function(e) {
                                return e
                            }
                            ],
                            "font-family": [/[\S\s]+/, function(e) {
                                return {
                                    family: e
                                }
                            }
                            ],
                            num: [/[0-9]*(\.?)[0-9]*/, function(e) {
                                return parseFloat(e)
                            }
                            ]
                        })
                        , n = {
                            style: "normal",
                            variant: "normal",
                            weight: "normal",
                            size: "10px",
                            height: "normal",
                            family: "sans-serif"
                        }
                        , r = s.Font = e.mkClass(function(i) {
                            if (i) {
                                if (i instanceof r)
                                    return i;
                                if (i = t.parse(i))
                                    return i
                            }
                            this.named = "",
                                this.attrs = e.extend({}, n)
                        }, {
                            font: function(e) {
                                return arguments.length ? (e = t.parse(e),
                                e && (this.named = e.named,
                                    this.attrs = e.attrs),
                                    this) : this.getString()
                            },
                            fontStyle: function(e) {
                                return arguments.length ? (this.named = "",
                                    this.attrs.style = e,
                                    this) : this.attrs.style
                            },
                            fontVariant: function(e) {
                                return arguments.length ? (this.named = "",
                                    this.attrs.variant = e,
                                    this) : this.attrs.variant
                            },
                            fontWeight: function(e) {
                                return arguments.length ? (this.named = "",
                                    this.attrs.weight = e,
                                    this) : this.attrs.weight
                            },
                            fontSize: function(e) {
                                return arguments.length ? (this.named = "",
                                    this.attrs.size = e,
                                    this) : this.attrs.size
                            },
                            lineHeight: function(e) {
                                return arguments.length ? (this.named = "",
                                    void (this.attrs.height = e)) : this.attrs.height
                            },
                            fontFamily: function(e) {
                                return arguments.length ? (this.named = "",
                                    void (this.attrs.family = e)) : this.attrs.family
                            },
                            getString: function() {
                                var e = this.attrs;
                                if (this.named)
                                    return this.named;
                                var t = [];
                                e.style != n.style && t.push(e.style),
                                e.variant != n.variant && t.push(e.variant),
                                e.weight != n.weight && t.push(e.weight);
                                var r = e.size;
                                return /^[a-z-]{4,}$/.test(r) || (parseInt(r, 10) ? /^\d+$/.test("" + r) && (r += "px") : r = 0),
                                e.height != n.height && (r += "/" + e.height),
                                    t.push(r, e.family),
                                    t.join(" ")
                            }
                        })
                }(),
                function() {
                    function e(e) {
                        return 0 > e ? 0 : e > 255 ? 255 : Math.round(e)
                    }
                    var t = s.util
                        , n = s.Color = t.mkClass(function(r, i, s, o) {
                            var u = arguments.length;
                            if (0 === u)
                                return new n.random;
                            if (1 == u) {
                                if (t.is(r, "string"))
                                    return n.lex.parse(r);
                                t.is(r, "number") && (this.a = 1,
                                    this.b = 255 & r,
                                    this.g = r >> 8 & 255,
                                    this.r = r >> 16 & 255)
                            } else
                                u >= 3 && (this.r = e(r),
                                    this.g = e(i),
                                    this.b = e(s),
                                    "undefined" != typeof o ? this.a = o : this.a = 1)
                        });
                    n.lex = new s.Lex("color",{
                        color: [/<rgb>|<rgba>|<hsl>|<hsla>|<hex>|<transparent>|<name>/, function(e) {
                            return e
                        }
                        ],
                        transparent: [/transparent/, function() {
                            return new n(255,255,255,0)
                        }
                        ],
                        rgb: [/rgb\(<num>,<num>,<num>\)/, function(e, t, r) {
                            return new n(e,t,r)
                        }
                        ],
                        rgba: [/rgba\(<num>,<num>,<num>,<num>\)/, function(e, t, r, i) {
                            return new n(e,t,r,i)
                        }
                        ],
                        hsl: [/hsl\(<num>,(<num>|<percent>),(<num>|<percent>)\)/, function(e, t, r) {
                            return n.hsl(e, t, r)
                        }
                        ],
                        hsla: [/hsla\(<num>,(<num>|<percent>),(<num>|<percent>),<num>\)/, function(e, t, r, i) {
                            return n.hsl(e, t, r, i)
                        }
                        ],
                        name: [/[a-z]+/, function(e) {
                            return e = n.names[e] || "#000",
                                new n.hex(e)
                        }
                        ],
                        hex: [/#([0-9a-f]{3}|[0-9a-f]{6})/i, function(e) {
                            return new n.hex(e)
                        }
                        ],
                        percent: [/<num>%/, function(e) {
                            return 0 > e ? 0 : e > 100 ? 1 : e / 100
                        }
                        ],
                        num: [/[0-9]*(\.?)[0-9]*/, function(e) {
                            return parseFloat(e)
                        }
                        ]
                    }),
                        n.random = function() {
                            return new n(255 * Math.random() | 0,255 * Math.random() | 0,255 * Math.random() | 0)
                        }
                        ,
                        n.hex = function(e) {
                            var t = e.replace("#", "")
                                , r = parseInt;
                            return "3" == t.length ? new n(r(t.charAt(0) + t.charAt(0), 16),r(t.charAt(1) + t.charAt(1), 16),r(t.charAt(2) + t.charAt(2), 16)) : new n(r(t.substr(0, 2), 16),r(t.substr(2, 2), 16),r(t.substr(4, 2), 16))
                        }
                        ,
                        n.hsb = function(e, t, r, i) {
                            var s = 0
                                , o = 0
                                , u = 0
                                , a = r * t
                                , f = a * (1 - Math.abs(e / 60 % 2 - 1))
                                , l = r - a;
                            switch (Math.floor(e / 60)) {
                                case 0:
                                    s = a,
                                        o = f;
                                    break;
                                case 1:
                                    s = f,
                                        o = a;
                                    break;
                                case 2:
                                    o = a,
                                        u = f;
                                    break;
                                case 3:
                                    o = f,
                                        u = a;
                                    break;
                                case 4:
                                    s = f,
                                        u = a;
                                    break;
                                case 5:
                                    s = a,
                                        u = f
                            }
                            return new n(255 * (s + l),255 * (o + l),255 * (u + l),i)
                        }
                        ,
                        n.hsl = function(e, t, r, i) {
                            function s(e) {
                                return e = 0 > e ? e + 1 : e > 1 ? e - 1 : e,
                                    1 > 6 * e ? u + (o - u) * e * 6 : 1 > 2 * e ? o : 2 > 3 * e ? u + (o - u) * (2 / 3 - e) * 6 : u
                            }
                            e = e % 360 / 360;
                            var o = .5 >= r ? r * (t + 1) : r + t - r * t
                                , u = 2 * r - o;
                            return new n(255 * s(e + 1 / 3),255 * s(e),255 * s(e - 1 / 3),i)
                        }
                        ,
                        n.names = {
                            aliceblue: "#f0f8ff",
                            antiquewhite: "#faebd7",
                            aqua: "#00ffff",
                            aquamarine: "#7fffd4",
                            azure: "#f0ffff",
                            beige: "#f5f5dc",
                            bisque: "#ffe4c4",
                            black: "#000000",
                            blanchedalmond: "#ffebcd",
                            blue: "#0000ff",
                            blueviolet: "#8a2be2",
                            brown: "#a52a2a",
                            burlywood: "#deb887",
                            cadetblue: "#5f9ea0",
                            chartreuse: "#7fff00",
                            chocolate: "#d2691e",
                            coral: "#ff7f50",
                            cornflowerblue: "#6495ed",
                            cornsilk: "#fff8dc",
                            crimson: "#dc143c",
                            cyan: "#00ffff",
                            darkblue: "#00008b",
                            darkcyan: "#008b8b",
                            darkgoldenrod: "#b8860b",
                            darkgray: "#a9a9a9",
                            darkgreen: "#006400",
                            darkgrey: "#a9a9a9",
                            darkkhaki: "#bdb76b",
                            darkmagenta: "#8b008b",
                            darkolivegreen: "#556b2f",
                            darkorange: "#ff8c00",
                            darkorchid: "#9932cc",
                            darkred: "#8b0000",
                            darksalmon: "#e9967a",
                            darkseagreen: "#8fbc8f",
                            darkslateblue: "#483d8b",
                            darkslategray: "#2f4f4f",
                            darkslategrey: "#2f4f4f",
                            darkturquoise: "#00ced1",
                            darkviolet: "#9400d3",
                            deeppink: "#ff1493",
                            deepskyblue: "#00bfff",
                            dimgray: "#696969",
                            dimgrey: "#696969",
                            dodgerblue: "#1e90ff",
                            firebrick: "#b22222",
                            floralwhite: "#fffaf0",
                            forestgreen: "#228b22",
                            fuchsia: "#ff00ff",
                            gainsboro: "#dcdcdc",
                            ghostwhite: "#f8f8ff",
                            gold: "#ffd700",
                            goldenrod: "#daa520",
                            gray: "#808080",
                            green: "#008000",
                            greenyellow: "#adff2f",
                            grey: "#808080",
                            honeydew: "#f0fff0",
                            hotpink: "#ff69b4",
                            indianred: "#cd5c5c",
                            indigo: "#4b0082",
                            ivory: "#fffff0",
                            khaki: "#f0e68c",
                            lavender: "#e6e6fa",
                            lavenderblush: "#fff0f5",
                            lawngreen: "#7cfc00",
                            lemonchiffon: "#fffacd",
                            lightblue: "#add8e6",
                            lightcoral: "#f08080",
                            lightcyan: "#e0ffff",
                            lightgoldenrodyellow: "#fafad2",
                            lightgray: "#d3d3d3",
                            lightgreen: "#90ee90",
                            lightgrey: "#d3d3d3",
                            lightpink: "#ffb6c1",
                            lightsalmon: "#ffa07a",
                            lightseagreen: "#20b2aa",
                            lightskyblue: "#87cefa",
                            lightslategray: "#778899",
                            lightslategrey: "#778899",
                            lightsteelblue: "#b0c4de",
                            lightyellow: "#ffffe0",
                            lime: "#00ff00",
                            limegreen: "#32cd32",
                            linen: "#faf0e6",
                            magenta: "#ff00ff",
                            maroon: "#800000",
                            mediumaquamarine: "#66cdaa",
                            mediumblue: "#0000cd",
                            mediumorchid: "#ba55d3",
                            mediumpurple: "#9370d8",
                            mediumseagreen: "#3cb371",
                            mediumslateblue: "#7b68ee",
                            mediumspringgreen: "#00fa9a",
                            mediumturquoise: "#48d1cc",
                            mediumvioletred: "#c71585",
                            midnightblue: "#191970",
                            mintcream: "#f5fffa",
                            mistyrose: "#ffe4e1",
                            moccasin: "#ffe4b5",
                            navajowhite: "#ffdead",
                            navy: "#000080",
                            oldlace: "#fdf5e6",
                            olive: "#808000",
                            olivedrab: "#6b8e23",
                            orange: "#ffa500",
                            orangered: "#ff4500",
                            orchid: "#da70d6",
                            palegoldenrod: "#eee8aa",
                            palegreen: "#98fb98",
                            paleturquoise: "#afeeee",
                            palevioletred: "#d87093",
                            papayawhip: "#ffefd5",
                            peachpuff: "#ffdab9",
                            peru: "#cd853f",
                            pink: "#ffc0cb",
                            plum: "#dda0dd",
                            powderblue: "#b0e0e6",
                            purple: "#800080",
                            red: "#ff0000",
                            rosybrown: "#bc8f8f",
                            royalblue: "#4169e1",
                            saddlebrown: "#8b4513",
                            salmon: "#fa8072",
                            sandybrown: "#f4a460",
                            seagreen: "#2e8b57",
                            seashell: "#fff5ee",
                            sienna: "#a0522d",
                            silver: "#c0c0c0",
                            skyblue: "#87ceeb",
                            slateblue: "#6a5acd",
                            slategray: "#708090",
                            slategrey: "#708090",
                            snow: "#fffafa",
                            springgreen: "#00ff7f",
                            steelblue: "#4682b4",
                            tan: "#d2b48c",
                            teal: "#008080",
                            thistle: "#d8bfd8",
                            tomato: "#ff6347",
                            turquoise: "#40e0d0",
                            violet: "#ee82ee",
                            wheat: "#f5deb3",
                            white: "#ffffff",
                            whitesmoke: "#f5f5f5",
                            yellow: "#ffff00",
                            yellowgreen: "#9acd32"
                        },
                        n.prototype = {
                            hex: function() {
                                return "#" + ((1 << 24) + (this.r << 16) + (this.g << 8) + (this.b << 0)).toString(16).slice(1)
                            },
                            getString: function() {
                                return this.a < 1 ? "rgba(" + this.r + "," + this.g + "," + this.b + "," + this.a + ")" : this.hex()
                            },
                            clone: function() {
                                return new n(this.r,this.g,this.b,this.a)
                            }
                        }
                }(),
                function() {
                    var e = s.Color.lex.extend("linear", {
                            linear: [/linear\(<num> <num> <num> <num>,<colors>\)/, function(e, n, r, i, s) {
                                return new t(e,n,r,i,s)
                            }
                            ],
                            colors: [/<colorstop>(,<colorstop>)*/, function() {
                                return [].slice.call(arguments)
                            }
                            ],
                            colorstop: [/<color> <num>/, function(e, t) {
                                return [e, 0 > t ? 0 : t > 1 ? 1 : t]
                            }
                            ]
                        })
                        , t = s.LinearGradient = s.util.mkClass(function(t, n, r, i, s) {
                            this.x0 = this.x1 = this.y0 = this.y1 = 0,
                                this.colors = [];
                            var o = arguments.length;
                            return 1 == o ? e.parse(t) : void (o > 4 && (this.x0 = t,
                                this.y0 = n,
                                this.x1 = r,
                                this.y1 = i,
                                this.colors = s))
                        }, {
                            getString: function() {
                                for (var e = ["linear(", this.x0, " ", this.y0, " ", this.x1, " ", this.y1, ","], t = [], n = 0; n < this.colors.length; n++)
                                    t.push(this.colors[n][0].getString() + " " + this.colors[n][1]);
                                return e.push(t.join(","), ")"),
                                    e.join("")
                            },
                            toContext: function(e) {
                                for (var t = e.createLinearGradient(this.x0, this.y0, this.x1, this.y1), n = 0; n < this.colors.length; n++)
                                    t.addColorStop(this.colors[n][1], this.colors[n][0].getString());
                                return t
                            },
                            clone: function() {
                                var e = new t;
                                return e.x0 = this.x0,
                                    e.y0 = this.y0,
                                    e.x1 = this.x1,
                                    e.y1 = this.y1,
                                    e.colors = this.colors.slice(),
                                    e
                            }
                        })
                }(),
                function() {
                    var e = s
                        , t = e.Color.lex.extend("radial", {
                            radial: [/radial\(<position>,<colors>\)/, function(t, n) {
                                return new e.RadialGradient(t[0],t[1],t[2],t[3],t[4],t[5],n)
                            }
                            ],
                            position: [/(<num> <num> <num>)|(<num> <num> <num> <num>)||(<num> <num> <num> <num> <num>)|(<num> <num> <num> <num> <num> <num>)/, function() {
                                var e = [].slice.call(arguments)
                                    , t = e.length;
                                return 3 == t ? (e[3] = e[0],
                                    e[4] = e[1],
                                    e[5] = e[2],
                                    e[2] = 0) : 4 == t ? (e[5] = e[3],
                                    e[3] = e[0],
                                    e[4] = e[1]) : 5 == t && (e[5] = e[2]),
                                    e
                            }
                            ],
                            colors: [/<colorstop>(,<colorstop>)*/, function() {
                                return [].slice.call(arguments)
                            }
                            ],
                            colorstop: [/<color> <num>/, function(e, t) {
                                return [e, 0 > t ? 0 : t > 1 ? 1 : t]
                            }
                            ]
                        })
                        , n = e.RadialGradient = e.util.mkClass(function(e, n, r, i, s, o, u) {
                            this.x0 = this.x1 = this.y0 = this.y1 = this.r0 = this.r1 = 0,
                                this.colors = [];
                            var a = arguments.length;
                            if (1 == a)
                                return t.parse(e);
                            if (4 == a)
                                u = i,
                                    i = e,
                                    s = n,
                                    o = r,
                                    r = 0;
                            else if (5 == a)
                                u = s,
                                    o = i,
                                    s = n,
                                    i = e;
                            else if (6 == a)
                                u = o,
                                    o = r;
                            else if (7 != a)
                                throw new Error("wrong number of arguments");
                            this.x0 = e,
                                this.y0 = n,
                                this.r0 = r,
                                this.x1 = i,
                                this.y1 = s,
                                this.r1 = o,
                                this.colors = u
                        }, {
                            getString: function() {
                                for (var e = ["radial(", this.x0, " ", this.y0, " ", this.r0, " ", this.x1, " ", this.y1, " ", this.r1, ","], t = [], n = 0; n < this.colors.length; n++)
                                    t.push(this.colors[n][0].getString() + " " + this.colors[n][1]);
                                return e.push(t.join(","), ")"),
                                    e.join("")
                            },
                            toContext: function(e) {
                                for (var t = e.createRadialGradient(this.x0, this.y0, this.r0, this.x1, this.y1, this.r1), n = 0; n < this.colors.length; n++)
                                    t.addColorStop(this.colors[n][1], this.colors[n][0].getString());
                                return t
                            },
                            clone: function() {
                                var e = new n;
                                return e.x0 = this.x0,
                                    e.y0 = this.y0,
                                    e.r0 = this.r0,
                                    e.x1 = this.x1,
                                    e.y1 = this.y1,
                                    e.r1 = this.r1,
                                    e.colors = this.colors.slice(),
                                    e
                            }
                        })
                }(),
                function() {
                    var e = s
                        , t = e.Style = e.util.mkClass(function(t) {
                            if (!t)
                                return this.type = "color",
                                    void (this.o = new e.Color(0,0,0));
                            var n = t.split(/[( ]+/)[0];
                            "linear" == n ? this.o = new e.LinearGradient(t) : "radial" == n ? this.o = new e.RadialGradient(t) : (n = "color",
                                this.o = new e.Color(t)),
                                this.type = n
                        }, {
                            getString: function() {
                                return this.o.getString()
                            },
                            toContext: function(e) {
                                return "color" == this.type ? this.o.getString() : this.o.toContext(e)
                            },
                            clone: function() {
                                var e = new t;
                                return e.type = this.type,
                                    e.o = this.o.clone(),
                                    e
                            },
                            add: function(e, t) {
                                t = t || 0;
                                var n = this.clone();
                                return e.type == n.type && "color" == n.type && (n.o.r += t * e.o.r,
                                    n.o.g += t * e.o.g,
                                    n.o.b += t * e.o.b,
                                    n.o.a += t * e.o.a),
                                    n
                            }
                        })
                }(),
                function() {
                    function e(e) {
                        var t = e[1];
                        switch (e[0]) {
                            case "c":
                            case "C":
                                return ["c", [t[0], t[1]]];
                            case "t":
                            case "T":
                                return ["t", [0, 0]];
                            case "r":
                            case "R":
                                return ["r", [0, t[1], t[2]]];
                            case "s":
                            case "S":
                                return ["s", [1, 1, t[2], t[3]]];
                            case "m":
                            case "M":
                                return ["m", [1, 0, 0, 1, 0, 0]]
                        }
                    }
                    function t(t, n) {
                        for (var r, i, s = 0; s < t.length || s < n.length; s++)
                            r = t[s],
                                i = n[s],
                                r ? i ? r[0] != i[0] && (t.splice(s, 0, e(i)),
                                    n.splice(s + 1, 0, e(r))) : n.push(e(r)) : t.push(e(i))
                    }
                    var n = s.util;
                    s.Transform = n.mkClass(function(e) {
                        this.transform = [],
                            this._matrix = new r,
                        e && this.parseStr(e)
                    }, {
                        parseStr: function(e) {
                            function t(e) {
                                e && u.push(parseFloat(e))
                            }
                            var r, i = "t,r,s,m,c".split(",");
                            for (r = 0; r < i.length; r++)
                                e = e.replace(new RegExp(i[r],"ig"), "|" + i[r]);
                            var s = e.split(/\|+/);
                            for (r = 0; r < s.length; r++)
                                if (s[r]) {
                                    var o = s[r].charAt(0)
                                        , u = [];
                                    switch (n.each(s[r].substr(1).split(/[, ]+/), t),
                                        o) {
                                        case "c":
                                        case "C":
                                            this.transform.push(["c", u]),
                                                this._matrix.center.apply(this._matrix, u);
                                            break;
                                        case "t":
                                        case "T":
                                            this.transform.push(["t", u]),
                                                this._matrix.translate.apply(this._matrix, u);
                                            break;
                                        case "r":
                                        case "R":
                                            this.transform.push(["r", u]),
                                                this._matrix.rotate.apply(this._matrix, u);
                                            break;
                                        case "s":
                                        case "S":
                                            1 == u.length && u.push(u[0]),
                                                this.transform.push(["s", u]),
                                                this._matrix.scale.apply(this._matrix, u);
                                            break;
                                        case "m":
                                        case "M":
                                            this.transform.push(["m", u]),
                                                this._matrix.transform.apply(this._matrix, [u])
                                    }
                                }
                        },
                        _parseMatrix: function() {
                            var e = this._matrix = new r;
                            n.each(this.transform, function(t) {
                                var n = t[0]
                                    , r = t[1];
                                switch (n) {
                                    case "c":
                                    case "C":
                                        e.center.apply(e, r);
                                        break;
                                    case "t":
                                    case "T":
                                        e.translate.apply(e, r);
                                        break;
                                    case "r":
                                    case "R":
                                        e.rotate.apply(e, r);
                                        break;
                                    case "s":
                                    case "S":
                                        e.scale.apply(e, r);
                                        break;
                                    case "m":
                                    case "M":
                                        e.transform.apply(e, r)
                                }
                            })
                        },
                        clone: function() {
                            var e = new s.Transform;
                            return e.transform = [],
                                n.each(this.transform, function(t) {
                                    e.transform.push([t[0], t[1].slice()])
                                }),
                                e._matrix = this._matrix.clone(),
                                e
                        },
                        add: function(e, n) {
                            n = n || 1;
                            var r = this.clone();
                            t(r.transform, e.transform);
                            for (var i = 0; i < r.transform.length; i++)
                                for (var s = r.transform[i][1], o = e.transform[i][1], u = 0; u < s.length; u++)
                                    s[u] += n * o[u];
                            return r._parseMatrix(),
                                r
                        },
                        getMatrix: function() {
                            return this._matrix.getMatrix()
                        },
                        getString: function() {
                            var e, t, n = [];
                            for (e = 0; e < this.transform.length; e++)
                                t = this.transform[e],
                                    n.push(t[0], t[1].join(","));
                            return n.join("")
                        },
                        transformed: function(e, t) {
                            return this._matrix.transformed(e, t)
                        },
                        inversed: function(e, t) {
                            return this._matrix.inversed(e, t)
                        }
                    });
                    var r = n.mkClass(function() {
                        this.m = [1, 0, 0, 1, 0, 0],
                            this.cx = this.cy = 0
                    }, {
                        clone: function() {
                            var e = new r;
                            return e.m = this.m.slice(),
                                e.cx = this.cx,
                                e.cy = this.cy,
                                e
                        },
                        center: function(e, t) {
                            this.cx = e,
                                this.cy = t
                        },
                        translate: function(e, t) {
                            this.transform([1, 0, 0, 1, e, t])
                        },
                        scale: function(e, t, n, r) {
                            n = n || this.cx,
                                r = r || this.cy,
                                this.transform([e, 0, 0, t, n * (1 - e), r * (1 - t)])
                        },
                        rotate: function(e, t, n) {
                            t = t || this.cx,
                                n = n || this.cy;
                            var r = e * Math.PI / 180
                                , i = Math.cos(r)
                                , s = Math.sin(r)
                                , o = t - i * t + s * n
                                , u = n - s * t - i * n;
                            this.transform([i, s, -s, i, o, u])
                        },
                        transform: function(e) {
                            var t = this.m
                                , n = e[0] * t[0] + e[2] * t[1]
                                , r = e[1] * t[0] + e[3] * t[1]
                                , i = e[0] * t[2] + e[2] * t[3]
                                , s = e[1] * t[2] + e[3] * t[3]
                                , o = e[0] * t[4] + e[2] * t[5] + e[4]
                                , u = e[1] * t[4] + e[3] * t[5] + e[5];
                            this.m[0] = n,
                                this.m[1] = r,
                                this.m[2] = i,
                                this.m[3] = s,
                                this.m[4] = o,
                                this.m[5] = u
                        },
                        getMatrix: function() {
                            return this.m
                        },
                        transformed: function(e, t) {
                            var n = this.m;
                            return {
                                x: n[0] * e + n[2] * t + n[4],
                                y: n[1] * e + n[3] * t + n[5]
                            }
                        },
                        inversed: function(e, t) {
                            var n = this.m
                                , r = n[1] * n[2] - n[0] * n[3];
                            return {
                                x: (n[2] * t - n[3] * e + n[3] * n[4] - n[2] * n[5]) / r,
                                y: (n[1] * e - n[0] * t + n[0] * n[5] - n[1] * n[4]) / r
                            }
                        }
                    })
                }(),
                function() {
                    function e(t, n, r, i, s, o, u, a, f, l) {
                        var c, h, p, d, v, m = Math, g = m.PI, y = 120 * g / 180, b = g / 180 * (+s || 0), w = [], E = function(e, t, n) {
                                var r = e * m.cos(n) - t * m.sin(n)
                                    , i = e * m.sin(n) + t * m.cos(n);
                                return {
                                    x: r,
                                    y: i
                                }
                            }
                            ;
                        if (l)
                            h = l[0],
                                p = l[1],
                                d = l[2],
                                v = l[3];
                        else {
                            c = E(t, n, -b),
                                t = c.x,
                                n = c.y,
                                c = E(a, f, -b),
                                a = c.x,
                                f = c.y;
                            var S = (t - a) / 2
                                , x = (n - f) / 2
                                , T = S * S / (r * r) + x * x / (i * i);
                            T > 1 && (T = m.sqrt(T),
                                r = T * r,
                                i = T * i);
                            var N = r * r
                                , C = i * i
                                , k = (o == u ? -1 : 1) * m.sqrt(m.abs((N * C - N * x * x - C * S * S) / (N * x * x + C * S * S)));
                            d = k * r * x / i + (t + a) / 2,
                                v = k * -i * S / r + (n + f) / 2,
                                h = m.asin(((n - v) / i).toFixed(9)),
                                p = m.asin(((f - v) / i).toFixed(9)),
                                h = d > t ? g - h : h,
                                p = d > a ? g - p : p,
                            0 > h && (h = 2 * g + h),
                            0 > p && (p = 2 * g + p),
                            u && h > p && (h -= 2 * g),
                            !u && p > h && (p -= 2 * g)
                        }
                        var L = p - h;
                        if (m.abs(L) > y) {
                            var A = p
                                , O = a
                                , M = f;
                            p = h + y * (u && p > h ? 1 : -1),
                                a = d + r * m.cos(p),
                                f = v + i * m.sin(p),
                                w = e(a, f, r, i, s, 0, u, O, M, [p, A, d, v])
                        }
                        L = p - h;
                        var _ = m.cos(h)
                            , D = m.sin(h)
                            , P = m.cos(p)
                            , H = m.sin(p)
                            , B = m.tan(L / 4)
                            , j = 4 / 3 * r * B
                            , F = 4 / 3 * i * B
                            , I = [t, n]
                            , q = [t + j * D, n - F * _]
                            , R = [a + j * H, f - F * P]
                            , U = [a, f];
                        if (q[0] = 2 * I[0] - q[0],
                                q[1] = 2 * I[1] - q[1],
                                l)
                            return [q, R, U].concat(w);
                        w = [q, R, U].concat(w).join().split(",");
                        for (var z = [], W = 0, X = w.length; X > W; W++)
                            z[W] = W % 2 ? E(w[W - 1], w[W], b).y : E(w[W], w[W + 1], b).x;
                        return z
                    }
                    function t(e, t, n, r, i, s) {
                        var o = 1 / 3
                            , u = 2 / 3;
                        return [o * e + u * n, o * t + u * r, o * i + u * n, o * s + u * r, i, s]
                    }
                    function n(t) {
                        var n, r = ["m", "M", "l", "L", "v", "V", "h", "H", "z", "Z", "c", "C", "q", "Q", "t", "T", "s", "S", "a", "A"];
                        for (n = 0; n < r.length; n++)
                            t = t.replace(new RegExp(r[n],"g"), "|" + r[n]);
                        var i, s, o, u, a, f, l, c, h, p, d = t.split("|"), v = 0, m = 0, g = [];
                        for (n = 1; n < d.length; n++) {
                            var y = d[n].charAt(0);
                            t = d[n].substr(1);
                            var b = t.replace(/\-/g, ",-").replace(/e,\-/g, "e-").split(/[, ]+/);
                            b.length > 0 && "" === b[0] && b.shift();
                            for (var w = 0; w < b.length; w++)
                                b[w] = parseFloat(b[w]);
                            for (; b.length > 0 && !isNaN(b[0]); ) {
                                var E = []
                                    , S = y;
                                switch (y) {
                                    case "M":
                                        v = b.shift(),
                                            m = b.shift(),
                                            E.push(v, m),
                                            S = "moveTo",
                                            y = "L";
                                        break;
                                    case "m":
                                        v += b.shift(),
                                            m += b.shift(),
                                            E.push(v, m),
                                            S = "moveTo",
                                            y = "l";
                                        break;
                                    case "L":
                                        v = b.shift(),
                                            m = b.shift(),
                                            E.push(v, m),
                                            S = "lineTo";
                                        break;
                                    case "l":
                                        v += b.shift(),
                                            m += b.shift(),
                                            E.push(v, m),
                                            S = "lineTo";
                                        break;
                                    case "v":
                                        m += b.shift(),
                                            E.push(v, m),
                                            S = "lineTo";
                                        break;
                                    case "V":
                                        m = b.shift(),
                                            E.push(v, m),
                                            S = "lineTo";
                                        break;
                                    case "h":
                                        v += b.shift(),
                                            E.push(v, m),
                                            S = "lineTo";
                                        break;
                                    case "H":
                                        v = b.shift(),
                                            E.push(v, m),
                                            S = "lineTo";
                                        break;
                                    case "z":
                                    case "Z":
                                        S = "closePath";
                                        break;
                                    case "c":
                                        E.push(v + b.shift(), m + b.shift(), v + b.shift(), m + b.shift()),
                                            v += b.shift(),
                                            m += b.shift(),
                                            E.push(v, m),
                                            S = "bezierCurveTo";
                                        break;
                                    case "C":
                                        E.push(b.shift(), b.shift(), b.shift(), b.shift()),
                                            v = b.shift(),
                                            m = b.shift(),
                                            E.push(v, m),
                                            S = "bezierCurveTo";
                                        break;
                                    case "q":
                                        E.push(v + b.shift(), m + b.shift()),
                                            v += b.shift(),
                                            m += b.shift(),
                                            E.push(v, m),
                                            S = "quadraticCurveTo";
                                        break;
                                    case "Q":
                                        E.push(b.shift(), b.shift()),
                                            v = b.shift(),
                                            m = b.shift(),
                                            E.push(v, m),
                                            S = "quadraticCurveTo";
                                        break;
                                    case "t":
                                        c = v,
                                            h = m,
                                            p = g[g.length - 1],
                                        p && "quadraticCurveTo" === p[0] && (c = v + (v - p[1][0]),
                                            h = m + (m - p[1][1])),
                                            v += b.shift(),
                                            m += b.shift(),
                                            E.push(c, h, v, m),
                                            S = "quadraticCurveTo";
                                        break;
                                    case "T":
                                        c = v,
                                            h = m,
                                            p = g[g.length - 1],
                                        p && "quadraticCurveTo" === p[0] && (c = v + (v - p[1][0]),
                                            h = m + (m - p[1][1])),
                                            v = b.shift(),
                                            m = b.shift(),
                                            E.push(c, h, v, m),
                                            S = "quadraticCurveTo";
                                        break;
                                    case "s":
                                        c = v,
                                            h = m,
                                            p = g[g.length - 1],
                                        p && "bezierCurveTo" === p[0] && (c = v + (v - p[1][2]),
                                            h = m + (m - p[1][3])),
                                            E.push(c, h, b.shift(), b.shift()),
                                            v += b.shift(),
                                            m += b.shift(),
                                            E.push(v, m),
                                            S = "bezierCurveTo";
                                        break;
                                    case "S":
                                        c = v,
                                            h = m,
                                            p = g[g.length - 1],
                                        p && "bezierCurveTo" === p[0] && (c = v + (v - p[1][2]),
                                            h = m + (m - p[1][3])),
                                            E.push(c, h, b.shift(), b.shift()),
                                            v = b.shift(),
                                            m = b.shift(),
                                            E.push(v, m),
                                            S = "bezierCurveTo";
                                        break;
                                    case "a":
                                        for (i = b.shift(),
                                                 s = b.shift(),
                                                 o = b.shift(),
                                                 u = b.shift(),
                                                 a = b.shift(),
                                                 f = v,
                                                 l = m,
                                                 v += b.shift(),
                                                 m += b.shift(),
                                                 S = "bezierCurveTo",
                                                 E = e(f, l, i, s, o, u, a, v, m); E.length > 6; )
                                            g.push([S, E.splice(0, 6)]);
                                        break;
                                    case "A":
                                        for (i = b.shift(),
                                                 s = b.shift(),
                                                 o = b.shift(),
                                                 u = b.shift(),
                                                 a = b.shift(),
                                                 f = v,
                                                 l = m,
                                                 v = b.shift(),
                                                 m = b.shift(),
                                                 S = "bezierCurveTo",
                                                 E = e(f, l, i, s, o, u, a, v, m); E.length > 6; )
                                            g.push([S, E.splice(0, 6)])
                                }
                                g.push([S, E])
                            }
                            ("z" == y || "Z" == y) && g.push(["closePath", []])
                        }
                        return g
                    }
                    function r(n) {
                        for (var r, i, s, o, u = [], a = 0; a < n.length; a++) {
                            var f = n[a][0]
                                , l = n[a][1].slice();
                            switch (f) {
                                case "moveTo":
                                    f = "moveTo",
                                        l = [l[0], l[1], l[0], l[1], l[0], l[1]];
                                    break;
                                case "lineTo":
                                    f = "bezierCurveTo",
                                        l = [r, i, l[0], l[1], l[0], l[1]];
                                    break;
                                case "A":
                                    f = "bezierCurveTo",
                                        l = e(0, [r, i].concat(u.slice(1)));
                                    break;
                                case "quadraticCurveTo":
                                    f = "bezierCurveTo",
                                        l = t(r, i, l[0], l[1], l[2], l[3]);
                                    break;
                                case "closePath":
                                    f = "bezierCurveTo",
                                        l = [r, i, s, o, s, o]
                            }
                            u.push([f, l]);
                            var c = l.length;
                            c && (r = l[c - 2],
                                i = l[c - 1]),
                            0 === a && (s = r,
                                o = i)
                        }
                        return u
                    }
                    function i(e) {
                        var t = [];
                        if (e)
                            for (var n = 0; n < e.length; n++)
                                t.push([e[n][0], e[n][1].slice()]);
                        return t
                    }
                    function o(e, t) {
                        var n, r, i, s, o, u, a = Math.max(e.length, t.length);
                        o = e[0] && e[0][1] || t[0][1],
                            u = t[0] && t[0][1] || e[0][1],
                            n = o[o.length - 2],
                            r = o[o.length - 1],
                            i = u[u.length - 2],
                            s = u[u.length - 1];
                        for (var f = 0; a > f; f++)
                            o = e[f],
                                u = t[f],
                                o ? u ? o[0] != u[0] && ("moveTo" == u[0] ? (o = [u[0], [n, r, n, r, n, r]],
                                    e.splice(f, 0, o)) : "moveTo" == o[0] && (u = [o[0], [i, s, i, s, i, s]],
                                    t.splice(f, 0, u))) : (u = [o[0], [i, s, i, s, i, s]],
                                    t.splice(f, 0, u)) : (o = [u[0], [n, r, n, r, n, r]],
                                    e.splice(f, 0, o)),
                                o = o[1],
                                n = o[o.length - 2],
                                r = o[o.length - 1],
                                u = u[1],
                                i = u[u.length - 2],
                                s = u[u.length - 1];
                        return f
                    }
                    var u = s.util;
                    s.Path = u.mkClass(function(e) {
                        this.path = [],
                        e && (this.path = n(e))
                    }, {
                        clone: function() {
                            var e = new s.Path;
                            return e.path = i(this.path),
                                e.curve = this.curve,
                                e
                        },
                        push: function(e) {
                            var t = [].slice.call(arguments, 1);
                            this.path.push([e, t]),
                                this.curve = !1
                        },
                        getLastPosition: function() {
                            for (var e = 0, t = 0, n = this.path.length - 1; n >= 0; n--) {
                                var r = this.path[n][1].length;
                                if (r > 1) {
                                    e = this.path[n][1][r - 2],
                                        t = this.path[n][1][r - 1];
                                    break
                                }
                            }
                            return {
                                x: e,
                                y: t
                            }
                        },
                        arcTo: function(t, n, r, i, s, o, u) {
                            for (var a = this.getLastPosition(), f = e(a.x, a.y, t, n, r, i, s, o, u); f.length >= 6; )
                                this.path.push(["bezierCurveTo", f.splice(0, 6)]);
                            this.curve = !1
                        },
                        getVertex: function() {
                            for (var e = this.path, t = [], n = [], r = 0; r < e.length; r++) {
                                var i = e[r][1]
                                    , s = i.length;
                                s > 1 ? n.push([i[s - 2], i[s - 1]]) : n.length && (t.push({
                                    polygon: !0,
                                    vertex: n
                                }),
                                    n = [])
                            }
                            return t
                        },
                        add: function(e, t) {
                            t = t || 1;
                            var n = this.clone();
                            n.curve || (n.curve = !0,
                                n.path = r(n.path)),
                            e.curve || (e.curve = !0,
                                e.path = r(e.path));
                            for (var i, s, u = o(n.path, e.path), a = 0; u > a; a++) {
                                i = n.path[a],
                                    s = e.path[a];
                                for (var f = 0; f < i[1].length; f++)
                                    i[1][f] += t * s[1][f]
                            }
                            return n
                        },
                        getString: function() {
                            var e = [];
                            return u.each(this.path, function(t) {
                                var n = "";
                                switch (t[0]) {
                                    case "moveTo":
                                        n = "M";
                                        break;
                                    case "lineTo":
                                        n = "L";
                                        break;
                                    case "closePath":
                                        n = "Z";
                                        break;
                                    case "bezierCurveTo":
                                        n = "C";
                                        break;
                                    case "quadraticCurveTo":
                                        n = "Q";
                                        break;
                                    default:
                                        n = t[0]
                                }
                                e.push(n + t[1].join(","))
                            }),
                                e.join("")
                        }
                    })
                }(),
                function() {
                    function e(e) {
                        n.prototype[e] = function() {
                            var t = [].slice.call(arguments);
                            this.each(function(n) {
                                n[e].apply(n, t)
                            })
                        }
                    }
                    var t = s
                        , n = t.Collection = function() {
                            var e, t;
                            t = Array.prototype.slice.apply(arguments),
                                e = [],
                                e.push.apply(e, t);
                            for (var r in n.prototype)
                                n.prototype.hasOwnProperty(r) && (e[r] = n.prototype[r]);
                            return e
                        }
                        ;
                    n.prototype.each = function(e) {
                        for (var t = 0; t < this.length; t++)
                            e(this[t], t)
                    }
                        ,
                        n.addMethod = function(t) {
                            t = t.split(/[, ]+/);
                            for (var n = 0; n < t.length; n++)
                                e(t[n])
                        }
                }(),
                function() {
                    var e = s
                        , t = e.util
                        , n = t.is
                        , r = 1
                        , i = e.Node = t.mkClass(function(t) {
                            this.children = new e.Collection,
                                this.parent = null ,
                                this.type = t || "node",
                                this._attrs = {},
                                this._attrsCompiled = {},
                                this._datas = {},
                                this._colorKey = (new e.Color(r++)).hex()
                        }, {
                            method: function(e) {
                                for (var t in e)
                                    this[t] = e[t];
                                return this
                            },
                            id: function(e) {
                                return arguments.length ? (this._id = "" + e,
                                    this) : this._id
                            },
                            $: function(e, t) {
                                var n = arguments.length;
                                return n ? (1 == n && (t = e,
                                    e = "_id"),
                                    this.filter(function() {
                                        return this[e] == t
                                    }, !0)) : void 0
                            },
                            filter: function(t, n) {
                                for (var r = new e.Collection, i = 0, s = this.children.length; s > i; i++) {
                                    var o = this.children[i];
                                    if (t.call(o) && (r.push(o),
                                            n))
                                        return o;
                                    var u = o.filter(t, n);
                                    if (u) {
                                        if (n)
                                            return u;
                                        u.length && r.push.apply(r, u)
                                    }
                                }
                                return n ? r[0] : r
                            },
                            shift: t.shift,
                            show: function() {
                                return this.display(!0)
                            },
                            hide: function() {
                                return this.display(!1)
                            },
                            visible: function() {
                                return this.display() && (!this.parent && "canvas" === this.type || this.parent && this.parent.visible())
                            },
                            append: function(e) {
                                return e && (e.remove(),
                                    e.parent = this,
                                    this.children.push(e),
                                    this.dirty()),
                                    this
                            },
                            appendTo: function(e) {
                                return e && e.append(this),
                                    this
                            },
                            contains: function(e) {
                                if (!e)
                                    return !1;
                                for (; e; ) {
                                    if (e == this)
                                        return !0;
                                    e = e.parent
                                }
                                return !1
                            },
                            _afterRemove: function() {},
                            remove: function() {
                                if (this.parent) {
                                    this.empty();
                                    for (var e = this.parent.children, t = 0; t < e.length; t++)
                                        if (e[t] == this) {
                                            e.splice(t, 1);
                                            break
                                        }
                                    this._afterRemove(),
                                        this.parent = null
                                }
                                return this.dirty(),
                                    this
                            },
                            empty: function() {
                                for (var e = this.children, t = 0; t < e.length; t++)
                                    e[t]._afterRemove(),
                                        e[t].empty(),
                                        e[t].parent = null ;
                                return e.length = 0,
                                    this.dirty(),
                                    this
                            },
                            clone: function() {
                                return null
                            },
                            toFront: function() {
                                var e, t = 0, n = this.parent.children;
                                for (e = 0; e < n.length; e++)
                                    t = Math.max(t, n[e].zIndex());
                                return this.zIndex(++t),
                                    this
                            },
                            toBack: function() {
                                var e, t = Number.MAX_VALUE, n = this.parent.children;
                                for (e = 0; e < n.length; e++)
                                    t = Math.min(t, n[e].zIndex());
                                return this.zIndex(--t),
                                    this
                            },
                            _compileAttrs: function() {},
                            _clearCache: function() {},
                            compileAttrs: function() {
                                this._dirtyAttr && (this._dirtyAttr = !1,
                                    this._compileAttrs(),
                                    this._clearCache()),
                                    t.each(this.children, function(e) {
                                        e.compileAttrs()
                                    })
                            },
                            _getChildrenByZIndex: function() {
                                var e, t, n = [], r = 0;
                                return this.children.each(function(i) {
                                    for (t = i.zIndex(),
                                             e = r; e > 0 && !(n[e - 1].zIndex() <= t); e--)
                                        ;
                                    n.splice(e, 0, i),
                                        r++
                                }),
                                    n
                            },
                            draw: function() {
                                return this.visible() && t.each(this._getChildrenByZIndex(), function(e) {
                                    e.draw()
                                }),
                                    this
                            },
                            dirty: function(e) {
                                return e && (this._dirtyAttr = !0),
                                    this
                            }
                        });
                    i.addGetAndSet = function(e, r) {
                        e = e.prototype;
                        var i = "_" + r + "s"
                            , s = r.charAt(0).toUpperCase() + r.slice(1)
                            , o = "get" + s
                            , u = "_" + o
                            , a = "set" + s
                            , f = "_" + a;
                        e[u] = e[f] = function() {}
                            ,
                            e[o] = function(e) {
                                var t = this[u](e);
                                return n(t, "undefined") && (t = this[i][e]),
                                    t
                            }
                            ,
                            e[a] = function(e, n) {
                                return t.isEqual(this[o](e), n) || (this[f](e, n) || (this[i][e] = n),
                                    this.dirty(!0)),
                                    this
                            }
                            ,
                            e[r] = function(e, t) {
                                var r, s, u, f = this[i], c = {};
                                if (n(e, "null") || n(e, "undefined")) {
                                    for (u in f)
                                        c[u] = this[o](u);
                                    return c
                                }
                                if (n(t, "null") || n(t, "undefined")) {
                                    if (n(e, "string")) {
                                        var h = e.split(/[, ]+/);
                                        for (r = 0,
                                                 s = h.length; s > r; r++)
                                            e = h[r],
                                                c[e] = this[o](e);
                                        return s - 1 ? c : c[h[0]]
                                    }
                                    if (n(e, "array")) {
                                        for (c = {},
                                                 r = 0,
                                                 s = e.length; s > r; r++)
                                            c[e[r]] = this[o](e[r]);
                                        return c
                                    }
                                }
                                if (n(e, "object"))
                                    for (u in e)
                                        this[a](u, e[u]);
                                else
                                    this[a](e, t);
                                return this
                            }
                    }
                        ,
                        i.addGetSet = function(e, r, s) {
                            if (n(r, "object"))
                                for (var o in r)
                                    i.addGetSet(e, o, r[o]);
                            else {
                                if (n(r, "string")) {
                                    if (r = r.split(/[, ]+/),
                                        r.length > 1) {
                                        for (var u = 0; u < r.length; u++)
                                            i.addGetSet(e, r[u], s);
                                        return
                                    }
                                    r = r[0]
                                }
                                if (n(e, "array"))
                                    return void t.each(e, function(e) {
                                        i.addGetSet(e, r, s)
                                    });
                                e = e.prototype;
                                var a = "Attr"
                                    , f = "set" + a
                                    , l = "get" + a;
                                e[t.camelize(r)] = function(e) {
                                    var t = arguments.length;
                                    return t ? (t > 1 && (e = Array.prototype.slice.call(arguments)),
                                        this[f](r, e),
                                        this) : (e = this[l](r),
                                    n(e, "undefined") && (e = s),
                                        e)
                                }
                            }
                        }
                        ,
                        i.addGetAndSet(i, "attr"),
                        i.addGetAndSet(i, "data"),
                        i.addGetSet(i, "display", !0),
                        i.addGetSet(i, "z-index", 0),
                        e.Collection.addMethod("show hide remove attr")
                }(),
                function() {
                    var e = s
                        , t = e.util
                        , n = {
                            _getEvents: function(e) {
                                var t = this._events;
                                t || (t = this._events = {});
                                var n = t[e];
                                return n || (n = t[e] = []),
                                    n
                            },
                            on: function(e, n, r) {
                                var i = this;
                                return r = r || this,
                                    t.each(e.split(/[, ]/), function(e) {
                                        var t = i._getEvents(e);
                                        t.push([n, r])
                                    }),
                                    this
                            },
                            off: function(e, n) {
                                var r = this;
                                return t.each(e.split(/[, ]/), function(e) {
                                    var t = r._getEvents(e);
                                    if (n) {
                                        for (var i = 0; i < t.length; i++)
                                            if (t[i][0] == n) {
                                                t.splice(i, 1);
                                                break
                                            }
                                    } else
                                        t.length = 0
                                }),
                                    this
                            },
                            fire: function(e, t) {
                                for (var n = this._getEvents(e), r = 0; r < n.length; r++) {
                                    var i = n[r];
                                    if (i && (i[0].call(i[1], t),
                                        t && t.cancelBubble))
                                        break
                                }
                                return t && t.cancelBubble || !this.parent || !this.parent.fire || this.parent.fire(e, t),
                                    this
                            }
                        };
                    e.EventEmitter = t.mkClass(n),
                        t.extend(e.Node.prototype, n, {
                            hasEventListener: function() {
                                var e = this._events;
                                for (var t in e)
                                    if (e[t].length)
                                        return !0;
                                return this.parent && "group" == this.parent.type ? this.parent.hasEventListener() : !1
                            }
                        });
                    var r = ["mousedown", "mousemove", "mouseover", "mouseup", "mouseout", "click", "dbclick", "touchstart", "touchmove", "touchend", "tap", "dbtap"];
                    t.each(r, function(t) {
                        e.Node.prototype[t] = function(e) {
                            return this.on(t, e),
                                this
                        }
                            ,
                            e.Node.prototype["un" + t] = function(e) {
                                return this.off(t, e),
                                    this
                            }
                            ,
                            e.Collection.addMethod(t + " un" + t)
                    }),
                        e.Collection.addMethod("on off"),
                        e.Node.prototype.drag = function(e, t, n) {
                            var r = this;
                            this.undrag();
                            var i = r._dragConfig = {}
                                , s = !!document.attachEvent
                                , o = function(e) {
                                    return e.touches && (e = e.touches[0]),
                                    {
                                        x: e.clientX - i.point.x,
                                        y: e.clientY - i.point.y
                                    }
                                }
                                ;
                            return i.onDrag = function(e) {
                                if (e = e || window.event,
                                        i.mousedown) {
                                    var n = o(e);
                                    t && t.call(r, e, n.x, n.y)
                                }
                            }
                                ,
                                i.onEnd = function(e) {
                                    if (e = e || window.event,
                                            i.mousedown) {
                                        i.mousedown = !1;
                                        var t = o(e);
                                        n && n.call(r, e, t.x, t.y),
                                            i.removeEventListener()
                                    }
                                }
                                ,
                                i.onBeg = function(t) {
                                    i.mousedown = !0,
                                        i.point = {
                                            x: t.rel.clientX,
                                            y: t.rel.clientY
                                        },
                                        s ? (document.attachEvent("onmousemove", i.onDrag),
                                            document.attachEvent("onmouseup", i.onEnd),
                                            i.removeEventListener = function() {
                                                document.detachEvent("onmousemove", i.onDrag),
                                                    document.detachEvent("onmouseup", i.onEnd)
                                            }
                                        ) : (document.addEventListener("mousemove", i.onDrag, !1),
                                            document.addEventListener("touchmove", i.onDrag, !1),
                                            document.addEventListener("mouseup", i.onEnd, !1),
                                            document.addEventListener("touchend", i.onEnd, !1),
                                            i.removeEventListener = function() {
                                                document.removeEventListener("mousemove", i.onDrag),
                                                    document.removeEventListener("touchmove", i.onDrag),
                                                    document.removeEventListener("mouseup", i.onEnd),
                                                    document.removeEventListener("touchend", i.onEnd)
                                            }
                                        ),
                                    e && e.call(r, t)
                                }
                                ,
                                r.on("mousedown touchstart", i.onBeg),
                                this
                        }
                        ,
                        e.Node.prototype.undrag = function() {
                            var e = this._dragConfig;
                            return e && (e.removeEventListener && e.removeEventListener(),
                                this.off("mousedown touchstart", e.onBeg),
                                this._dragConfig = null ),
                                this
                        }
                        ,
                        e.Collection.addMethod("drag undrag")
                }(),
                function() {
                    var e = s
                        , t = e.util
                        , n = e.DBCLICKWINDOW = 400
                        , r = e.DBTAPWINDOW = 400
                        , i = e.Event = function(e, t, n, r, s) {
                            this.type = e,
                                this.x = t,
                                this.y = n,
                                this.target = r,
                                this.rel = s,
                                this.time = +(new Date),
                                this.button = s.button,
                            r && r.__hitArea && (this.hitArea = r.__hitArea),
                                this.clone = function(e, t) {
                                    return new i(e || this.type,this.x,this.y,t || this.target,this.rel)
                                }
                        }
                        , o = ["mousedown", "mousemove", "mouseup", "mouseout", "touchstart", "touchmove", "touchend"]
                        , u = e.Canvas = e.Node.extend(function(n, r, i) {
                            u.$super(this, "canvas");
                            var s = t.is(n, "string") ? document.getElementById(n) : n || document.body
                                , o = {};
                            o = 3 == arguments.length ? {
                                width: r,
                                height: i,
                                zoom: t.PIXEL_RATIO
                            } : e.util.extend(r || {}, {
                                zoom: t.PIXEL_RATIO
                            });
                            var a = this.node = document.createElement("div");
                            a.style.cssText = "position:relative;-moz-user-select:none;-webkit-user-select:none;z-index:0;",
                                a.unselectable = "on",
                                a.onselectstart = function() {
                                    return !1
                                }
                                ,
                                s.appendChild(a),
                                this._init(),
                                this.attr(o)
                        }, {
                            _init: function() {
                                var e = this;
                                if (t.canvas) {
                                    t.each(o, function(n) {
                                        var r = t.throttle(function(t) {
                                            t = e._crtEvent(n, t),
                                                e["_" + n](t)
                                        });
                                        e.node.addEventListener(n, function(e) {
                                            r(t.cloneEvent(e))
                                        }, !1)
                                    });
                                    var n = document.createElement("img");
                                    n.setAttribute("draggable", "false"),
                                        n.ondragstart = function() {
                                            return !1
                                        }
                                        ,
                                        n.style.cssText = 'position:absolute;left:0;top:0;width:100%;height:100%;z-index:999;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";-webkit-filter:opacity(0);filter:opacity(0);opacity:0;',
                                        this.node.appendChild(n);
                                    var r = !0;
                                    this.node.addEventListener("contextmenu", function() {
                                        n.src = e.toDataUrl(r)
                                    })
                                }
                            },
                            _resize: function() {
                                var e = this.width()
                                    , n = this.height()
                                    , r = this.zoom()
                                    , i = (r[0] || 1) * e
                                    , s = (r[1] || 1) * n;
                                this.node.style.width = e + "px",
                                    this.node.style.height = n + "px",
                                    t.each(this.children, function(t) {
                                        t.node.width = i,
                                            t.node.height = s,
                                            t.node.style.width = e + "px",
                                            t.node.style.height = n + "px",
                                            t.draw()
                                    })
                            },
                            _setAttr: function(e, n) {
                                return "width" == e || "height" == e || "zoom" == e ? ("zoom" == e && (t.is(n, "array") || (n = [n || 1, n || 1])),
                                    this._attrs[e] = n,
                                    this._resize(),
                                    !0) : void 0
                            },
                            clear: function() {
                                return t.each(this.children, function(e) {
                                    e.clear()
                                }),
                                    this
                            },
                            remove: function() {
                                this.node.parentNode.removeChild(this.node),
                                    this._afterRemove()
                            },
                            _crtEvent: function(e, t) {
                                var n, r, s = this.node.getBoundingClientRect();
                                t.touches && t.touches[0] ? (n = t.touches[0].clientX - s.left || 0,
                                    r = t.touches[0].clientY - s.top || 0) : (n = t.clientX - s.left || 0,
                                    r = t.clientY - s.top || 0);
                                for (var o, u = this.hidenLayer().context(), a = this.children, f = a.length - 1; f >= 0 && !(o = a[f]._isPointInShape(n, r, u)); f--)
                                    ;
                                return new i(e,n,r,o || this,t)
                            },
                            _fireEvent: function(e) {
                                e.target ? e.target.fire(e.type, e) : t.each(this.children, function(t) {
                                    t.contains(e.target) || t.fire(e.type, e)
                                })
                            },
                            _mousemove: function(e) {
                                if (this._fireEvent(e),
                                    this._currentTarget != e.target) {
                                    var t = e.clone("mouseover");
                                    t.relatedTarget = this._currentTarget,
                                        this._fireEvent(t),
                                    this._currentTarget && (t = e.clone("mouseout", this._currentTarget),
                                        t.relatedTarget = e.target,
                                        this._fireEvent(t)),
                                        this._currentTarget = e.target
                                }
                            },
                            _mouseout: function(e) {
                                if (this._currentTarget) {
                                    var t = e.clone("mouseout", this._currentTarget);
                                    this._fireEvent(t),
                                        this._currentTarget = !1
                                } else
                                    this._fireEvent(e)
                            },
                            _mousedown: function(e) {
                                this._fireEvent(e),
                                    this._mouseDownEvent = e
                            },
                            _mouseup: function(e) {
                                if (this._fireEvent(e),
                                    this._mouseDownEvent && this._mouseDownEvent.target == e.target) {
                                    var t = e.clone("click");
                                    this._fireEvent(t),
                                    this._inDbClickWindow && this._fireEvent(e.clone("dbclick")),
                                        this._inDbClickWindow = !0;
                                    var r = this;
                                    setTimeout(function() {
                                        r._inDbClickWindow = !1
                                    }, n)
                                }
                                this._mouseDownEvent = !1
                            },
                            _touchstart: function(e) {
                                this._fireEvent(e),
                                    this._touchStartEvent = e
                            },
                            _touchmove: function(e) {
                                if (this._fireEvent(e),
                                    this._currentTarget != e.target) {
                                    var t = e.clone("touchover");
                                    this._fireEvent(t),
                                    this._currentTarget && (t = e.clone("touchout", this._currentTarget),
                                        this._fireEvent(t)),
                                        this._currentTarget = e.target
                                }
                            },
                            _touchend: function(e) {
                                if (this._fireEvent(e),
                                    this._touchStartEvent && this._touchStartEvent.target == e.target) {
                                    var t = e.clone("tap");
                                    this._fireEvent(t),
                                    this._inDbTapWindow && this._fireEvent(e.clone("dbtap")),
                                        this._inDbTapWindow = !0;
                                    var n = this;
                                    setTimeout(function() {
                                        n._inDbTapWindow = !1
                                    }, r)
                                }
                                this._touchStartEvent = !1
                            }
                        });
                    e.Node.addGetSet(u, {
                        width: 300,
                        height: 150,
                        zoom: [1, 1]
                    })
                }(),
                function() {
                    var e = s
                        , t = e.util
                        , n = e.Layer = e.Node.extend(function(e) {
                            n.$super(this, "layer");
                            var t = this.node = document.createElement("canvas");
                            this._init(e),
                                this.canvas = e,
                                this._context = t.getContext("2d"),
                                this._readyFns = [],
                                e.append(this)
                        }, {
                            _init: function(e) {
                                var t = e.width()
                                    , n = e.height()
                                    , r = e.zoom();
                                this.node.width = (r[0] || 1) * t,
                                    this.node.height = (r[1] || 1) * n,
                                    this.node.style.cssText = "position:absolute;left:0;top:0;width:" + t + "px;height:" + n + "px;",
                                    e.node.appendChild(this.node)
                            },
                            remove: function(e) {
                                return this.$base("remove"),
                                e && this.node.parentNode.removeChild(this.node),
                                    this
                            },
                            _setAttr: function(e, t) {
                                switch (e) {
                                    case "display":
                                        return this._attrs.display = t,
                                            this.node.style.display = t ? "block" : "none",
                                            !0;
                                    case "z-index":
                                        return this._attrs["z-index"] = t,
                                            this.node.style.zIndex = t,
                                            !0
                                }
                            },
                            context: function() {
                                return this._context
                            },
                            _draw: function() {
                                if (this.compileAttrs(),
                                        this.parent) {
                                    var e = this.parent.zoom()
                                        , t = this.context();
                                    t.setTransform(e[0], 0, 0, e[1], 0, 0),
                                        t.clearRect(0, 0, this.parent.width(), this.parent.height()),
                                        this.$base("draw")
                                }
                            },
                            draw: function(t) {
                                if (t)
                                    this._draw();
                                else if (!this._drawTimer) {
                                    var n, r = this, i = this._readyFns;
                                    this._drawTimer = !0,
                                        e.Animate.requestAnimFrame(function() {
                                            for (r._drawTimer = null ,
                                                     r._draw(); n = i.pop(); )
                                                n()
                                        })
                                }
                            },
                            clear: function() {
                                return this.empty(),
                                    this
                            },
                            _isPointInShape: function(e, t, n) {
                                this.compileAttrs();
                                for (var r = this.children, i = r.length - 1; i >= 0; i--) {
                                    var s = r[i]._isPointInShape(e, t, n, e, t);
                                    if (s)
                                        return s
                                }
                            },
                            getImageData: function(e, t, n, r, i) {
                                var s = this.parent.zoom();
                                if (i || 1 === s[0] && 1 === s[1])
                                    return this.context().getImageData(e, t, n, r);
                                var o, u = this.context().getImageData(e, t, n * s[0], r * s[1]), a = this.context().createImageData(n, r), f = 0;
                                for (t = 0; r > t; t++)
                                    for (o = (s[1] * t << 0) * u.width,
                                             e = 0; n > e; e++) {
                                        var l = o << 2;
                                        a.data[f++] = u.data[l++],
                                            a.data[f++] = u.data[l++],
                                            a.data[f++] = u.data[l++],
                                            a.data[f++] = u.data[l++],
                                            o += s[0]
                                    }
                                return a
                            }
                        });
                    t.extend(e.Canvas.prototype, {
                        layer: function() {
                            return new n(this)
                        },
                        lastLayer: function() {
                            var e = this.children.length;
                            return e ? this.children[e - 1] : this.layer()
                        },
                        hidenLayer: function() {
                            return this._hidenLayer || (this._hidenLayer = (new n(this)).remove(!0)),
                                this._hidenLayer
                        },
                        getImageData: function(e, n, r, i, s, o) {
                            if (arguments.length < 4 && (r = this.width(),
                                    i = this.height()),
                                arguments.length < 2 && (e = 0,
                                    n = 0),
                                    s) {
                                var u = this.zoom();
                                r *= u[0],
                                    i *= u[1]
                            }
                            var a, f, l;
                            return t.each(this._getChildrenByZIndex(), function(t) {
                                if (t.visible())
                                    if (a) {
                                        var u = t.getImageData(e, n, r, i, s, o).data
                                            , h = a.data;
                                        for (f = 0; f < h.length; f += 4) {
                                            var p = u[f + 3] / 255
                                                , d = h[f + 3] / 255;
                                            if (0 !== p) {
                                                for (l = f; f + 3 > l; l++)
                                                    h[l] = u[l] * p + h[l] * (1 - p);
                                                h[f + 3] = 255 * (p + (1 - p) * d)
                                            }
                                        }
                                    } else if (a = t.getImageData(e, n, r, i, s, o),
                                            o) {
                                        var v = a.data;
                                        for (f = 0; f < v.length; f += 4) {
                                            for (l = f; f + 3 > l; l++)
                                                v[l] = (v[l] / 255 - 1) * v[f + 3] + 255;
                                            v[f + 3] = 255
                                        }
                                    }
                            }),
                            a || (a = this.layer().getImageData(e, n, r, i, s, o)),
                                a
                        },
                        toDataUrl: function(e) {
                            var t = this.getImageData(0, 0, this.width(), this.height(), !0, e)
                                , n = this.hidenLayer();
                            return n.context().putImageData(t, 0, 0),
                                n.node.toDataURL.apply(n.node, arguments)
                        }
                    }),
                        e.Node.prototype.ready = function(e) {
                            var n = this;
                            e = t.bind(e, n);
                            var r = function() {
                                    setTimeout(function() {
                                        e()
                                    })
                                }
                                ;
                            if ("canvas" === n.type)
                                n = n.lastLayer();
                            else
                                for (; n && "layer" != n.type; )
                                    n = n.parent;
                            return n && n._readyFns.push(r),
                                n.dirty(),
                                this
                        }
                }(),
                function() {
                    var e = s
                        , t = e.util
                        , n = e.Group = e.Node.extend(function(e) {
                            n.$super(this, "group"),
                                e.append(this),
                                this.canvas = e.canvas
                        }, {
                            context: function() {
                                return this.parent.context()
                            },
                            _isPointInShape: function(e, t, n, r, i) {
                                if (this.visible()) {
                                    n.save(),
                                        this._beforeDraw(n);
                                    var s = this._attrs.transform;
                                    s && (s = s.inversed(r, i),
                                        r = s.x,
                                        i = s.y);
                                    for (var o = this.children, u = o.length - 1; u >= 0; u--) {
                                        var a = o[u]._isPointInShape(e, t, n, r, i);
                                        if (a)
                                            return a
                                    }
                                    n.restore()
                                }
                            },
                            _getAttr: function(e) {
                                var t, n = this._attrs;
                                switch (e) {
                                    case "translate":
                                    case "rotate":
                                    case "scale":
                                    case "transform":
                                        var r = n.transform;
                                        return r && (r = r.getString()),
                                            r;
                                    case "opacity":
                                        return n[e];
                                    default:
                                        return n[e]
                                }
                                return t
                            },
                            _setAttr: function(n, r) {
                                var i = this._attrs;
                                switch (n) {
                                    case "translate":
                                        i.transform = i.transform || new e.Transform,
                                            i.transform.parseStr("t" + r.join(","));
                                        break;
                                    case "rotate":
                                        i.transform = i.transform || new e.Transform,
                                            i.transform.parseStr("r" + r);
                                        break;
                                    case "scale":
                                        i.transform = i.transform || new e.Transform,
                                            i.transform.parseStr("s" + r);
                                        break;
                                    case "transform":
                                        t.is(r, "string") && (r = new e.Transform(r)),
                                            i[n] = r;
                                        break;
                                    case "opacity":
                                        i[n] = r;
                                        break;
                                    default:
                                        i[n] = r
                                }
                                return !0
                            },
                            _beforeDraw: function(e) {
                                var t = this._attrs.transform;
                                t && e.transform.apply(e, t.getMatrix());
                                var n = this.opacity();
                                1 > n && (e.globalAlpha = n)
                            },
                            draw: function() {
                                if (this.visible()) {
                                    var t = this.context();
                                    t.save(),
                                        t.beginPath(),
                                        this._beforeDraw(t, this),
                                        e.Node.prototype.draw.call(this, t),
                                        t.restore()
                                }
                            }
                        });
                    e.Node.addGetSet(e.Group, "opacity transform translate rotate scale"),
                        t.extend([e.Layer.prototype, e.Group.prototype], {
                            group: function() {
                                return new e.Group(this)
                            }
                        }),
                        t.extend(e.Canvas.prototype, {
                            group: function() {
                                return new e.Group(this.lastLayer())
                            }
                        })
                }(),
                function() {
                    var e = s
                        , t = {
                            LINECAP: {
                                b: "butt",
                                r: "round",
                                s: "square"
                            },
                            LINEJOIN: {
                                r: "round",
                                b: "bevel",
                                m: "miter"
                            },
                            TEXTALIGN: {
                                s: "start",
                                e: "end",
                                l: "left",
                                r: "right",
                                c: "center"
                            },
                            BASELINE: {
                                t: "top",
                                h: "hanging",
                                m: "middle",
                                a: "alphabetic",
                                i: "ideographic",
                                b: "bottom"
                            }
                        }
                        , n = {
                            path: [],
                            "global-alpha": 1,
                            "global-composite-operation": "source-over",
                            "line-width": 1,
                            "line-cap": t.LINECAP.b,
                            "line-join": t.LINEJOIN.m,
                            "miter-limit": 10,
                            stroke: "black",
                            fill: "black",
                            "fill-opacity": 1,
                            "stroke-opacity": 1,
                            "shadow-offset-x": 0,
                            "shadow-offset-y": 0,
                            "shadow-blur": 0,
                            "shadow-color": "black",
                            font: "10px sans-serif",
                            "font-style": "normal",
                            "font-variant": "normal",
                            "font-weight": "normal",
                            "line-height": "normal",
                            "font-size": 10,
                            "font-family": "sans-serif",
                            "text-align": t.TEXTALIGN.s,
                            "text-baseline": t.BASELINE.a,
                            dash: "",
                            "dash-array": []
                        }
                        , r = e.util
                        , i = r.is
                        , o = e.Shape = e.Node.extend(function(e, t, n) {
                            o.$super(this, "shape"),
                            e && e.append(this),
                                this.canvas = e.canvas,
                            t && (this._draw = t) && this.dirty(),
                                this.attr(n),
                                this._afterInit()
                        }, {
                            clone: function() {
                                var e = new this.constructor(this.parent);
                                return e._attrs = r.clone(this._attrs),
                                    e
                            },
                            _afterInit: function() {},
                            _draw: function() {},
                            _beforeDraw: function(e) {
                                var t = this._attrs.transform;
                                t && e.transform.apply(e, t.getMatrix());
                                var n = this.globalAlpha();
                                1 > n && (e.globalAlpha = n),
                                    e.globalCompositeOperation = this.globalCompositeOperation()
                            },
                            _useShadow: function(e) {
                                var t = {
                                    x: this.shadowOffsetX(),
                                    y: this.shadowOffsetY(),
                                    b: this.shadowBlur(),
                                    c: this.shadowColor()
                                };
                                return t.x || t.y || t.b ? (e.shadowOffsetX = t.x,
                                    e.shadowOffsetY = t.y,
                                    e.shadowBlur = t.b,
                                    e.shadowColor = t.c,
                                    !0) : void 0
                            },
                            _useDash: function(e) {
                                var t = this.dashArray();
                                return t.length ? (e.setLineDash ? e.setLineDash(t) : "mozDash"in e ? e.mozDash = t : "webkitLineDash"in e && (e.webkitLineDash = t),
                                    !0) : void 0
                            },
                            _useFill: function(e) {
                                var t = this._attrs.fill;
                                return t && t.toContext ? (e.fillStyle = t.toContext(e),
                                    !0) : void 0
                            },
                            _useStroke: function(e) {
                                var t = this._attrs.stroke
                                    , n = this.lineWidth();
                                return t && n > 0 ? (e.lineJoin = this.lineJoin(),
                                    e.lineCap = this.lineCap(),
                                    e.lineWidth = n,
                                    e.strokeStyle = t.toContext(e),
                                    !0) : void 0
                            },
                            _afterDraw: function(e) {
                                this._useShadow(e),
                                this._useStroke(e) && (this._useDash(e),
                                    e.stroke()),
                                this._useFill(e) && e.fill()
                            },
                            draw: function() {
                                if (this.visible()) {
                                    var e = this.context();
                                    e.save(),
                                        e.beginPath(),
                                        this._beforeDraw(e, this),
                                    this._draw(e, this) !== !1 && this._afterDraw(e, this),
                                        e.restore()
                                }
                            },
                            _drawArea: function(e) {
                                this._beforeDraw(e, this),
                                    this._draw(e, this),
                                this._useStroke(e) && (e.strokeStyle = this._colorKey,
                                    e.stroke()),
                                this._useFill(e) && (e.fillStyle = this._colorKey,
                                    e.fill())
                            },
                            area: function(e) {
                                return e && (this._drawArea = e),
                                    this
                            },
                            drawArea: function(e) {
                                this.visible() && (e.save(),
                                    this._drawArea(e),
                                    e.restore())
                            },
                            hitArea: function(e) {
                                return e && (this._hitArea = e),
                                    this
                            },
                            _hitArea: function() {},
                            _transfromPoint: function(e, t) {
                                var n = this._attrs.transform;
                                return n && (n = n.inversed(e, t),
                                    e = n.x,
                                    t = n.y),
                                {
                                    x: e,
                                    y: t
                                }
                            },
                            _isPointInShape: function(t, n, s, o, u) {
                                if (this.visible() && this.hasEventListener()) {
                                    var a = this._transfromPoint(o, u);
                                    a && (o = a.x,
                                        u = a.y);
                                    var f = this._hitArea();
                                    if (i(f, "undefined")) {
                                        this.drawArea(s);
                                        var l = s.getImageData(t, n, 1, 1).data;
                                        if (l[3] > 0 && (new e.Color(l[0],l[1],l[2])).hex() == this._colorKey)
                                            return this
                                    } else if (f)
                                        if (r.is(f, "function")) {
                                            if (f.call(this, o, u))
                                                return this
                                        } else if (r.is(f, "array")) {
                                            for (var c = 0; c < f.length; c++)
                                                if (r.isPointInArea(o, u, f[c]))
                                                    return this.__hitArea = f[c],
                                                        this
                                        } else if (r.isPointInArea(o, u, f))
                                            return this.__hitArea = f,
                                                this
                                }
                            },
                            context: function() {
                                return this.parent.context()
                            },
                            _getAttr: function(e) {
                                var t, n = this._attrs;
                                switch (e) {
                                    case "font":
                                        return n.font && n.font.getString() || void 0;
                                    case "font-size":
                                        return n.font && n.font.fontSize() || void 0;
                                    case "font-weight":
                                        return n.font && n.font.fontWeight() || void 0;
                                    case "font-style":
                                        return n.font && n.font.fontStyle() || void 0;
                                    case "font-variant":
                                        return n.font && n.font.fontVariant() || void 0;
                                    case "font-family":
                                        return n.font && n.font.fontFamily() || void 0;
                                    case "line-height":
                                        return n.font && n.font.lineHeight() || void 0;
                                    case "translate":
                                    case "rotate":
                                    case "scale":
                                    case "center":
                                    case "transform":
                                        var r = n.transform;
                                        return r && (r = r.getString()),
                                            r;
                                    case "opacity":
                                        return this.globalAlpha();
                                    case "stroke-opacity":
                                    case "fill-opacity":
                                        var i = n[e.replace("-opacity", "")];
                                        return i && "color" == i.type ? i.o.a : n[e];
                                    case "stroke":
                                    case "fill":
                                    case "path":
                                        var s = n[e];
                                        return s && (s = s.getString()),
                                            s;
                                    case "dash":
                                        return this.dashArray().join(" ");
                                    case "shadow":
                                        return this.shadowOffsetX() + " " + this.shadowOffsetY() + " " + this.shadowBlur() + " " + this.shadowColor();
                                    default:
                                        return n[e]
                                }
                                return t
                            },
                            _setAttr: function(t, n) {
                                var r, o = this._attrs;
                                switch (t) {
                                    case "path":
                                        i(n, "array") ? (r = new e.Path,
                                            r.path = n) : r = i(n, "string") ? new e.Path(n) : n,
                                            o.path = r;
                                        break;
                                    case "font":
                                        o.font = s.Font(n);
                                        break;
                                    case "font-size":
                                        o.font = o.font || s.Font(),
                                            o.font.fontSize(n);
                                        break;
                                    case "font-weight":
                                        o.font = o.font || s.Font(),
                                            o.font.fontWeight(n);
                                        break;
                                    case "font-style":
                                        o.font = o.font || s.Font(),
                                            o.font.fontStyle(n);
                                        break;
                                    case "font-variant":
                                        o.font = o.font || s.Font(),
                                            o.font.fontVariant(n);
                                        break;
                                    case "font-family":
                                        o.font = o.font || s.Font(),
                                            o.font.fontFamily(n);
                                        break;
                                    case "line-height":
                                        o.font = o.font || s.Font(),
                                            o.font.lineHeight(n);
                                        break;
                                    case "center":
                                        o.transform = o.transform || new e.Transform,
                                            o.transform.parseStr("c" + n.join(","));
                                        break;
                                    case "translate":
                                        o.transform = o.transform || new e.Transform,
                                            o.transform.parseStr("t" + n.join(","));
                                        break;
                                    case "rotate":
                                        o.transform = o.transform || new e.Transform,
                                            o.transform.parseStr("r" + n);
                                        break;
                                    case "scale":
                                        o.transform = o.transform || new e.Transform,
                                            o.transform.parseStr("s" + n);
                                        break;
                                    case "transform":
                                        i(n, "string") && (n = new e.Transform(n)),
                                            o[t] = n;
                                        break;
                                    case "opacity":
                                        this.globalAlpha(n);
                                        break;
                                    case "stroke":
                                        i(n, "string") && (n = n.split(" "),
                                            2 == n.length ? (this.lineWidth(parseInt(n[0], 10)),
                                                n = n[1]) : n = n[0],
                                            n = new e.Style(n),
                                        "color" == n.type && 1 == n.o.a && (n.o.a = o[t + "-opacity"] || 1)),
                                            o[t] = n;
                                        break;
                                    case "fill":
                                        i(n, "string") && (n = new e.Style(n),
                                        "color" == n.type && 1 == n.o.a && (n.o.a = o[t + "-opacity"] || 1)),
                                            o[t] = n;
                                        break;
                                    case "stroke-opacity":
                                    case "fill-opacity":
                                        var u = o[t.replace("-opacity", "")];
                                        u && "color" == u.type && (u.o.a = n),
                                            o[t] = n;
                                        break;
                                    case "dash":
                                        n = n.split(/[, ]+/);
                                        for (var f = [], l = 0; l < n.length; l++)
                                            f.push(parseFloat(n[l]));
                                        this.dashArray(f);
                                        break;
                                    case "shadow":
                                        n = n.split(/[ ]+/);
                                        var c = n.length;
                                        if (1 == c)
                                            this.shadowColor(n[0]);
                                        else if (2 == c) {
                                            var h = parseFloat(n[0]);
                                            this.shadowOffsetX(h).shadowOffsetY(h).shadowColor(n[1])
                                        } else
                                            3 == c ? this.shadowOffsetX(parseFloat(n[0])).shadowOffsetY(parseFloat(n[1])).shadowColor(n[2]) : 4 == c && this.shadowOffsetX(parseFloat(n[0])).shadowOffsetY(parseFloat(n[1])).shadowBlur(parseFloat(n[2])).shadowColor(n[3]);
                                        break;
                                    default:
                                        o[t] = n
                                }
                                return !0
                            },
                            dirty: function(e) {
                                return e && (this._dirtyAttr = !0),
                                this.parent && this.parent.dirty(),
                                    this
                            }
                        });
                    for (var u in n)
                        e.Node.addGetSet(e.Shape, u, n[u]);
                    e.Node.addGetSet(e.Shape, "shadow opacity transform translate rotate scale");
                    var f = {
                        shape: function(t) {
                            return new e.Shape(this,t)
                        },
                        custom: function(e, t) {
                            return new e(this,t)
                        }
                    };
                    o.custom = function(t, n) {
                        "function" == typeof t && (t = {
                            _draw: t
                        });
                        var i = this.extend(function(e, t) {
                            t = r.extend(r.is(n, "object") && n || {}, t || {}),
                                i.$super(this, e, null , t),
                            r.is(n, "object") && this.attr(r.clone(n)),
                            t && this.attr(t)
                        }, t);
                        return i.custom = o.custom,
                        n && e.Node.addGetSet(i, n),
                            i
                    }
                        ,
                        r.extend(e.Group.prototype, f, {
                            dirty: function(e) {
                                return e && (this._dirtyAttr = !0),
                                this.parent && this.parent.dirty(),
                                    this
                            }
                        }),
                        r.extend(e.Layer.prototype, f, {
                            dirty: function(e) {
                                return e && (this._dirtyAttr = !0),
                                    this.draw(),
                                    this
                            }
                        }),
                        r.extend(e.Canvas.prototype, {
                            shape: function(t) {
                                return new e.Shape(this.lastLayer(),t)
                            },
                            custom: function(e) {
                                return this.lastLayer().custom(e)
                            }
                        }, t),
                        r.extend(e, t)
                }(),
                function() {
                    function e(e, r, i, s, a) {
                        e._animate && l(e);
                        var c, h = {}, p = {}, d = {
                            fill: "Style",
                            stroke: "Style",
                            transform: "Transform",
                            path: "Path"
                        };
                        if ("function" == typeof r)
                            c = r;
                        else {
                            for (var v in r) {
                                var m = d[v]
                                    , g = r[v];
                                m ? (h[v] = e._attrs[v],
                                h[v] || (h[v] = new t[m]),
                                g instanceof t[m] || (g = new t[m](g)),
                                    p[v] = g.add(h[v], -1)) : (h[v] = e.getAttr(v),
                                n.is(h[v], "undefined") && n.is(e[n.camelize(v)], "function") && (h[v] = e[n.camelize(v)]()),
                                    p[v] = (parseFloat(g) || 0) - (parseFloat(h[v]) || 0))
                            }
                            c = function(e) {
                                if (e >= 1)
                                    return this.attr(r);
                                for (var t in r)
                                    this.attr(t, h[t].add ? h[t].add(p[t], e) : h[t] + e * p[t])
                            }
                        }
                        e._animate = !0,
                            o.push({
                                el: e,
                                start: +(new Date),
                                ms: i || 300,
                                easing: n.is(s, "function") ? s : u[s] || u.linear,
                                done: a,
                                run: c
                            }),
                            f.start()
                    }
                    var t = s
                        , n = t.util
                        , r = t.Animate = n.mkClass(function(e) {
                            this._runner = e || function() {}
                                ,
                                this._status = 0
                        }, {
                            _run: function() {
                                var e = this;
                                e._timer = e._timer || +(new Date),
                                    i(function() {
                                        if (e._status) {
                                            var t = +(new Date)
                                                , n = t - e._timer;
                                            e._runner.call(e, n, t),
                                                e._timer = t,
                                            e._status && e._run()
                                        }
                                    })
                            },
                            start: function() {
                                var e = this;
                                e._status || (e._status = 1,
                                    e._run())
                            },
                            stop: function() {
                                this._status = 0
                            }
                        })
                        , i = function() {
                            var e = 0;
                            return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(t) {
                                    var n = (new Date).getTime()
                                        , r = Math.max(0, 16 - Math.max(0, n - e))
                                        , i = window.setTimeout(function() {
                                            t(n + r)
                                        }, r);
                                    return e = n + r,
                                        i
                                }
                        }();
                    r.requestAnimFrame = function(e) {
                        i.call(window, e)
                    }
                    ;
                    var o = []
                        , u = {
                            linear: function(e) {
                                return e
                            },
                            "ease-in": function(e) {
                                return Math.pow(e, 1.7)
                            },
                            "ease-out": function(e) {
                                return Math.pow(e, .48)
                            },
                            "ease-in-out": function(e) {
                                var t = .48 - e / 1.04
                                    , n = Math.sqrt(.1734 + t * t)
                                    , r = n - t
                                    , i = Math.pow(Math.abs(r), 1 / 3) * (0 > r ? -1 : 1)
                                    , s = -n - t
                                    , o = Math.pow(Math.abs(s), 1 / 3) * (0 > s ? -1 : 1)
                                    , u = i + o + .5;
                                return 3 * (1 - u) * u * u + u * u * u
                            },
                            "back-in": function(e) {
                                var t = 1.70158;
                                return e * e * ((t + 1) * e - t)
                            },
                            "back-out": function(e) {
                                e -= 1;
                                var t = 1.70158;
                                return e * e * ((t + 1) * e + t) + 1
                            },
                            elastic: function(e) {
                                return Math.pow(2, -10 * e) * Math.sin((e - .075) * 2 * Math.PI / .3) + 1
                            },
                            bounce: function(e) {
                                var t, n = 7.5625, r = 2.75;
                                return 1 / r > e ? t = n * e * e : 2 / r > e ? (e -= 1.5 / r,
                                    t = n * e * e + .75) : 2.5 / r > e ? (e -= 2.25 / r,
                                    t = n * e * e + .9375) : (e -= 2.625 / r,
                                    t = n * e * e + .984375),
                                    t
                            }
                        }
                        , f = new r(function(e, t) {
                                for (var n = 0; n < o.length; n++) {
                                    var r = o[n]
                                        , i = t - r.start;
                                    i >= r.ms ? (r.run.call(r.el, 1),
                                    l(r.el) && n--) : r.run.call(r.el, r.easing(i / r.ms))
                                }
                                n || this.stop()
                            }
                        )
                        , l = function(e) {
                            for (var t = 0; t < o.length; t++)
                                if (o[t].el == e)
                                    return e._animate = !1,
                                    n.is(o[t].done, "function") && o[t].done.call(e),
                                        o.splice(t, 1),
                                        !0;
                            return !1
                        }
                        ;
                    n.extend([t.Shape.prototype, t.Group.prototype], {
                        anim: function(t, n, r, i) {
                            return e(this, t, n, r, i),
                                this
                        },
                        stop: function() {
                            return this._animate && l(this),
                                this
                        }
                    })
                }(),
                function() {
                    var e = s
                        , t = e.util
                        , n = e.Shape.Rect = e.Shape.custom({
                            _compileAttrs: function() {
                                var e = this._attrs
                                    , t = e.rx || e.r || 0
                                    , n = e.ry || e.r || 0;
                                this._attrsCompiled.rxry = t && n,
                                    this._attrsCompiled.x = [e.x, e.x + t, e.x + e.width - t, e.x + e.width],
                                    this._attrsCompiled.y = [e.y, e.y + n, e.y + e.height - n, e.y + e.height]
                            },
                            _hitArea: function() {
                                var e = this._attrs;
                                return {
                                    polygon: !0,
                                    vertex: [[e.x, e.y], [e.x + e.width, e.y], [e.x + e.width, e.y + e.height], [e.x, e.y + e.height]]
                                }
                            },
                            _draw: function(e) {
                                var t = this._attrsCompiled.x
                                    , n = this._attrsCompiled.y
                                    , r = this._attrsCompiled.rxry;
                                e.beginPath(),
                                    e.moveTo(t[1], n[0]),
                                    e.lineTo(t[2], n[0]),
                                r && e.quadraticCurveTo(t[3], n[0], t[3], n[1]),
                                    e.lineTo(t[3], n[2]),
                                r && e.quadraticCurveTo(t[3], n[3], t[2], n[3]),
                                    e.lineTo(t[1], n[3]),
                                r && e.quadraticCurveTo(t[0], n[3], t[0], n[2]),
                                    e.lineTo(t[0], n[1]),
                                r && e.quadraticCurveTo(t[0], n[0], t[1], n[0]),
                                    e.closePath()
                            }
                        }, "x y width height r rx ry");
                    t.extend([e.Group.prototype, e.Layer.prototype, e.Canvas.prototype], {
                        rect: function(e, t, r, i, s) {
                            var o = this.lastLayer ? this.lastLayer() : this;
                            return new n(o,{
                                x: e,
                                y: t,
                                width: r,
                                height: i,
                                r: s
                            })
                        }
                    })
                }(),
                function() {
                    var e = s
                        , t = e.util
                        , n = e.Shape.Circle = e.Shape.custom({
                            _hitArea: function() {
                                var e = this._attrs;
                                return {
                                    circle: !0,
                                    x: e.x,
                                    y: e.y,
                                    r: e.r
                                }
                            },
                            _draw: function(e) {
                                var t = this._attrs;
                                e.beginPath(),
                                    e.arc(t.x, t.y, t.r, 0, 2 * Math.PI, !0),
                                    e.closePath()
                            }
                        }, {
                            x: 0,
                            y: 0,
                            r: 0
                        });
                    t.extend([e.Group.prototype, e.Layer.prototype, e.Canvas.prototype], {
                        circle: function(e, t, r) {
                            var i = this.lastLayer ? this.lastLayer() : this;
                            return new n(i,{
                                x: e,
                                y: t,
                                r: r
                            })
                        }
                    })
                }(),
                function() {
                    var e = s
                        , t = e.util
                        , n = e.Shape.Ellipse = e.Shape.custom({
                            _compileAttrs: function() {
                                var e = this._attrs
                                    , t = .5522848 * e.rx
                                    , n = .5522848 * e.ry
                                    , r = e.x - e.rx
                                    , i = e.x + e.rx
                                    , s = e.y - e.ry
                                    , o = e.y + e.ry
                                    , u = e.x
                                    , a = e.y;
                                this._attrsCompiled.points = [r, s, i, o, u, a, u - t, u + t, a + n, a - n]
                            },
                            _draw: function(e) {
                                var t = this._attrsCompiled.points;
                                e.beginPath(),
                                    e.moveTo(t[0], t[5]),
                                    e.bezierCurveTo(t[0], t[9], t[6], t[1], t[4], t[1]),
                                    e.bezierCurveTo(t[7], t[1], t[2], t[9], t[2], t[5]),
                                    e.bezierCurveTo(t[2], t[8], t[7], t[3], t[4], t[3]),
                                    e.bezierCurveTo(t[6], t[3], t[0], t[8], t[0], t[5]),
                                    e.closePath()
                            }
                        }, {
                            x: 0,
                            y: 0,
                            rx: 0,
                            ry: 0
                        });
                    t.extend([e.Group.prototype, e.Layer.prototype, e.Canvas.prototype], {
                        ellipse: function(e, t, r, i) {
                            var s = this.lastLayer ? this.lastLayer() : this;
                            return new n(s,{
                                x: e,
                                y: t,
                                rx: r,
                                ry: i
                            })
                        }
                    })
                }(),
                function() {
                    var e = s
                        , t = e.util
                        , n = e.Shape.Image = e.Shape.custom({
                            _hitArea: function() {
                                var e = this._attrs;
                                return {
                                    polygon: !0,
                                    vertex: [[e.x, e.y], [e.x + e.width, e.y], [e.x + e.width, e.y + e.height], [e.x, e.y + e.height]]
                                }
                            },
                            _setAttr: function(e, t) {
                                if ("src" == e && t) {
                                    var n = this
                                        , r = new Image;
                                    return r.onload = function() {
                                        n.image(r)
                                    }
                                        ,
                                        r.src = t,
                                        !0
                                }
                                return "image" == e && t ? (this.width() || this.width(t.width),
                                this.height() || this.height(t.height),
                                    this._attrs[e] = t,
                                    !0) : this.$base("_setAttr", e, t)
                            },
                            _draw: function(e) {
                                var n = this.image();
                                n && (e.drawImage(n, this.x(), this.y(), this.width(), this.height()),
                                this._readyFn && this.parent && (this.parent.ready(t.bind(this._readyFn, this)),
                                    this._readyFn = null ))
                            },
                            _afterDraw: function() {},
                            ready: function(e) {
                                return e && (this._readyFn = e),
                                    this
                            }
                        }, {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0,
                            src: "",
                            image: null
                        });
                    t.extend([e.Group.prototype, e.Layer.prototype, e.Canvas.prototype], {
                        image: function(e, t, r) {
                            var i = this.lastLayer ? this.lastLayer() : this;
                            return new n(i,{
                                x: e,
                                y: t,
                                src: r
                            })
                        }
                    })
                }(),
                function() {
                    var e = s
                        , t = e.util
                        , n = e.Shape.Line = e.Shape.custom({
                            _getAttr: function(t) {
                                var n = this._getPoints();
                                switch (t) {
                                    case "x1":
                                        return n[0];
                                    case "y1":
                                        return n[1];
                                    case "x2":
                                        return n[2];
                                    case "y2":
                                        return n[3];
                                    default:
                                        return e.Shape.prototype._getAttr.call(this, t)
                                }
                            },
                            _setAttr: function(e, t) {
                                var n = this._getPoints();
                                switch (e) {
                                    case "x1":
                                        return n[0] = t,
                                            !0;
                                    case "y1":
                                        return n[1] = t,
                                            !0;
                                    case "x2":
                                        return n[2] = t,
                                            !0;
                                    case "y2":
                                        return n[3] = t,
                                            !0;
                                    default:
                                        return this.$base("_setAttr", e, t)
                                }
                            },
                            _getPoints: function() {
                                var e = this._attrs.points;
                                return e || (e = this._attrs.points = []),
                                    e
                            },
                            shift: function(e, t) {
                                e = e || 0,
                                    t = t || 0;
                                for (var n = this._getPoints(), r = 0, i = n.length - 1; i > r; r += 2)
                                    "M" == n[r] ? r++ : "L" == n[r] && r++,
                                        n[r] += e,
                                        n[r + 1] += t;
                                return this
                            },
                            move: function(e, t) {
                                var n = this._getPoints();
                                return n.length && n.push("M"),
                                    n.push(e, t),
                                    this
                            },
                            line: function(e, t) {
                                var n = this._getPoints();
                                return n.push(e, t),
                                    this
                            },
                            _draw: function(e) {
                                var t = this._getPoints();
                                e.beginPath();
                                for (var n = "moveTo", r = 0, i = t.length - 1; i > r; r += 2)
                                    "M" == t[r] ? (n = "moveTo",
                                        r++) : "L" == t[r] && (n = "lineTo",
                                        r++),
                                        e[n](t[r], t[r + 1]),
                                        n = "lineTo"
                            }
                        }, "x1 y1 x2 y2");
                    t.extend([e.Group.prototype, e.Layer.prototype, e.Canvas.prototype], {
                        line: function() {
                            var e = this.lastLayer ? this.lastLayer() : this
                                , t = new n(e,{
                                    fill: !1
                                })
                                , r = Array.prototype.slice.call(arguments);
                            return r.length && t.attr({
                                points: r
                            }),
                                t
                        }
                    })
                }(),
                function() {
                    var e = s
                        , t = e.util
                        , n = e.Shape.Path = e.Shape.custom({
                            _hitArea: function() {
                                var e = this._attrs.path;
                                return e && e.getVertex()
                            },
                            _draw: function(e) {
                                var t = this._attrs.path;
                                if (t) {
                                    t = t.path,
                                        e.beginPath();
                                    for (var n = 0, r = t.length; r > n; ) {
                                        if ("A" == t[n][0]) {
                                            var i = t[n][1][0]
                                                , s = t[n][1][1]
                                                , o = t[n][1][2]
                                                , u = t[n][1][3]
                                                , a = t[n][1][4]
                                                , f = t[n][1][5]
                                                , l = t[n][1][6]
                                                , c = t[n][1][7]
                                                , h = o > u ? o : u
                                                , p = o > u ? 1 : o / u
                                                , d = o > u ? u / o : 1;
                                            e.translate(i, s),
                                                e.rotate(l),
                                                e.scale(p, d),
                                                e.arc(0, 0, h, a, a + f, 1 - c),
                                                e.scale(1 / p, 1 / d),
                                                e.rotate(-l),
                                                e.translate(-i, -s)
                                        } else
                                            e[t[n][0]].apply(e, t[n][1]);
                                        n++
                                    }
                                }
                            },
                            _getPathObj: function() {
                                var t = this._attrs.path;
                                return t || (t = this._attrs.path = new e.Path("")),
                                    t
                            },
                            moveTo: function(e, t) {
                                return this._getPathObj().push("moveTo", e, t),
                                    this
                            },
                            lineTo: function(e, t) {
                                return this._getPathObj().push("lineTo", e, t),
                                    this
                            },
                            bezierCurveTo: function(e, t, n, r, i, s) {
                                return this._getPathObj().push("bezierCurveTo", e, t, n, r, i, s),
                                    this
                            },
                            quadraticCurveTo: function(e, t, n, r) {
                                return this._getPathObj().push("quadraticCurveTo", e, t, n, r),
                                    this
                            },
                            closePath: function() {
                                return this._getPathObj().push("closePath"),
                                    this
                            },
                            arcTo: function(e, t, n, r, i, s, o) {
                                return this._getPathObj().arcTo(e, t, n, r, i, s, o),
                                    this
                            },
                            getLastPosition: function() {
                                return this._getPathObj().getLastPosition()
                            }
                        });
                    t.extend([e.Group.prototype, e.Layer.prototype, e.Canvas.prototype], {
                        path: function(e) {
                            var t = this.lastLayer ? this.lastLayer() : this;
                            return new n(t,{
                                path: e
                            })
                        }
                    })
                }(),
                function() {
                    var e = s
                        , t = e.util
                        , n = e.Shape.Text = e.Shape.custom({
                            _useFont: function(e) {
                                e.font = this.font(),
                                    e.textAlign = this.textAlign(),
                                    e.textBaseline = this.textBaseline()
                            },
                            getWidth: function(e) {
                                var t = this.width();
                                if (!t || e) {
                                    var n = this.canvas.hidenLayer().context();
                                    this._useFont(n),
                                        t = n.measureText(e || this.text()).width
                                }
                                return t
                            },
                            _afterDraw: function(e) {
                                var t = this.width()
                                    , n = this.x()
                                    , r = this.y()
                                    , i = this.text();
                                this._useFont(e),
                                this._useStroke(e) && (this._useDash(e),
                                    t ? e.strokeText(i, n, r, t) : e.strokeText(i, n, r)),
                                this._useFill(e) && (t ? e.fillText(i, n, r, t) : e.fillText(i, n, r))
                            }
                        }, "x y text width");
                    t.extend([e.Group.prototype, e.Layer.prototype, e.Canvas.prototype], {
                        text: function(e, t, r) {
                            var i = this.lastLayer ? this.lastLayer() : this;
                            return new n(i,{
                                x: t,
                                y: r,
                                text: e,
                                stroke: null
                            })
                        }
                    })
                }(),
                function() {
                    function e(e) {
                        for (var t = [], n = 0, r = e.length; r > n; n++) {
                            for (var i = e[n], s = i.zIndex(), o = t.length - 1; o >= 0 && !(t[o].zIndex() <= s); o--)
                                ;
                            t.splice(o + 1, 0, i)
                        }
                        return t
                    }
                    function t(e) {
                        return e.children.length ? t(e.children[0]) : e
                    }
                    var n = s;
                    if (!n.canvas && window.G_vmlCanvasManager) {
                        var r = n.util;
                        n.Node.prototype.draw = function() {
                            var e, t, n, r = this.children, i = [];
                            for (t = 0; t < r.length; t++)
                                e = r[t].zIndex(),
                                    i[e] ? i[e].push(r[t]) : i[e] = [r[t]];
                            for (t = 0; t < i.length; t++)
                                for (r = i[t],
                                         n = 0; r && n < r.length; n++)
                                    r[n].draw()
                        }
                            ,
                            n.Canvas.prototype._init = function() {
                                n.util.each(["mousedown", "mousemove", "mouseup", "mouseout"], function(e) {
                                    var t = this
                                        , r = n.util.throttle(function(n) {
                                            "mouseout" == e && t.node.contains(n.toElement) || (n = t._crtEvent(e, n),
                                                t["_" + e](n))
                                        }, 100);
                                    this.node.attachEvent("on" + e, function(e) {
                                        r(n.util.cloneEvent(e || window.event))
                                    }, this)
                                }, this)
                            }
                            ,
                            n.Canvas.prototype._resize = function() {
                                var e = this.width()
                                    , t = this.height();
                                this.node.style.width = e + "px",
                                    this.node.style.height = t + "px",
                                    r.each(this.children, function(n) {
                                        n.node.style.width = e + "px",
                                            n.node.style.height = t + "px",
                                            n.draw()
                                    })
                            }
                            ,
                            n.Canvas.prototype._crtEvent = function(e, t) {
                                var r, i, s = this.node.getBoundingClientRect();
                                r = t.clientX - s.left || 0,
                                    i = t.clientY - s.top || 0;
                                for (var o, u = this.children, a = u.length - 1; a >= 0 && !(o = u[a]._isPointInShape(r, i, t.srcElement)); a--)
                                    ;
                                return new n.Event(e,r,i,o,t)
                            }
                            ,
                            n.Layer.prototype._init = function(e) {
                                var t = e.width()
                                    , n = e.height();
                                this.node.style.cssText = "position:absolute;left:0;top:0;width:" + t + "px;height:" + n + "px;",
                                    e.node.appendChild(this.node),
                                    G_vmlCanvasManager.initElement(this.node)
                            }
                            ,
                            n.Layer.prototype.draw = function() {
                                this.compileAttrs(),
                                    this.visible() ? this.node.style.display = "block" : this.node.style.display = "none"
                            }
                            ,
                            n.Group.prototype.dirty = function(e) {
                                return e && (this._dirtyAttr = !0),
                                    this.compileAttrs(),
                                    n.Animate.requestAnimFrame(n.util.bind(function() {
                                        this.draw()
                                    }, this)),
                                    this
                            }
                            ,
                            n.Group.prototype.draw = function(e) {
                                r.each(this._getChildrenByZIndex(), function(t) {
                                    t.draw(e)
                                })
                            }
                            ,
                            n.Group.prototype._isPointInShape = function(e, t, n, r, i) {
                                if (this.visible()) {
                                    var s = this._attrs.transform;
                                    s && (s = s.inversed(r, i),
                                        r = s.x,
                                        i = s.y);
                                    for (var o = this.children, u = o.length - 1; u >= 0; u--) {
                                        var a = o[u]._isPointInShape(e, t, n, r, i);
                                        if (a)
                                            return a
                                    }
                                }
                            }
                            ,
                            n.Group.prototype.empty = function() {
                                for (var e; e = this.children.pop(); )
                                    e.remove();
                                return this.dirty(),
                                    this
                            }
                            ,
                            n.Shape.prototype._isPointInShape = function(e, t, n, i, s) {
                                if (this.visible() && this.hasEventListener()) {
                                    var o = this._transfromPoint(i, s);
                                    o && (i = o.x,
                                        s = o.y);
                                    var u, a = this._hitArea();
                                    if (r.is(a, "undefined")) {
                                        var f = this._elements || [];
                                        for (u = 0; u < f.length; u++)
                                            if (f[u] == n)
                                                return this
                                    } else if (a)
                                        if (r.is(a, "function")) {
                                            if (a.call(this, i, s))
                                                return this
                                        } else if (r.is(a, "array")) {
                                            for (u = 0; u < a.length; u++)
                                                if (r.isPointInArea(i, s, a[u]))
                                                    return this.__hitArea = a[u],
                                                        this
                                        } else if (r.isPointInArea(i, s, a))
                                            return this.__hitArea = a,
                                                this
                                }
                            }
                            ,
                            n.Node.prototype.nextSibling = function() {
                                if (!this.parent)
                                    return null ;
                                if ("layer" == this.type)
                                    return null ;
                                for (var n = e(this.parent.children), r = 0; r < n.length; r++)
                                    if (n[r] == this && n[r + 1]) {
                                        var i = t(n[r + 1]);
                                        return i._elements && i._elements[0] ? i._elements[0] : i.nextSibling()
                                    }
                                return this.parent.nextSibling()
                            }
                        ;
                        var i = n.Shape.prototype.remove;
                        n.Shape.prototype.remove = function() {
                            i.call(this);
                            for (var e = this._elements = this._elements || [], t = 0; t < e.length; t++)
                                e[t].removeNode(!0);
                            e.length = 0
                        }
                            ,
                            n.Shape.prototype.__draw = function() {
                                this._locked = !1;
                                var e;
                                this.compileAttrs();
                                var t = this._elements = this._elements || [];
                                for (e = 0; e < t.length; e++)
                                    t[e].removeNode(!0);
                                if (t.length = 0,
                                    this.visible() && this.parent) {
                                    var n = this.context()
                                        , i = this.nextSibling();
                                    n.textMeasureEl_ || n.measureText("");
                                    var s = n.element_.insertAdjacentHTML
                                        , o = [];
                                    n.element_.insertAdjacentHTML = function(e, t) {
                                        o.push(t)
                                    }
                                    ;
                                    for (var u = this.parent, a = []; u && "layer" !== u.type; )
                                        a.unshift(u),
                                            u = u.parent;
                                    n.save(),
                                        r.each(a, function(e) {
                                            e._beforeDraw(n, e)
                                        }),
                                        n.beginPath(),
                                        this._beforeDraw(n, this),
                                        this._draw(n, this),
                                        this._afterDraw(n, this),
                                        n.restore(),
                                        n.element_.insertAdjacentHTML = s;
                                    var f;
                                    for (i ? (f = i.previousSibling,
                                        i.insertAdjacentHTML("beforeBegin", o.join(""))) : (f = n.element_.lastChild,
                                        n.element_.insertAdjacentHTML("beforeEnd", o.join(""))),
                                             f = f ? f.nextSibling : n.element_.firstChild; f && f !== i; )
                                        f !== n.textMeasureEl_ && t.push(f),
                                            f = f.nextSibling
                                }
                            }
                            ,
                            n.Shape.prototype.draw = function(e) {
                                return e ? this.__draw() : void (this._locked || (this._locked = !0,
                                    n.Animate.requestAnimFrame(n.util.bind(function() {
                                        this._locked && this.__draw()
                                    }, this))))
                            }
                            ,
                            n.Shape.prototype.dirty = function(e) {
                                return e && (this._dirtyAttr = !0),
                                    n.Animate.requestAnimFrame(n.util.bind(function() {
                                        this.draw()
                                    }, this)),
                                    this
                            }
                    }
                }()
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var s = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , o = n(58)
                , u = (r(o),
                    n(56))
                , a = function() {
                    function e(t, n, r, s) {
                        i(this, e),
                            this.config = u.util.extend({
                                centerX: !1,
                                centerY: !1
                            }, arguments[4]),
                            this.x = t,
                            this.y = n,
                            this.left = this.l = u.util.shift(t),
                            this.right = this.r = u.util.shift(t + r),
                            this.top = this.t = n,
                            this.bottom = this.b = n + s,
                            this.width = this.w = r,
                            this.height = this.h = s,
                            this.init()
                    }
                    return s(e, [{
                        key: "init",
                        value: function() {
                            return this.minX = this.minY = Number.MAX_VALUE,
                                this.maxX = this.maxY = -Number.MAX_VALUE,
                                this.stepX = this.stepY = 0,
                                this.baseX = this.left,
                                this.baseY = this.top,
                                this._draw = [],
                                this._y2 = this.baseY + this.maxY * this.stepY,
                                this._x2 = this.baseX + this.minX * this.stepX,
                                this
                        }
                    }, {
                        key: "axis",
                        value: function(e, t) {
                            t || (t = e,
                                e = !1);
                            var n = !1
                                , r = !1;
                            if (e && 2 === e.length && (e[0] < this.minX && (n = !0) && (this.minX = e[0]),
                                e[1] > this.maxX && (n = !0) && (this.maxX = e[1]),
                                n && (this.config.centerX ? (this.stepX = this.w / (this.maxX - this.minX + 1),
                                    this.baseX = this.x + this.stepX / 2) : this.stepX = this.w / (this.maxX - this.minX + 1),
                                    this._x2 = this.baseX + this.minX * this.stepX)),
                                t && 2 === t.length && (t[0] < this.minY && (r = !0) && (this.minY = t[0]),
                                t[1] > this.maxY && (r = !0) && (this.maxY = t[1]),
                                r && (this.config.centerY ? (this.stepY = this.h / (this.maxY - this.minY + 1),
                                    this.baseY = this.y + this.stepY / 2) : this.stepY = this.h / (this.maxY - this.minY),
                                    this._y2 = this.baseY + this.maxY * this.stepY)),
                                n || r)
                                for (var i in this._binds)
                                    this._binds[i] && this._binds[i].dirty(!0);
                            return this
                        }
                    }, {
                        key: "reAxis",
                        value: function(e, t, n) {
                            t || (t = e,
                                e = !1),
                                this.isLog = n;
                            var r = !1
                                , i = !1;
                            if (e && 2 === e.length && ((this.minX != e[0] || this.maxX != e[1]) && (this.minX = e[0],
                                    this.maxX = e[1],
                                    r = !0),
                                r && (this.stepX = this.w / (this.maxX - this.minX + 1),
                                    this._x2 = this.baseX + this.minX * this.stepX)),
                                t && 2 === t.length && (this.isLog ? ((this.minY != Math.log(t[0]) || this.maxY != Math.log(t[1])) && (this.minY = Math.log(t[0]),
                                    this.maxY = Math.log(t[1]),
                                    i = !0),
                                i && (this.stepY = this.h / (this.maxY - this.minY),
                                    this._y2 = this.baseY + this.maxY * this.stepY)) : ((this.minY != t[0] || this.maxY != t[1]) && (this.minY = t[0],
                                    this.maxY = t[1],
                                    i = !0),
                                i && (this.stepY = this.h / (this.maxY - this.minY),
                                    this._y2 = this.baseY + this.maxY * this.stepY))),
                                r || i)
                                for (var s in this._binds)
                                    this._binds[s] && this._binds[s].dirty(!0);
                            return this
                        }
                    }, {
                        key: "d2y",
                        value: function(e) {
                            return "" !== e ? (this.isLog && (e = Math.log(e)),
                            this._y2 - e * this.stepY) : void 0
                        }
                    }, {
                        key: "d2x",
                        value: function(e) {
                            return this._x2 + e * this.stepX
                        }
                    }, {
                        key: "x2dLine",
                        value: function(e) {
                            var t = this.w / (this.maxX - this.minX);
                            if (e < this.baseX)
                                e = this.minX;
                            else {
                                var n = (e - this.baseX) % t;
                                e = n > t / 2 ? this.minX + Math.ceil((e - this.baseX) / t) : this.minX + Math.floor((e - this.baseX) / t),
                                e > this.maxX && (e = this.maxX)
                            }
                            return e
                        }
                    }, {
                        key: "x2d",
                        value: function(e) {
                            return e < this.baseX ? e = this.minX : (e = this.minX + Math.floor((e - this.baseX) / this.stepX),
                            e > this.maxX && (e = this.maxX)),
                                e
                        }
                    }, {
                        key: "d2xLine",
                        value: function(e) {
                            e > this.maxX ? e = this.maxX : e < this.minX && (e = this.minX);
                            var t = this.w / (this.maxX - this.minX);
                            return this._x2 + e * t
                        }
                    }, {
                        key: "y2d",
                        value: function(e) {
                            var t = this.maxY - (e - this.baseY) / this.stepY;
                            return this.isLog ? Math.pow(Math.E, t) : t
                        }
                    }, {
                        key: "x2x",
                        value: function(e) {
                            return this._x2 + (this.x2d(e) + .5) * this.stepX
                        }
                    }]),
                        e
                }();
            t["default"] = a,
                e.exports = t["default"]
        }
        , function(e, t) {
            "use strict";
            function n(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var r = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , i = function() {
                    function e() {
                        n(this, e)
                    }
                    return r(e, null , [{
                        key: "split",
                        value: function(e) {
                            var t = {};
                            return e.forEach(function(e) {
                                var n = typeof e;
                                switch (n) {
                                    case "object":
                                        Array.isArray(e) ? n = "array" : e instanceof Date && (n = "date");
                                        break;
                                    case "string":
                                        /http:\/\//.test(e) && (n = "url")
                                }
                                n && t[n] ? t[n].push(e) : t[n] = [e]
                            }),
                                t
                        }
                    }]),
                        e
                }();
            t["default"] = i,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(30)
                , s = r(i)
                , o = n(56)
                , u = o.Shape.custom({
                    _draw: function(e) {
                        var t = this._attrs
                            , n = t.inner
                            , r = (t.fill,
                                this.x())
                            , i = this.y()
                            , s = this.w()
                            , u = this.h()
                            , a = r + s
                            , f = i + u
                            , l = this.m()
                            , c = this.n()
                            , h = o.util.shift;
                        if (this._useFill(e),
                                e.fillRect(r, i, s, u),
                            l > 0 && (e.moveTo(h(r), h(i)),
                                e.lineTo(h(a), h(i)),
                                e.moveTo(h(r), h(f)),
                                e.lineTo(h(a), h(f))),
                            c > 0 && (e.moveTo(h(r), h(i)),
                                e.lineTo(h(r), h(f)),
                                e.moveTo(h(a), h(i)),
                                e.lineTo(h(a), h(f))),
                            this.dashRect() || (this._useStroke(e),
                                e.stroke(),
                                e.beginPath()),
                                r++,
                                e.strokeStyle = n,
                            l > 0)
                            for (var p = u / l; --l > 0; ) {
                                e.beginPath();
                                var d = h(i + l * p);
                                e.moveTo(h(r), d),
                                    e.lineTo(h(a), d),
                                    e.stroke()
                            }
                        if (i++,
                            c > 0)
                            for (var p = s / c; --c > 0; ) {
                                e.beginPath();
                                var v = h(r + c * p);
                                e.moveTo(v, h(i)),
                                    e.lineTo(v, h(f)),
                                    e.stroke()
                            }
                        e.beginPath()
                    }
                }, {
                    x: 0,
                    y: 0,
                    w: 0,
                    h: 0,
                    m: 0,
                    n: 0,
                    "dash-rect": !1,
                    stroke: s["default"].border.color,
                    inner: s["default"].border.inner,
                    fill: s["default"].background.gridColor
                });
            t["default"] = u,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(30)
                , s = (r(i),
                    n(29))
                , o = (r(s),
                    n(13))
                , u = (r(o),
                    n(56))
                , a = u.Shape.custom({
                    _draw: function(e) {
                        var t = this._attrs
                            , n = (t.data || [],
                                t.position)
                            , r = t.background || "#fff"
                            , i = this.coord()
                            , s = u.util.shift
                            , o = i.y + i.h * n;
                        e.beginPath(),
                            e.strokeStyle = r,
                            e.moveTo(i.x + 1, s(o)),
                            e.lineTo(i.x + i.w, s(o)),
                            e.stroke(),
                            this._useStroke(e),
                            e.beginPath(),
                            e.moveTo(i.x, s(o)),
                            e.lineTo(i.x + i.w, s(o))
                    }
                }, {
                    coord: null ,
                    background: null ,
                    stroke: "black",
                    dash: "5,2",
                    position: .5
                });
            t["default"] = a,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(30)
                , s = (r(i),
                    n(29))
                , o = (r(s),
                    n(13))
                , u = (r(o),
                    n(56))
                , a = u.Shape.custom({
                    _compileAttrs: function() {
                        var e = this._attrs
                            , t = this._attrsCompiled
                            , n = e.gradient
                            , r = e.data || []
                            , i = e.coord
                            , s = [];
                        if (i) {
                            var o = r.length
                                , u = e.maxX || r.length
                                , a = 1;
                            if (!e.seperation) {
                                var f = i.width;
                                a = Math.ceil(u / (f - 1)),
                                    u /= a
                            }
                            for (var l = 0; o > l; l += a)
                                s.push(i.d2y(r[l]));
                            t.points = s,
                                t.coord = i,
                                t.maxX = u,
                                t.seperation = e.seperation,
                                t.gradient = n
                        }
                    },
                    _draw: function(e) {
                        var t = this._attrsCompiled
                            , n = t.points
                            , r = (t.pointsAvg,
                                t.coord)
                            , i = t.gradient;
                        if (r) {
                            var s = r.width
                                , o = n.length
                                , a = t.maxX
                                , f = r.baseX
                                , l = s / (a - 1);
                            if (i) {
                                var c = e.createLinearGradient(0, r.t + 3 * r.h / 8, 0, r.b);
                                c.addColorStop(0, i[0]),
                                    c.addColorStop(1, i[1]),
                                    e.fillStyle = c
                            }
                            var h = t.seperation
                                , p = u.util.shift;
                            if (h) {
                                if (i) {
                                    e.beginPath(),
                                        e.moveTo(p(f), n[0]);
                                    for (var d = 0, v = o; v > d; d++)
                                        e.lineTo(p(f + d * l), n[d]);
                                    e.lineTo(p(f + (o - 1) * l), p(r.b)),
                                        e.lineTo(p(f), p(r.b)),
                                        e.closePath(),
                                        e.fill()
                                }
                                e.beginPath();
                                for (var m = 0; o / h > m; m++) {
                                    e.beginPath();
                                    var g = m * h
                                        , y = f + g * l;
                                    e.moveTo(p(y), n[g]);
                                    for (var d = g, v = o; g + h > d && !(d >= v); d++)
                                        e.lineTo(p(f + d * l), n[d]);
                                    this._useStroke(e),
                                        e.lineJoin = "round",
                                        e.stroke(),
                                        e.closePath()
                                }
                                e.beginPath()
                            } else {
                                if (i) {
                                    e.beginPath(),
                                        e.moveTo(p(f), n[0]);
                                    for (var d = 0, v = o; v > d; d++)
                                        e.lineTo(p(f + d * l), n[d]);
                                    e.lineTo(p(f + (o - 1) * l), p(r.b)),
                                        e.lineTo(p(f), p(r.b)),
                                        e.closePath(),
                                        e.fill()
                                }
                                e.beginPath(),
                                    e.moveTo(p(f), n[0]);
                                for (var d = 0, v = o; v > d; d++)
                                    e.lineTo(p(f + d * l), n[d]);
                                this._useStroke(e),
                                    e.lineJoin = "round",
                                    e.stroke(),
                                    e.beginPath()
                            }
                        }
                    }
                }, {
                    data: [],
                    coord: null ,
                    maxX: null ,
                    stroke: null ,
                    seperation: !1,
                    gradient: !1
                });
            t["default"] = a,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(30)
                , s = r(i)
                , o = n(29)
                , u = (r(o),
                    n(13))
                , a = r(u)
                , f = n(56)
                , l = f.Shape.custom({
                    _draw: function(e) {
                        var t = this._attrs
                            , n = (this._attrsCompiled,
                            t.data || [])
                            , r = n.length
                            , i = this.coord()
                            , s = t.align
                            , o = t.step
                            , u = t.maxNum
                            , f = i.l
                            , l = void 0;
                        if (o.length) {
                            var c = 0;
                            o.forEach(function(e) {
                                c += e
                            }),
                                l = i.w / c
                        } else
                            l = i.w / (r - 1);
                        this._useFill(e),
                            e.font = a["default"].FONT,
                            e.textBaseline = "middle";
                        for (var h = 0, p = r > u ? Math.ceil(r / u) : 1, d = 0; r > d; d++) {
                            switch (d) {
                                case 0:
                                    e.textAlign = "default" == s ? "left" : s;
                                    break;
                                case r - 1:
                                    e.textAlign = "default" == s ? "right" : s;
                                    break;
                                default:
                                    e.textAlign = "default" == s ? "center" : s
                            }
                            var v = n[d];
                            "object" == typeof v && (e.fillStyle = n[d][1],
                                v = n[d][0]);
                            var m = f
                                , g = e.measureText(v).width;
                            "center" === e.textAlign ? m -= .5 * g : "right" === e.textAlign && (m -= g),
                            m > h && !(d % p) && (e.fillText(v, f, (i.t + i.b) / 2),
                                h = m + g),
                                f += l * (o[d] || 1)
                        }
                    }
                }, {
                    coord: null ,
                    data: [],
                    align: "default",
                    fill: s["default"].text.label,
                    step: [],
                    maxNum: 10
                });
            t["default"] = l,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(30)
                , s = r(i)
                , o = n(29)
                , u = r(o)
                , a = n(13)
                , f = r(a)
                , l = n(64)
                , c = r(l)
                , h = n(56)
                , p = h.Shape.custom({
                    _draw: function(e) {
                        var t = this._attrs
                            , n = t.data || []
                            , r = this.coord()
                            , i = t.fixed
                            , o = t.unit
                            , a = t.percentage
                            , l = t.symbol
                            , h = t.color
                            , p = t.mathType || "normal";
                        if (r) {
                            var d = r.l
                                , v = r.b
                                , m = r.t
                                , g = n.n
                                , y = (g - 1) / 2
                                , b = (v - m) / (g - 1)
                                , w = n.minVal
                                , E = n.maxVal
                                , S = (E - w) / (g - 1);
                            e.textAlign = t.align,
                                e.textBaseline = "middle",
                                e.font = f["default"].FONT;
                            for (var x = void 0; g-- > 0; ) {
                                var T = w + S * g;
                                if ("log" === p && (T = Math.pow(Math.E, T)),
                                        h ? (x = Math.abs(T),
                                            e.fillStyle = u["default"].HZLD(g - y),
                                        g == y && (e.fillStyle = s["default"].text.label)) : (x = T,
                                            this._useFill(e)),
                                        x = o ? c["default"].unit(x, i) : x.toFixed(i),
                                    a && (x += "%"),
                                    l && (x = g > y ? "+" + x : g == y ? x : "-" + x),
                                        e.fillText(x, d, v - b * g, r.w),
                                    0 === S)
                                    break
                            }
                        }
                    }
                }, {
                    coord: null ,
                    data: null ,
                    mathType: "normal",
                    font: f["default"].FONT,
                    align: "left",
                    percentage: !1,
                    color: !0,
                    fill: s["default"].text.label,
                    fixed: 2,
                    symbol: !1,
                    unit: !1
                });
            t["default"] = p,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var s = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , o = n(65)
                , u = r(o)
                , a = n(66)
                , f = r(a)
                , l = n(67)
                , c = r(l)
                , h = n(68)
                , p = r(h)
                , d = function() {
                    function e() {
                        i(this, e)
                    }
                    return s(e, null , [{
                        key: "formatIF",
                        value: function(e, t) {
                            var n = e.data
                                , r = e.date;
                            "string" == typeof t && (t = t.split(","));
                            var i = t[(0,
                                f["default"])("TIME")];
                            i = i.slice(0, 2) + i.slice(3, 5);
                            var s = t[(0,
                                f["default"])("DATE")];
                            return s = s.replace(/-/g, ""),
                                r = r && "20" + r.substr(5) || s,
                            {
                                data: n,
                                date: r,
                                status: t[(0,
                                    f["default"])("STATUS")],
                                symbol: t[(0,
                                    f["default"])("NAME")].slice(-6, 0),
                                market: "if",
                                marketTime: p["default"].marketTime("if"),
                                close: 1 * t[(0,
                                    f["default"])("CP")],
                                open: 1 * t[(0,
                                    f["default"])("OP")],
                                name: t[(0,
                                    f["default"])("NAME")],
                                qtTime: i,
                                qtDate: s,
                                qtPrice: 1 * t[(0,
                                    f["default"])("PRICE")],
                                qtVolume: 1 * t[(0,
                                    f["default"])("VOLUME")],
                                qtMaxVal: 1 * t[(0,
                                    f["default"])("MAX_VAL")],
                                qtMinVal: 1 * t[(0,
                                    f["default"])("MIN_VAL")],
                                decimalPosition: 1
                            }
                        }
                    }, {
                        key: "formatWH",
                        value: function(e, t) {
                            var n = e.data
                                , r = e.date;
                            "string" == typeof t && (t = t.split("~"));
                            var i = t[(0,
                                c["default"])("TIME")];
                            i = i.slice(0, 8);
                            var s = t[(0,
                                c["default"])("TIME")].substr(8);
                            return s = s.slice(0, 2) + s.slice(2, 4),
                                r = r && "20" + r.substr(5) || i,
                            {
                                data: n,
                                date: r,
                                status: t[(0,
                                    c["default"])("STATUS")],
                                symbol: t[(0,
                                    u["default"])("CODE")],
                                market: "wh",
                                marketTime: p["default"].marketTime("wh"),
                                close: 1 * t[(0,
                                    c["default"])("CP")],
                                open: 1 * t[(0,
                                    c["default"])("OP")],
                                name: t[(0,
                                    c["default"])("NAME")],
                                qtTime: s,
                                qtDate: i,
                                qtPrice: 1 * t[(0,
                                    c["default"])("PRICE")],
                                qtVolume: 1 * t[(0,
                                    c["default"])("VOLUME")],
                                qtMaxVal: 1 * t[(0,
                                    c["default"])("MAX_VAL")],
                                qtMinVal: 1 * t[(0,
                                    c["default"])("MIN_VAL")],
                                decimalPosition: 4
                            }
                        }
                    }, {
                        key: "formatHS",
                        value: function(e, t) {
                            if (t.Symbol)
                                return this.formatPushQt(e, t);
                            var n = e.data
                                , r = e.date;
                            "string" == typeof t && (t = t.split("~"));
                            var i = t[(0,
                                    u["default"])("MK")]
                                , s = t[(0,
                                    u["default"])("TIME")].slice(0, 8);
                            r = r || s;
                            var o = t[(0,
                                    u["default"])("STATUS")]
                                , a = e.fqFactor;
                            return {
                                data: n,
                                date: r,
                                symbol: t[(0,
                                    u["default"])("CODE")],
                                status: o,
                                market: i,
                                marketTime: p["default"].marketTime(i),
                                close: this.calFqQt(a, t[(0,
                                    u["default"])("CP")]),
                                open: this.calFqQt(a, t[(0,
                                    u["default"])("OP")]),
                                name: t[(0,
                                    u["default"])("NAME")],
                                qtTime: t[(0,
                                    u["default"])("TIME")].slice(8, 12),
                                qtDate: s,
                                qtPrice: this.calFqQt(a, t[(0,
                                    u["default"])("PRICE")]),
                                qtVolume: 1 * t[(0,
                                    u["default"])("VOLUME")],
                                qtMaxVal: this.calFqQt(a, t[(0,
                                    u["default"])("MAX_VAL")]),
                                qtMinVal: this.calFqQt(a, t[(0,
                                    u["default"])("MIN_VAL")]),
                                decimalPosition: t[(0,
                                    u["default"])("CODE")].match(/^200|^900/) ? 3 : 2
                            }
                        }
                    }, {
                        key: "formatHK",
                        value: function(e, t) {
                            if (t.Symbol)
                                return this.formatPushQt(e, t);
                            var n = e.data
                                , r = e.date;
                            "string" == typeof t && (t = t.split("~"));
                            var i = "hk"
                                , s = t[(0,
                                    u["default"])("TIME")].replace(/\/| |\:/g, "")
                                , o = s.slice(8, 12);
                            s = s.slice(0, 8),
                                r = r || s;
                            var a = e.fqFactor;
                            return {
                                data: n,
                                date: r,
                                status: t[(0,
                                    u["default"])("STATUS")],
                                symbol: t[(0,
                                    u["default"])("CODE")],
                                market: i,
                                marketTime: p["default"].marketTime(i),
                                close: this.calFqQt(a, t[(0,
                                    u["default"])("CP")]),
                                open: this.calFqQt(a, t[(0,
                                    u["default"])("OP")]),
                                name: t[(0,
                                    u["default"])("NAME")],
                                qtTime: o,
                                qtDate: s,
                                qtPrice: this.calFqQt(a, t[(0,
                                    u["default"])("PRICE")]),
                                qtVolume: 1 * t[(0,
                                    u["default"])("VOLUME")],
                                qtMaxVal: this.calFqQt(a, t[(0,
                                    u["default"])("MAX_VAL")]),
                                qtMinVal: this.calFqQt(a, t[(0,
                                    u["default"])("MIN_VAL")]),
                                decimalPosition: 1 * t[(0,
                                    u["default"])("PRICE")] > .5 ? 2 : 3
                            }
                        }
                    }, {
                        key: "calFqQt",
                        value: function(e, t) {
                            var n = 1 * t;
                            return e ? n * e : n
                        }
                    }, {
                        key: "formatUS",
                        value: function(e, t) {
                            if (t.Symbol)
                                return this.formatPushQt(e, t, "us");
                            var n = e.data
                                , r = e.date
                                , i = "us";
                            "string" == typeof t && (t = t.split("~"));
                            var s = t[(0,
                                u["default"])("STATUS")];
                            s = "0" === s ? "" : s;
                            var o = t[(0,
                                u["default"])("TIME")].slice(0, 10).replace(/-/g, "");
                            return r = r || o,
                            {
                                data: n,
                                date: r,
                                status: s,
                                symbol: t[(0,
                                    u["default"])("CODE")].replace(/^\./, ""),
                                market: "us",
                                marketTime: p["default"].marketTime(i),
                                close: 1 * t[(0,
                                    u["default"])("CP")],
                                open: 1 * t[(0,
                                    u["default"])("OP")] || 1 * t[(0,
                                    u["default"])("CP")],
                                name: t[(0,
                                    u["default"])("NAME")],
                                qtTime: t[(0,
                                    u["default"])("TIME")].slice(11, 16).replace(/:/g, ""),
                                qtDate: o,
                                qtPrice: 1 * t[(0,
                                    u["default"])("PRICE")],
                                qtVolume: 1 * t[(0,
                                    u["default"])("VOLUME")],
                                qtMaxVal: 1 * t[(0,
                                    u["default"])("MAX_VAL")],
                                qtMinVal: 1 * t[(0,
                                    u["default"])("MIN_VAL")],
                                decimalPosition: 2
                            }
                        }
                    }, {
                        key: "formatPushQt",
                        value: function(e, t, n) {
                            var r = e.data
                                , i = e.date;
                            n = n || t.Mkt;
                            var s = t.TimeStamp.replace(/\/|-| |\:/g, "").slice(0, 8);
                            i = i || s;
                            var o = t.Status
                                , u = e.fqFactor;
                            return {
                                data: r,
                                date: i,
                                symbol: t.Symbol,
                                status: o,
                                market: n,
                                marketTime: p["default"].marketTime(n),
                                close: this.calFqQt(u, t.PrevClose),
                                open: this.calFqQt(u, t.Open),
                                name: t.Name,
                                qtTime: t.TimeStamp.replace(/\/|-| |\:/g, "").slice(8, 12),
                                qtDate: s,
                                qtPrice: this.calFqQt(u, t.Price),
                                qtVolume: 1 * (t._Vol || t.Vol),
                                qtMaxVal: this.calFqQt(u, t.High),
                                qtMinVal: this.calFqQt(u, t.Low),
                                decimalPosition: t.Symbol.match(/^200|^900/) ? 3 : 2
                            }
                        }
                    }, {
                        key: "trend",
                        value: function(e, t) {
                            var n = e.data
                                , r = t.index;
                            r && (t = t[0]),
                            "string" == typeof t && (t = t.split("~")),
                            "string" == typeof r && (r = r.split("~"));
                            var i = (r ? r : t)[(0,
                                u["default"])("TIME")].replace(/-/g, "").slice(0, 8);
                            return {
                                data: n,
                                qtDate: i,
                                qtPrice: 1 * t[(0,
                                    u["default"])("PRICE")]
                            }
                        }
                    }, {
                        key: "unit",
                        value: function(e, t) {
                            t = void 0 == t ? 2 : t;
                            var n = Math.abs(e);
                            return 1e4 > n ? e.toFixed(t) : 1e8 > n ? (e / 1e4).toFixed(2) + "\u4e07" : (e / 1e8).toFixed(2) + "\u4ebf"
                        }
                    }, {
                        key: "isValidNum",
                        value: function(e) {
                            return isNaN(e) || e === 1 / 0 || e === -1 / 0 || e === Number.MAX_VALUE || e === -Number.MAX_VALUE ? !1 : !0
                        }
                    }]),
                        e
                }();
            t["default"] = d,
                e.exports = t["default"]
        }
        , function(e, t) {
            "use strict";
            function n(e) {
                return {
                    MK: 0,
                    NAME: 1,
                    CODE: 2,
                    PRICE: 3,
                    CP: 4,
                    OP: 5,
                    TOTAL: 6,
                    OUTER_DISC: 7,
                    INNER_DISC: 8,
                    B1_VAL: 9,
                    B1_VOL: 10,
                    B2_VAL: 11,
                    B2_VOL: 12,
                    B3_VAL: 13,
                    B3_VOL: 14,
                    B4_VAL: 15,
                    B4_VOL: 16,
                    B5_VAL: 17,
                    B5_VOL: 18,
                    S1_VAL: 19,
                    S1_VOL: 20,
                    S2_VAL: 21,
                    S2_VOL: 22,
                    S3_VAL: 23,
                    S3_VOL: 24,
                    S4_VAL: 25,
                    S4_VOL: 26,
                    S5_VAL: 27,
                    S5_VOL: 28,
                    DETAIL: 29,
                    TIME: 30,
                    CHANGE: 31,
                    CHANGE_RATE: 32,
                    MAX_VAL: 33,
                    MIN_VAL: 34,
                    FORMER: 35,
                    VOLUME: 36,
                    TURNOVER: 37,
                    TURNOVER_RATE: 38,
                    PE_RATIO: 39,
                    STATUS: 40,
                    MAX_VAL_2: 41,
                    MIN_VAL_2: 42,
                    AMPLITUDE: 43,
                    MCCS: 44,
                    MARKET_CAP: 45,
                    RISE_STOP: 47,
                    FALL_STOP: 48,
                    VOLUME_RATIO: 49
                }[e]
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            }),
                t["default"] = n,
                e.exports = t["default"]
        }
        , function(e, t) {
            "use strict";
            function n(e) {
                return {
                    NAME: 0,
                    OP: 1,
                    MAX_VAL: 2,
                    MIN_VAL: 3,
                    PRICE: 4,
                    VOLUME: 5,
                    TURNOVER: 6,
                    THOLD: 7,
                    TCL: 8,
                    TSE: 9,
                    RISE_STOP: 10,
                    FALL_STOP: 11,
                    YFOT: 12,
                    TFOT: 13,
                    CP: 14,
                    SE: 15,
                    HOLD: 16,
                    B1_VAL: 17,
                    B1_VOL: 18,
                    B2_VAL: 19,
                    B2_VOL: 20,
                    B3_VAL: 21,
                    B3_VOL: 22,
                    B4_VAL: 23,
                    B4_VOL: 24,
                    B5_VAL: 25,
                    B5_VOL: 26,
                    S1_VAL: 27,
                    S1_VOL: 28,
                    S2_VAL: 29,
                    S2_VOL: 30,
                    S3_VAL: 31,
                    S3_VOL: 32,
                    S4_VAL: 33,
                    S4_VOL: 34,
                    S5_VAL: 35,
                    S5_VOL: 36,
                    DATE: 37,
                    TIME: 38,
                    MILLI: 39
                }[e]
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            }),
                t["default"] = n,
                e.exports = t["default"]
        }
        , function(e, t) {
            "use strict";
            function n(e) {
                return {
                    MK: 0,
                    NAME: 1,
                    CODE: 2,
                    PRICE: 3,
                    VOLUME: 4,
                    TIME: 5,
                    CP: 6,
                    OP: 7,
                    MAX_VAL: 8,
                    MIN_VAL: 9
                }[e]
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            }),
                t["default"] = n,
                e.exports = t["default"]
        }
        , function(e, t) {
            "use strict";
            function n(e) {
                return {
                    sh: {
                        timeTags: ["9:30", "10:30", "11:30/13:00", "14:00", "15:00"],
                        step: [2, 2, 2, 2]
                    },
                    sz: {
                        timeTags: ["9:30", "10:30", "11:30/13:00", "14:00", "15:00"],
                        step: [2, 2, 2, 2]
                    },
                    nq: {
                        timeTags: ["9:30", "10:30", "11:30/13:00", "14:00", "15:00"],
                        step: [2, 2, 2, 2]
                    },
                    hk: {
                        timeTags: ["9:30", "10:00", "11:00", "12:00/13:00", "14:00", "15:00", "16:00"],
                        step: [1, 2, 2, 2, 2, 2]
                    },
                    us: {
                        timeTags: ["9:30", "10:00", "11:00", "12:00", "13:00", "14:00", "15:00", "16:00"],
                        step: [1, 2, 2, 2, 2, 2, 2]
                    },
                    "if": {
                        timeTags: ["9:15", "10:00", "10:45", "11:30/13:00", "13:45", "14:30", "15:15"],
                        step: [1, 1, 1, 1, 1, 1]
                    },
                    qh: {
                        timeTags: ["9:15", "10:00", "10:45", "11:30/13:00", "13:45", "14:30", "15:15"],
                        step: [1, 1, 1, 1, 1, 1]
                    },
                    wh: {
                        timeTags: ["0:00", "3:00", "6:00", "9:00", "12:00", "15:00", "18:00", "21:00", "24:00"],
                        step: [1, 1, 1, 1, 1, 1, 1, 1]
                    },
                    fund: {
                        timeTags: ["9:30", "10:30", "11:30/13:00", "14:00", "15:00"],
                        step: [2, 2, 2, 2]
                    }
                }[e]
            }
            function r(e) {
                return {
                    sh: ["0930", "1130", "1300", "1500"],
                    1: ["0930", "1130", "1300", "1500"],
                    sz: ["0930", "1130", "1300", "1500"],
                    51: ["0930", "1130", "1300", "1500"],
                    nq: ["0930", "1130", "1300", "1500"],
                    61: ["0930", "1130", "1300", "1500"],
                    hk: ["0930", "1201", "1300", "1600"],
                    100: ["0930", "1201", "1300", "1600"],
                    us: ["0930", "1600"],
                    200: ["0930", "1600"],
                    "if": ["0915", "1130", "1300", "1515"],
                    qh: ["0915", "1130", "1300", "1515"],
                    300: ["0915", "1130", "1300", "1515"],
                    wh: ["0000", "2400"]
                }[e]
            }
            function i(e) {
                return {
                    minute: {
                        sh: 242,
                        sz: 242,
                        nq: 242,
                        hk: 333,
                        us: 391,
                        "if": 272,
                        300: 272,
                        wh: 1440
                    }[e],
                    fdays: {
                        sh: s(243),
                        sz: s(243),
                        nq: s(243),
                        hk: s(333),
                        us: s(391)
                    }[e]
                }
            }
            function s(e) {
                return (e - 1) % 4 ? 5 * (Math.ceil(e / 4) + 1) : 5 * Math.ceil(e / 4)
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = {
                timeTags: n,
                marketTime: r,
                marketMaxX: i
            };
            t["default"] = o,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(30)
                , s = (r(i),
                    n(29))
                , o = r(s)
                , u = n(13)
                , a = r(u)
                , f = n(56)
                , l = f.Shape.custom({
                    _compileAttrs: function() {
                        for (var e = this._attrs, t = (this._attrsCompiled,
                        e.data || []), n = this.coord(), r = e.sampling, i = t.length, s = (a["default"].MINUTE_VOLUME_GAP,
                        e.maxX || i), u = [], f = 0; i > f; f += r)
                            u.push([n.d2y(t[f][0]), o["default"].HZLD(t[f][1], "noGray")]);
                        1 != r && (s = u.length),
                            this.bars = u
                    },
                    _draw: function(e) {
                        var t = this._attrs
                            , n = (this._attrsCompiled,
                            t.data || [],
                                this.coord());
                        if (n) {
                            var r = this.bars
                                , i = (r.length,
                                    n.b)
                                , s = n.baseX
                                , o = n.stepX
                                , u = f.util.shift;
                            r.forEach(function(t, n) {
                                e.beginPath(),
                                    e.moveTo(u(s), i),
                                    e.lineTo(u(s), t[0]),
                                    e.strokeStyle = t[1],
                                    e.lineWidth = 1,
                                    e.stroke(),
                                    s += o
                            })
                        }
                    }
                }, {
                    coord: null ,
                    data: [],
                    sampling: 1,
                    maxX: null
                });
            t["default"] = l,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(30)
                , s = r(i)
                , o = n(29)
                , u = (r(o),
                    n(13))
                , a = (r(u),
                    n(56))
                , f = a.Shape.custom({
                    _draw: function(e) {
                        var t = this._attrs
                            , n = (t.data || [],
                                t.x)
                            , r = t.y
                            , i = this.coord()
                            , s = i.l
                            , o = i.r
                            , u = i.t
                            , f = i.b;
                        e.beginPath(),
                        n && (n = Math.max(n, s),
                            n = Math.min(n, o),
                            n = a.util.shift(n),
                            e.moveTo(n, i.t + 1),
                            e.lineTo(n, i.b)),
                        r && (r = Math.max(r, u),
                            r = Math.min(r, f),
                            r = a.util.shift(r),
                            e.moveTo(s, r),
                            e.lineTo(o - 1, r)),
                            this._useStroke(e),
                            e.stroke(),
                            e.closePath(),
                            e.beginPath()
                    }
                }, {
                    coord: null ,
                    x: 0,
                    y: 0,
                    stroke: s["default"].cross.color
                });
            t["default"] = f,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(30)
                , s = r(i)
                , o = n(29)
                , u = (r(o),
                    n(13))
                , a = r(u)
                , f = n(56)
                , l = f.Shape.custom({
                    _draw: function(e) {
                        var t = this._attrs
                            , n = t.data || []
                            , r = (t.fixed,
                                t.text)
                            , i = t.x
                            , s = t.y
                            , o = t.position
                            , u = t.padding
                            , l = t.triangle
                            , c = t.boxHeight
                            , h = t.boxWidth
                            , p = this.coord()
                            , d = p.l
                            , v = p.r
                            , m = p.t
                            , g = p.b;
                        p.w,
                            p.h,
                        i && (i = Math.max(i, d),
                            i = Math.min(i, v)),
                        s && (s = Math.max(s, m),
                            s = Math.min(s, g));
                        var y = f.util.shift;
                        if (e.textBaseline = "middle",
                                e.font = a["default"].FONT,
                            o.match(/L/) && (e.textAlign = "right",
                                this._useFill(e),
                                this._useStroke(e),
                                e.beginPath(),
                                e.moveTo(y(d - h - l - u), y(s - c / 2)),
                                e.lineTo(y(d - l), y(s - c / 2)),
                                e.lineTo(y(d - l), y(s - 4)),
                                e.lineTo(y(d), y(s)),
                                e.lineTo(y(d - l), y(s + 4)),
                                e.lineTo(y(d - l), y(s + c / 2)),
                                e.lineTo(y(d - h - l - u), y(s + c / 2)),
                                e.lineTo(y(d - h - l - u), y(s - c / 2)),
                                e.fill(),
                                e.stroke(),
                                e.closePath(),
                                e.fillStyle = r,
                                e.fillText(n.left, y(d - l - u), y(s), l + h + u)),
                            o.match(/R/) && (e.textAlign = "left",
                                this._useFill(e),
                                this._useStroke(e),
                                e.beginPath(),
                                e.moveTo(y(v + l), y(s - c / 2)),
                                e.lineTo(y(v + l + h + u), y(s - c / 2)),
                                e.lineTo(y(v + l + h + u), y(s + c / 2)),
                                e.lineTo(y(v + l), y(s + c / 2)),
                                e.lineTo(y(v + l), y(s + 4)),
                                e.lineTo(y(v), y(s)),
                                e.lineTo(y(v + l), y(s - 4)),
                                e.lineTo(y(v + l), y(s - c / 2)),
                                e.fill(),
                                e.stroke(),
                                e.closePath(),
                                e.fillStyle = r,
                                e.fillText(n.right, y(v + l + u), y(s), l + h + u)),
                                o.match(/B/)) {
                            e.textAlign = "center";
                            var b = e.measureText(n.bottom).width + 18;
                            this._useFill(e),
                                this._useStroke(e),
                                e.beginPath(),
                                e.moveTo(y(i - b / 2), y(g + l)),
                                e.lineTo(y(i - 4), y(g + l)),
                                e.lineTo(y(i), y(g)),
                                e.lineTo(y(i + 4), y(g + l)),
                                e.lineTo(y(i + b / 2), y(g + l)),
                                e.lineTo(y(i + b / 2), y(g + c + l)),
                                e.lineTo(y(i - b / 2), y(g + c + l)),
                                e.lineTo(y(i - b / 2), y(g + l)),
                                e.fill(),
                                e.stroke(),
                                e.closePath(),
                                e.fillStyle = r,
                                e.fillText(n.bottom, y(i), y(g + l + c / 2))
                        }
                        e.beginPath()
                    }
                }, {
                    coord: null ,
                    x: 0,
                    y: 0,
                    data: {},
                    stroke: s["default"].crossBox.stroke,
                    fill: s["default"].crossBox.fill,
                    text: s["default"].crossBox.text,
                    positon: "left",
                    triangle: 5,
                    padding: 5,
                    boxHeight: 18,
                    boxWidth: 40
                });
            t["default"] = l,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(30)
                , s = r(i)
                , o = n(29)
                , u = (r(o),
                    n(13))
                , a = (r(u),
                    n(56))
                , f = a.Shape.custom({
                    _draw: function(e) {
                        var t = this._attrs
                            , n = (this._attrsCompiled,
                            t.status || "")
                            , r = this.coord()
                            , i = r.x
                            , o = r.y
                            , u = r.h
                            , a = r.w
                            , f = i + a / 2
                            , l = o + u / 2
                            , c = 92.25
                            , h = 47.5
                            , p = {
                                    U: "\u672a\u4e0a\u5e02",
                                    S: "\u505c\u724c",
                                    D: "\u5df2\u9000\u5e02"
                                }[n] || n;
                        e.rect(f - c / 2, l - h / 2, c, h),
                            this._useStroke(e),
                            e.stroke(),
                            e.fillStyle = s["default"].status.background,
                            e.fill(),
                            e.textAlign = "center",
                            e.font = s["default"].status.font,
                            e.fillStyle = s["default"].status.color,
                            e.fillText(p, f, l + 4)
                    }
                }, {
                    coord: null ,
                    status: "",
                    stroke: s["default"].status.line
                });
            t["default"] = f,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(30)
                , s = r(i)
                , o = n(29)
                , u = (r(o),
                    n(13))
                , a = (r(u),
                    n(56))
                , f = a.Shape.custom({
                    _draw: function(e) {
                        var t = this._attrs
                            , n = (t.data || [],
                                t.x)
                            , r = t.y
                            , i = t.r
                            , s = this.coord();
                        s.l,
                            s.r,
                            e.beginPath(),
                            e.arc(a.util.shift(n), a.util.shift(r), i, 0, 2 * Math.PI),
                            e.closePath(),
                        this._useFill(e) && e.fill(),
                        this._useStroke(e) && e.stroke(),
                            e.beginPath()
                    }
                }, {
                    coord: null ,
                    x: 0,
                    y: 0,
                    r: 1,
                    fill: s["default"].background.gridColor,
                    stroke: s["default"].cross.color
                });
            t["default"] = f,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(30)
                , s = r(i)
                , o = n(29)
                , u = (r(o),
                    n(13))
                , a = r(u)
                , f = n(56)
                , l = f.Shape.custom({
                    _draw: function(e) {
                        var t = this._attrs
                            , n = (this._attrsCompiled,
                            t.data || [])
                            , r = t.time || []
                            , i = (t.date,
                                t.text,
                                t.titleStroke)
                            , s = this.coord()
                            , o = this.x()
                            , u = n.length
                            , l = s.l
                            , c = s.r
                            , h = s.t
                            , p = (s.b,
                            (u + 1) * a["default"].PANEL_LINEHEIGHT)
                            , d = 150;
                        o > (l + c) / 2 ? c = l + d : l = c - d;
                        var v = f.util.shift;
                        l = v(l),
                            c = v(c),
                            h = v(h);
                        var m = (l + c) / 2
                            , g = a["default"].PANEL_LINEHEIGHT;
                        e.beginPath(),
                            this._useStroke(e),
                            this._useFill(e),
                            e.fillRect(l, h, d, p),
                            e.strokeRect(l, h, d, p);
                        var y = this.text();
                        e.fillStyle = y,
                            e.textAlign = "center",
                            e.textBaseline = "top",
                            e.font = a["default"].FONT,
                            e.fillText(r, m, h + 2),
                            h += g,
                        i && (e.beginPath(),
                            e.moveTo(l, h - 2),
                            e.lineTo(c, h - 2),
                            e.closePath(),
                            e.stroke()),
                            l += 10,
                            c -= 10;
                        for (var b = 0; u > b; b++)
                            e.fillStyle = y,
                                e.textAlign = "left",
                                e.font = a["default"].FONT,
                            n[b][3] && (e.font = a["default"].BORD_FONT),
                                e.fillText(n[b][0], l, h + g * b),
                                e.textAlign = "right",
                                e.fillStyle = n[b][2],
                                e.fillText(n[b][1], c, h + g * b);
                        e.closePath()
                    }
                }, {
                    coord: null ,
                    data: [],
                    x: 0,
                    time: "",
                    date: !1,
                    fill: s["default"].panel.background,
                    stroke: s["default"].panel.border,
                    text: s["default"].panel.text,
                    titleStroke: !1
                });
            t["default"] = l,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(30)
                , s = r(i)
                , o = n(29)
                , u = r(o)
                , a = n(13)
                , f = r(a)
                , l = n(11)
                , c = r(l)
                , h = n(56)
                , p = h.Shape.custom({
                    _afterInit: function() {
                        this._attrsCompiled,
                            this.mouseup(function(e) {
                                this._handleClick(e.hitArea.symbol)
                            }).mouseover(function(e) {
                                this.canvas.node.style.cursor = "pointer"
                            }).mouseout(function(e) {
                                this.canvas.node.style.cursor = "default"
                            })
                    },
                    _handleClick: function(e) {
                        var t = c["default"].channel(e);
                        t.publish(this._attrs.outerId + ".compare.delete")
                    },
                    _hitArea: function() {
                        var e = []
                            , t = this._attrs
                            , n = t.data || []
                            , r = this.coord();
                        return t.click && !function() {
                            var t = r.l
                                , i = r.t
                                , s = r.h
                                , o = r.w / n.length;
                            n.forEach(function(n, r, u) {
                                var a = t + o * r - 7
                                    , f = i;
                                0 != r && e.push({
                                    polygon: !0,
                                    symbol: n.symbol,
                                    index: r,
                                    vertex: [[a, f], [a + s, f], [a + s, f + s], [a, f + s]]
                                })
                            })
                        }(),
                            e
                    },
                    _draw: function(e) {
                        this.ctx = e;
                        var t = this._attrs
                            , n = t.data || []
                            , r = t.text
                            , i = this.coord()
                            , s = 2 * t.r || t.side
                            , o = i.l
                            , a = i.t
                            , l = i.h
                            , c = i.w / n.length
                            , p = h.util.shift;
                        e.textAlign = "left",
                            n.forEach(function(n, i, h) {
                                var d = o + c * i
                                    , v = a + l / 2;
                                e.fillStyle = n.color,
                                    t.click ? "circle" == t.shape ? (e.beginPath(),
                                        e.arc(d + s / 2, v, s / 2, 0, 2 * Math.PI),
                                        e.closePath(),
                                        e.fill()) : "rect" == t.shape && e.fillRect(p(d) + .5, p(v - s / 2) + .5, s, s) : e.fillRect(p(d) + .5, p(v - s / 2) + .5, 5, s),
                                t.click && 0 != i && (e.strokeStyle = "white",
                                    e.beginPath(),
                                    e.moveTo(d + s / 4, v - s / 4),
                                    e.lineTo(d + s / 4 + s / 2, v + s / 4),
                                    e.stroke(),
                                    e.beginPath(),
                                    e.moveTo(d + s / 4 + s / 2, v - s / 4),
                                    e.lineTo(d + s / 4, v + s / 4),
                                    e.stroke(),
                                    e.closePath()),
                                    e.textAlign = "left",
                                    e.textBaseline = "middle",
                                    e.font = f["default"].PANEL_FONT;
                                var m = e.measureText(n.name).width
                                    , g = n.percent
                                    , y = n.data;
                                void 0 !== g && (g = n.percent.toFixed(2),
                                1 * g >= 0 && (g = "+" + g),
                                    g += "%");
                                var b = y ? y + " " + g : g
                                    , w = e.measureText(b).width
                                    , E = 5;
                                0 > c - s - m - w - E && (m = (c - s) * m / (m + w + E),
                                    w = c - s - m - E),
                                    e.fillStyle = r,
                                    e.fillText(n.name, d + s, v, m),
                                    e.fillStyle = u["default"].HZLD(n.percent),
                                    e.fillText(b, d + s + m + E, v, w)
                            })
                    }
                }, {
                    coord: null ,
                    data: [],
                    text: s["default"].title.text,
                    click: "",
                    shape: "circle",
                    r: 7,
                    outerId: ""
                });
            t["default"] = p,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(30)
                , s = r(i)
                , o = n(29)
                , u = (r(o),
                    n(13))
                , a = (r(u),
                    n(56))
                , f = a.Shape.custom({
                    _draw: function(e) {
                        var t = this._attrs
                            , n = this.coord()
                            , r = t.stroke
                            , i = t.r
                            , s = t.fill;
                        if (n) {
                            var o = n.l
                                , u = n.t
                                , f = n.w
                                , c = n.h
                                , h = a.util.shift;
                            e.beginPath(),
                                e.beginPath(),
                                e.moveTo(h(o + i), h(u)),
                                e.lineTo(h(o + f - i), h(u)),
                                e.arc(h(o + f - i), h(u + i), i, Math.PI / 2 * 3, 0),
                                e.lineTo(h(o + f), h(u + c - i)),
                                e.arc(h(o + f - i), h(u + c - i), i, 0, Math.PI / 2),
                                e.lineTo(h(o + i), h(u + c)),
                                e.arc(h(o + i), h(u + c - i), i, Math.PI / 2, Math.PI),
                                e.lineTo(h(o), h(u + i)),
                                e.arc(h(o + i), h(u + i), i, Math.PI, Math.PI / 2 * 3),
                                e.closePath(),
                            r && (this._useStroke(e),
                                e.stroke()),
                            s && (this._useFill(e),
                                e.fill())
                        }
                    }
                }, {
                    coord: null ,
                    r: 3,
                    stroke: s["default"].border.color,
                    fill: s["default"].background.color
                });
            t["default"] = f,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(30)
                , s = r(i)
                , o = n(29)
                , u = (r(o),
                    n(13))
                , a = r(u)
                , f = n(56)
                , l = f.Shape.custom({
                    _draw: function(e) {
                        if (this._attrs.data) {
                            var t = this._attrs
                                , n = t.data.data
                                , r = (t.fill,
                                    t.data.time)
                                , i = t.market
                                , s = this.coord()
                                , o = s.l
                                , u = s.t
                                , f = s.w
                                , l = s.h
                                , c = 7
                                , h = 5;
                            this._useFill(e),
                                e.textBaseline = "middle",
                                e.textAlign = "right";
                            var p = u + l / 2;
                            e.font = a["default"].FONT,
                                r = "us" === i ? "\u7f8e\u4e1c\u65f6\u95f4: " + r : "\u65f6\u95f4: " + r,
                                e.fillText(r, o + f - c, u + l / 2);
                            var d = e.measureText(r).width + 2 * c + h
                                , v = n.length
                                , m = (f - d) / 4;
                            2 === v && (m = (f - d) / 3);
                            for (var g = 0; v > g; g++) {
                                this._useFill(e),
                                    e.textAlign = "left",
                                    e.fillText(n[g][0], o + m * g + c, p);
                                var y = e.measureText(n[g][0]).width;
                                e.textAlign = "left",
                                    e.fillStyle = n[g][2],
                                    e.fillText(n[g][1], o + m * g + y + c + h, p)
                            }
                            e.closePath()
                        }
                    }
                }, {
                    coord: null ,
                    data: null ,
                    fill: s["default"].title.text
                });
            t["default"] = l,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = function() {
                    function e(e, t) {
                        var n = []
                            , r = !0
                            , i = !1
                            , s = void 0;
                        try {
                            for (var o, u = e[Symbol.iterator](); !(r = (o = u.next()).done) && (n.push(o.value),
                            !t || n.length !== t); r = !0)
                                ;
                        } catch (a) {
                            i = !0,
                                s = a
                        } finally {
                            try {
                                !r && u["return"] && u["return"]()
                            } finally {
                                if (i)
                                    throw s
                            }
                        }
                        return n
                    }
                    return function(t, n) {
                        if (Array.isArray(t))
                            return t;
                        if (Symbol.iterator in Object(t))
                            return e(t, n);
                        throw new TypeError("Invalid attempt to destructure non-iterable instance")
                    }
                }()
                , u = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , a = function(e, t, n) {
                    for (var r = !0; r; ) {
                        var i = e
                            , s = t
                            , o = n;
                        u = f = a = void 0,
                            r = !1,
                        null === i && (i = Function.prototype);
                        var u = Object.getOwnPropertyDescriptor(i, s);
                        if (void 0 !== u) {
                            if ("value"in u)
                                return u.value;
                            var a = u.get;
                            if (void 0 === a)
                                return;
                            return a.call(o)
                        }
                        var f = Object.getPrototypeOf(i);
                        if (null === f)
                            return;
                        e = f,
                            t = s,
                            n = o,
                            r = !0
                    }
                }
                , f = n(8)
                , l = r(f)
                , c = n(11)
                , h = r(c)
                , p = n(57)
                , d = r(p)
                , v = n(56)
                , m = function(e) {
                    function t(e, n) {
                        i(this, t),
                            a(Object.getPrototypeOf(t.prototype), "constructor", this).call(this),
                            this.symbol = e,
                            this.cfg = l["default"].cfg(e)[n.chartId],
                            this.channel = h["default"].channel(e);
                        var r = this.cfg.layer;
                        this.back = r.back,
                            this.paper = r.paper,
                            this.fore = r.fore,
                            this.drag = r.drag,
                            this.paint = r.paint
                    }
                    return s(t, e),
                        u(t, [{
                            key: "clearLayer",
                            value: function() {
                                this.back.empty(),
                                    this.paper.empty(),
                                    this.fore.empty(),
                                    this.drag.empty()
                            }
                        }, {
                            key: "_onMouse",
                            value: function() {
                                var e = this;
                                this.cfg.canvas,
                                    this.cfg.canvas.mousemove(function(t) {
                                        e.overState = 1,
                                            e.overX = t.x,
                                            e.overY = t.y,
                                            e.over(t.x, t.y)
                                    }).mouseout(function(t) {
                                        t.relatedTarget && (t.target.contains(t.relatedTarget) || t.relatedTarget.contains(t.target)) || (e.overState = 0,
                                            e.out())
                                    })
                            }
                        }, {
                            key: "_unMouse",
                            value: function() {
                                this.cfg.canvas.unmousemove().unmouseout()
                            }
                        }, {
                            key: "over",
                            value: function(e, t) {
                                this._over(e, t)
                            }
                        }, {
                            key: "out",
                            value: function() {
                                this._out()
                            }
                        }, {
                            key: "_isCoordChange",
                            value: function() {
                                var e = this.cfg.coord;
                                if (this.w !== e.w || this.h !== e.h) {
                                    var t, n = (t = [e.x, e.y, e.w, e.h],
                                        this.x = t[0],
                                        this.y = t[1],
                                        this.w = t[2],
                                        this.h = t[3],
                                        t), r = o(n, 4), i = r[0], s = r[1], u = r[2], a = r[3];
                                    return this.coord = new d["default"](i,s,u,a),
                                        !0
                                }
                                return !1
                            }
                        }, {
                            key: "_axis",
                            value: function(e, t) {
                                this.coord[e] = new d["default"](t.x,t.y,t.w,t.h)
                            }
                        }, {
                            key: "_getData",
                            value: function(e) {
                                e = e || this.symbol;
                                var t = this.dataTopic;
                                return l["default"].data(e)[t] && l["default"].data(e)[t].calData
                            }
                        }, {
                            key: "_getCmpList",
                            value: function() {
                                return this.cfg.cmpList.length ? this.cfg.cmpList : !1
                            }
                        }]),
                        t
                }(v.EventEmitter);
            t["default"] = m,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            function i(e, t) {
                if (!(e instanceof t))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(e, t) {
                if ("function" != typeof t && null !== t)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                e.prototype = Object.create(t && t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = function() {
                    function e(e, t) {
                        var n = []
                            , r = !0
                            , i = !1
                            , s = void 0;
                        try {
                            for (var o, u = e[Symbol.iterator](); !(r = (o = u.next()).done) && (n.push(o.value),
                            !t || n.length !== t); r = !0)
                                ;
                        } catch (a) {
                            i = !0,
                                s = a
                        } finally {
                            try {
                                !r && u["return"] && u["return"]()
                            } finally {
                                if (i)
                                    throw s
                            }
                        }
                        return n
                    }
                    return function(t, n) {
                        if (Array.isArray(t))
                            return t;
                        if (Symbol.iterator in Object(t))
                            return e(t, n);
                        throw new TypeError("Invalid attempt to destructure non-iterable instance")
                    }
                }()
                , u = function() {
                    function e(e, t) {
                        for (var n = 0; n < t.length; n++) {
                            var r = t[n];
                            r.enumerable = r.enumerable || !1,
                                r.configurable = !0,
                            "value"in r && (r.writable = !0),
                                Object.defineProperty(e, r.key, r)
                        }
                    }
                    return function(t, n, r) {
                        return n && e(t.prototype, n),
                        r && e(t, r),
                            t
                    }
                }()
                , a = function(e, t, n) {
                    for (var r = !0; r; ) {
                        var i = e
                            , s = t
                            , o = n;
                        u = f = a = void 0,
                            r = !1,
                        null === i && (i = Function.prototype);
                        var u = Object.getOwnPropertyDescriptor(i, s);
                        if (void 0 !== u) {
                            if ("value"in u)
                                return u.value;
                            var a = u.get;
                            if (void 0 === a)
                                return;
                            return a.call(o)
                        }
                        var f = Object.getPrototypeOf(i);
                        if (null === f)
                            return;
                        e = f,
                            t = s,
                            n = o,
                            r = !0
                    }
                }
                , f = n(57)
                , l = r(f)
                , c = n(62)
                , h = r(c)
                , p = n(52)
                , d = r(p)
                , v = n(30)
                , m = r(v)
                , g = n(29)
                , y = r(g)
                , b = n(64)
                , w = r(b)
                , E = n(13)
                , S = r(E)
                , x = function(e) {
                    function t(e, n) {
                        i(this, t),
                            a(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e, n),
                            this.symbol = e,
                            this.chartCfg = n
                    }
                    return s(t, e),
                        u(t, [{
                            key: "set_timeLabel",
                            value: function() {
                                this.paperEl.custom(h["default"]).id("fDaysTimeLabel").attr({
                                    align: "center"
                                }),
                                    this.paperCmpEl.custom(h["default"]).id("fDaysTimeLabel").attr({
                                        align: "center"
                                    })
                            }
                        }, {
                            key: "draw_timeLabel",
                            value: function() {
                                var e = this.coord.minuteLabelBottom
                                    , t = e.w / 5
                                    , n = new l["default"](e.x + t / 2,e.y,t * (this.data.date.length - 1),e.h);
                                this.paperEl.$("fDaysTimeLabel").attr({
                                    coord: n,
                                    data: this.data.date.map(function(e) {
                                        return e && e.substr(5)
                                    })
                                })
                            }
                        }, {
                            key: "draw_cmpTimeLabel",
                            value: function() {
                                var e = this
                                    , t = this._getCmpList()
                                    , n = [];
                                t && t.forEach(function(t, r, i) {
                                    var s = e._getData(t.symbol);
                                    s && s.date.length && (n = s.date)
                                });
                                var r = this.data.date;
                                5 !== r.length && n.length && (r = n);
                                var i = this.coord.minuteLabelBottom
                                    , s = i.w / 5
                                    , o = new l["default"](i.x + s / 2,i.y,s * (r.length - 1),i.h);
                                this.paperCmpEl.$("fDaysTimeLabel").attr({
                                    coord: o,
                                    data: r.map(function(e) {
                                        return e && e.substr(5)
                                    })
                                })
                            }
                        }, {
                            key: "draw_minute",
                            value: function() {
                                var e = this.data
                                    , t = e.price.abs
                                    , n = this.maxX
                                    , r = e.close
                                    , i = e.price
                                    , s = this.coord.minuteArea;
                                t = 0 === t ? .01 * r || .01 : t,
                                    s.reAxis([0, this.maxX], [r - t, r + t]);
                                var o = i.data
                                    , u = i.average
                                    , a = Math.floor(n / 5)
                                    , f = this.fdaysDataStart = a * (5 - this.data.date.length);
                                u = u.slice(f, o.length),
                                    o = o.slice(f, o.length),
                                    this.fdaysDataLength = o.length,
                                    this.paperEl.$("minuteEl").attr({
                                        data: o,
                                        coord: s,
                                        seperation: a
                                    }),
                                this.chartCfg.minuteArea.minuteAvgEl && this.paperEl.$("minuteAvgEl").attr({
                                    data: u,
                                    coord: s,
                                    seperation: a
                                })
                            }
                        }, {
                            key: "draw_volume",
                            value: function() {
                                var e = this.data
                                    , t = e.volume
                                    , n = this.coord.volumeArea
                                    , r = 0 === e.volume.max ? 1 : e.volume.max * S["default"].MAX_VOLUME_PERCENTAGE;
                                n.reAxis([0, this.maxX], [0, r]);
                                var i = this.fdaysDataStart
                                    , s = t.data.slice(i, t.data.length);
                                this.paperEl.$("volumeEl").attr({
                                    data: s,
                                    coord: n
                                }),
                                    this.paperCmpEl.$("volumeEl").attr({
                                        data: s,
                                        coord: n
                                    })
                            }
                        }, {
                            key: "cal_titleData",
                            value: function(e) {
                                var t = this.data
                                    , n = (t.close,
                                        t.date)
                                    , r = t.price.fixed
                                    , i = o(t.last, 8)
                                    , s = i[0]
                                    , u = i[1]
                                    , a = i[2]
                                    , f = i[6]
                                    , l = i[7];
                                f || (f = n[0]);
                                var c = s.slice(0, 2) + ":" + s.slice(2, 4)
                                    , h = y["default"].HZLD(a)
                                    , p = m["default"].text.title
                                    , d = [["\u4ef7 \u683c", u.toFixed(r), h]];
                                if (e) {
                                    var v = "hk" === this.cfg.market && this.cfg.isIndex ? "\u6210\u4ea4\u989d" : "\u6210\u4ea4\u91cf";
                                    d.push([v, w["default"].unit(l, 0), p])
                                }
                                return {
                                    time: f.substr(5).replace(/-/g, "/") + " " + c,
                                    data: d
                                }
                            }
                        }, {
                            key: "cal_currentTitle",
                            value: function(e, t) {
                                var n = this.data
                                    , r = (n.close,
                                        n.date)
                                    , i = n.price.fixed
                                    , s = o(e, 7)
                                    , u = s[0]
                                    , a = s[1]
                                    , f = s[2]
                                    , l = s[3]
                                    , c = s[6];
                                c || (c = r[0]);
                                var h = u.slice(0, 2) + ":" + u.slice(2, 4)
                                    , p = y["default"].HZLD(f)
                                    , d = void 0
                                    , v = [["\u4ef7 \u683c", a.toFixed(i), p]];
                                if (t) {
                                    var m = "hk" === this.cfg.market && this.cfg.isIndex ? "\u6210\u4ea4\u989d" : "\u6210\u4ea4\u91cf";
                                    v.push([m, w["default"].unit(l, 0), d])
                                }
                                return {
                                    time: c.substr(5).replace(/-/g, "/") + " " + h,
                                    data: v
                                }
                            }
                        }]),
                        t
                }(d["default"]);
            t["default"] = x,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            (function(i) {
                "use strict";
                function s(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                function o(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }
                function u(e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var a = function() {
                        function e(e, t) {
                            var n = []
                                , r = !0
                                , i = !1
                                , s = void 0;
                            try {
                                for (var o, u = e[Symbol.iterator](); !(r = (o = u.next()).done) && (n.push(o.value),
                                !t || n.length !== t); r = !0)
                                    ;
                            } catch (a) {
                                i = !0,
                                    s = a
                            } finally {
                                try {
                                    !r && u["return"] && u["return"]()
                                } finally {
                                    if (i)
                                        throw s
                                }
                            }
                            return n
                        }
                        return function(t, n) {
                            if (Array.isArray(t))
                                return t;
                            if (Symbol.iterator in Object(t))
                                return e(t, n);
                            throw new TypeError("Invalid attempt to destructure non-iterable instance")
                        }
                    }()
                    , f = function() {
                        function e(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(t, n, r) {
                            return n && e(t.prototype, n),
                            r && e(t, r),
                                t
                        }
                    }()
                    , l = function(e, t, n) {
                        for (var r = !0; r; ) {
                            var i = e
                                , s = t
                                , o = n;
                            u = f = a = void 0,
                                r = !1,
                            null === i && (i = Function.prototype);
                            var u = Object.getOwnPropertyDescriptor(i, s);
                            if (void 0 !== u) {
                                if ("value"in u)
                                    return u.value;
                                var a = u.get;
                                if (void 0 === a)
                                    return;
                                return a.call(o)
                            }
                            var f = Object.getPrototypeOf(i);
                            if (null === f)
                                return;
                            e = f,
                                t = s,
                                n = o,
                                r = !0
                        }
                    }
                    , c = n(29)
                    , h = s(c)
                    , p = n(64)
                    , d = s(p)
                    , v = n(53)
                    , m = s(v)
                    , g = n(8)
                    , y = s(g)
                    , b = n(57)
                    , w = (s(b),
                        n(59))
                    , E = s(w)
                    , S = n(81)
                    , x = s(S)
                    , T = n(82)
                    , N = s(T)
                    , C = n(83)
                    , k = s(C)
                    , L = n(84)
                    , A = s(L)
                    , O = n(85)
                    , M = s(O)
                    , _ = n(86)
                    , D = s(_)
                    , P = n(87)
                    , H = s(P)
                    , B = n(88)
                    , j = s(B)
                    , F = n(63)
                    , I = s(F)
                    , q = n(62)
                    , R = s(q)
                    , U = n(70)
                    , z = s(U)
                    , W = n(89)
                    , X = s(W)
                    , V = n(73)
                    , $ = s(V)
                    , J = n(71)
                    , K = s(J)
                    , Q = n(74)
                    , G = s(Q)
                    , Y = n(76)
                    , Z = s(Y)
                    , et = n(77)
                    , tt = s(et)
                    , nt = n(55)
                    , rt = s(nt)
                    , it = n(72)
                    , st = s(it)
                    , ot = n(90)
                    , ut = s(ot)
                    , at = n(30)
                    , ft = s(at)
                    , lt = n(13)
                    , ct = s(lt)
                    , ht = n(78)
                    , pt = s(ht)
                    , dt = n(17)
                    , vt = n(56)
                    , mt = {
                        MACD: M["default"],
                        RSI: D["default"],
                        KDJ: D["default"],
                        DMI: D["default"],
                        OBV: D["default"],
                        "W&R": D["default"],
                        BOLL: H["default"],
                        SAR: j["default"]
                    }
                    , gt = {
                        MACD: [["DIFF"], ["DEA"], ["MACD"]],
                        RSI: [["RSI6"], ["RSI12"], ["RSI24"]],
                        KDJ: [["K"], ["D"], ["J"]],
                        DMI: [["PDI"], ["MDI"], ["ADX"], ["ADXR"]],
                        OBV: [["OBV"]],
                        "W&R": [["WR1"], ["WR2"]],
                        BOLL: [["UPPER"], ["MID"], ["LOWER"]],
                        SAR: [["SAR"]]
                    }
                    , yt = function(e) {
                        function t(e, n) {
                            o(this, t),
                                l(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e, n),
                                this.chartCfg = n;
                            var r = this.cfg
                                , i = (this.type = r.current,
                                    r.market);
                            "fund" == i && (i = e.substr(0, 2)),
                                this.market = i,
                                this.minX = 20,
                                this.maxX = 60,
                                this.maxCandleWidth = 11,
                                this.currentIndex = "MACD";
                            var s = this.fqType = r.fqType;
                            this.type.match(/m5|m15|m30|m60/) && (s = this.fqType = ""),
                                this.topic = this.type + s
                        }
                        return u(t, e),
                            f(t, [{
                                key: "init",
                                value: function(e) {
                                    this.chartCfg = e || this.chartCfg;
                                    var t = this.cfg;
                                    t.coord,
                                    this._isCoordChange() && this.getCoord();
                                    var n = this.fqType = t.fqType;
                                    return this.type.match(/m5|m15|m30|m60/) && (n = this.fqType = ""),
                                    this.topic !== this.type + n && (this.data = null ,
                                        this.topic = this.type + n,
                                        this.setPeriod(0, 0),
                                        this.trendData = null ,
                                        this.startDate = null ,
                                        this.endDate = null ),
                                        this.dataTopic = this.topic,
                                    this.type.match(/^year/) && (this.dataTopic = "day" + n),
                                        this.trendData = this.getTrendData(),
                                        this.data = this.updateData(),
                                        this.trendTopic = this.market.match(/if|wh/) || "month" === this.type ? this.type + this.fqType : "trend" + this.fqType,
                                        this.trendTopic = this.type.match(/m5|m15|m30|m60/) ? this.type : this.trendTopic,
                                        this.backEl = this.back.group(),
                                        this.paperEl = this.paper.group(),
                                        this.dragEl = this.drag.group(),
                                        this.staticForeEl = this.fore.group(),
                                        this.dynamicForeEl = this.fore.group(),
                                        this.loadingEl = this.back.group(),
                                        this.setElement(),
                                        this._onMouse(),
                                    e.trendArea.display && this._onMouseWheel(),
                                        this.listenToData(),
                                        this.listenToDrag(),
                                        this.listenToIndex(),
                                        this
                                }
                            }, {
                                key: "destroy",
                                value: function() {
                                    this._unMouse(),
                                    this.chartCfg.trendArea.display && this._unMouseWheel(),
                                    this.userGraphic && this.userGraphic.destroy(),
                                    this.subMain && this.subMain.unsubscribe(),
                                    this.subDrag && this.subDrag.unsubscribe(),
                                    this.subIndex && this.subIndex.unsubscribe(),
                                        this.clearLayer(),
                                        this.startIndex = null ,
                                        this.endIndex = null
                                }
                            }, {
                                key: "setPeriod",
                                value: function(e, t) {
                                    this.startIndex = e,
                                        this.endIndex = t
                                }
                            }, {
                                key: "getPeriod",
                                value: function() {
                                    return this.startIndex || this.endIndex ? {
                                        startIndex: this.startIndex,
                                        endIndex: this.endIndex
                                    } : !1
                                }
                            }, {
                                key: "getCoord",
                                value: function() {
                                    this.coord = this.coord || {};
                                    var e = this.coord
                                        , t = this.chartCfg
                                        , n = this.w - 2
                                        , r = 0;
                                    if (t.titleArea.display) {
                                        var i = t.titleArea.position
                                            , s = i.left
                                            , o = i.top
                                            , u = i.height
                                            , a = i.right;
                                        r += o,
                                            e.titleGrid = {
                                                x: s,
                                                y: r,
                                                w: n - s - a,
                                                h: u
                                            },
                                            r += u,
                                            this._axis("title", e.titleGrid)
                                    }
                                    if (t.klineArea.display) {
                                        var f = t.klineArea.position
                                            , s = f.left
                                            , l = f.top
                                            , u = f.height
                                            , a = f.right;
                                        r += l;
                                        var c = n - s - a;
                                        e.klineGrid = {
                                            x: s,
                                            y: r,
                                            w: c,
                                            h: u,
                                            m: 8,
                                            n: 12
                                        };
                                        var h = 4
                                            , p = 5;
                                        e.klineLabelGrid = {
                                            x: s - h - p,
                                            y: r,
                                            w: s - h - p - 1,
                                            h: u
                                        },
                                            e.klineLabelBottomGrid = {
                                                x: s,
                                                y: r + u + p,
                                                w: c,
                                                h: 35 - 2 * p
                                            };
                                        var d = 0;
                                        t.klineArea.ma && (d = 20,
                                            e.klineMaGrid = {
                                                x: s,
                                                y: r,
                                                w: c - 1,
                                                h: d
                                            },
                                            this._axis("klineMa", e.klineMaGrid)),
                                            this._axis("klineArea", e.klineGrid),
                                            this._axis("klineLabel", e.klineLabelGrid),
                                            this._axis("klineLabelBottom", e.klineLabelBottomGrid),
                                        t.panel.display && (e.panelGrid = {
                                            x: s,
                                            y: r + d - 1,
                                            w: c,
                                            h: u
                                        },
                                            this._axis("klinePanel", e.panelGrid)),
                                            r += u
                                    }
                                    if (t.volumeArea.display) {
                                        var v = t.volumeArea.position
                                            , s = v.left
                                            , m = v.top
                                            , u = v.height
                                            , a = v.right;
                                        r += m;
                                        var c = n - s - a;
                                        e.volumeGrid = {
                                            x: s,
                                            y: r,
                                            w: c,
                                            h: u,
                                            m: 3,
                                            n: 1
                                        },
                                            e.volumeBarsGrid = {
                                                x: s,
                                                y: r,
                                                w: c,
                                                h: u - 2
                                            };
                                        var h = 4
                                            , p = 5;
                                        if (e.volumeLabelGrid = {
                                                x: s - h - p,
                                                y: r,
                                                w: s - h - p - 1,
                                                h: 2 * u / 3
                                            },
                                                t.volumeArea.ma) {
                                            var g = 15;
                                            e.volumeMaGrid = {
                                                x: s,
                                                y: r - g,
                                                w: c - 1,
                                                h: g
                                            },
                                                this._axis("volumeMa", e.volumeMaGrid)
                                        }
                                        this._axis("volumeArea", e.volumeGrid),
                                            this._axis("volumeBarsArea", e.volumeBarsGrid),
                                            this._axis("volumeLabel", e.volumeLabelGrid),
                                            r += u
                                    }
                                    if (t.indexArea.display) {
                                        var y = t.indexArea.position
                                            , s = y.left
                                            , b = y.top
                                            , u = y.height
                                            , a = y.right;
                                        r += b;
                                        var c = n - s - a;
                                        e.indexGrid = {
                                            x: s,
                                            y: r,
                                            w: c,
                                            h: u,
                                            m: 5,
                                            n: 1
                                        };
                                        var h = 4
                                            , p = 5;
                                        e.indexLabelGrid = {
                                            x: s - h - p,
                                            y: r,
                                            w: s - h - p - 1,
                                            h: u
                                        },
                                            e.indexSloganGrid = {
                                                x: s,
                                                y: r - 15,
                                                w: c - 1,
                                                h: 15
                                            },
                                            e.indexMenuGrid = {
                                                x: s + 1,
                                                y: r + u,
                                                w: c - 2,
                                                h: 15
                                            },
                                            r += u,
                                            this._axis("indexArea", e.indexGrid),
                                            this._axis("indexLabel", e.indexLabelGrid),
                                            this._axis("indexSlogan", e.indexSloganGrid),
                                            this._axis("indexMenu", e.indexMenuGrid)
                                    }
                                    if (t.trendArea.display) {
                                        var w = t.trendArea.position
                                            , s = w.left
                                            , E = w.top
                                            , u = w.height
                                            , a = w.right;
                                        r += E;
                                        var c = n - s - a;
                                        e.trendGrid = {
                                            x: s,
                                            y: r,
                                            w: c,
                                            h: u,
                                            m: 1,
                                            n: 1
                                        };
                                        var S = 15;
                                        e.trendLabelGrid = {
                                            x: s,
                                            y: r + u + 3,
                                            w: c,
                                            h: S
                                        },
                                            this._axis("trendArea", e.trendGrid),
                                            this._axis("trendLabelArea", e.trendLabelGrid)
                                    }
                                }
                            }, {
                                key: "listenToData",
                                value: function(e) {
                                    var t = this
                                        , n = this.cfg.outer.id
                                        , r = this.channel.subscribe(n + ".data." + this.type, function(e) {
                                            y["default"].data(t.symbol, t.dataTopic, e),
                                                t.trendData = t.getTrendData(),
                                                t.data = t.updateData(),
                                                t.drawAll()
                                        });
                                    this.subMain = r
                                }
                            }, {
                                key: "getTrendData",
                                value: function() {
                                    var e = this.trendTopic;
                                    if (y["default"].data(this.symbol)[e]) {
                                        var t = y["default"].data(this.symbol)[e].calData;
                                        return t.o && t.o.len >= 64 ? t : (this._replaceData = !0,
                                            this._getData())
                                    }
                                    return null
                                }
                            }, {
                                key: "draw_trendArea",
                                value: function() {
                                    this.coord.trendArea && (this.draw_trend(),
                                        this.draw_trendLabel())
                                }
                            }, {
                                key: "getFetchYear",
                                value: function(e, t) {
                                    var n = e.slice(0, 4)
                                        , r = t.slice(0, 4)
                                        , i = this.type.match(/year/) ? "day" : this.type
                                        , s = this.trendData.o.trendYearList[i]
                                        , o = [];
                                    return s.forEach(function(e) {
                                        var t = e[0]
                                            , i = e[1];
                                        i !== !0 && "fetching" !== i && t >= n && r >= t && (o.push(t),
                                            e[1] = "fetching")
                                    }),
                                        o
                                }
                            }, {
                                key: "listenToDrag",
                                value: function() {
                                    var e = this;
                                    this.subDrag = this.channel.subscribe(this.cfg.outer.id + ".drag." + this.type, function(t) {
                                        var n = e.trendData[t.x1][0]
                                            , r = e.trendData[t.x2 - 1][0]
                                            , i = e.trendData.o.trendYearList;
                                        if (i) {
                                            var s = e.getFetchYear(n, r);
                                            if (s.length)
                                                return e.startDate = n,
                                                    e.endDate = r,
                                                    void e.channel.publish(e.cfg.outer.id + ".fetch." + e.cfg.current, s)
                                        }
                                        if (e.isFetchedData()) {
                                            var o = ut["default"].binarySearch(e._getData(), n, !0)
                                                , u = t.x2 === e.trendData.length ? e._getData().o.len - 1 : ut["default"].binarySearch(e._getData(), r, !0);
                                            0 > o && (o = 0);
                                            var a = e.minLength
                                                , f = e._getData().o.len;
                                            a - 1 > u - o && ("beg" == t.type ? (o = u - (a - 1),
                                            0 > o && (o = 0,
                                                u = o + a - 1,
                                            u > f - 1 && (u = f - 1))) : (u = o + (a - 1),
                                            u > f - 1 && (u = f - 1,
                                                o = u - a + 1,
                                            0 > o && (o = 0)))),
                                                e.startDate = e._getData()[o][0],
                                                e.endDate = e._getData()[u][0],
                                                e.setPeriod(o, u + 1),
                                                e.data = e.updateViewData(),
                                                e.drawAll()
                                        }
                                    })
                                }
                            }, {
                                key: "listenToIndex",
                                value: function() {
                                    var e = this;
                                    this.subIndex = this.channel.subscribe(this.cfg.outer.id + ".index." + this.type, function(t) {
                                        e.currentIndex = t,
                                            e.data = e.updateViewData(),
                                            e.drawAll()
                                    })
                                }
                            }, {
                                key: "setElement",
                                value: function() {
                                    this.setBack(),
                                        this.setPaper(),
                                        this.setLoading(),
                                        this.setDrag(),
                                        this.setFore()
                                }
                            }, {
                                key: "setBack",
                                value: function() {
                                    var e = this.backEl;
                                    e.hide();
                                    var t = this.coord
                                        , n = ft["default"].border.color
                                        , r = ft["default"].background.gridColor
                                        , i = ft["default"].border.inner
                                        , s = t.title;
                                    if (s && e.custom(Z["default"]).attr({
                                            coord: s,
                                            stroke: n,
                                            fill: r,
                                            r: 4
                                        }),
                                        t.klineGrid && e.custom(E["default"]).attr(t.klineGrid).stroke(n).inner(i).fill(r),
                                            t.volumeArea) {
                                        e.custom(E["default"]).attr(t.volumeGrid).stroke(n).inner(i).fill(r);
                                        var o = ct["default"].STOCK_UNIT[this.market];
                                        "hk" === this.cfg.market && this.cfg.isIndex && (o = "\u5143"),
                                            e.text(o, t.volumeArea.l - 10, t.volumeArea.b).textBaseline("middle").textAlign("right").font(ct["default"].FONT).fill(ft["default"].text.label)
                                    }
                                    t.indexGrid && e.custom(E["default"]).attr(t.indexGrid).stroke(n).inner(i).fill(r),
                                    t.trendGrid && e.custom(E["default"]).attr(t.trendGrid).stroke(n).inner(i).fill(r)
                                }
                            }, {
                                key: "setPaper",
                                value: function() {
                                    var e = this.paperEl;
                                    e.hide();
                                    var t = this.coord
                                        , n = ft["default"].text.label;
                                    if (t.klineArea && this.setKline(),
                                            t.volumeArea) {
                                        var r = t.volumeLabel;
                                        e.custom(I["default"]).id("volumeLabelEl").attr({
                                            align: "right",
                                            coord: r,
                                            color: !1,
                                            fill: n,
                                            unit: !0,
                                            fixed: 0
                                        }),
                                            t.volumeArea,
                                            e.custom(A["default"]).id("volumeEl")
                                    }
                                    var i = t.trendArea;
                                    i && (e.custom(N["default"]).id("trendEl").attr({
                                        isLine: !0
                                    }),
                                        e.custom(R["default"]).id("trendLabelEl").attr({
                                            coord: t.trendLabelArea,
                                            align: "center"
                                        }));
                                    var s = t.indexMenu;
                                    if (s) {
                                        e.custom(x["default"]).id("indexMenuEl").attr({
                                            data: ["MACD", "RSI", "KDJ", "DMI", "OBV", "W&R", "BOLL", "SAR"],
                                            currentIndex: this.currentIndex,
                                            coord: s,
                                            topic: this.type,
                                            symbol: this.symbol,
                                            outerId: this.cfg.outer.id
                                        });
                                        var o = e.group().id("indexGroupEL");
                                        for (var u in mt)
                                            mt[u] && o.custom(mt[u]).id(u).hide();
                                        e.custom(I["default"]).id("indexLabelEl").attr({
                                            align: "right",
                                            color: !1,
                                            fill: n,
                                            unit: !0
                                        })
                                    }
                                }
                            }, {
                                key: "setKline",
                                value: function() {
                                    var e = this.coord
                                        , t = this.paperEl
                                        , n = ft["default"].text.label;
                                    t.custom(k["default"]).id("klineEl").attr({
                                        mathType: this.cfg.mathType
                                    });
                                    var r = e.klineLabel;
                                    t.custom(I["default"]).id("klineLabelEl").attr({
                                        align: "right",
                                        coord: r,
                                        color: !1,
                                        fill: n,
                                        mathType: this.cfg.mathType
                                    });
                                    var i = e.klineLabelBottom;
                                    t.custom(R["default"]).id("klineLabelBottomEl").attr({
                                        coord: i
                                    })
                                }
                            }, {
                                key: "setLoading",
                                value: function() {
                                    this.loading = this.loadingEl.custom(rt["default"]).x(this.w / 2).y(this.h / 2)
                                }
                            }, {
                                key: "setDrag",
                                value: function() {
                                    var e = this.dragEl;
                                    e && e.hide(),
                                    this.coord.trendArea && e.custom(X["default"]).id("trendDragEl").attr({
                                        topic: this.type,
                                        symbol: this.symbol,
                                        outerId: this.cfg.outer.id
                                    })
                                }
                            }, {
                                key: "setFore",
                                value: function() {
                                    var e = this.staticForeEl
                                        , t = this.dynamicForeEl;
                                    e && e.hide(),
                                    t && t.hide();
                                    var n = this.coord
                                        , r = ft["default"].title.text
                                        , i = ft["default"].cross.color
                                        , s = ft["default"].minute.dotColor
                                        , o = ft["default"].minute.dotFill;
                                    ft["default"].cross.color,
                                        ft["default"].background.minuteGrid,
                                    n.title && e.custom(tt["default"]).id("titleTextEl").attr({
                                        coord: n.title,
                                        fill: r,
                                        market: this.cfg.market
                                    }),
                                    n.klineArea && (n.klineMa && e.custom(R["default"]).id("klineMaEl").attr({
                                        coord: n.klineMa
                                    }),
                                        t.custom(z["default"]).id("klineCrossEl").attr({
                                            coord: n.klineArea,
                                            stroke: i
                                        }).setAttr("z-index", 20),
                                        t.custom($["default"]).id("dotEl").attr({
                                            coord: n.klineArea,
                                            r: 3,
                                            stroke: s,
                                            fill: o
                                        }).setAttr("z-index", 50),
                                        t.custom(K["default"]).id("crossBoxEl").attr({
                                            coord: n.klineArea,
                                            position: "LB",
                                            padding: 4,
                                            boxWidth: n.klineLabel.width
                                        }).setAttr("z-index", 90),
                                    n.klinePanel && t.custom(G["default"]).id("panelEl").attr({
                                        coord: n.klinePanel,
                                        titleStroke: !0
                                    }).setAttr("z-index", 100)),
                                    n.volumeArea && (n.volumeMa && e.custom(R["default"]).id("volumeMaEl").attr({
                                        coord: n.volumeMa
                                    }),
                                        t.custom(z["default"]).id("volCrossEl").attr({
                                            coord: n.volumeArea,
                                            stroke: i
                                        }).setAttr("z-index", 20),
                                        t.rect(0, 0, 0, 0).id("rectVolEl")),
                                    n.indexArea && (e.custom(R["default"]).id("indexSloganEl").attr({
                                        coord: n.indexSlogan
                                    }),
                                        t.custom(z["default"]).id("indexCrossEl").attr({
                                            coord: n.indexArea,
                                            stroke: i
                                        }).setAttr("z-index", 20))
                                }
                            }, {
                                key: "draw_status",
                                value: function(e) {
                                    e = e || this.data.o.status;
                                    var t = this.coord.klineGrid;
                                    this.fore.$("statusBox") || (this.fore.custom(st["default"]).id("statusBox").attr({
                                        coord: t,
                                        status: e
                                    }),
                                        this._unMouse())
                                }
                            }, {
                                key: "drawAll",
                                value: function() {
                                    if (this.showBack(),
                                            this.loading.start(),
                                        this.data && this._getData() && this.isFetchedData()) {
                                        if (this.loading.stop(),
                                            0 === this.data.length)
                                            return void this.draw_status("\u6682\u65e0\u6570\u636e");
                                        this.getTrendData() && (this.paperEl.show(),
                                            this.trendData = this.getTrendData(),
                                        this.trendData.length && this.draw_trendArea()),
                                            this.showPaper(),
                                            this.overState ? this.showDynamicFore(this.overX, this.overY) : this.showStaticFore()
                                    }
                                }
                            }, {
                                key: "isFetchedData",
                                value: function() {
                                    var e = this.type.match(/year/) ? "day" : this.type;
                                    if (!this.trendData || !this.trendData.length || !this.trendData.o.trendYearList)
                                        return !0;
                                    var t = this.trendData.o.trendYearList[e]
                                        , n = !0;
                                    return t.forEach(function(e) {
                                        var t = (e[0],
                                            e[1]);
                                        "fetching" === t && (n = !1)
                                    }),
                                        n
                                }
                            }, {
                                key: "showBack",
                                value: function() {
                                    this.backEl && this.backEl.show()
                                }
                            }, {
                                key: "showPaper",
                                value: function() {
                                    this.paperEl && (this.cal_barWidth(),
                                    this.coord.klineArea && (this.draw_kline(),
                                        this.draw_klineLabel(),
                                        this.draw_klineLabelBottom()),
                                    this.coord.volumeArea && (this.draw_volumeLabel(),
                                        this.draw_volume()),
                                    this.coord.indexArea && (this.draw_index(),
                                        this.draw_indexMenu()),
                                    this.coord.trendArea && this.trendData && (this.draw_dragBar(),
                                        this.showDrag()),
                                        this.paperEl.show())
                                }
                            }, {
                                key: "showDrag",
                                value: function() {
                                    this.dragEl && this.dragEl.show()
                                }
                            }, {
                                key: "showUserGraphic",
                                value: function() {
                                    var e = this;
                                    (this.userGraphic || this.cfg.userPaint) && !function() {
                                        var t = e;
                                        n.e(1, function() {
                                            t.cfg.userPaint && t._paintHide();
                                            var e = n(91)
                                                , i = t.userGraphic = t.userGraphic ? t.userGraphic : new e(t,t.coord.klineArea,t.paint);
                                            i.show(t, t.coord.klineArea, t.paint)
                                        })
                                    }()
                                }
                            }, {
                                key: "_paintHide",
                                value: function() {
                                    this._unMouseWheel(),
                                    this.dynamicForeEl.$("panelEl") && this.dynamicForeEl.$("panelEl").hide(),
                                    this.dynamicForeEl.$("klineCrossEl") && this.dynamicForeEl.$("klineCrossEl").hide(),
                                    this.dynamicForeEl.$("crossBoxEl") && this.dynamicForeEl.$("crossBoxEl").hide(),
                                    this.dynamicForeEl.$("dotEl") && this.dynamicForeEl.$("dotEl").hide()
                                }
                            }, {
                                key: "showStaticFore",
                                value: function() {
                                    this.staticForeEl && (this.coord.title && this.draw_title(),
                                    this.coord.klineMa && this.draw_ma("klineMaEl"),
                                    this.coord.volumeMa && this.draw_ma("volumeMaEl"),
                                    this.coord.indexArea && this.draw_indexSlogan(),
                                        this.staticForeEl.show())
                                }
                            }, {
                                key: "showDynamicFore",
                                value: function(e, t) {
                                    if (t < this.y1)
                                        return void this.showStaticFore();
                                    var n = this.dynamicForeEl
                                        , r = this.staticForeEl
                                        , i = this.data
                                        , s = this.coord.klineArea
                                        , o = this.coord.volumeBarsArea
                                        , u = this.chartCfg.klineArea.shape
                                        , a = void 0;
                                    "candle" === u ? a = s.x2d(e) : "line" === u && (a = s.x2dLine(e)),
                                    a >= i.length && (a = i.length - 1);
                                    var f = i[a];
                                    this.coord.klineMa && this.draw_ma("klineMaEl", f.slice(7, 10)),
                                    this.coord.volumeMa && this.draw_ma("volumeMaEl", f.slice(10, 14));
                                    var l = void 0
                                        , c = s.d2x(a) + s.stepX / 2
                                        , p = c;
                                    if ("candle" === u) {
                                        for (var d = Number.MAX_VALUE, v = 1, m = 1; 5 > m; m++) {
                                            var g = Math.pow(s.d2y(f[m]) - t, 2);
                                            d > g && (v = m,
                                                d = g)
                                        }
                                        l = f[v],
                                            f.nearest = l
                                    } else if ("line" === u) {
                                        l = f[2];
                                        var y = s.w / (s.maxX - s.minX);
                                        c = vt.util.shift(s.baseX + a * y)
                                    }
                                    var b = s.d2y(l);
                                    n.$("klineCrossEl").attr({
                                        x: c,
                                        y: b
                                    }),
                                        n.$("dotEl").attr({
                                            x: c,
                                            y: b
                                        });
                                    var w = f[0]
                                        , E = void 0;
                                    if (E = this.type.match(/m5|15|m30|m60/) ? w.slice(4, 6) + "/" + w.slice(6, 8) + " " + w.slice(8, 10) + ":" + w.slice(10, 12) : w.slice(0, 4) + "/" + w.slice(4, 6) + "/" + w.slice(6, 8),
                                            n.$("crossBoxEl").attr({
                                                data: {
                                                    left: l.toFixed(this.data.o.fixed),
                                                    bottom: E
                                                },
                                                x: c,
                                                y: b
                                            }),
                                            this.coord.volumeArea)
                                        if (n.$("volCrossEl").attr({
                                                x: p
                                            }),
                                                f[5]) {
                                            b = o.d2y(f[5]);
                                            var S = this.barWidth
                                                , x = h["default"].HZLD(f[6], "noGray");
                                            n.$("rectVolEl").attr({
                                                x: vt.util.shift(p) - S / 2 - .5,
                                                y: vt.util.shift(b) - 1,
                                                width: S + 1,
                                                height: vt.util.shift(o.b - b + 2) + .5,
                                                fill: x,
                                                stroke: x
                                            }).show()
                                        } else
                                            n.$("rectVolEl").hide();
                                    this.coord.indexArea && (n.$("indexCrossEl").attr({
                                        x: p
                                    }),
                                        this.draw_indexSlogan(a)),
                                        f.close = i.o.closingPrice[this.startIndex + a - 1],
                                    this.coord.klinePanel && this.draw_currentPanel(f, c),
                                    this.coord.title && this.draw_title(f),
                                        n.show(),
                                        r.show()
                                }
                            }, {
                                key: "updateData",
                                value: function() {
                                    var e = this._getData();
                                    if (!e || !e.length)
                                        return e;
                                    var t = this.startDate
                                        , n = this.endDate;
                                    if (t && n) {
                                        var r = ut["default"].binarySearch(e, t, !0)
                                            , i = ut["default"].binarySearch(e, n, !0);
                                        return r = -1 === r ? 0 : r,
                                            i = i === e.length - 2 ? e.length - 1 : i,
                                            this.setPeriod(r, i + 1),
                                            this.updateViewData()
                                    }
                                    if (this.getPeriod()) {
                                        if (this.data && e.o.len - this.data.o.len) {
                                            var s = e.o.len - this.data.o.len;
                                            this.setPeriod(this.startIndex, this.endIndex + s)
                                        }
                                    } else {
                                        var o = e.o.len;
                                        this.minLength = o >= this.minX ? this.minX : o;
                                        var u = o > this.maxX ? o - this.maxX : 0
                                            , a = o;
                                        this.setPeriod(u, a)
                                    }
                                    return this.updateViewData()
                                }
                            }, {
                                key: "updateViewData",
                                value: function() {
                                    var e = this._getData()
                                        , t = e.slice(this.startIndex, this.endIndex)
                                        , n = -Number.MAX_VALUE
                                        , r = Number.MAX_VALUE
                                        , s = 0
                                        , o = 0 == this.startIndex ? e.o.open : e.o.closingPrice[this.startIndex - 1];
                                    return t.forEach(function(e, t, i) {
                                        n = Math.max(n, e[1]),
                                            n = Math.max(n, e[2]),
                                            n = Math.max(n, e[3]),
                                            n = "" === e[7] ? n : Math.max(n, e[7]),
                                            n = "" === e[8] ? n : Math.max(n, e[8]),
                                            n = "" === e[9] ? n : Math.max(n, e[9]),
                                            r = Math.min(r, e[1]),
                                            r = Math.min(r, e[2]),
                                            r = Math.min(r, e[4]),
                                            r = "" === e[7] ? r : Math.min(r, e[7]),
                                            r = "" === e[8] ? r : Math.min(r, e[8]),
                                            r = "" === e[9] ? r : Math.min(r, e[9]),
                                            s = Math.max(s, e[5]),
                                            s = Math.max(s, e[10]),
                                            s = Math.max(s, e[11]),
                                            s = Math.max(s, e[12])
                                    }),
                                        t.o = i.extend({}, e.o, {
                                            maxVal: n,
                                            minVal: r,
                                            maxVol: s,
                                            open: o,
                                            closingPrice: e.o.closingPrice
                                        }),
                                        t.o = i.extend({}, t.o, this._updateIndexData()),
                                        t
                                }
                            }, {
                                key: "_updateIndexData",
                                value: function() {
                                    var e = this._getData()
                                        , t = this.currentIndex
                                        , n = this.startIndex
                                        , r = this.endIndex;
                                    switch (e.o[t] || (e.o[t] = m["default"].klineIndex(t, e.o)),
                                        t) {
                                        case "MACD":
                                            var i = e.o.MACD;
                                            return {
                                                MACD: {
                                                    DIFF: i.DIF.slice(n, r),
                                                    DEA: i.DEA.slice(n, r),
                                                    MACD: i.MACD.slice(n, r)
                                                }
                                            };
                                        case "RSI":
                                            var s = e.o.RSI;
                                            return {
                                                RSI: {
                                                    RSI6: s.RSI6.slice(n, r),
                                                    RSI12: s.RSI12.slice(n, r),
                                                    RSI24: s.RSI24.slice(n, r)
                                                }
                                            };
                                        case "KDJ":
                                            var o = e.o.KDJ;
                                            return {
                                                KDJ: {
                                                    K: o.K.slice(n, r),
                                                    D: o.D.slice(n, r),
                                                    J: o.J.slice(n, r)
                                                }
                                            };
                                        case "DMI":
                                            var u = e.o.DMI;
                                            return {
                                                DMI: {
                                                    PDI: u.PDI.slice(n, r),
                                                    MDI: u.MDI.slice(n, r),
                                                    ADX: u.ADX.slice(n, r),
                                                    ADXR: u.ADXR.slice(n, r)
                                                }
                                            };
                                        case "OBV":
                                            var a = e.o.OBV;
                                            return {
                                                OBV: {
                                                    OBV: a.OBV.slice(n, r)
                                                }
                                            };
                                        case "W&R":
                                            var f = e.o["W&R"];
                                            return {
                                                "W&R": {
                                                    WR1: f.WR10.slice(n, r),
                                                    WR2: f.WR6.slice(n, r)
                                                }
                                            };
                                        case "BOLL":
                                            var l = e.o.BOLL;
                                            return {
                                                BOLL: {
                                                    UPPER: l.UPPER.slice(n, r),
                                                    MID: l.MID.slice(n, r),
                                                    LOWER: l.LOWER.slice(n, r)
                                                }
                                            };
                                        case "SAR":
                                            var c = e.o.SAR;
                                            return {
                                                SAR: {
                                                    SAR: {
                                                        data: c.SAR.data.slice(n, r),
                                                        direction: c.SAR.direction.slice(n, r)
                                                    }
                                                }
                                            }
                                    }
                                }
                            }, {
                                key: "_over",
                                value: function(e, t) {
                                    this.data && !this.data.status && this.showDynamicFore(e, t)
                                }
                            }, {
                                key: "_out",
                                value: function() {
                                    this.data && !this.data.status && (this.dynamicForeEl.hide(),
                                        this.showStaticFore())
                                }
                            }, {
                                key: "draw_kline",
                                value: function() {
                                    var e = this.data
                                        , t = e.length
                                        , n = this.coord.klineArea
                                        , r = e.o.maxVal - e.o.minVal;
                                    r = 1e-5 > r ? .001 * e.o.open || .01 : r;
                                    var i = e.o.maxVal + r / 7
                                        , s = e.o.minVal - r / 7;
                                    if ("log" === this.cfg.mathType) {
                                        var o = Math.pow(Math.E, 1 / 7 * Math.log(e.o.maxVal / e.o.minVal));
                                        i = e.o.maxVal * o,
                                            s = e.o.minVal / o
                                    }
                                    n.reAxis([0, t < this.minX ? this.minX - 1 : t - 1], [s, i], "log" === this.cfg.mathType),
                                        this.paperEl.$("klineEl").attr({
                                            data: e,
                                            coord: n,
                                            barWidth: this.barWidth
                                        }),
                                        this.showUserGraphic(n, e)
                                }
                            }, {
                                key: "draw_klineLabel",
                                value: function() {
                                    var e = (this.data.o,
                                            this.data.o.fixed)
                                        , t = this.coord.klineArea;
                                    this.paperEl.$("klineLabelEl").attr({
                                        data: {
                                            maxVal: t.maxY,
                                            minVal: t.minY,
                                            n: 9
                                        },
                                        fixed: e
                                    })
                                }
                            }, {
                                key: "draw_klineLabelBottom",
                                value: function() {
                                    for (var e = this.data, t = e.length > this.minX ? e.length : this.minX, n = [], r = this.type.match(/m5|m15|m30|m60/) ? 3 : 4, i = 0; r > i; i++) {
                                        var s = i === r - 1 ? e[t - 1] : e[Math.floor(t * i / (r - 1))];
                                        n[i] = s ? s[0] : ""
                                    }
                                    n = n.map(function(e) {
                                        return "" != e && (e = e.slice(0, 4) + "/" + e.slice(4, 6) + "/" + e.slice(6, 8)),
                                            e
                                    }),
                                        this.paperEl.$("klineLabelBottomEl").attr({
                                            data: n
                                        })
                                }
                            }, {
                                key: "draw_volume",
                                value: function() {
                                    var e = this.data
                                        , t = e.length
                                        , n = this.coord.volumeBarsArea
                                        , r = 0 === e.o.maxVol ? 1 : e.o.maxVol * ct["default"].MAX_VOLUME_PERCENTAGE;
                                    n.reAxis([0, t < this.minX ? this.minX - 1 : t - 1], [0, r]),
                                        this.paperEl.$("volumeEl").attr({
                                            data: e,
                                            coord: n,
                                            barWidth: this.barWidth
                                        })
                                }
                            }, {
                                key: "draw_volumeLabel",
                                value: function() {
                                    var e = (this.coord.volumeLabel,
                                            this.data.o)
                                        , t = e.maxVol * ct["default"].MAX_VOLUME_PERCENTAGE;
                                    this.paperEl.$("volumeLabelEl").data({
                                        maxVal: t,
                                        minVal: t / 3,
                                        n: 3
                                    })
                                }
                            }, {
                                key: "draw_trend",
                                value: function() {
                                    var e = this.trendData.o
                                        , t = this.coord.trendArea;
                                    t.reAxis([0, e.len], [e.minValAll, e.maxValAll]),
                                        this.paperEl.$("trendEl").attr({
                                            data: e.closingPrice,
                                            coord: t
                                        })
                                }
                            }, {
                                key: "draw_trendLabel",
                                value: function() {
                                    var e = this.trendData;
                                    if (e) {
                                        var t = e.o.trendTimeTags
                                            , n = []
                                            , r = []
                                            , i = 0;
                                        t.forEach(function(e) {
                                            n.push(e[0]),
                                                r.push(e[1] - i),
                                                i = e[1]
                                        }),
                                            r.shift(),
                                            this.paperEl.$("trendLabelEl").attr({
                                                data: n,
                                                step: r
                                            })
                                    }
                                }
                            }, {
                                key: "draw_dragBar",
                                value: function() {
                                    var e = (this.getPeriod(),
                                            this.coord.trendArea)
                                        , t = this.data[0][0]
                                        , n = this.data[this.data.length - 1][0]
                                        , r = this.dragIndStart = ut["default"].binarySearch(this.trendData, t, !0)
                                        , i = this.dragIndEnd = ut["default"].binarySearch(this.trendData, n, !0)
                                        , s = e.d2xLine(r)
                                        , o = e.d2xLine(i + 1);
                                    this.dragEl.$("trendDragEl").attr({
                                        coord: e,
                                        x: e.l,
                                        w: e.w,
                                        beg: s,
                                        end: o,
                                        klineCoord: this.cfg.userPaint ? null : this.coord.klineArea,
                                        dataReplaced: this._replaceData
                                    })
                                }
                            }, {
                                key: "draw_index",
                                value: function() {
                                    var e = this.currentIndex
                                        , t = this.data.o[e]
                                        , n = -Number.MAX_VALUE
                                        , r = Number.MAX_VALUE;
                                    if ("BOLL" === e || "SAR" === e) {
                                        i.forEach(t, function(e, t) {
                                            e = e.data || e,
                                                i.forEach(e, function(e) {
                                                    d["default"].isValidNum(e) && (n = Math.max(n, e),
                                                        r = Math.min(r, e))
                                                })
                                        }),
                                            n = Math.max(n, this.data.o.maxVal),
                                            r = Math.min(r, this.data.o.minVal);
                                        var s = this.data;
                                        s = i.extend([], s, this.data.o[e]),
                                            t = s
                                    } else
                                        i.forEach(t, function(e, t) {
                                            i.forEach(e, function(e) {
                                                d["default"].isValidNum(e) && (n = Math.max(n, e),
                                                    r = Math.min(r, e))
                                            })
                                        });
                                    var o = void 0
                                        , u = void 0;
                                    if ("MACD" == this.currentIndex) {
                                        var a = Math.max(Math.abs(n), Math.abs(r));
                                        a = d["default"].isValidNum(a) ? a * ct["default"].MAX_MACD_PERCENTAGE : .1,
                                            a = 1e-5 > a ? .1 : a,
                                            o = a,
                                            u = -a
                                    } else {
                                        n = d["default"].isValidNum(n) ? n : 0,
                                            r = d["default"].isValidNum(r) ? r : 0;
                                        var f = n - r;
                                        f = 1e-5 > f ? .1 : f,
                                            o = n + (ct["default"].MAX_MACD_PERCENTAGE - 1) * f,
                                            u = r - (ct["default"].MAX_MACD_PERCENTAGE - 1) * f
                                    }
                                    var l = this.coord.indexArea
                                        , c = this.data.length;
                                    l.reAxis([0, c < this.minX ? this.minX - 1 : c - 1], [u, o]),
                                        this.paperEl.$("indexGroupEL").children.forEach(function(e) {
                                            e.hide()
                                        }),
                                        this.paperEl.$("indexGroupEL").$(e).attr({
                                            data: t,
                                            coord: l,
                                            barWidth: this.barWidth
                                        }).show();
                                    var h = this.coord.indexLabel
                                        , p = 2;
                                    this.paperEl.$("indexLabelEl").attr({
                                        data: {
                                            maxVal: o,
                                            minVal: u,
                                            n: 3
                                        },
                                        fixed: p,
                                        coord: h
                                    })
                                }
                            }, {
                                key: "draw_indexMenu",
                                value: function() {
                                    var e = this.currentIndex;
                                    this.paperEl.$("indexMenuEl").attr({
                                        currentIndex: e
                                    }).show()
                                }
                            }, {
                                key: "draw_title",
                                value: function(e) {
                                    if (this.coord.title) {
                                        var t = void 0;
                                        t = e ? this.cal_currentTitle(e) : this.cal_titleData(),
                                            this.staticForeEl.$("titleTextEl").attr({
                                                data: t
                                            })
                                    }
                                }
                            }, {
                                key: "draw_ma",
                                value: function(e, t) {
                                    var n = this;
                                    t = t ? t.map(function(e, t, r) {
                                        return d["default"].isValidNum(e) && "" !== e ? "\uff1a" + d["default"].unit(e, n.data.o.fixed) : ""
                                    }) : ["", "", ""];
                                    var r = ft["default"].text;
                                    this.staticForeEl.$(e).attr({
                                        data: [["MA5" + t[0], r.ma5], ["MA10" + t[1], r.ma10], ["MA20" + t[2], r.ma20]]
                                    })
                                }
                            }, {
                                key: "draw_indexSlogan",
                                value: function(e) {
                                    var t = this.cal_indexSlogan(e);
                                    this.staticForeEl.$("indexSloganEl").attr({
                                        data: t
                                    })
                                }
                            }, {
                                key: "draw_currentPanel",
                                value: function(e, t) {
                                    var n = this.coord;
                                    if (n.klinePanel) {
                                        var r = this.chartCfg.panel.volume_text
                                            , i = this.cal_currentPanelData(e, r);
                                        this.dynamicForeEl.$("panelEl").attr({
                                            data: i.data,
                                            time: i.panelTime,
                                            x: t
                                        })
                                    }
                                }
                            }, {
                                key: "cal_titleData",
                                value: function() {
                                    var e = this.data
                                        , t = e.length
                                        , n = 0 === this.startIndex ? e.o.open : e.o.closingPrice[this.startIndex - 1]
                                        , r = e[t - 1][0].substr(4)
                                        , i = e[t - 1][2]
                                        , s = 100 * (i / n - 1);
                                    s = s >= 0 ? "+" + s.toFixed(2) : s.toFixed(2);
                                    var o = h["default"].HZLD(s)
                                        , u = r.slice(0, 2) + "/" + r.slice(2, 4);
                                    u += this.type.match(/m5|m15|m30|m60/) ? " " + r.slice(4, 6) + ":" + r.slice(6, 8) : "";
                                    var a = this.cfg.isIndex ? "" : {
                                        "": "\u4e0d\u590d\u6743",
                                        qfq: "\u524d\u590d\u6743",
                                        hfq: "\u540e\u590d\u6743"
                                    }[this.cfg.fqType] + " ";
                                    return {
                                        time: u,
                                        data: [[a + "\u6da8\u8dcc\u5e45", s + "%", o]]
                                    }
                                }
                            }, {
                                key: "cal_currentTitle",
                                value: function(e) {
                                    var t = a(e, 6)
                                        , n = t[0]
                                        , r = t[1]
                                        , i = t[2]
                                        , s = t[3]
                                        , o = t[4]
                                        , u = (t[5],
                                        e.close || i);
                                    n = n.substr(4);
                                    var f = h["default"].HZLD(r - u)
                                        , l = h["default"].HZLD(s - u)
                                        , c = h["default"].HZLD(o - u)
                                        , p = h["default"].HZLD(i - u)
                                        , d = this.data.o.fixed
                                        , v = n.slice(0, 2) + "/" + n.slice(2, 4);
                                    return v += this.type.match(/m5|m15|m30|m60/) ? " " + n.slice(4, 6) + ":" + n.slice(6, 8) : "",
                                    {
                                        time: v,
                                        data: [["\u5f00", r.toFixed(d), f], ["\u9ad8", s.toFixed(d), l], ["\u4f4e", o.toFixed(d), c], ["\u6536", i.toFixed(d), p]]
                                    }
                                }
                            }, {
                                key: "cal_currentPanelData",
                                value: function(e, t) {
                                    var n = a(e, 6)
                                        , r = n[0]
                                        , i = n[1]
                                        , s = n[2]
                                        , o = n[3]
                                        , u = n[4]
                                        , f = n[5]
                                        , l = e.close || i
                                        , c = r;
                                    c = c.slice(0, 4) + "-" + c.slice(4, 6) + "-" + c.slice(6, 8);
                                    var p = ["\u65e5", "\u4e00", "\u4e8c", "\u4e09", "\u56db", "\u4e94", "\u516d"]
                                        , v = "\u5468" + p[(new Date(c)).getDay()]
                                        , m = c + " " + v;
                                    this.type.match(/m5|m15|m30|m60/) && (m += " " + r.slice(8, 10) + ":" + r.slice(10, 12));
                                    var g = h["default"].HZLD(i - l)
                                        , y = h["default"].HZLD(o - l)
                                        , b = h["default"].HZLD(u - l)
                                        , w = h["default"].HZLD(s - l)
                                        , E = ft["default"].panel.text
                                        , S = this.data.o.fixed
                                        , x = [["\u5f00\u76d8", i.toFixed(S), g, e.nearest == i], ["\u6700\u9ad8", o.toFixed(S), y, e.nearest == o], ["\u6700\u4f4e", u.toFixed(S), b, e.nearest == u], ["\u6536\u76d8", s.toFixed(S), w, e.nearest == s], ["\u6da8\u8dcc\u5e45", (100 * (s / l - 1)).toFixed(2) + "%", w], ["\u6da8\u8dcc\u989d", (s - l).toFixed(S), w]];
                                    if (t) {
                                        var T = "hk" === this.cfg.market && this.cfg.isIndex ? "\u6210\u4ea4\u989d" : "\u6210\u4ea4\u91cf";
                                        x.push([T, d["default"].unit(f, 0), E])
                                    }
                                    return {
                                        panelTime: m,
                                        data: x
                                    }
                                }
                            }, {
                                key: "cal_indexSlogan",
                                value: function(e) {
                                    var t = this.currentIndex
                                        , n = this.data.o[t]
                                        , r = ft["default"].index
                                        , i = []
                                        , s = 2;
                                    if (void 0 == e)
                                        i = gt[t];
                                    else
                                        for (var o in n) {
                                            var u = n[o].data || n[o];
                                            u = u[e],
                                                u = d["default"].isValidNum(u) ? "\uff1a" + d["default"].unit(u, s) : "";
                                            var a = [o, u];
                                            i.push(a)
                                        }
                                    return i = i.map(function(e, t) {
                                        return [e[0] + (e[1] || ""), r[e[0]]]
                                    })
                                }
                            }, {
                                key: "cal_barWidth",
                                value: function() {
                                    var e = this.coord.klineGrid
                                        , t = this.data.length
                                        , n = this.maxCandleWidth
                                        , r = t < this.minX ? .618 * e.w / this.minX : .618 * e.w / t;
                                    if (1 >= r)
                                        r = 1;
                                    else if (r > n)
                                        r = n;
                                    else {
                                        r = Math.floor(r) % 2 ? Math.floor(r) : Math.ceil(r);
                                        var i = (e.w - t * r) / (t - 1);
                                        1 > i && 1 != r && (r = 1)
                                    }
                                    this.barWidth = r
                                }
                            }, {
                                key: "_onMouseWheel",
                                value: function() {
                                    function e(e) {
                                        e = e || window.event;
                                        var t = e.clientX - s.getBoundingClientRect().left
                                            , n = e.clientY - s.getBoundingClientRect().top;
                                        t < i.l || t > i.r || n < i.t || n > i.b ? (window.onwheel = null ,
                                            window.onmousewheel = document.onmousewheel = null ) : (e.preventDefault && e.preventDefault(),
                                            e.returnValue = !1)
                                    }
                                    function t(t) {
                                        var u = (document.documentElement.scrollTop,
                                            t.wheelDelta || -t.detail)
                                            , a = t.clientX - s.getBoundingClientRect().left
                                            , f = t.clientY - s.getBoundingClientRect().top;
                                        if (!(a < i.l || a > i.r || f < i.t || f > i.b)) {
                                            r.cfg.boss || (o && clearTimeout(o),
                                                o = setTimeout(function() {
                                                    var e = ct["default"].BOSS_CLICK;
                                                    dt.click(e, "wheel"),
                                                        o = null
                                                }, 200)),
                                                t.detail ? window.addEventListener("DOMMouseScroll", e, !1) : (window.onwheel = e,
                                                    window.onmousewheel = document.onmousewheel = e);
                                            var l = (r.trendData,
                                                    r.dragIndStart)
                                                , c = r.dragIndEnd;
                                            if (void 0 !== l && void 0 !== c) {
                                                var h = r.dataTopic.match(/day/) && !r._replaceData ? 4 : 20;
                                                u > 0 ? r.channel.publish(n.outer.id + ".drag." + r.type, {
                                                    x1: l - h > 0 ? l - h : 0,
                                                    x2: c + 1
                                                }) : c - l > 2 * h && r.channel.publish(n.outer.id + ".drag." + r.type, {
                                                    x1: l + h,
                                                    x2: c + 1
                                                })
                                            }
                                        }
                                    }
                                    var n = this.cfg
                                        , r = (this.symbol,
                                            this)
                                        , i = r.coord.klineArea
                                        , s = n.canvas.node;
                                    s.addEventListener ? (s.addEventListener("mousewheel", t, !1),
                                        s.addEventListener("DOMMouseScroll", t, !1)) : s.attachEvent("onmousewheel", t);
                                    var o = void 0;
                                    this.MouseWheelHandler = t,
                                        this.preventDefault = e
                                }
                            }, {
                                key: "_unMouseWheel",
                                value: function() {
                                    var e = this.cfg
                                        , t = this.MouseWheelHandler
                                        , n = this.preventDefault;
                                    e.canvas.node.addEventListener ? (e.canvas.node.removeEventListener("mousewheel", t, !1),
                                        e.canvas.node.removeEventListener("DOMMouseScroll", t, !1),
                                        window.removeEventListener("DOMMouseScroll", n, !1)) : e.canvas.node.detachEvent("onmousewheel", t),
                                        this.MouseWheelHandler = null ,
                                        this.preventDefault = null
                                }
                            }]),
                            t
                    }(pt["default"]);
                t["default"] = yt,
                    e.exports = t["default"]
            }
            ).call(t, n(5))
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(30)
                , s = r(i)
                , o = n(29)
                , u = (r(o),
                    n(13))
                , a = r(u)
                , f = n(11)
                , l = r(f)
                , c = n(56)
                , h = c.Shape.custom({
                    _afterInit: function() {
                        var e = this;
                        this.undrag(),
                            this.drag(function(e) {}, function(e, t) {}, function(t, n) {
                                e._handleClick(e.type)
                            }).mousemove(function(t) {
                                e.cancleBubble = !0,
                                    e.type = t.hitArea.type,
                                    e.canvas.node.style.cursor = "pointer"
                            }).mouseout(function() {
                                e.canvas.node.style.cursor = "default"
                            })
                    },
                    _compileAttrs: function() {
                        var e = this._attrs;
                        this._attrsCompiled,
                            this.Coord = this.coord(),
                            this.topic = e.topic,
                            this.currentIndex = e.currentIndex,
                            this.outerId = e.outerId,
                            this.channel = e.symbol ? l["default"].channel(e.symbol) : null
                    },
                    _handleClick: function(e) {
                        this.channel.publish(this.outerId + ".index." + this.topic, e)
                    },
                    _hitArea: function() {
                        var e = []
                            , t = this._attrs
                            , n = t.data || []
                            , r = this.coord()
                            , i = r.h
                            , s = r.t
                            , o = r.l
                            , u = (r.t,
                            r.w / 8);
                        return this.ctx,
                            n.forEach(function(t, n) {
                                var r = o + u * n + 5
                                    , a = u - 5;
                                e.push({
                                    polygon: !0,
                                    type: t,
                                    vertex: [[r, s], [r + a, s], [r + a, s + i], [r, s + i]]
                                })
                            }),
                            e
                    },
                    _draw: function(e) {
                        var t = this;
                        this.ctx = e;
                        var n = this._attrs
                            , r = n.data || []
                            , i = this.coord()
                            , o = i.l
                            , u = i.t
                            , f = i.h
                            , l = i.w
                            , h = i.w / 8
                            , p = c.util.shift;
                        e.textAlign = "left",
                            e.textBaseline = "top",
                            e.fillStyle = s["default"].index_menu.background,
                            e.fillRect(o, u, l, f),
                            e.textAlign = "center",
                            r.forEach(function(n, r) {
                                var i = o + h * r + 5
                                    , l = h - 5;
                                n == t.currentIndex ? (e.fillStyle = s["default"].index_menu.selected_background,
                                    e.fillRect(i, u, l, f),
                                    e.beginPath(),
                                    e.strokeStyle = "#b3bac0",
                                    e.moveTo(p(i), p(u + f - 1)),
                                    e.lineTo(p(i + l), p(u + f - 1)),
                                    e.stroke(),
                                    e.strokeStyle = "#b6d3f2",
                                    e.beginPath(),
                                    e.moveTo(p(i), p(u)),
                                    e.lineTo(p(i), p(u + f - 1)),
                                    e.moveTo(p(i + l), p(u)),
                                    e.lineTo(p(i + l), p(u + f - 1)),
                                    e.stroke(),
                                    e.closePath(),
                                    e.fillStyle = s["default"].index_menu.selected_text,
                                    e.font = a["default"].BORD_FONT) : (e.fillStyle = s["default"].index_menu.text,
                                    e.font = a["default"].LIGHT_FONT),
                                    e.fillText(n, i + l / 2, u)
                            })
                    }
                }, {
                    coord: null ,
                    data: [],
                    topic: "",
                    symbol: "",
                    currentIndex: "",
                    outerId: ""
                });
            t["default"] = h,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(30)
                , s = (r(i),
                    n(56))
                , o = s.Shape.custom({
                    _compileAttrs: function() {
                        var e = this._attrs
                            , t = this._attrsCompiled
                            , n = e.data || []
                            , r = this.coord()
                            , i = e.isLine
                            , s = []
                            , o = n.length
                            , u = void 0
                            , a = void 0;
                        r && (a = r.width,
                            u = Math.ceil(o / a));
                        for (var f = 0; o > f; f += u)
                            s.push(r.d2y(n[f]));
                        t.points = s,
                            t.isLine = i
                    },
                    _draw: function(e) {
                        var t = this._attrsCompiled
                            , n = t.points
                            , r = this.coord();
                        if (r) {
                            var i = r.width
                                , s = n.length
                                , o = i / s
                                , u = r.baseX + 1;
                            t.isLine && (o = i / (s - 1));
                            var a = r.b;
                            e.beginPath(),
                                e.moveTo(u, a),
                                e.lineTo(u, n[0]);
                            for (var f = 0, l = s; l > f; f++)
                                e.lineTo(u + f * o, n[f]);
                            t.isLine ? e.lineTo(u + (s - 1) * o, a) : e.lineTo(u + s * o, a),
                                e.lineTo(u, a),
                                e.closePath(),
                            this._useFill(e) && e.fill(),
                                e.beginPath(),
                                e.moveTo(u, n[0]);
                            for (var f = 0, l = s; l > f; f++)
                                e.lineTo(u + f * o, n[f]);
                            this._useStroke(e) && e.stroke(),
                                e.closePath(),
                                e.beginPath()
                        }
                    }
                }, {
                    data: [],
                    coord: null ,
                    fill: "#c2d4e6",
                    stroke: "#e0eefd",
                    isLine: !1
                });
            t["default"] = o,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(30)
                , s = r(i)
                , o = n(29)
                , u = r(o)
                , a = n(13)
                , f = (r(a),
                    n(64))
                , l = r(f)
                , c = n(56)
                , h = c.Shape.custom({
                    _compileAttrs: function() {
                        var e = this._attrs
                            , t = this._attrsCompiled
                            , n = e.data || []
                            , r = this.coord()
                            , i = e.minX
                            , s = e.maxWidth
                            , o = e.barWidth
                            , a = []
                            , f = n.length
                            , l = void 0;
                        if (r) {
                            r && !o && (o = i > f ? .618 * r.w / i : .618 * r.w / f,
                                1 >= o ? o = 1 : o > s ? o = s : (o = Math.floor(o) % 2 ? Math.floor(o) : Math.ceil(o),
                                    l = (r.w - f * o) / (f - 1),
                                1 > l && 1 != o && (o = 1)));
                            for (var c = Math.ceil(n.length / r.w) || 1, h = 0; f > h; h += c)
                                a.push({
                                    OP: r.d2y(n[h][1]),
                                    CP: r.d2y(n[h][2]),
                                    HP: r.d2y(n[h][3]),
                                    LP: r.d2y(n[h][4]),
                                    STYLE: n[h][6],
                                    CL: u["default"].HZLD(n[h][6]),
                                    MA5: r.d2y(n[h][7]),
                                    MA10: r.d2y(n[h][8]),
                                    MA20: r.d2y(n[h][9])
                                });
                            t.barWidth = o,
                                t.bars = a,
                                t.length = a.length,
                                t.sample = c
                        }
                    },
                    _draw: function(e) {
                        var t = this._attrsCompiled
                            , n = t.sample
                            , r = t.barWidth
                            , i = t.length
                            , o = t.bars
                            , u = this.coord();
                        if (u) {
                            var a = u.baseX
                                , f = u.stepX * n
                                , h = c.util.shift
                                , p = l["default"].isValidNum
                                , d = this.bgColor();
                            o.forEach(function(t, i, s) {
                                var o = h(u.d2x(i * n) + f / 2);
                                e.fillStyle = t.CL,
                                    e.strokeStyle = t.CL,
                                    e.lineWidth = 1,
                                    e.beginPath(),
                                    e.moveTo(h(o), t.HP),
                                    e.lineTo(h(o), t.LP),
                                    e.stroke(),
                                    e.beginPath();
                                var a = h(t.OP) - h(t.CP) || 1;
                                1 !== r && 1 !== a ? (e.strokeRect(h(o) - r / 2 + .5, h(t.CP), r - 1, a),
                                    e.fillStyle = t.STYLE >= 0 ? d : e.fillStyle,
                                    e.fillRect(h(o) - r / 2 + 1, h(t.CP) + .5, r - 2, a - 1)) : e.fillRect(h(o) - r / 2, h(t.CP) + .5, r, a)
                            }),
                                a = u.baseX + f / 2,
                                e.strokeStyle = s["default"].text.ma5,
                                e.beginPath(),
                            p(o[0].MA5) && e.moveTo(a, o[0].MA5);
                            for (var v = 1; i > v; v++)
                                a += f,
                                p(o[v].MA5) && (p(o[v - 1].MA5) ? e.lineTo(a, o[v].MA5) : e.moveTo(a, o[v].MA5));
                            e.stroke(),
                                e.closePath(),
                                a = u.baseX + f / 2,
                                e.strokeStyle = s["default"].text.ma10,
                                e.beginPath(),
                            p(o[0].MA10) && e.moveTo(a, o[0].MA10);
                            for (var v = 1; i > v; v++)
                                a += f,
                                p(o[v].MA10) && (p(o[v - 1].MA10) ? e.lineTo(a, o[v].MA10) : e.moveTo(a, o[v].MA10));
                            e.stroke(),
                                e.closePath(),
                                a = u.baseX + f / 2,
                                e.strokeStyle = s["default"].text.ma20,
                                e.beginPath(),
                            p(o[0].MA20) && e.moveTo(a, o[0].MA20);
                            for (var v = 1; i > v; v++)
                                a += f,
                                p(o[v].MA20) && (p(o[v - 1].MA20) ? e.lineTo(a, o[v].MA20) : e.moveTo(a, o[v].MA20));
                            e.stroke(),
                                e.closePath(),
                                e.beginPath()
                        }
                    }
                }, {
                    data: [],
                    minX: 20,
                    maxWidth: 11,
                    coord: null ,
                    barWidth: null ,
                    bgColor: s["default"].background.color
                });
            t["default"] = h,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(30)
                , s = r(i)
                , o = n(29)
                , u = r(o)
                , a = n(13)
                , f = (r(a),
                    n(64))
                , l = r(f)
                , c = n(56)
                , h = c.Shape.custom({
                    _compileAttrs: function() {
                        var e = this._attrs
                            , t = e.data || []
                            , n = e.minX
                            , r = e.maxWidth
                            , i = this.coord()
                            , s = t.length
                            , o = void 0
                            , a = void 0;
                        if (i) {
                            i && !a && (a = n > s ? .618 * i.w / n : .618 * i.w / s,
                                1 >= a ? a = 1 : a > r ? a = r : (a = Math.floor(a) % 2 ? Math.floor(a) : Math.ceil(a),
                                    o = (i.w - s * a) / (s - 1),
                                1 > o && 1 != a && (a = 1)));
                            for (var f = [], l = Math.ceil(t.length / i.w) || 1, c = 0; s > c; c += l)
                                f.push([i.d2y(t[c][5]), i.d2y(t[c][10]), i.d2y(t[c][11]), i.d2y(t[c][12]), u["default"].HZLD(t[c][6], "noGray"), t[c][6]]);
                            this.barWidth = a,
                                this.bars = f,
                                this.sample = l
                        }
                    },
                    _draw: function(e) {
                        if (this.coord()) {
                            var t = this.coord()
                                , n = this.bars
                                , r = this.barWidth
                                , i = this.sample
                                , o = n.length
                                , u = t.b
                                , a = t.baseX
                                , f = t.stepX * i
                                , h = c.util.shift
                                , p = l["default"].isValidNum
                                , d = this.bgColor();
                            n.forEach(function(n, s) {
                                var o = h(t.d2x(s * i) + t.stepX / 2);
                                if (r > 1)
                                    if (e.fillStyle = n[4],
                                            e.strokeStyle = n[4],
                                        n[5] >= 0) {
                                        e.fillStyle = d;
                                        var a = h(n[0]) - h(u);
                                        e.strokeRect(h(o) - r / 2 + .5, h(u), r - 1, a),
                                            e.fillRect(h(o) - r / 2 + 1, h(u) + .5, r - 2, h(n[0]) - h(u))
                                    } else
                                        e.fillRect(h(o) - r / 2, h(u) + .5, r, h(n[0]) - h(u));
                                else
                                    e.strokeStyle = n[4],
                                        e.beginPath(),
                                        e.moveTo(h(o), h(u) + .5),
                                        e.lineTo(h(o), h(n[0]) + .5),
                                        e.closePath(),
                                        e.stroke()
                            }),
                                a = t.baseX + f / 2,
                                e.strokeStyle = s["default"].text.ma5,
                                e.beginPath(),
                            p(n[0][1]) && e.moveTo(a, n[0][1]);
                            for (var v = 1; o > v; v++)
                                a += f,
                                p(n[v][1]) && (p(n[v - 1][1]) ? e.lineTo(a, n[v][1]) : e.moveTo(a, n[v][1]));
                            e.stroke(),
                                e.closePath(),
                                a = t.baseX + f / 2,
                                e.strokeStyle = s["default"].text.ma10,
                                e.beginPath(),
                            p(n[0][2]) && e.moveTo(a, n[0][2]);
                            for (var v = 1; o > v; v++)
                                a += f,
                                p(n[v][2]) && (p(n[v - 1][2]) ? e.lineTo(a, n[v][2]) : e.moveTo(a, n[v][2]));
                            e.stroke(),
                                e.closePath(),
                                a = t.baseX + f / 2,
                                e.strokeStyle = s["default"].text.ma20,
                                e.beginPath(),
                            p(n[0][3]) && e.moveTo(a, n[0][3]);
                            for (var v = 1; o > v; v++)
                                a += f,
                                p(n[v][3]) && (p(n[v - 1][3]) ? e.lineTo(a, n[v][3]) : e.moveTo(a, n[v][3]));
                            e.stroke(),
                                e.closePath()
                        }
                    }
                }, {
                    coord: null ,
                    data: [],
                    minX: 20,
                    maxWidth: 11,
                    bgColor: s["default"].background.color
                });
            t["default"] = h,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(57)
                , s = (r(i),
                    n(30))
                , o = r(s)
                , u = n(29)
                , a = r(u)
                , f = n(13)
                , l = (r(f),
                    n(56))
                , c = l.Shape.custom({
                    _compileAttrs: function() {
                        var e = this._attrs
                            , t = (this._attrsCompiled,
                            e.data || [])
                            , n = e.minX
                            , r = e.maxWidth
                            , i = this.coord()
                            , s = t.MACD ? t.MACD.length : 0
                            , o = void 0
                            , u = void 0;
                        if (i) {
                            i && !u && (u = n > s ? .618 * i.w / n : .618 * i.w / s,
                                1 >= u ? u = 1 : u > r ? u = r : (u = Math.floor(u) % 2 ? Math.floor(u) : Math.ceil(u),
                                    o = (i.w - s * u) / (s - 1),
                                1 > o && 1 != u && (u = 1)));
                            var a = Math.ceil(t.MACD.length / i.w) || 1;
                            this.barWidth = u,
                                this.sample = a
                        }
                    },
                    _draw: function(e) {
                        var t = this._attrs
                            , n = (this._attrsCompiled,
                            t.data || [])
                            , r = this.coord()
                            , i = this.sample
                            , s = r.stepX * i
                            , u = r.baseX
                            , f = (r.b,
                                this.barWidth)
                            , c = (r.b + r.t) / 2
                            , h = l.util.shift
                            , p = n.MACD;
                        p.forEach(function(t, n) {
                            if (!(n % i)) {
                                var o = h(r.d2x(n) + s / 2);
                                e.fillStyle = a["default"].HZLD(t, "noGray"),
                                    e.fillRect(h(o) - f / 2, h(c) + .5, f, h(r.d2y(t)) - h(c) || 1)
                            }
                        });
                        var d = n.DIFF;
                        u = r.baseX + s / 2,
                            e.strokeStyle = o["default"].index.DIFF,
                            e.beginPath(),
                            e.moveTo(u, r.d2y(d[0]));
                        for (var v = i, m = d.length; m > v; v += i)
                            u += s,
                                e.lineTo(u, r.d2y(d[v]));
                        e.stroke();
                        var g = n.DEA;
                        u = r.baseX + s / 2,
                            e.strokeStyle = o["default"].index.DEA,
                            e.beginPath(),
                            e.moveTo(u, r.d2y(g[0]));
                        for (var v = i, m = g.length; m > v; v += i)
                            u += s,
                                e.lineTo(u, r.d2y(g[v]));
                        e.stroke()
                    }
                }, {
                    coord: null ,
                    data: [],
                    minX: 20,
                    maxWidth: 11
                });
            t["default"] = c,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            (function(i) {
                "use strict";
                function s(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var o = n(29)
                    , u = (s(o),
                        n(30))
                    , a = s(u)
                    , f = n(13)
                    , l = (s(f),
                        n(64))
                    , c = s(l)
                    , h = n(56)
                    , p = h.Shape.custom({
                        _draw: function(e) {
                            var t = this._attrs
                                , n = (this._attrsCompiled,
                                    t.minX)
                                , r = t.data || []
                                , s = this.coord();
                            if (s) {
                                var o = c["default"].isValidNum;
                                i.each(r, function(t, r) {
                                    var i = t.length < n ? n : t.length
                                        , u = s.w / i
                                        , f = s.l + u / 2
                                        , l = Math.ceil(i / s.w) || 1;
                                    e.beginPath(),
                                        e.strokeStyle = a["default"].index[r],
                                    o(s.d2y(t[0])) && e.moveTo(f, s.d2y(t[0]));
                                    for (var c = l; i > c; c += l) {
                                        f += u * l;
                                        var h = s.d2y(t[c]);
                                        o(h) && (o(s.d2y(t[c - l])) ? e.lineTo(f, h) : e.moveTo(f, h))
                                    }
                                    e.stroke()
                                }),
                                    e.beginPath()
                            }
                        }
                    }, {
                        coord: null ,
                        data: [],
                        minX: 20
                    });
                t["default"] = p,
                    e.exports = t["default"]
            }
            ).call(t, n(5))
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(29)
                , s = r(i)
                , o = n(30)
                , u = r(o)
                , a = n(13)
                , f = (r(a),
                    n(64))
                , l = r(f)
                , c = n(56)
                , h = c.Shape.custom({
                    _compileAttrs: function() {
                        var e = this._attrs
                            , t = this._attrsCompiled
                            , n = e.data || []
                            , r = this.coord()
                            , i = e.minX
                            , o = e.maxWidth
                            , u = e.barWidth
                            , a = [];
                        if (n && r) {
                            var f = n.length
                                , l = void 0;
                            r && !u && (u = i > f ? .618 * r.w / i : .618 * r.w / f,
                                1 >= u ? u = 1 : u > o ? u = o : (u = Math.floor(u) % 2 ? Math.floor(u) : Math.ceil(u),
                                    l = (r.w - f * u) / (f - 1),
                                1 > l && 1 != u && (u = 1)));
                            for (var c = Math.ceil(n.length / r.w) || 1, h = 0; f > h; h += c)
                                a.push({
                                    OP: r.d2y(n[h][1]),
                                    CP: r.d2y(n[h][2]),
                                    HP: r.d2y(n[h][3]),
                                    LP: r.d2y(n[h][4]),
                                    CL: s["default"].HZLD(n[h][6], "noGray")
                                });
                            t.barWidth = u,
                                t.bars = a,
                                t.length = a.length,
                                t.minX = i,
                                t.sample = c
                        }
                    },
                    _draw: function(e) {
                        var t = this._attrsCompiled
                            , n = t.barWidth
                            , r = (t.length,
                                t.sample)
                            , i = t.minX
                            , s = t.bars
                            , o = this.coord()
                            , a = this.data()
                            , f = (o.baseX,
                            o.stepX * r)
                            , h = c.util.shift
                            , p = l["default"].isValidNum;
                        s.forEach(function(t, i, s) {
                            e.fillStyle = t.CL,
                                e.strokeStyle = t.CL;
                            var u = h(o.d2x(i * r) + f / 2);
                            n > 1 && (e.moveTo(h(u) - n / 2, h(t.OP) + .5),
                                e.lineTo(h(u), h(t.OP) + .5),
                                e.moveTo(h(u), h(t.CP) + .5),
                                e.lineTo(h(u) + n / 2, h(t.CP) + .5),
                                e.stroke()),
                                e.beginPath(),
                                e.moveTo(h(u), t.HP),
                                e.lineTo(h(u), t.LP),
                                e.stroke(),
                                e.beginPath()
                        });
                        for (var d in a)
                            if ("UPPER" === d || "MID" === d || "LOWER" === d) {
                                var v = a[d]
                                    , m = v.length < i ? i : v.length
                                    , g = o.w / m
                                    , y = o.l + g / 2;
                                e.beginPath(),
                                    e.strokeStyle = u["default"].index[d],
                                p(o.d2y(v[0])) && e.moveTo(y, o.d2y(v[0]));
                                for (var b = r; m > b; b += r) {
                                    y += g * r;
                                    var w = o.d2y(v[b]);
                                    p(w) && (p(o.d2y(v[b - r])) ? e.lineTo(y, w) : e.moveTo(y, w))
                                }
                                e.stroke(),
                                    e.beginPath()
                            }
                        e.beginPath()
                    }
                }, {
                    coord: null ,
                    data: [],
                    minX: 20
                });
            t["default"] = h,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(29)
                , s = r(i)
                , o = n(30)
                , u = (r(o),
                    n(13))
                , a = (r(u),
                    n(64))
                , f = r(a)
                , l = n(56)
                , c = l.Shape.custom({
                    _compileAttrs: function() {
                        var e = this._attrs
                            , t = this._attrsCompiled
                            , n = e.data || []
                            , r = this.coord()
                            , i = e.minX
                            , o = e.maxWidth
                            , u = e.barWidth
                            , a = [];
                        if (n.length && r) {
                            var c = n.length
                                , h = void 0;
                            r && !u && (u = i > c ? .618 * r.w / i : .618 * r.w / c,
                                1 >= u ? u = 1 : u > o ? u = o : (u = Math.floor(u) % 2 ? Math.floor(u) : Math.ceil(u),
                                    h = (r.w - c * u) / (c - 1),
                                1 > h && 1 != u && (u = 1)));
                            for (var p = Math.ceil(n.length / r.w) || 1, d = 0; c > d; d += p)
                                a.push({
                                    OP: r.d2y(n[d][1]),
                                    CP: r.d2y(n[d][2]),
                                    HP: r.d2y(n[d][3]),
                                    LP: r.d2y(n[d][4]),
                                    CL: s["default"].HZLD(n[d][6], "noGray")
                                });
                            for (var v = [[], []], m = n.SAR.data, g = n.SAR.direction, y = void 0, b = l.util.shift, w = r.stepX, E = void 0, S = 0, x = m.length; x > S; S += p)
                                f["default"].isValidNum(m[S]) && (y = g[S] >= 0 ? 0 : 1,
                                    E = b(r.d2x(S) + w / 2),
                                    v[y].push([E, r.d2y(m[S])]));
                            t.barWidth = u,
                                t.bars = a,
                                t.minX = i,
                                t.circle = v,
                                t.sample = p
                        }
                    },
                    _draw: function(e) {
                        var t = this._attrsCompiled
                            , n = t.barWidth
                            , r = (t.minX,
                                t.bars)
                            , i = t.circle
                            , o = this.coord()
                            , u = t.sample
                            , a = o.stepX * u
                            , c = l.util.shift;
                        f["default"].isValidNum,
                            r.forEach(function(t, r, i) {
                                e.fillStyle = t.CL,
                                    e.strokeStyle = t.CL;
                                var s = c(o.d2x(r * u) + a / 2);
                                n > 1 && (e.moveTo(c(s) - n / 2, c(t.OP) + .5),
                                    e.lineTo(c(s), c(t.OP) + .5),
                                    e.moveTo(c(s), c(t.CP) + .5),
                                    e.lineTo(c(s) + n / 2, c(t.CP) + .5),
                                    e.stroke()),
                                    e.beginPath(),
                                    e.moveTo(c(s), t.HP),
                                    e.lineTo(c(s), t.LP),
                                    e.stroke(),
                                    e.beginPath()
                            });
                        for (var h = Math.min(2, t.barWidth), p = [s["default"].HZLD(1), s["default"].HZLD(-1)], d = 0; 2 > d; d++) {
                            var v = i[d];
                            e.strokeStyle = p[d];
                            for (var m = 0, g = v.length; g > m; m++)
                                e.beginPath(),
                                    e.arc(l.util.shift(v[m][0]), l.util.shift(v[m][1]), h, 0, 2 * Math.PI),
                                    e.stroke()
                        }
                        e.beginPath()
                    }
                }, {
                    coord: null ,
                    data: [],
                    minX: 20
                });
            t["default"] = c,
                e.exports = t["default"]
        }
        , function(e, t, n) {
            "use strict";
            function r(e) {
                return e && e.__esModule ? e : {
                    "default": e
                }
            }
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n(11)
                , s = r(i)
                , o = n(30)
                , u = r(o)
                , a = n(13)
                , f = r(a)
                , l = n(8)
                , c = (r(l),
                    n(56))
                , h = n(17)
                , p = c.Shape.custom({
                    _afterInit: function() {
                        var e = null ;
                        this.undrag(),
                            this.drag(function(e) {
                                this.drag = !0,
                                    this._dragOpt = {
                                        type: e.hitArea.type,
                                        beg: this.attr("beg"),
                                        end: this.attr("end")
                                    }
                            }, function(t, n) {
                                var r = this;
                                if (this.changePos(t, n),
                                    "klineCoord" !== this._dragOpt.type)
                                    !function() {
                                        clearTimeout(e);
                                        var t = r;
                                        e = setTimeout(function() {
                                            var e = t.Coord
                                                , n = e.x2dLine(t.attr("beg"))
                                                , r = e.x2dLine(t.attr("end"));
                                            n === e.maxX && n--,
                                            r === e.minX && r++,
                                                t.channel.publish(t.outerId + ".drag." + t.attr("topic"), {
                                                    x1: n,
                                                    x2: r,
                                                    type: t._dragOpt.type
                                                })
                                        }, 10)
                                    }();
                                else {
                                    var i = this.Coord;
                                    this.channel.publish(this.outerId + ".drag." + this.attr("topic"), {
                                        x1: i.x2dLine(this.attr("beg")),
                                        x2: i.x2dLine(this.attr("end")),
                                        type: this._dragOpt.type
                                    })
                                }
                            }, function(e, t) {
                                this.changePos(e, t);
                                var n = this.Coord
                                    , r = n.x2dLine(this.attr("beg"))
                                    , i = n.x2dLine(this.attr("end"));
                                r === n.maxX && r--,
                                i === n.minX && i++,
                                    this.channel.publish(this.outerId + ".drag." + this.attr("topic"), {
                                        x1: r,
                                        x2: i,
                                        type: this._dragOpt.type
                                    });
                                var s = f["default"].BOSS_CLICK;
                                h.click(s, "drag")
                            }).mousemove(function(e) {
                                "beg" === e.hitArea.type ? this.canvas.node.style.cursor = "w-resize" : "end" === e.hitArea.type ? this.canvas.node.style.cursor = "e-resize" : this.canvas.node.style.cursor = "pointer"
                            }).mouseout(function() {
                                this.canvas.node.style.cursor = "default"
                            })
                    },
                    _hitArea: function() {
                        var e = this._attrsCompiled
                            , t = this.coord()
                            , n = t.t
                            , r = t.b
                            , i = this.klineCoord()
                            , s = [{
                                polygon: !0,
                                type: "beg",
                                vertex: [[e.x1 - 5, n - 5], [e.x1 + 5, n - 5], [e.x1 + 5, r], [e.x1 - 5, r]]
                            }, {
                                polygon: !0,
                                type: "end",
                                vertex: [[e.x2 - 5, n - 5], [e.x2 + 5, n - 5], [e.x2 + 5, r], [e.x2 - 5, r]]
                            }, {
                                polygon: !0,
                                vertex: [[e.x1, n], [e.x2, n], [e.x2, r], [e.x1, r]]
                            }];
                        return i && s.push({
                            polygon: !0,
                            type: "klineCoord",
                            vertex: [[i.l, i.t], [i.r, i.t], [i.r, i.b], [i.l, i.b]]
                        }),
                            s
                    },
                    _compileAttrs: function() {
                        var e = this._attrsCompiled;
                        this.Coord = this.coord(),
                            e.x1 = this.attr("beg"),
                            e.x2 = this.attr("end"),
                            this.outerId = this.attr("outerId"),
                            this.channel = this._attrs.symbol ? s["default"].channel(this._attrs.symbol) : null
                    },
                    _draw: function(e) {
                        var t = this._attrs
                            , n = this._attrsCompiled
                            , r = (t.data || [],
                                this.coord(),
                                n.x1)
                            , i = n.x2;
                        this._drawBackground(r, i, e),
                            this._drawBar(r, e),
                            this._drawBar(i, e)
                    },
                    _drawBar: function(e, t) {
                        var n = this.coord()
                            , r = n.t
                            , i = n.b
                            , s = (r + i) / 2
                            , o = 8
                            , u = o / 2
                            , a = 2
                            , f = Math.PI
                            , l = r + u
                            , h = i - u
                            , p = e - u
                            , d = e - u / 2
                            , v = e + u / 2
                            , m = e + u
                            , g = c.util.shift;
                        this._useStroke(t),
                            t.fillStyle = this._attrs.barColor,
                            t.beginPath(),
                            t.moveTo(g(p), g(l)),
                            t.arc(g(e), g(l), g(u) - .5, f, 2 * f),
                            t.lineTo(g(m), g(h)),
                            t.arc(g(e), g(h), g(u) - .5, 0, f),
                            t.lineTo(g(p), g(l)),
                            t.closePath(),
                            t.fill(),
                            t.stroke(),
                            t.beginPath(),
                            t.moveTo(g(d), g(s + a)),
                            t.lineTo(g(v), g(s + a)),
                            t.moveTo(g(d), g(s)),
                            t.lineTo(g(v), g(s)),
                            t.moveTo(g(d), g(s - a)),
                            t.lineTo(g(v), g(s - a)),
                            t.closePath(),
                            t.stroke(),
                            t.beginPath()
                    },
                    _drawBackground: function(e, t, n) {
                        var r = this.coord()
                            , i = r.t
                            , s = r.b
                            , o = c.util.shift;
                        n.fillStyle = this._attrs.background,
                            n.rect(e, i, t - e, s - i),
                            n.fill(),
                            this._useStroke(n),
                            n.strokeRect(e, o(i - 1), t - e, s - i + 2)
                    },
                    changePos: function(e, t) {
                        var n, r, i = this.attr("x"), s = i + this.attr("w");
                        if ("beg" === this._dragOpt.type)
                            n = e.clientX - this.canvas.node.getBoundingClientRect().left,
                            i > n && (n = i),
                                this.attr("end") > n ? this.attr("beg", n) : (this._dragOpt.beg = this.attr("end"),
                                    this._dragOpt.end = n,
                                    this._dragOpt.type = "end",
                                    this.attr("end", n));
                        else if ("end" === this._dragOpt.type)
                            n = e.clientX - this.canvas.node.getBoundingClientRect().left,
                            n > s && (n = s),
                                n > this.attr("beg") ? this.attr("end", n) : (this._dragOpt.end = this.attr("beg"),
                                    this._dragOpt.beg = n,
                                    this._dragOpt.type = "beg",
                                    this.attr("beg", n));
                        else if ("klineCoord" === this._dragOpt.type) {
                            var o = this.klineCoord()
                                , u = this.coord()
                                , a = o.stepX
                                , f = u.stepX;
                            t = t / a * f,
                            this.topic().match(/day|year/) && !this.dataReplaced() && (t /= 5),
                                n = this._dragOpt.beg - t,
                                r = this._dragOpt.end - t,
                            i > n && (r += i - n,
                                n = i),
                            r > s && (n -= r - s,
                                r = s),
                            n >= i && s >= r && this.attr({
                                beg: n,
                                end: r
                            })
                        } else
                            n = this._dragOpt.beg + t,
                                r = this._dragOpt.end + t,
                            i > n && (r += i - n,
                                n = i),
                            r > s && (n -= r - s,
                                r = s),
                            n >= i && s >= r && this.attr({
                                beg: n,
                                end: r
                            })
                    }
                }, {
                    stroke: u["default"].dragbar.border,
                    background: u["default"].dragbar.background,
                    barColor: u["default"].dragbar.barColor,
                    coord: null ,
                    x: 0,
                    w: 0,
                    beg: 0,
                    end: 0,
                    topic: "",
                    symbol: "",
                    outerId: "",
                    klineCoord: null ,
                    dataReplaced: !1,
                    klineDrag: !1
                });
            t["default"] = p,
                e.exports = t["default"]
        }
        , function(e, t) {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var n = {
                params: function(e) {
                    var t = {};
                    return e.forEach(function(e) {
                        var n = typeof e;
                        switch (n) {
                            case "object":
                                Array.isArray(e) ? n = "array" : e instanceof Date && (n = "date");
                                break;
                            case "string":
                                /http:\/\//.test(e) && (n = "url")
                        }
                        n && t[n] ? t[n].push(e) : t[n] = [e]
                    }),
                        t
                },
                rmTag: function(e) {
                    return e.replace(/\w+_/, "")
                },
                binarySearch: function(e, t, n) {
                    var r = e.length
                        , i = Math.floor(r / 2)
                        , s = 0;
                    if (0 == r)
                        return n ? -1 : !1;
                    if (1 * e[i][0] == t)
                        return i;
                    if (1 * e[i][0] < t) {
                        var o = this.binarySearch(e.slice(i + 1, r), t, n);
                        if (o === !1)
                            return o;
                        s = i + 1 + o
                    } else
                        1 * e[i][0] > t && (s = this.binarySearch(e.slice(0, i), t, n));
                    return s
                }
            };
            t["default"] = n,
                e.exports = t["default"]
        }
        , , , , , , , , , , , , , , , , , , function(e, t, n) {
            (function(i) {
                "use strict";
                function s(e) {
                    return e && e.__esModule ? e : {
                        "default": e
                    }
                }
                function o(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }
                function u(e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var a = function() {
                        function e(e, t) {
                            var n = []
                                , r = !0
                                , i = !1
                                , s = void 0;
                            try {
                                for (var o, u = e[Symbol.iterator](); !(r = (o = u.next()).done) && (n.push(o.value),
                                !t || n.length !== t); r = !0)
                                    ;
                            } catch (a) {
                                i = !0,
                                    s = a
                            } finally {
                                try {
                                    !r && u["return"] && u["return"]()
                                } finally {
                                    if (i)
                                        throw s
                                }
                            }
                            return n
                        }
                        return function(t, n) {
                            if (Array.isArray(t))
                                return t;
                            if (Symbol.iterator in Object(t))
                                return e(t, n);
                            throw new TypeError("Invalid attempt to destructure non-iterable instance")
                        }
                    }()
                    , f = function() {
                        function e(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(t, n, r) {
                            return n && e(t.prototype, n),
                            r && e(t, r),
                                t
                        }
                    }()
                    , l = function(e, t, n) {
                        for (var r = !0; r; ) {
                            var i = e
                                , s = t
                                , o = n;
                            u = f = a = void 0,
                                r = !1,
                            null === i && (i = Function.prototype);
                            var u = Object.getOwnPropertyDescriptor(i, s);
                            if (void 0 !== u) {
                                if ("value"in u)
                                    return u.value;
                                var a = u.get;
                                if (void 0 === a)
                                    return;
                                return a.call(o)
                            }
                            var f = Object.getPrototypeOf(i);
                            if (null === f)
                                return;
                            e = f,
                                t = s,
                                n = o,
                                r = !0
                        }
                    }
                    , c = n(29)
                    , h = s(c)
                    , p = n(64)
                    , d = s(p)
                    , v = n(53)
                    , m = (s(v),
                        n(8))
                    , g = (s(m),
                        n(90))
                    , y = s(g)
                    , b = n(57)
                    , w = (s(b),
                        n(59))
                    , E = (s(w),
                        n(82))
                    , S = (s(E),
                        n(83))
                    , x = (s(S),
                        n(84))
                    , T = (s(x),
                        n(85))
                    , N = (s(T),
                        n(86))
                    , C = (s(N),
                        n(87))
                    , k = (s(C),
                        n(88))
                    , L = (s(k),
                        n(63))
                    , A = s(L)
                    , O = n(62)
                    , M = s(O)
                    , _ = n(70)
                    , D = (s(_),
                        n(89))
                    , P = (s(D),
                        n(73))
                    , H = (s(P),
                        n(71))
                    , B = (s(H),
                        n(74))
                    , j = (s(B),
                        n(76))
                    , F = (s(j),
                        n(77))
                    , I = (s(F),
                        n(55))
                    , q = (s(I),
                        n(61))
                    , R = s(q)
                    , U = n(30)
                    , z = s(U)
                    , W = n(13)
                    , X = (s(W),
                        n(80))
                    , V = s(X)
                    , $ = (n(56),
                        function(e) {
                            function t(e, n) {
                                o(this, t),
                                    l(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e, n),
                                    this.chartCfg = n
                            }
                            return u(t, e),
                                f(t, [{
                                    key: "init",
                                    value: function(e) {
                                        this.chartCfg = e || this.chartCfg;
                                        var t = this.cfg;
                                        t.coord,
                                        (this._isCoordChange() || e) && this.getCoord();
                                        var n = this.fqType = t.fqType;
                                        return this.topic !== this.type + n && (this.data = null ,
                                            this.topic = this.type + n,
                                            this.setPeriod(0, 0),
                                            this.trendData = null ,
                                            this.startDate = null ,
                                            this.endDate = null ),
                                            this.dataTopic = "day" + n,
                                            this.trendTopic = this.market.match(/if|wh/) ? this.type : "trend" + this.fqType,
                                            this.trendData = this.getTrendData(),
                                            this.data = this.updateData(),
                                            this.backEl = this.back.group(),
                                            this.paperEl = this.paper.group(),
                                            this.dragEl = this.drag.group(),
                                            this.staticForeEl = this.fore.group(),
                                            this.dynamicForeEl = this.fore.group(),
                                            this.loadingEl = this.back.group(),
                                            this.setElement(),
                                            this._onMouse(),
                                            this._onMouseWheel(),
                                            this.listenToData(),
                                            this.listenToDrag(),
                                            this.listenToIndex(),
                                            this
                                    }
                                }, {
                                    key: "updateData",
                                    value: function() {
                                        var e = this._getData();
                                        if (!e || !e.length)
                                            return e;
                                        if (null == this.startDate) {
                                            var t = e.o.len;
                                            this.minLength = t >= this.minX ? this.minX : t;
                                            var n = this.trendData
                                                , r = this.type.slice(4, 5)
                                                , i = this.trendData.o.trendYearList;
                                            if (i) {
                                                i = i.day;
                                                var s = i[i.length - 1 - r] ? i[i.length - 1 - r][0] : i[0][0]
                                                    , o = e[e.o.len - 1][0]
                                                    , u = "" + s + o.substr(4)
                                                    , a = this.getFetchYear(s, n[n.length - 1][0]);
                                                if (a.length)
                                                    return void this.channel.publish(this.cfg.outer.id + ".fetch." + this.cfg.current, a);
                                                this.startDate = this.startDate || u,
                                                    this.endDate = this.endDate || o
                                            }
                                            var f = this.startDate ? y["default"].binarySearch(e, this.startDate, !0) : 0
                                                , l = this._getData().o.len - 1;
                                            0 > f && f++,
                                                this.setPeriod(f, l + 1)
                                        }
                                        var c = this.startDate
                                            , h = this.endDate;
                                        if (c && h) {
                                            var f = y["default"].binarySearch(this._getData(), c, !0)
                                                , l = y["default"].binarySearch(this._getData(), h, !0);
                                            f = -1 === f ? 0 : f,
                                                this.setPeriod(f, l + 1)
                                        }
                                        return this.startDate = null ,
                                            this.endDate = null ,
                                            this.updateViewData()
                                    }
                                }, {
                                    key: "updateViewData",
                                    value: function() {
                                        var e = this._getData()
                                            , t = e.slice(this.startIndex, this.endIndex)
                                            , n = -Number.MAX_VALUE
                                            , r = Number.MAX_VALUE
                                            , s = 0;
                                        t.forEach(function(e) {
                                            n = Math.max(n, e[2]) || n,
                                                r = Math.min(r, e[2]) || r,
                                                s = Math.max(s, e[5]) || s,
                                                s = Math.max(s, e[10]) || s,
                                                s = Math.max(s, e[11]) || s,
                                                s = Math.max(s, e[12]) || s
                                        });
                                        var o = 0 == this.startIndex ? e.o.open : e.o.closingPrice[this.startIndex - 1];
                                        return t.o = i.extend({}, e.o, {
                                            maxVal: n,
                                            minVal: r,
                                            maxVol: s,
                                            open: o
                                        }),
                                            t.o = i.extend({}, t.o, this._updateIndexData()),
                                            t
                                    }
                                }, {
                                    key: "setKline",
                                    value: function() {
                                        var e = this.coord
                                            , t = this.paperEl
                                            , n = z["default"].text.label
                                            , r = z["default"].minute.strokeColor
                                            , i = [z["default"].minute.gradientColorTop, z["default"].minute.gradientColorBottom];
                                        t.custom(R["default"]).id("klineEl").attr({
                                            stroke: r,
                                            gradient: i,
                                            coord: e.klineArea
                                        });
                                        var s = e.klineLabel;
                                        t.custom(A["default"]).id("klineLabelEl").attr({
                                            align: "right",
                                            coord: s,
                                            color: !1,
                                            fill: n,
                                            mathType: this.cfg.mathType
                                        });
                                        var o = e.klineLabelBottom;
                                        t.custom(M["default"]).id("klineLabelBottomEl").attr({
                                            coord: o
                                        })
                                    }
                                }, {
                                    key: "draw_kline",
                                    value: function() {
                                        var e = this.data
                                            , t = e.o.closingPrice.slice(this.startIndex, this.endIndex)
                                            , n = t.length
                                            , r = this.coord.klineArea
                                            , i = e.o.maxVal - e.o.minVal
                                            , s = e.o.maxVal;
                                        s = 1e-5 > i ? 1.01 * e.o.open || .01 : s,
                                            r.reAxis([0, n < this.minX ? this.minX - 1 : n - 1], [e.o.minVal, s], "log" === this.cfg.mathType),
                                            this.paperEl.$("klineEl").attr({
                                                data: t,
                                                coord: r,
                                                maxX: n < this.minX ? this.minX : n
                                            })
                                    }
                                }, {
                                    key: "cal_currentTitle",
                                    value: function(e) {
                                        var t = a(e, 6)
                                            , n = t[0]
                                            , r = t[1]
                                            , i = t[2]
                                            , s = t[5]
                                            , o = e.close || r
                                            , u = i;
                                        n = n.substr(4);
                                        var f = 100 * (u / o - 1);
                                        f = f >= 0 ? "+" + f.toFixed(2) : f.toFixed(2);
                                        var l = h["default"].HZLD(f)
                                            , c = z["default"].text.title
                                            , p = this.data.o.fixed
                                            , v = [["\u4ef7 \u683c", u.toFixed(p), l], ["\u6da8\u8dcc\u5e45", f + "%", l], ["\u6210\u4ea4\u91cf", d["default"].unit(s, 2), c]];
                                        return {
                                            time: n.slice(0, 2) + "/" + n.slice(2, 4),
                                            data: v
                                        }
                                    }
                                }]),
                                t
                        }(V["default"]));
                t["default"] = $,
                    e.exports = t["default"]
            }
            ).call(t, n(5))
        }
        , function(e, t, n) {
            (function(n) {
                "use strict";
                function r(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }
                function i(e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var s = function(e, t, n) {
                        for (var r = !0; r; ) {
                            var i = e
                                , s = t
                                , o = n;
                            u = f = a = void 0,
                                r = !1,
                            null === i && (i = Function.prototype);
                            var u = Object.getOwnPropertyDescriptor(i, s);
                            if (void 0 !== u) {
                                if ("value"in u)
                                    return u.value;
                                var a = u.get;
                                if (void 0 === a)
                                    return;
                                return a.call(o)
                            }
                            var f = Object.getPrototypeOf(i);
                            if (null === f)
                                return;
                            e = f,
                                t = s,
                                n = o,
                                r = !0
                        }
                    }
                    , o = function(e) {
                        function t(e, n) {
                            r(this, t),
                                s(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e, n)
                        }
                        return i(t, e),
                            t
                    }(n);
                t["default"] = o,
                    e.exports = t["default"]
            }
            ).call(t, n(20))
        }
        , function(e, t, n) {
            (function(n) {
                "use strict";
                function r(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }
                function i(e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var s = function(e, t, n) {
                        for (var r = !0; r; ) {
                            var i = e
                                , s = t
                                , o = n;
                            u = f = a = void 0,
                                r = !1,
                            null === i && (i = Function.prototype);
                            var u = Object.getOwnPropertyDescriptor(i, s);
                            if (void 0 !== u) {
                                if ("value"in u)
                                    return u.value;
                                var a = u.get;
                                if (void 0 === a)
                                    return;
                                return a.call(o)
                            }
                            var f = Object.getPrototypeOf(i);
                            if (null === f)
                                return;
                            e = f,
                                t = s,
                                n = o,
                                r = !0
                        }
                    }
                    , o = function(e) {
                        function t(e, n) {
                            r(this, t),
                                s(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e, n)
                        }
                        return i(t, e),
                            t
                    }(n);
                t["default"] = o,
                    e.exports = t["default"]
            }
            ).call(t, n(20))
        }
        , function(e, t, n) {
            (function(n) {
                "use strict";
                function r(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }
                function i(e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var s = function(e, t, n) {
                        for (var r = !0; r; ) {
                            var i = e
                                , s = t
                                , o = n;
                            u = f = a = void 0,
                                r = !1,
                            null === i && (i = Function.prototype);
                            var u = Object.getOwnPropertyDescriptor(i, s);
                            if (void 0 !== u) {
                                if ("value"in u)
                                    return u.value;
                                var a = u.get;
                                if (void 0 === a)
                                    return;
                                return a.call(o)
                            }
                            var f = Object.getPrototypeOf(i);
                            if (null === f)
                                return;
                            e = f,
                                t = s,
                                n = o,
                                r = !0
                        }
                    }
                    , o = function(e) {
                        function t(e, n) {
                            r(this, t),
                                s(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e, n)
                        }
                        return i(t, e),
                            t
                    }(n);
                t["default"] = o,
                    e.exports = t["default"]
            }
            ).call(t, n(20))
        }
        , function(e, t, n) {
            (function(n) {
                "use strict";
                function r(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }
                function i(e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                }
                Object.defineProperty(t, "__esModule", {
                    value: !0
                });
                var s = function(e, t, n) {
                        for (var r = !0; r; ) {
                            var i = e
                                , s = t
                                , o = n;
                            u = f = a = void 0,
                                r = !1,
                            null === i && (i = Function.prototype);
                            var u = Object.getOwnPropertyDescriptor(i, s);
                            if (void 0 !== u) {
                                if ("value"in u)
                                    return u.value;
                                var a = u.get;
                                if (void 0 === a)
                                    return;
                                return a.call(o)
                            }
                            var f = Object.getPrototypeOf(i);
                            if (null === f)
                                return;
                            e = f,
                                t = s,
                                n = o,
                                r = !0
                        }
                    }
                    , o = function(e) {
                        function t(e, n) {
                            r(this, t),
                                s(Object.getPrototypeOf(t.prototype), "constructor", this).call(this, e, n)
                        }
                        return i(t, e),
                            t
                    }(n);
                t["default"] = o,
                    e.exports = t["default"]
            }
            ).call(t, n(20))
        }
        , function(e, t, n) {
            "use strict";
            var r = n(114);
            "string" == typeof r && (r = [[e.id, r, ""]]),
                n(116)(r, {})
        }
        , function(e, t, n) {
            t = e.exports = n(115)(),
                t.push([e.id, "ul,li,input{padding:0;margin:0}li{list-style:none}.portfolio-ad{position:absolute;right:10px;height:31px;overflow-y:hidden}.portfolio-ad .ad-app{width:128px;height:21px;display:block;background:url(http://mat1.gtimg.com/finance/images/stock/p/quotpage/flash_ad_app.png) no-repeat}.usVolume{position:absolute;right:65px;bottom:45px;color:#888;font-size:12px}.graphic-menu-active{background:#fff;color:#333!important}.graphic-menu-inactive{background:0 0;color:#1b6393}.graphic-nav-ul{font-size:0;border:1px solid #d9e6ef;height:30px;width:523px;text-align:left;background:#e8f5ff;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJod\u2026EiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background:-moz-linear-gradient(top,#e8f5ff 0,#d7ecfc 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#e8f5ff),color-stop(100%,#d7ecfc));background:-webkit-linear-gradient(top,#e8f5ff 0,#d7ecfc 100%);background:-o-linear-gradient(top,#e8f5ff 0,#d7ecfc 100%);background:-ms-linear-gradient(top,#e8f5ff 0,#d7ecfc 100%);background:linear-gradient(to bottom,#e8f5ff 0,#d7ecfc 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#e8f5ff', endColorstr='#d7ecfc', GradientType=0)}.graphic-nav-ul .fqList{z-index:50;position:relative;width:60px;background:#fff;display:none}.graphic-nav-ul .fqList li{width:60px;display:block;border:1px solid #d9e6ef;border-top:none}.graphic-nav-ul li{display:inline-block;*display:inline;*zoom:1;width:40px;height:22px;text-align:center;font-size:12px;color:#1b6393;padding-top:9px;border-right:1px solid #d9e6ef;cursor:pointer}.graphic-nav-ul .popup-close{width:28px;height:25px;float:right;background-position:0 -89px;position:absolute;top:-32px;right:10px;border:none}.graphic-nav-ul .zoom{float:right;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAQCAMAAADH72RtAAAAyVBMVEUBS3w4Xnz///8BS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3wBS3w4Xnz33rjiAAAAQnRSTlMAAAABAgMEBgcJCg4SFRggIiYsLjY8PUhJTE5RVlxeYGNucHFzdXd4fYCCjY6PkJGSk5SVlpeanKipvs/V2d/k7vbcRIt1AAAAmElEQVQY01XORxKCUBRE0fufqCDmhDlnVMw5sv9FOfiIZQ9PV3U1gLNbeq5bBgCB+LoTA4zWNBrIpqBLchMtlSYi4isR6kVAOERCYQwIW37SBYQd+DrQ/4pSyldKwQgQ3GQo9gAQsotwZ5bSf5rD4E/vFgi1c9XCco7txz2jhUTD28/rJunrM68ljH15lf4F8/Su/QvGyvsA1ZINvx4Uh/YAAAAASUVORK5CYII=) center center no-repeat}.fqType .currentFq{color:#ddd}.popup{background:url(http://mat1.gtimg.com/finance/images/stock/p/quotpage/bg20130321.png) no-repeat}.compare{width:100%;position:absolute;bottom:0;padding-bottom:15px;font-size:12px}.compare .compare-left{float:left;clear:both}.compare .compare-left label{font-weight:700;float:left;margin-left:10px;padding-top:5px}.compare .compare-left input{height:22px;width:110px;border:1px solid #A9C1D9;float:left;margin-left:10px;line-height:22px}.compare .compare-left input[type='button']{float:left;height:24px;width:43px;margin-left:0;border:1px solid #A9C1D9;border-left:none;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJod\u2026EiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background:-moz-linear-gradient(top,#f7f4fb 0,#e3ebf2 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0,#f7f4fb),color-stop(100%,#e3ebf2));background:-webkit-linear-gradient(top,#f7f4fb 0,#e3ebf2 100%);background:-o-linear-gradient(top,#f7f4fb 0,#e3ebf2 100%);background:-ms-linear-gradient(top,#f7f4fb 0,#e3ebf2 100%);background:linear-gradient(to bottom,#f7f4fb 0,#e3ebf2 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#f7f4fb', endColorstr='#e3ebf2', GradientType=0)}.overlay{position:fixed;top:0;left:0;width:100%;height:100%;z-index:50;background:#000;opacity:.7;-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)\";filter:alpha(opacity=70);display:none}.alpine-graphic-larger{position:fixed;display:block;opacity:1;left:50%;margin-left:-400px;top:50%;margin-top:-300px;z-index:99;background:#fff;font-size:12px}.alpine-graphic-larger .portfolio-ad{display:none}.alpine-graphic-larger .larger-title{width:100%;height:39px;background:#c2dcee}.alpine-graphic-larger .larger-title .larger-name{color:#0062a5;font-size:14px;float:left;margin-left:20px;height:39px;line-height:39px;text-shadow:0 0 1px rgba(255,255,255,.5)}.alpine-graphic-larger .larger-title .larger-code{color:#5396c3;font-size:14px;float:left;margin-left:7px;height:39px;line-height:39px;text-shadow:0 0 1px rgba(255,255,255,.5)}.alpine-graphic-larger .larger-title .larger-status{font:12px SimSun;color:#1c628d;float:left;width:62px;padding-left:28px;height:23px;line-height:23px;margin-left:27px;margin-top:8px}.alpine-graphic-larger .sideBar{position:absolute;overflow-x:hidden;top:82px;right:-57px;width:57px;background:#ccc9c7;border-radius:0 4px 4px 0;padding:10px 0}.alpine-graphic-larger .sideBar .invalid{cursor:default!important;color:#a8a5a3!important;border:none!important;background:none!important}.alpine-graphic-larger .sideBar li{width:100%;font-size:13px;font-family:\"Microsoft YaHei\",MicrosoftJhengHei,STHeiti,MingLiu;height:25px;text-align:center;cursor:pointer;padding-top:10px}.alpine-graphic-larger .sideBar .cur{background:#6f6259;cursor:default;color:#fff;border-top:1px solid #444;border-bottom:1px solid #444}.alpine-graphic-larger .user-graphic-panel{width:60px;position:absolute;right:0;z-index:100;border:1px solid #bab5b5;background:#ededed;background:rgba(237,237,237,.8);-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=90)\";filter:alpha(opacity=90);border-radius:4px 4px;box-shadow:2px 0 2px rgba(50,50,50,.4);padding-bottom:5px;display:none}.alpine-graphic-larger .user-graphic-panel li{width:35px;height:35px;margin-left:13px}.alpine-graphic-larger .user-graphic-panel li .popup{display:inline-block;width:33px;height:33px;margin:1px;cursor:pointer}.alpine-graphic-larger .user-graphic-panel li .line{background-position:0 -118px}.alpine-graphic-larger .user-graphic-panel li .line.cur-type{background-position:-33px -118px}.alpine-graphic-larger .user-graphic-panel li .horizon{background-position:0 -151px}.alpine-graphic-larger .user-graphic-panel li .horizon.cur-type{background-position:-33px -151px}.alpine-graphic-larger .user-graphic-panel li .regression{background-position:0 -184px}.alpine-graphic-larger .user-graphic-panel li .regression.cur-type{background-position:-33px -184px}.alpine-graphic-larger .user-graphic-panel li .rect{background-position:0 -217px}.alpine-graphic-larger .user-graphic-panel li .rect.cur-type{background-position:-33px -217px}.alpine-graphic-larger .user-graphic-panel li .cycle{background-position:0 -250px}.alpine-graphic-larger .user-graphic-panel li .cycle.cur-type{background-position:-33px -250px}.alpine-graphic-larger .user-graphic-panel li .division{background-position:0 -283px}.alpine-graphic-larger .user-graphic-panel li .division.cur-type{background-position:-33px -283px}.alpine-graphic-larger .user-graphic-panel li .percentage{background-position:0 -316px}.alpine-graphic-larger .user-graphic-panel li .percentage.cur-type{background-position:-33px -316px}.alpine-graphic-larger .user-graphic-panel li .band{background-position:0 -349px}.alpine-graphic-larger .user-graphic-panel li .band.cur-type{background-position:-33px -349px}.alpine-graphic-larger .user-graphic-panel li .fibonacci{background-position:0 -382px}.alpine-graphic-larger .user-graphic-panel li .fibonacci.cur-type{background-position:-33px -382px}.alpine-graphic-larger .user-graphic-panel li .up{background-position:0 -415px}.alpine-graphic-larger .user-graphic-panel li .up.cur-type{background-position:-33px -415px}.alpine-graphic-larger .user-graphic-panel li .down{background-position:0 -448px}.alpine-graphic-larger .user-graphic-panel li .down.cur-type{background-position:-33px -448px}.alpine-graphic-larger .user-graphic-panel li .text{background-position:0 -481px}.alpine-graphic-larger .user-graphic-panel li .text.cur-type{background-position:-33px -481px}.alpine-graphic-larger .user-graphic-panel li .pointer{background-position:0 -514px}.alpine-graphic-larger .user-graphic-panel li .pointer.cur-type{background-position:-33px -514px}.alpine-graphic-larger .user-graphic-panel li .remove{background-position:0 -547px}.alpine-graphic-larger .user-graphic-panel li .remove.cur-type{background-position:-33px -547px}.alpine-graphic-larger .user-graphic-panel li .clear{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAAAsTAAALEwEAmpwYAAA57GlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU1NzcyLCAyMDE0LzAxLzEzLTE5OjQ0OjAwICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNCAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTUtMTEtMTdUMTY6NTk6MDcrMDg6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNS0xMS0xN1QxNzowODoyMCswODowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTUtMTEtMTdUMTc6MDg6MjArMDg6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6N2Y3OTc4NjYtMDMyYi03MzQ0LThlMmEtYzE2YzYxMWNmMjcwPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD5hZG9iZTpkb2NpZDpwaG90b3Nob3A6YjVlMzJhNjgtOGQwYS0xMWU1LWI2ZGItOTMzZDY1NTgxNzI1PC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06T3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6NjdjOWZhYjMtNmIzNi0zMTQ5LTk2ODUtODIzZDI1OGIxOWEyPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjY3YzlmYWIzLTZiMzYtMzE0OS05Njg1LTgyM2QyNThiMTlhMjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNS0xMS0xN1QxNjo1OTowNyswODowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo3Zjc5Nzg2Ni0wMzJiLTczNDQtOGUyYS1jMTZjNjExY2YyNzA8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTUtMTEtMTdUMTc6MDg6MjArMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE0IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT42NTUzNTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+MzM8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+MzM8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pn9SNXsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAETVJREFUeAEAJRHa7gD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wAA////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AAP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wAA////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8AAP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wAA////AP///wD///8Ae3t7NJWVla2VlZXHlJSUu5SUlLuUlJS7lJSUu5SUlLuUlJS7lJSUu5SUlLuUlJS7lJSUu5SUlLuUlJS7lJSUu5SUlLuUlJS7lJSUu5SUlLuUlJS7lJSUu5SUlLuUlJS7lJSUxJWVlbuKiopI////AP///wD///8AAP///wD///8A////AIODg5aVlZX/lZWV/5SUlP+UlJT/lJSU/5SUlP+UlJT/lJSU/5SUlP+UlJT/lJSU/5SUlP+UlJT/lJSU/5SUlP+UlJT/lJSU/5SUlP+UlJT/lJSU/5SUlP+UlJT/lJSU/5SUlP+UlJT/jo6Om////wD///8A////AAD///8A////AP///wCgoKCelJSU/5OTk/+UlJT/lJSU/5SUlP+UlJT/lJSU/5SUlP+UlJT/lJSU/5SUlP+UlJT/lJSU/5SUlP+UlJT/lJSU/5SUlP+UlJT/lJSU/5SUlP+UlJT/lJSU/5SUlP+UlJT/lJSU/5qamp7///8A////AP///wAA////AP///wD///8AlJSUkqCgoP+UlJT/lJSU/5aWlv+Tk5P/mJiY/5qamv+Xl5f/mpqa/5GRkf+YmJj/mJiY/5aWlv+UlJT/lJSU/5OTk/+Wlpb/l5eX/5ubm/+Wlpb/kpKS/5aWlv+VlZX/k5OT/5ubm/+YmJiY////AP///wD///8AAP///wD///8A////ACsrKxJlZWV+np6e/5SUlP+WlpaYnp6e1IWFheV/f39mnJyc/46OjraZmZl+kpKSnZSUlP+Li4vJnZ2d+pqamqWTk5N5k5OTwZWVlf98fHxbjIyM156envCWlpaMkZGR/p2dnf9/f3+YPz8/H////wD///8A////AAD///8A////AP///wArKysAZWVlAJmZma+cnJz/YmJiMZ6engCOjo6JhoaGqFFRUYCOjo4AmZmZAJKSkgBMTExRn5+f/35+fmOampoAk5OTAJOTkwBmZmaLeHh4h5OTk6iampoWg4ODAI+Pj/+dnZ3pf39/AD8/PwD///8A////AP///wAA////AP///wD///8AKysrAIODgwCDg4OEnZ2d/35+fmasrKwAqampmKWlpf9CQkJTREREAIKCggB7e3sAbW1tlJiYmO5tbW2cl5eXAIeHhwA/Pz8AOzs7RLCwsP92dnaXXV1dAIODg0ienp7/hoaGpIaGhgA/Pz8A////AP///wD///8AAP///wD///8A////AIyMjACMjIwAjIyMWJaWlv+VlZWBrKysmVdXV7ClpaUAtLS030RERGOCgoIAe3t7z7y8vKCYmJgAV1dXh5eXl9OHh4cAPz8/UZqamvWVlZUOdnZ2q11dXYGEhIRRnJyc/46OjoGOjo4Ajo6OAP///wD///8A////AAD///8A////AP///wCRkZEAkZGRAJGRkSuWlpb/mZmZ/2VlZaVXV1cAqKioAKioqASNjY2+goKC+5WVlXy8vLwAmJiYAFdXVwBaWlprh4eH7ZKSks2jo6MflZWVAHZ2dgCAgIClkZGR/5aWlv+RkZFbkZGRAJGRkQD///8A////AP///wAA////AP///wD///8AeHh4AHh4eAB4eHgNmJiY/5OTk/8dHR0KHR0dAHFxcQBxcXEAhYWFtLGxsf9SUlJLQEBAAGJiYgBCQkIAMTExOqioqP+cnJy/hISEAJ2dnQCmpqYAgICAEJaWlv+VlZX/fHx8Jnx8fAB8fHwA////AP///wD///8AAP///wD///8A////AHh4eAB4eHgAeHh4AImJicqjo6P/enp6zm1tbQBxcXEAcXFx0qOjo4axsbEAmpqa50BAQHNiYmIAQkJCVZ+fn/+MjIwGZGRkcYSEhNadnZ0ApqamAaioqN+Xl5f/kJCQ9XBwcAhwcHAAcHBwAP///wD///8A////AAD///8A////AP///wCUlJQAlJSUAJSUlACUlJSnmJiY/46OjsFtbW2VcXFxp66urpOjo6MArq6uAK6urhGhoaG7YmJilZWVldS7u7syjIyMAGRkZABMTEx+nZ2du4SEhKxra2uQmZmZ/5WVldZwcHAAcHBwAHBwcAD///8A////AP///wAA////AP///wD///8Ai4uLAIuLiwCLi4sAi4uLhKCgoP9UVFRLiYmJyqysrP9OTk4LIiIiAE9PTwAnJycAZmZmVLi4uP9zc3N5KSkpAGVlZQC6uroAbm5uDqKiov+IiIjQXFxcHpaWlv+QkJCpkJCQAJCQkACQkJAA////AP///wD///8AAP///wD///8A////AHZ2dgB2dnYAdnZ2AHZ2dkuampr/k5OT/52dnUqFhYVRY2Nj5SIiIgFPT08AJycnUYqKivejo6Mnk5OTzikpKXJlZWUAurq6Faenp/5mZmZHZ2dnRpKSkv+enp7/fn5+gH5+fgB+fn4Afn5+AP///wD///8A////AAD///8A////AP///wCRkZEAkZGRAJGRkQCRkZEomZmZ/4yMjMWdnZ0AhYWFAHZ2dn15eXm0T09PR6Kiou24uLgzo6OjAJqamhiXl5fPZWVlYZGRkb85OTltZmZmAGdnZwB1dXWgoKCg/5CQkEmQkJAAkJCQAJCQkAD///8A////AP///wAA////AP///wD///8Ac3NzAHNzcwBzc3MAc3NzDZqamv+JiYnjhoaGAF1dXQAlJSUAdXV1pbKysv9zc3M/BAQEAHNzcwCysrIAiYmJNri4uP9jY2OfQEBAAFNTUwB/f38Af39/qKCgoP93d3cod3d3AHd3dwB3d3cA////AP///wD///8AAP///wD///8A////AHNzcwBzc3MAc3NzAHNzcwCRkZHWlZWV/4aGhhJdXV0AJSUlVpGRkcOmpqZwcHBwzQQEBBBzc3MAsrKyG5CQkOR+fn5YoKCgtUBAQHVTU1MAjY2NAI+Pj/KWlpb/g4ODB4ODgwCDg4MAg4ODAP///wD///8A////AAD///8A////AP///wCIiIgAiIiIAIiIiACIiIgAiIiIppubm/+dnZ1dXV1dKYuLi/ipqakspqamAIuLi4RgYGDNc3NzFKenp+E2NjZ3fn5+ALGxsRqamprvU1NTPI2NjTienp7/ioqKyIODgwCDg4MAg4ODAIODgwD///8A////AP///wAA////AP///wD///8AeXl5AHl5eQB5eXkAeXl5AHl5eX2bm5v/lpaW/6urq/+VlZUkqampAKWlpQClpaUAg4ODbby8vP9FRUVgGhoaABoaGgCxsbEAm5ubBampqeyYmJj/nJyc/4GBgaGBgYEAgYGBAIGBgQCBgYEA////AP///wD///8AAP///wD///8A////AImJiQCJiYkAiYmJAImJiQCJiYlGmZmZ/4uLi8WBgYGkhISElIyMjAClpaUApaWlGpqamr1zc3OrcnJyshoaGg4aGhoAtra2AKSkpHd6enqvhYWFt5ubm/+Ojo54jo6OAI6OjgCOjo4Ajo6OAP///wD///8A////AAD///8A////AP///wB9fX0AfX19AH19fQB9fX0AfX19JZubm/+Pj4+tQUFBAFdXV9uMjIyGpqamAJqamvY2NjZ8c3NzAHNzc4ZxcXHoo6OjALa2tnBsbGzqenp6AIGBgXyenp7/eHh4QHh4eAB4eHgAeHh4AHh4eAD///8A////AP///wAA////AP///wD///8AbW1tAG1tbQBtbW0AbW1tAG1tbQSZmZn9np6e/0FBQQxXV1cAgoKCpqampv9LS0tQpKSkAKKiogCXl5cAd3d3WaOjo/9tbW2ibGxsAISEhACZmZnhnp6e/4SEhB2EhIQAhISEAISEhACEhIQA////AP///wD///8AAP///wD///8A////AG1tbQBtbW0AbW1tAG1tbQBtbW0AcnJylbS0tP9vb2+0mpqaAJSUlLSSkpL/iIiIWaSkpAuioqIkl5eXC3t7ez+mpqb/ampqoZubmwCEhISWpqam/4eHh8OEhIQAhISEAISEhACEhIQAhISEAP///wD///8A////AAD///8A////AP///wAsLCwALCwsACwsLAAsLCwALCwsACwsLAeKiorcq6ur/5qamv+Xl5f/lJSU/5qamv+VlZX/k5OT/5SUlP+YmJj/k5OT/5ycnP+bm5v/oKCg/5qamvlBQUElQUFBAEFBQQBBQUEAQUFBAEFBQQD///8A////AP///wAA////AP///wD///8ALCwsACwsLAAsLCwALCwsACwsLAAsLCwAMDAwD42NjYacnJy1lJSUqpSUlKWUlJSqlJSUs5SUlLKUlJS0lZWVq5SUlKWUlJSplpaWtpmZmZtpaWkgQUFBAEFBQQBBQUEAQUFBAEFBQQBBQUEA////AP///wD///8AAP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAEAAP//fgYRMN5OjgwAAAAASUVORK5CYII=)}.alpine-graphic-larger .user-graphic-panel li.cur,.alpine-graphic-larger .user-graphic-panel .cur{background:#6f6259;cursor:default;color:#fff}.alpine-graphic-larger .user-graphic-panel .panel-top{height:23px;width:100%;margin:0;border-bottom:1px solid #bab5b5;background:-webkit-gradient(linear,0 0,0 100%,from(rgba(255,255,255,.498039)),color-stop(.75,rgba(255,255,255,0)),to(#b8bfc5));filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#B8BFC5', GradientType=0)}.alpine-graphic-larger .user-graphic-panel .panel-top .popup-close{display:inline-block;background-position:-48px -90px;width:9px;height:9px;position:absolute;right:8px;top:8px}.alpine-graphic-larger .user-graphic-panel .panel-top .menu{display:inline-block;background-position:-38px -89px;width:9px;height:9px;position:absolute;left:8px;top:8px;cursor:default}.alpine-graphic-larger .compare{height:80px;background:#dde8f3;clear:both;color:#81a1c4}.alpine-graphic-larger .compare:before{display:block;height:10px;content:' ';border-top:1px solid #fff;margin-top:1px}.alpine-graphic-larger .compare .compare-left label{float:none;display:block;font-weight:400;padding-bottom:5px;margin-left:40px}.alpine-graphic-larger .compare .compare-left input[type=text]{padding:0 0 0 13px;height:32px;width:237px;border:1px solid #a0b5cb;border-right:none;box-shadow:0 0 1px #fff,inset 0 0 1px rgba(0,0,0,.4);background:#f5fbff;color:#b3b6b8;margin-left:40px;line-height:32px}.alpine-graphic-larger .compare .compare-left input[type=button]{width:77px;height:34px;background:#4f90c1;border:none;border-top:1px solid #8db5d8;border-bottom:1px solid #356790;font-family:\"Microsoft YaHei\",MicrosoftJhengHei,STHeiti,MingLiu;color:#fff;text-shadow:0 0 1px rgba(0,0,0,.3);box-shadow:0 0 2px #1a5481,inset 0 0 1px #70b6eb;margin-left:0;filter:none}.alpine-graphic-larger .compare .compare-panel{overflow:hidden;float:left;padding-top:10px;height:50px;border-left:1px solid #fff;box-shadow:-1px 0 0 #ddd;margin-left:20px;width:400px;font-size:12px;line-height:17px;white-space:nomal}.alpine-graphic-larger .compare .compare-panel .compare-item{padding-left:10px;display:inline-block;*display:inline;zoom:1;white-space:nowrap}.alpine-graphic-larger .compare .compare-panel .compare-item label{display:inline-block;margin:0 0 0 5px;cursor:pointer}.alpine-graphic-larger .compare .compare-panel .compare-item input[type='checkbox']{opacity:0;display:inline;width:0}.alpine-graphic-larger .compare .compare-panel .compare-item input[type='checkbox'] .checked+.checkbox{background:#81a1c4}.alpine-graphic-larger .compare .compare-panel .compare-item input[type='checkbox'] .checked+.checkbox .checkmark{display:block}.alpine-graphic-larger .compare .compare-panel .compare-item .checkbox{display:inline-block;width:10px;height:10px;box-shadow:0 0 1px #fff;border:1px solid #638eb0;background:#fff;cursor:pointer}.alpine-graphic-larger .compare .compare-panel .compare-item .checkmark{font-size:14px;overflow:hidden;display:none;height:11px;color:#fff;font-family:MicroSoft Yahei}.alpine-graphic-larger .compare .compare-panel .checked .checkmark{display:block}.alpine-graphic-larger .compare .compare-panel .checked .checkbox{background:#81a1c4}.cmp-tips{position:absolute;display:none;width:315px;height:190px;top:50%;left:50%;margin:-95px 0 0 -157px;font-size:14px;color:#105787;text-align:center;border:1px solid #DDE8F3;background:#f5fbff;box-shadow:0 2px 5px 0 rgba(3,30,49,.75);z-index:200}.cmp-tips div{margin-top:60px;font-family:\"Microsoft YaHei\",MicrosoftJhengHei,STHeiti,MingLiu}.cmp-tips input{display:block;position:absolute;left:50%;margin-left:-65px;margin-top:30px;width:130px;height:43px;color:#fff;font:700 18px \"Microsoft YaHei\",MicrosoftJhengHei,STHeiti,MingLiu;text-shadow:.5px 1px 1px rgba(0,0,0,.33);background:#2989cb;background-image:-webkit-gradient(linear,center top,center bottom,from(#59aae2),to(#2989cb));background-image:-webkit-linear-gradient(top,#59aae2,#2989cb);background-image:-moz-linear-gradient(top,#59aae2,#2989cb);background-image:-o-linear-gradient(top,#59aae2,#2989cb);background-image:-ms-linear-gradient(top,#59aae2,#2989cb);background-image:linear-gradient(to bottom,#59aae2,#2989cb);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#59aae2', endColorstr='#2989cb', GradientType=1);box-shadow:1px 2px 2px #3075a4,inset 1px 2px 1px rgba(255,255,255,.3);border-radius:5px;border:none;cursor:pointer}", ""])
        }
        , function(e, t) {
            e.exports = function() {
                var e = [];
                return e.toString = function() {
                    for (var e = [], t = 0; t < this.length; t++) {
                        var n = this[t];
                        n[2] ? e.push("@media " + n[2] + "{" + n[1] + "}") : e.push(n[1])
                    }
                    return e.join("")
                }
                    ,
                    e
            }
        }
        , function(e, t, n) {
            function r(e, t) {
                for (var n = 0; n < e.length; n++) {
                    var r = e[n]
                        , i = l[r.id];
                    if (i) {
                        i.refs++;
                        for (var s = 0; s < i.parts.length; s++)
                            i.parts[s](r.parts[s]);
                        for (; s < r.parts.length; s++)
                            i.parts.push(o(r.parts[s], t))
                    } else {
                        for (var u = [], s = 0; s < r.parts.length; s++)
                            u.push(o(r.parts[s], t));
                        l[r.id] = {
                            id: r.id,
                            refs: 1,
                            parts: u
                        }
                    }
                }
            }
            function i(e) {
                for (var t = [], n = {}, r = 0; r < e.length; r++) {
                    var i = e[r]
                        , s = i[0]
                        , o = i[1]
                        , u = i[2]
                        , a = i[3]
                        , f = {
                            css: o,
                            media: u,
                            sourceMap: a
                        };
                    n[s] ? n[s].parts.push(f) : t.push(n[s] = {
                        id: s,
                        parts: [f]
                    })
                }
                return t
            }
            function s() {
                var e = document.createElement("style")
                    , t = p();
                return e.type = "text/css",
                    t.appendChild(e),
                    e
            }
            function o(e, t) {
                var n, r, i;
                if (t.singleton) {
                    var o = v++;
                    n = d || (d = s()),
                        r = a.bind(null , n, o, !1),
                        i = a.bind(null , n, o, !0)
                } else
                    n = s(),
                        r = f.bind(null , n),
                        i = function() {
                            n.parentNode.removeChild(n)
                        }
                    ;
                return r(e),
                    function(t) {
                        if (t) {
                            if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap)
                                return;
                            r(e = t)
                        } else
                            i()
                    }
            }
            function u(e, t, n) {
                var r = ["/** >>" + t + " **/", "/** " + t + "<< **/"]
                    , i = e.lastIndexOf(r[0])
                    , s = n ? r[0] + n + r[1] : "";
                if (e.lastIndexOf(r[0]) >= 0) {
                    var o = e.lastIndexOf(r[1]) + r[1].length;
                    return e.slice(0, i) + s + e.slice(o)
                }
                return e + s
            }
            function a(e, t, n, r) {
                var i = n ? "" : r.css;
                if (e.styleSheet)
                    e.styleSheet.cssText = u(e.styleSheet.cssText, t, i);
                else {
                    var s = document.createTextNode(i)
                        , o = e.childNodes;
                    o[t] && e.removeChild(o[t]),
                        o.length ? e.insertBefore(s, o[t]) : e.appendChild(s)
                }
            }
            function f(e, t) {
                var n = t.css
                    , r = t.media
                    , i = t.sourceMap;
                if (i && "function" == typeof btoa)
                    try {
                        n += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(JSON.stringify(i)) + " */",
                            n = '@import url("data:text/css;base64,' + btoa(n) + '")'
                    } catch (s) {}
                if (r && e.setAttribute("media", r),
                        e.styleSheet)
                    e.styleSheet.cssText = n;
                else {
                    for (; e.firstChild; )
                        e.removeChild(e.firstChild);
                    e.appendChild(document.createTextNode(n))
                }
            }
            var l = {}
                , c = function(e) {
                    var t;
                    return function() {
                        return "undefined" == typeof t && (t = e.apply(this, arguments)),
                            t
                    }
                }
                , h = c(function() {
                    return /msie 9\b/.test(window.navigator.userAgent.toLowerCase())
                })
                , p = c(function() {
                    return document.head || document.getElementsByTagName("head")[0]
                })
                , d = null
                , v = 0;
            e.exports = function(e, t) {
                t = t || {},
                "undefined" == typeof t.singleton && (t.singleton = h());
                var n = i(e);
                return r(n, t),
                    function(e) {
                        for (var s = [], o = 0; o < n.length; o++) {
                            var u = n[o]
                                , a = l[u.id];
                            a.refs--,
                                s.push(a)
                        }
                        if (e) {
                            var f = i(e);
                            r(f, t)
                        }
                        for (var o = 0; o < s.length; o++) {
                            var a = s[o];
                            if (0 === a.refs) {
                                for (var c = 0; c < a.parts.length; c++)
                                    a.parts[c]();
                                delete l[a.id]
                            }
                        }
                    }
            }
        }
        , function(e, t) {
            "use strict";
            !function(e) {
                function t(t, n) {
                    return t.replace(new RegExp(n.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, "\\$1"),"g"), '<span style="color:#f45243;height:20px;line-height:20px;">' + e("<span></span>").text(n).html() + "</span>")
                }
                function n(e) {
                    var t = s[e[0]];
                    switch (e[4]) {
                        case "QH-IF":
                            t = "\u80a1\u671f";
                            break;
                        case "ZQ":
                            t = "\u503a\u5238";
                            break;
                        case "FJ":
                        case "ETF":
                            t = "\u57fa\u91d1"
                    }
                    return t
                }
                var r = {
                        maxLine: 10,
                        typeWait: 50,
                        defaultType: "ALL",
                        preFill: "",
                        inputHint: "\u4ee3\u7801/\u540d\u79f0/\u62fc\u97f3",
                        onclick: function(e) {}
                    }
                    , i = {
                        all: "\u5168\u90e8",
                        gp: "\u6caa\u6df1",
                        hk: "\u6e2f\u80a1",
                        jj: "\u57fa\u91d1",
                        us: "\u7f8e\u80a1",
                        qh: "\u671f\u8d27",
                        "if": "\u671f\u6307",
                        wh: "\u5916\u6c47"
                    }
                    , s = {
                        sh: "\u4e0a\u6d77",
                        sz: "\u6df1\u5733",
                        jj: "\u57fa\u91d1",
                        hk: "\u6e2f\u80a1",
                        us: "\u7f8e\u80a1",
                        qh: "\u671f\u8d27",
                        "if": "\u671f\u6307",
                        wh: "\u5916\u6c47"
                    }
                    , o = ["all", "gp", "hk", "jj", "us", "qh", "if", "wh"]
                    , u = {}
                    , a = function(t, n) {
                        var i = this;
                        this.$target = t,
                            this.node = e('<ul style="background:#fff;font-size:12px;display:none;position:absolute;border:1px solid #9c9c9c;margin:5px 0;padding:0;z-index:999"></ul>').appendTo(e("body")),
                            n = i.config = e.extend(!0, {}, r, n),
                        n.preFill && n.$input.val(n.preFill),
                            e(document).click(function(t) {
                                var r = e(t.target);
                                if (i._visible) {
                                    if (i.node.is(r) || i.node.has(r).length || n.$input.is(r))
                                        return;
                                    i.hide()
                                }
                            }),
                            n.$select.val(n.defaultType),
                            n.$select.on("change", function() {
                                n.$input.focus()
                            }),
                            n.$button.on("click", function() {
                                i._select()
                            }),
                            n.$input.on("keydown", function(e) {
                                switch (e.keyCode) {
                                    case 40:
                                        i._next();
                                        break;
                                    case 38:
                                        i._next(!0);
                                        break;
                                    case 13:
                                        i._select();
                                        break;
                                    case 27:
                                        i.hide();
                                        break;
                                    default:
                                        i._query()
                                }
                            }).on("keypress input", function(e) {
                                i._query()
                            }).focus(function() {
                                n.$input.css("color", "rgb(51, 51, 51)"),
                                    n.$input.val() === n.inputHint ? n.$input.val("") : i._query()
                            }).on("blur", function() {
                                i.hide()
                            }),
                            this.hide()
                    }
                    ;
                a.prototype._setting = function(t) {
                    t = this.config = e.extend(!0, {}, this.config, t),
                    t.preFill && t.$input.val(t.preFill),
                        t.$select.val(t.defaultType)
                }
                    ,
                    a.prototype._query = function() {
                        var t = this;
                        t._queryTimer && clearTimeout(t._queryTimer),
                            t._queryTimer = setTimeout(function() {
                                t._queryTimer = 0;
                                var n = e.trim(t.config.$input.val())
                                    , r = t.config.$select.val();
                                if (("sz" === r || "sh" === r) && (r = "gp"),
                                    "if" === r && (r = "qh"),
                                    !n || n === t.config.inputHint)
                                    return t._suggest(r, n, []);
                                var i = r + "-" + n;
                                return i in u ? t._suggest(r, n, u[i]) : void e.getScript("http://smartbox.gtimg.cn/s3/?t=" + encodeURIComponent(r) + "&q=" + encodeURIComponent(n), function() {
                                    var s = window.v_hint
                                        , o = u[i] = [];
                                    s && e.each(s.split("^"), function(e, t) {
                                        t = t.split("~"),
                                        t.length > 4 && o.push(t)
                                    }),
                                    e.trim(t.config.$input.val()) === n && t._suggest(r, n, o),
                                        window.v_hint = null
                                })
                            }, t.config.typeWait)
                    }
                    ,
                    a.prototype.data = function() {
                        return this._activeLi || (this._activeLi = this.node.children().first()),
                            this._activeLi.data("__raw__")
                    }
                    ,
                    a.prototype.hide = function() {
                        this._queryTimer && clearTimeout(this._queryTimer);
                        var t = this;
                        t.node.hide(),
                            t._visible = !1,
                        e.trim(this.config.$input.val()) || this.config.$input.val(this.config.inputHint),
                        this.config.$input.val() === this.config.inputHint && this.config.$input.css("color", "rgb(180, 179, 179)")
                    }
                    ,
                    a.prototype._select = function() {
                        var e = this.data();
                        e && "function" == typeof this.config.onclick && (this.config.$input.val(e[1]),
                            this.config.onclick(e))
                    }
                    ,
                    a.prototype._next = function(e) {
                        var t = this.node.children("li")
                            , n = e ? this._activeLi && !this._activeLi.is(t.first()) ? this._activeLi.prev() : t.last() : this._activeLi && !this._activeLi.is(t.last()) ? this._activeLi.next() : t.first();
                        this._activeLi && this._activeLi.css("background", "transparent"),
                            this._activeLi = n,
                            n.css("background", "rgb(222, 239, 255)")
                    }
                    ,
                    a.prototype._suggest = function(r, i, s) {
                        if (this._key === r + "-" + i)
                            return this.show();
                        var o = this.config.defaultType;
                        if ("if" === o)
                            for (var u = s.length - 1; u >= 0; u--)
                                "QH-IF" !== s[u][4] && s.splice(u, 1);
                        s = s.slice(0, this.config.maxLine),
                            this._key = r + "-" + i,
                            this.node.empty();
                        var a = this
                            , f = e('<li style="list-style:none;margin:0;padding:0 5px 0 5px;width:246px;height:20px;line-height:20px;overflow:hidden;cursor:pointer;"></li>').hover(function() {
                                a._activeLi && a._activeLi.is(this) || (a._activeLi && a._activeLi.css("background", "transparent"),
                                    a._activeLi = e(this),
                                    a._activeLi.css("background", "rgb(222, 239, 255)"))
                            }).mousedown(function() {
                                a._select()
                            });
                        s.length ? e.each(s, function(r, s) {
                            var o = f.clone(!0).data("__raw__", s)
                                , u = "float: left;margin-right:5px;height:20px;line-height:20px;overflow:hidden;";
                            e('<span style="' + u + 'width:54px;"></span>').html(t(s[1], i)).appendTo(o),
                                e('<span style="' + u + 'font-family:Arial;width:75px;"></span>').html(t(s[2], i)).appendTo(o),
                                e('<span style="' + u + 'width:60px;"></span>').html(t(s[3].toUpperCase(), i.toUpperCase())).appendTo(o),
                                e('<span style="' + u + 'width:40px;color:#a9a9a9;margin:0"></span>').text(n(s)).appendTo(o),
                                o.appendTo(a.node)
                        }) : f.clone().text(i ? "\u672a\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c" : "\u8bf7\u8f93\u5165\u67e5\u8be2\u6761\u4ef6\uff1a\u4ee3\u7801/\u540d\u79f0/\u62fc\u97f3").appendTo(this.node),
                            a._activeLi = null ,
                            a.show()
                    }
                    ,
                    a.prototype.show = function() {
                        this.node.show(),
                            this._visible = !0;
                        var e = this.$target.offset();
                        this.node.css({
                            left: e.left + "px",
                            top: e.top + this.$target.innerHeight() + "px"
                        })
                    }
                    ,
                    e.fn.smartbox = function(t) {
                        if (this.get(0)._smartbox) {
                            var n = e.extend(!0, {}, r, t);
                            return this.get(0)._smartbox._setting(n)
                        }
                        return this.each(function() {
                            if (!this._smartbox) {
                                var n = e.extend(!0, {}, r, t)
                                    , s = e(this)
                                    , u = this.tagName.toLowerCase();
                                n.$select ? n.$select = e(n.$select) : n.$select = "select" === u ? s : s.find("select").first(),
                                n.$select.size() || (n.$select = e("<select></select>"),
                                    e.each(o, function(t, r) {
                                        e("<option></option>").val(r).text(i[r]).appendTo(n.$select)
                                    }),
                                    n.$select.val(n.defaultType),
                                    "div" === u ? n.$select.appendTo(s) : n.$select.hide().appendTo(e("body"))),
                                !n.$select.val() || t && t.defaultType || (n.defaultType = n.$select.val()),
                                    n.$input ? n.$input = e(n.$input) : n.$input = s.is("input[type=text]") ? s : s.find("input[type=text]").first(),
                                n.$input.size() || (n.$input = e('<input type="text">').val(n.preFill),
                                    "div" === u ? n.$input.appendTo(s) : n.$input.hide().appendTo(e("body"))),
                                    n.$button ? n.$button = e(n.$button) : n.$button = s.is("input[type=button],button") ? s : s.find("input[type=button],button").first(),
                                n.$button.size() || (n.$button = e('<input type="button" value="\u67e5\u8be2">'),
                                    "div" === u ? n.$button.appendTo(s) : n.$button.hide().appendTo(e("body"))),
                                    this._smartbox = new a(s,n)
                            }
                        })
                    }
            }(jQuery)
        }
    ])
}),
define("text!views/stocklist/feature_guide.html", [], function() {
    return '<div class="guide" style="display:none;">\n	<div class="bg"></div>\n  <!-- <div class="g_color"></div> -->\n  	<div class="g_batch"></div>\n	<div class="g_fold"></div>\n	<!-- <div class="g_sort"></div> -->\n	<div class="g_close know"></div>\n</div>'
}),
define("text!views/stocklist/feature_guide2.html", [], function() {
    return '<div class="guide" style="display:none;">\r\n	<div class="bg"></div>\r\n  <!-- <div class="g_color"></div> -->\r\n  	<div class="g_market"></div>\r\n	<!--<div class="g_listDrag"></div>-->\r\n	<!-- <div class="g_sort"></div> -->\r\n	<div class="g_close know"></div>\r\n</div>'
}),
define("module/hangqing/hangqing_new", ["require", "exports", "module", "jquery", "overlay", "underscore", "art", "helper/logger", "model-init", "guide", "text!./hangqing.css", "text!./jjhqt.html", "text!./index_new.html", "models/group", "./chart.bundle", "models/group", "text!views/stocklist/feature_guide.html", "text!views/stocklist/feature_guide2.html"], function(e, t, n) {
    "use strict";
    var r = e("jquery")
        , s = e("overlay")
        , o = e("underscore")
        , u = e("art")
        , a = e("helper/logger")
        , f = e("model-init")
        , l = e("guide")
        , c = new f
        , h = ["sh000001", "hkHSI", "sz399001", "usDJI"]
        , p = {
            symbol: "sh000001",
            code: "00001",
            name: escape("\u4e0a\u8bc1\u6307\u6570"),
            navName: "\u4e0a\u8bc1\u6307\u6570",
            mkType: "sh"
        }
        , d = {
            kj: p,
            fj: p,
            lof: p,
            etf: p,
            sh: p,
            nq: p,
            hk: {
                symbol: "hkHSI",
                code: "HSI",
                name: escape("\u6052\u751f\u6307\u6570"),
                navName: "\u6052\u751f\u6307\u6570",
                mkType: "hk"
            },
            sz: {
                symbol: "sz399001",
                code: "399001",
                name: escape("\u6df1\u8bc1\u6210\u6307"),
                navName: "\u6df1\u8bc1\u6210\u6307",
                mkType: "sz"
            },
            us: {
                symbol: "usDJI",
                code: "DJI",
                name: escape("\u9053\u743c\u65af"),
                navName: "\u9053\u743c\u65af",
                mkType: "us"
            }
        }
        , v = {
            UP: 38,
            DOWN: 40
        }
        , m = 1110
        , g = 900
        , y = [379, 320]
        , b = [525, 450]
        , w = "web.portfolio." + app.QQuin + "_POPSTATUS"
        , E = (window.navigator.userAgent || "").toLowerCase()
        , S = E.indexOf("msie") !== -1
        , x = {
            resolution: 200,
            iframes: [],
            interval: null ,
            Iframe: function() {
                this.element = arguments[0],
                    this.cb = arguments[1],
                    this.hasTracked = !1
            },
            track: function(e, t) {
                this.iframes.push(new this.Iframe(e,t))
            },
            doit: function() {
                setInterval(function() {
                    x.checkClick()
                }, this.resolution)
            },
            checkClick: function() {
                if (document.activeElement) {
                    var e = document.activeElement;
                    for (var t in this.iframes)
                        e === this.iframes[t].element ? this.iframes[t].hasTracked == 0 && (this.iframes[t].cb.apply(e, []),
                            this.iframes[t].hasTracked = !0) : this.iframes[t].hasTracked = !1
                }
            }
        }
        , T = function() {
            var e = app.hangqing;
            app.QosS.timePoint5()(),
                app.boss.act("hqt_loadTime", app.QosS.t[5] - app.QosS.t[4]),
            e.hasReported || (RT("stock_web_pstock").times("iframeLoaded", app.QosS.t[5] - app.QosS.t[4]).push(),
                e.hasReported = 1)
        }
        , N = s.extend({
            attrs: {
                template: "<div></div>",
                className: "hangqing",
                elementNode: null ,
                zIndex: 97,
                id: null ,
                align: {
                    baseXY: ["0", "10000"],
                    baseElement: ".zxg-stocklist"
                },
                firstStyle: e("text!./hangqing.css"),
                jjTemplate: e("text!./jjhqt.html"),
                stock: null ,
                comStock: null ,
                mkType: null ,
                visible: null ,
                resize: "0",
                open: 0,
                stocklist: null ,
                hasLoaded: {},
                model: {}
            },
            templateHelpers: {
                type: function(e) {
                    var e = e;
                    if (e == "kj" || e == "fj")
                        e = "jj";
                    return e
                }
            },
            operateLS: function(e, t) {
                return window.localStorage ? o.isUndefined(t) ? window.localStorage.getItem(e) : (window.localStorage.setItem(e, t),
                    !0) : !1
            },
            height: y[0],
            oldHeight: null ,
            oldID: null ,
            addH: !1,
            appdl: null ,
            template: e("text!./index_new.html"),
            timmer: null ,
            indexS: "0",
            smallConfig: {
                pushQt: !0,
                size: {
                    width: 450,
                    height: 286
                },
                singleChart: !0,
                defaultChart: "minute",
                cb: T,
                proj: "portfolio",
                boss: "close",
                chartStyle: {
                    minute: {
                        minuteArea: {
                            position: {
                                height: 165
                            }
                        },
                        volumeArea: {
                            position: {
                                top: 30,
                                height: 40
                            }
                        },
                        titleArea: {
                            position: {
                                left: 0,
                                right: 0
                            }
                        }
                    },
                    kline: {
                        klineArea: {
                            position: {
                                height: 130
                            }
                        },
                        titleArea: {
                            position: {
                                left: 0,
                                right: 0
                            }
                        },
                        volumeArea: {
                            position: {
                                height: 30
                            }
                        },
                        indexArea: {
                            position: {
                                height: 20
                            }
                        },
                        trendArea: {
                            display: !1
                        }
                    }
                },
                compare: !1,
                larger: !1
            },
            largerConfig: {
                pushQt: !0,
                size: {
                    width: 500,
                    height: 360
                },
                cb: T,
                proj: "portfolio",
                singleChart: !0,
                defaultChart: "minute",
                boss: "close",
                chartStyle: {
                    minute: {
                        minuteArea: {
                            position: {
                                height: 198
                            }
                        },
                        titleArea: {
                            position: {
                                left: 0,
                                right: 0
                            }
                        },
                        volumeArea: {
                            position: {
                                top: 35,
                                height: 60
                            }
                        }
                    },
                    kline: {
                        klineArea: {
                            position: {
                                height: 173
                            }
                        },
                        titleArea: {
                            position: {
                                left: 0,
                                right: 0
                            }
                        },
                        volumeArea: {
                            position: {
                                height: 30
                            }
                        },
                        indexArea: {
                            position: {
                                height: 30
                            }
                        },
                        trendArea: {
                            display: !1
                        }
                    }
                },
                compare: !1,
                larger: !1
            },
            stockChart: [],
            drawConfig: {
                0: "minute",
                1: "minute"
            },
            $body: r("body") || r("html"),
            renderQuotation: function() {
                var t = this
                    , n = e("models/group").single()
                    , r = n.get("StockList")
                    , i = this.get("id")
                    , s = r[i]
                    , o = s.get("symbol")
                    , u = s.get("mkType")
                    , a = s.get("name");
                s.name = escape(a),
                (s.get("symbol").indexOf("16181L") != -1 || s.get("symbol").indexOf("160311") != -1) && 0;
                if (/kj/.exec(u) || /lof/.exec(u) && /^jj[1-9]*/.exec(o))
                    s.isJJ = 1;
                var f = ["&position=left", "&position=right"]
                    , l = s.get("type") == "ZS" ? 1 : 0
                    , c = l ? f : ["", ""];
                s.navName = a,
                    s.symbol = o,
                    s.mkType = u,
                    this.set("stock", s);
                var h = l ? s : d[u]
                    , p = 0;
                return !s.isJJ && /fj|etf|lof/.exec(u) && (h = s,
                    p = 1),
                    t.comWithSelf = l || p ? 1 : 0,
                    t.drawConfig = t.comWithSelf ? {
                        0: "minute",
                        1: "day"
                    } : {
                        0: "minute",
                        1: "minute"
                    },
                    this.set("comStock", h).set("mkType", u).set("zsStr", c),
                    t.chartBundle = e("./chart.bundle"),
                    t.indexS = String(Number(t.indexS)),
                    this.renderHtml(),
                    !0
            },
            renderHtml: function() {
                var e = this;
                if (!e.oldID)
                    return;
                var t = r("#zxg-body").width() - 2
                    , n = {
                        width: t / 2,
                        height: y[0] - 2
                    };
                n.height = e.height - 2,
                    e.set("model", {
                        stock: e.get("stock"),
                        comStock: e.get("comStock"),
                        mktype: e.get("mktype"),
                        zsStr0: e.get("zsStr")[0],
                        zsStr1: e.get("zsStr")[1],
                        size: n,
                        index: e.indexS,
                        leftClass: e.height == y[1] ? "small" : "large"
                    }),
                    setTimeout(function() {
                        var e = document.getElementsByTagName("iframe");
                        for (i = 0; i < e.length; i++)
                            x.track(e[i], function() {
                                document.activeElement.blur(),
                                    r(window).focus()
                            });
                        x.doit()
                    }, 1e3),
                    e.drawChart()
            },
            drawChart: function(e) {
                var t = this;
                if (!t.get("open"))
                    return;
                app.QosS.timePoint4()();
                if (!t.get("stock").isJJ) {
                    var n = t.height == y[1] ? "small" : "large"
                        , i = n === t.sizeType ? 0 : 1;
                    t.sizeType = n;
                    var s = r(t.element).find(".compareUL.nonjj .compareLI");
                    for (var u = 0; u <= 1; u++) {
                        var a = u ? 0 : 1
                            , f = u === 0 ? "minute" : "day"
                            , l = r(s[u]).find(".nav-item");
                        t.comWithSelf ? (r(l[u]).hide(),
                            r(l[a]).addClass("active")) : (f = i && t.stockChart[u] ? t.stockChart[u].config.current ? t.stockChart[u].config.current : t.stockChart[u].config.defaultChart : "minute",
                            o.each(l, function(e, t) {
                                r(e).show(),
                                    r(e).hasClass(f) ? r(e).addClass("active") : r(e).removeClass("active")
                            })),
                            app.boss.act("pop_clickTo_" + f);
                        var c = u == 0 ? "contain_left" : "contain_right"
                            , h = u === 0 ? t.get("stock").get("symbol") : t.get("comStock").symbol
                            , e = {
                                symbol: h,
                                outer: c
                            };
                        n == "small" ? e = o.extend({}, e, t.smallConfig) : e = o.extend({}, e, t.largerConfig),
                            e.defaultChart = t.drawConfig[u],
                            t.stockChart[u] ? i ? (0,
                                n == "small" ? t.zoomOut(t.stockChart[u]) : t.zoomIn(t.stockChart[u])) : (0,
                                t.stockChart[u].attr({
                                    outer: c
                                }),
                                t.stockChart[u].attr({
                                    current: t.drawConfig[u]
                                }),
                                t.stockChart[u].renew(h)) : (t.stockChart[u] = new t.chartBundle(e),
                                t.stockChart[u].draw())
                    }
                    var p = t.get("stock").get("nativeMarket") ? t.get("stock").get("symbol") : t.get("stock").get("qtsymbol")
                        , d = t.get("comStock").symbol;
                    if (t.get("stock").get("mkType") == "hk") {
                        if (t.get("stock").get("type").toUpperCase() == "ZS" || t.get("stock").get("yanshi"))
                            p = "r_" + p;
                        d = "r_" + d
                    }
                    var v = [p, d];
                    0,
                    app.pushReg.hangqingtu && app.Push.unreg(app.pushReg.hangqingtu),
                        app.pushQt(v, ["Mkt", "Name", "Symbol", "Price", "PrevClose", "Open", "Vol", "_Vol", "TimeStamp", "High", "Low", "Status"], function(e) {
                            if (p === t.oldID || t.stockChart[0] && p.indexOf(t.stockChart[0].config.symbol) != -1)
                                t.stockChart[0] && e[p] && t.stockChart[0].setQtData(e[p], e[d]),
                                t.stockChart[1] && e[d] && t.stockChart[1].setQtData(e[d], e[d])
                        }, "hangqingtu")
                }
            },
            zoomIn: function(e) {
                var t = this
                    , n = o.extend({}, {}, t.largerConfig);
                n.defaultChart = e.config.defaultChart,
                    t.repaint(e, n)
            },
            zoomOut: function(e) {
                var t = this
                    , n = o.extend({}, {}, t.smallConfig);
                n.defaultChart = e.config.defaultChart,
                    t.repaint(e, n)
            },
            repaint: function(e, t) {
                var n = this;
                e.attr(t).repaint()
            },
            setup: function() {
                var e = this.get("align")
                    , t = r(e.baseElement)
                    , n = t.offset().left
                    , i = t.offset().top;
                e.baseXY = [n - 1, r(window).height()],
                    this.set("align", e),
                    this.element.css("position", "fixed"),
                    N.superclass.setup.call(this),
                    this.bindEvent()
            },
            bindEvent: function() {
                var t = this
                    , n = t.get("elementNode")
                    , i = t.get("parentNode")
                    , s = e("models/group").single();
                s.on("render", r.proxy(t._scroll, t)),
                    r(i).delegate(n, "click", o.bind(function(e) {
                        t.upFlag = t.get("reset") && t.get("reset").open ? 0 : 1;
                        if (t.get("stocklist")) {
                            var n = t.get("stocklist").get("mkType");
                            if (n == "yk" || n == "new")
                                return
                        }
                        var i = e.target || e.srcElement
                            , s = 0;
                        o.each(["tx_ac", "yk_ac", "nt_ac", "del", "zxg-batch-checkbox-one"], function(e, t) {
                            if (r(i).hasClass(e) || r(i).closest(".opt").length >= 1)
                                s = 1
                        });
                        if (s)
                            return;
                        var u = r(e.currentTarget).closest("dl");
                        r("#tool-smartbox").blur(),
                            u.focus();
                        var a = t.get("align")
                            , f = u.attr("id");
                        o.each(r(".sline"), function(e, t) {
                            r(e).removeClass("active"),
                                r(e).css("background-color", "")
                        }),
                            u.addClass("active"),
                            u.css("background-color", "#cde1f1");
                        if (f == t.oldID && t.get("open") == 1) {
                            t.oldID = f,
                                t.set("id", f);
                            return
                        }
                        t.oldID = f,
                            t.set("id", f),
                            app.boss.act("btn_click_sline"),
                            t.timmer = setTimeout(o.bind(function() {
                                t.renderQuotation() && (t.set("align", a),
                                    app.boss.act("show_hagnqing_pop"),
                                    t._addHeight(),
                                    t.get("visible") == 1 ? t._adjustHeight(u) : (t.show(),
                                        t.drawChart()),
                                    t.set("resize", "1"))
                            }, t), 0)
                    }, t)),
                    r(i).delegate(".upAndDown", "click", o.bind(function(e) {
                        var n = e.target || e.srcElement;
                        r(n).hasClass("down") ? (t.set("visible", !1),
                            app.boss.act("hide_pop_updown")) : t._openOld()
                    }, t)),
                    r(window).delegate(r(window), "keydown", r.proxy(t._keydownEvent, t));
                var u = function(e) {
                        var n = e || window.pageYOffset || document.documentElement.scrollTop
                            , i = r("#zxg-header").outerHeight() + 70
                            , s = r(".zxg-userinfo").outerHeight()
                            , o = i + s + 7;
                        n >= o && (t.$body.scrollTop(o),
                            window.scrollTo(0, o))
                    }
                    ;
                r(document).delegate(".zxg-stock", "click", o.bind(function(e) {
                    var n = e.target || e.srcElement
                        , i = r(n).closest(".g_box")
                        , s = r(n).closest(".tool_col_1")
                        , o = null
                        , a = function() {
                            r(t.element).css("display") != "none" && t.set("reset", {
                                open: t.get("open")
                            }),
                                t._close();
                            return
                        }
                        , f = function() {
                            t.element[0].style.display = "block",
                            t.get("reset").open && (t._openOld(),
                            o && clearTimeout(o)),
                                t.set("reset", 0)
                        }
                        ;
                    if (i.length || s.length)
                        if (s.length)
                            t._scroll(u),
                            (r(".zxg-stocklist")[0].style.display == "none" || r(n).attr("data-type") == "yk") && a(),
                            t.get("reset") && r(n).attr("data-type") == "mk" && f();
                        else if (i.length) {
                            var l = window.pageYOffset || document.documentElement.scrollTop;
                            t._scroll(u),
                                t.get("stocklist").models.group.on("render", function() {
                                    t._scroll(u);
                                    if (t.get("open") == 1 && !t.get("reset")) {
                                        var e = t._findDL(null , "cur");
                                        e.length && e[0].click()
                                    }
                                    if (r(".zxg-stocklist")[0].style.display == "none" || !r(".zxg-stocklist").children().length) {
                                        a(),
                                            t._scroll(u);
                                        return
                                    }
                                    t.get("reset") && r(".tool_col_1 .tab.fun li.active").data("type") == "mk" && f()
                                })
                        }
                }, t)),
                    t.get("stocklist").models.group.on("render:add", function() {
                        t.get("stocklist").models.group.trigger("render"),
                            t._scroll()
                    }),
                    t.get("stocklist").models.group.on("render:del", function() {
                        t.get("stocklist").models.group.trigger("render"),
                            t._scroll(),
                            setTimeout(function() {
                                r(".zxg-stocklist").find("#" + t.oldID).length == 0 && t._close()
                            }, 100)
                    }),
                    t.get("stocklist").models.group.on("updateHK", function() {
                        t.get("open") && t.get("stock").get("mkType") === "hk" && t.stockChart && o.each(t.stockChart, function(e) {
                            0,
                                e.refresh()
                        })
                    }),
                    setTimeout(function() {
                        t._guide(),
                            t._scroll()
                    }, 500),
                    r(window).resize(function() {
                        t._onRenderResize(1)
                    }),
                    r(window).scroll(function() {
                        t._scrollResize()
                    }),
                    window.Hangqing = t
            },
            _addHeight: function() {
                var e = this;
                e.appdl = r(".appdl"),
                e.appdl.length || (r(".zxg-stocklist").append('<div class="appdl"></div>'),
                    e.appdl = r(".appdl")),
                    e.appdl.show(),
                    e.appdl.css({
                        height: e.height - r("#zxg-footer").height() - 1 + "px"
                    }),
                    e.addH = !0
            },
            _adjustHeight: function(e) {
                var t = this;
                if (o.isUndefined(e) || e.length == 0)
                    return;
                var n = r(window).height() - t.height
                    , i = e.offset().top
                    , s = window.pageYOffset || document.documentElement.scrollTop;
                t.$body.scrollTop(s),
                    window.scrollTo(0, s),
                    n = n == r(window).height() ? n - t.height : n;
                if (i - s + 30 > parseInt(n)) {
                    var u = S ? document.body.offsetHeight : document.documentElement.offsetHeight;
                    i + t.height + 25 > u && (t.appdl = r(".appdl"),
                    t.appdl.length || (r(".zxg-stocklist").append('<div class="appdl"></div>'),
                        t.appdl = r(".appdl")),
                        t.appdl.show(),
                        t.appdl.css({
                            height: r(t.appdl).height() + i + t.height + 30 - u + "px"
                        }),
                        t.addH = !0),
                        t.$body.animate({
                            scrollTop: e.offset().top - n + 30
                        }, 100),
                        r("body,html").animate({
                            scrollTop: e.offset().top - n + 30
                        }, 100)
                }
                var a = r(".zxg-stock").height() - (i - s) - 3;
                r(".zxg-stock")[0].style.position === "fixed" && a > 0 && (t.$body.animate({
                    scrollTop: s - a
                }, 100),
                    r("body,html").animate({
                        scrollTop: s - a
                    }, 100))
            },
            _addDL: function() {
                var e = this;
                e.appdl = null
            },
            _scroll: function(e, t) {
                var n = this;
                n.oldScrollY = null ,
                    n._scrollResize(e, t)
            },
            _scrollResize: function(e, t) {
                var n = this
                    , i = r(n.get("align").baseElement)
                    , s = r("#add_stock")
                    , o = n.$body.scrollTop() || r("body,html").scrollTop();
                if (o != n.oldScrollY) {
                    if (i.css("display") != "none") {
                        var u = i.css("minHeight")
                            , a = document.documentElement.clientHeight
                            , f = r("#zxg-header").outerHeight() + 70
                            , l = r(".zxg-userinfo").height()
                            , c = r(".zxg-stock").height()
                            , h = r("#QQFooter").height();
                        if (o) {
                            var p = S ? document.body.offsetHeight : document.documentElement.offsetHeight;
                            if (p != a + o) {
                                var d = f + l
                                    , v = o < d ? d - o + c + 63 : c + 40;
                                u = a - v
                            }
                        } else
                            u = a - (f + l + c) - 63;
                        s.css("display") != "none" || i.find(".sline").length == 0 ? (i.css("minHeight", "0px"),
                            s.css("minHeight", u - 20 + "px")) : (i.css("minHeight", u + "px"),
                            s.css("minHeight", "0px"))
                    }
                    e && e(t),
                        n.oldScrollY = o
                }
            },
            _openOld: function() {
                var e = this
                    , t = "#" + e.oldID
                    , n = r(".zxg-stocklist").find(t);
                e.oldID = null ;
                if (!n.length || n.css("display") == "none") {
                    var i = e._findDL(null , "cur");
                    i.length && i[0].click()
                } else
                    n[0].click()
            },
            _close: function() {
                var e = this;
                e.set("visible", !1),
                    e.element[0].style.display = "none"
            },
            _guide: function() {
                var t = this
                    , n = function(e, n) {
                        var r = 0
                            , i = null ;
                        r < 10 ? (i = setInterval(function() {
                            var n = t._findDL(null , "cur");
                            n.length && (clearInterval(i),
                                n[0].click(),
                            e && e())
                        }, 500),
                            r++) : (clearInterval(i),
                        n && n())
                    }
                    , i = function() {
                        var e = "web.portfolio." + app.QQuin + "firstOpen"
                            , r = t.operateLS(e);
                        if (!r || r != "1")
                            n(function() {
                                setTimeout(function() {}, 500),
                                    t.operateLS(e, 1)
                            }, function() {
                                t.operateLS(e, 1)
                            });
                        else {
                            var i = t.operateLS(w);
                            i && i == "1" && n(function() {
                                setTimeout(function() {}, 500)
                            })
                        }
                    }
                    , s = function() {
                        var n = "web.portfolio." + app.QQuin + ".featureGuide_step1";
                        if (t.operateLS(n) == 2) {
                            i();
                            return
                        }
                        l({
                            tmp: e("text!views/stocklist/feature_guide.html"),
                            posCall: function(e) {
                                var t = r('.zxg-tool li[data-type="new"]').offset();
                                e.find(".g_batch").css({
                                    top: t.top - 8,
                                    left: t.left - 6
                                }),
                                    e.find(".g_close").css({
                                        top: t.top + 170,
                                        left: t.left - 28
                                    })
                            },
                            initCall: function() {
                                if (t.operateLS(n) == 2)
                                    return
                            },
                            hideCall: function() {
                                t.operateLS(n, 2),
                                    i()
                            }
                        })
                    }
                    , o = function() {
                        var n = "web.portfolio." + app.QQuin + ".featureGuide_step2";
                        if (t.operateLS(n) == 2)
                            return;
                        l({
                            tmp: e("text!views/stocklist/feature_guide2.html"),
                            posCall: function(e) {
                                var t = r(".zxg-stocklist .sline").offset();
                                e.find(".g_fold").css({
                                    top: t.top - 7,
                                    left: t.left + 90
                                }),
                                    e.find(".g_close").css({
                                        top: t.top - 7 + 138,
                                        left: t.left + 90 + 466
                                    })
                            },
                            initCall: function() {
                                if (t.operateLS(n) == 2)
                                    return
                            },
                            hideCall: function() {
                                t.operateLS(n, 2)
                            }
                        })
                    }
                    ;
                setTimeout(function() {
                    i()
                }, 0)
            },
            _keydownEvent: function(e) {
                var t = this
                    , n = e ? e : window.event;
                if (t.get("open") == 1 && (!n.target || !/smartbox/.test(n.target.id))) {
                    if (n.which == v.UP || n.which == v.DOWN)
                        e ? e.stopPropagation() : window.event.cancelBubble = !0;
                    switch (n.which) {
                        case v.UP:
                            n.preventDefault(),
                                t._showFast(-1),
                                app.boss.act("switch_hq_pop");
                            break;
                        case v.DOWN:
                            n.preventDefault(),
                                t._showFast(1),
                                app.boss.act("switch_hq_pop")
                    }
                }
            },
            _findDL: function(e, t) {
                var n = null
                    , t = t || 1;
                e ? n = e : n = r(".zxg-stocklist .sline");
                var i = t == "cur" ? n : null ;
                while (!i || i.length && i[0].style.display == "none")
                    i = t == -1 ? n.prev(".sline") : n.next(".sline"),
                        n = i;
                return i
            },
            _showFast: function(e) {
                var t = this;
                t.swtichTimer && clearTimeout(t.swtichTimer),
                    t.swtichTimer = setTimeout(function() {
                        var n = r("#" + t.oldID)
                            , i = null ;
                        i = t._findDL(n, e),
                        i.length && i[0].click()
                    }, 200)
            },
            test: function() {
                this.set("resize", "1")
            },
            clearAndHide: function() {
                clearTimeout(this.timmer),
                    this.hide()
            },
            _onRenderStyleList: function(e) {
                var t = r("#hangqingStyle");
                if (!t || t.length == 0)
                    t = r('<style id="hangqingStyle"></style>'),
                        r(t).appendTo(r("head"));
                var n = o.isArray(e) ? e.join("\n") : e;
                t.text(n)
            },
            _onRenderFirstStyle: function(e) {
                var t = o.isArray(e) ? e.join("\n") : e;
                r("<style>" + t + "</style>").appendTo(r("head"))
            },
            _scrollToTop: function() {
                var e = this
                    , t = r("#zxg-header").outerHeight() + 70 + r(".zxg-userinfo").outerHeight() + 7
                    , n = e.$body.scrollTop() || r("body,html").scrollTop()
                    , i = r("#" + e.oldID)
                    , s = function() {
                        e._adjustHeight(i)
                    }
                    ;
                if (n < t) {
                    var o = S ? document.body.offsetHeight : document.documentElement.offsetHeight;
                    if (o < t + document.documentElement.clientHeight) {
                        var u = document.documentElement.clientHeight - r(".zxg-stock").height() - 40;
                        e.appdl.css({
                            height: e.appdl.height() + u + "px"
                        })
                    }
                    e.$body.animate({
                        scrollTop: t
                    }, 200, null , s),
                        r("body,html").animate({
                            scrollTop: t
                        }, 200, null , s)
                } else
                    s()
            },
            _onRenderVisible: function(e) {
                var t = this;
                if (this.element) {
                    var n = r(this.element).find(".upAndDown")
                        , i = 0;
                    if (e == 1) {
                        t.upFlag && t._scrollToTop();
                        var s = r(window).height() - this.height;
                        r(this.element).css("top") == "auto" && r(this.element).css("top", this.get("align").baseXY[1] + "px"),
                            this.element[0].style.display = "block",
                            i = r(window).height() - this.height,
                            r(this.element).animate({
                                top: i + "px"
                            }, "fast", null , function() {
                                n.attr("class", "upAndDown down");
                                var e = t.get("align");
                                e.baseXY[1] = i,
                                    t.set("align", e),
                                    t.set("resize", "1")
                            }),
                            this.set("open", 1),
                            t.operateLS(w, 1)
                    } else if (e == 0) {
                        var u = r(".appdl");
                        u.hide(),
                            i = r(window).height(),
                            r(this.element).animate({
                                top: i + "px"
                            }, "fast", null , function() {
                                n.attr("class", "upAndDown up");
                                var e = t.get("align");
                                e.baseXY[1] = i,
                                    t.set("align", e)
                            }),
                            t.set("open", 0),
                            t.operateLS(w, 2),
                            o.each(r(".sline"), function(e, t) {
                                r(e).removeClass("active")
                            })
                    }
                }
            },
            _onRenderResize: function(e) {
                var t = this
                    , n = r("#zxg-body").width() - 2
                    , i = document.documentElement.clientHeight;
                t.element.css("width", n),
                    t.height = n <= m || i <= g ? y[1] : y[0];
                var s = n <= m || i <= g ? "small" : "large"
                    , u = n <= m || i <= g ? b[1] : b[0];
                if (e == "1") {
                    t.set("resize", "0");
                    var a = t.get("align")
                        , f = r(a.baseElement)[0].style.display == "none" ? r("#zxg-body").offset().left - 1 : r(a.baseElement).offset().left
                        , l = r(window).height() - t.height;
                    a.baseXY[0] = f,
                    l != t.newTop && (a.baseXY[1] = l,
                        t.newTop = l),
                        t.set("align", a),
                    t.height != t.oldHeight && (t.drawChart(),
                        t.oldHeight = t.height),
                        o.each(r(".compareUL li"), function(e, i) {
                            r(e).css({
                                width: n / 2 - 2,
                                height: t.height - 2
                            });
                            var o = r(e).find("iframe");
                            o.css({
                                marginLeft: (n / 2 - u) / 2 - 24 + "px"
                            }),
                                function(t) {
                                    if (i % 2 == 1) {
                                        var s = 24;
                                        r(e).css({
                                            width: n / 2 - s,
                                            marginLeft: s
                                        })
                                    }
                                }(i),
                            s == "large" && r(e).find(".chart_Contain").css({
                                marginLeft: "15px"
                            })
                        })
                }
            },
            _onRenderModel: function(e) {
                var t = this;
                if (!t.rendered)
                    t.element.html(u.compile(t.template)(t.get("model"))),
                        t.element.find(".compareUL.jj").html(u.compile(t.get("jjTemplate"))(t.get("model"))),
                        t.element.delegate("a", "click", function() {
                            app.boss.act("pop_clickTo_gg")
                        }),
                        t.element.delegate(".compareUL.nonjj .nav-item", "click", function(e) {
                            var n = e.target || e.srcElement
                                , i = r(n).closest(".nav-item")
                                , s = r(n).closest(".compareLI")
                                , u = r(s).find(".nav-item")
                                , a = s.hasClass("left") ? 0 : 1
                                , f = r(i).attr("current");
                            if (i.hasClass("active"))
                                return !1;
                            o.each(u, function(e) {
                                r(e).removeClass("active")
                            }),
                                i.addClass("active"),
                                t.stockChart[a].attr({
                                    current: r(i).attr("current")
                                }).draw(),
                                app.boss.act("pop_clickTo_" + f)
                        });
                else {
                    var n = t.element.find(".compareUL.jj")
                        , i = t.element.find(".compareUL.nonjj")
                        , s = i.find(".header .name a")
                        , a = i.find(".chart_Contain");
                    if (t.get("stock").isJJ)
                        n.show(),
                            i.hide(),
                            t.element.find(".compareUL.jj").html(u.compile(t.get("jjTemplate"))(t.get("model")));
                    else {
                        n.hide(),
                            i.show();
                        var f = t.get("model");
                        o.each(s, function(e, t) {
                            t == 0 ? (e.href = "http://gu.qq.com/" + f.stock.get("symbol"),
                                e.innerHTML = f.stock.get("name")) : (e.href = "http://gu.qq.com/" + f.comStock.symbol,
                                e.innerHTML = f.comStock.navName)
                        })
                    }
                }
            },
            _blurHide: function(e) {
                e = r.makeArray(e),
                    e.push(this.element);
                var t = r(".zxg-stocklist");
                e.push(t),
                    this._relativeElements = e,
                    s.blurOverlays.push(this)
            }
        });
    n.exports = N
}),
define("module/remind/data", ["require", "exports", "module", "jquery", "model-init", "underscore"], function(e, t, n) {
    var r = e("jquery")
        , i = e("model-init")
        , s = e("underscore")
        , o = i.extend({
            _actionUrl: {
                edit: function(e) {
                    return "http://web.ifzq.finance.qq.com/other/tips/modall/mod?&app=web&uin=" + app.QQuin + e
                },
                get: function(e) {
                    return "http://web.ifzq.finance.qq.com/other/tips/getall/query?&app=web&uin=" + app.QQuin + "&code=" + e
                }
            },
            get: function(e) {
                return this.ajax(this._actionUrl.get(e), null , null , "_callback").then(function(e) {
                    return Number(e.code) === 0 ? e.data : !1
                })
            },
            edit: function(e) {
                var t = this
                    , n = "";
                return s.each(e, function(e, t) {
                    0;
                    if (s.isString(e) || parseFloat(e) >= 0)
                        n += "&" + t + "=" + e
                }),
                    this.ajax(this._actionUrl.edit(n), null , null , "_callback").then(function(e) {
                        return t.ajax("http://web.ifzq.finance.qq.com/other/tips/hastips/query?&app=web&uin=" + app.QQuin, null , null , "_callback")
                    })
            }
        });
    n.exports = o
}),
define("text!module/remind/jj.html", [], function() {
    return '<div class="<%=classPrefix%>">\n  <a class="<%=classPrefix%>-close" title="Close" href="javascript:;" data-role="close"></a>\n  <div class="<%=classPrefix%>-title" data-role="title">\n    <div class="ui_stock_title">\n      <em class="ui_stock_icon2"></em>\u81ea\u9009\u80a1\u63d0\u9192</div>\n  </div>\n  <div class="<%=classPrefix%>-content" data-role="content">\n    <div class="<%=classPrefix%>-message">\n      <div class="ui_stock_remind">\n        <div class="f">\n        <em class="remind_ol"></em>\n          <h3><%= stock.get(\'name\')%></h3>\n          <div class="info">\n            <span class="scode">(<%= ftsymbol(stock.get(\'symbol\'))%>)</span>\n            &nbsp;&nbsp;\u5f53\u524d\u51c0\u503c:\n            <span class="price"><%== stock.getHtmlColorPro(\'latestPrice\');%></span>\n          </div>\n          <div style="position: absolute;bottom: 16px;left: 25px;"><a style="color:#3374ca" href="http://stockapp.finance.qq.com/pstock/msgbox.php?tab=1" target="_blank">\u67e5\u770b\u5386\u53f2\u63d0\u9192\u6d88\u606f</a></div>\n        </div>\n        <div class="m">\n          <div class="cl tl" style="position: relative;">\u51fa\u73b0\u4ee5\u4e0b\u60c5\u51b5\u65f6\uff0c\u60a8\u4f1a\u6536\u5230QQ\u6d88\u606f\u63d0\u9192<img id="igs" src="http://mat1.gtimg.com/finance/stock/pstock/ico_ask.png" style="width: 16px; height: 15px; margin-bottom: -4px; margin-left:5px; cursor: help;">\n          <div class="msgbox">QQ\u6d88\u606f\u662f\u6307\u5f53\u60a8\u5f00\u7740QQ\u804a\u5929\u5de5\u5177\u65f6\uff0c\u7535\u8111\u53f3\u4e0b\u89d2QQ\u5f39\u51fa\u7684\u5c0f\u6d88\u606f\u63d0\u793a\u6846</div>\n          </div>\n          <div class="cl">\u57fa\u91d1\u63d0\u9192</div>\n          <table cellspacing="0" cellpadding="0" border="0">\n            <tr>\n              <td><input type="checkbox" id="g4" <% if(typeof initData[\'fundjz\'] !== \'undefined\' && typeof initData[\'fundjz\'][0] !== \'undefined\' && typeof initData[\'fundjz\'][0][1] !== \'undefined\') {%> <%=\'checked\'%> <%}%>></td>\n              <td><label for="g4">\u5f53\u6709\u6700\u65b0\u51c0\u503c</label></td>\n            </tr>\n            <tr>\n              <td></td>\n              <td class="cl">\uff08\u6211\u4eec\u4f1a\u83b7\u53d6\u6700\u53ca\u65f6\u7684\u51c0\u503c\u4fe1\u606f\uff0c\u5728\u60a8\u8ba2\u9605\u4e4b\u540e\uff0c\u7b2c\u4e00\u65f6\u95f4\u901a\u77e5\u60a8\uff09</td>\n            </tr>\n          </table>\n        </div>\n        <br/>\n        <div class="remind_ad" style="top:41px;padding:14px 37px 0 40px">\n          <a target="_blank" href="http://finance.qq.com/products/portfolio/download.htm?pgv_ref=web.mystock.remind">\n            <img src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/e0510b7df7294049.png" alt="">\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="<%=classPrefix%>-operation" data-role="foot">\n    <div class="<%=classPrefix%>-confirm" data-role="confirm"><a class="<%=classPrefix%>-button-orange" href="javascript:;">\u786e\u5b9a</a>\n    </div>\n    <div class="<%=classPrefix%>-cancel" data-role="cancel"><a class="<%=classPrefix%>-button-white" href="javascript:;">\u53d6\u6d88</a>\n    </div>\n  </div>\n</div>\n'
}),
define("text!module/remind/hk.html", [], function() {
    return '<div class="<%=classPrefix%>">\n  <a class="<%=classPrefix%>-close" title="Close" href="javascript:;" data-role="close"></a>\n  <div class="<%=classPrefix%>-title" data-role="title">\n    <div class="ui_stock_title">\n      <em class="ui_stock_icon2"></em>\u81ea\u9009\u80a1\u63d0\u9192</div>\n  </div>\n  <div class="<%=classPrefix%>-content" data-role="content">\n    <div class="<%=classPrefix%>-message">\n      <div class="ui_stock_remind">\n        <div class="f">\n        <em class="remind_ol"></em>\n          <h3><%= stock.get(\'name\')%></h3>\n          <div class="info">\n            <span class="scode">(<%= ftsymbol(stock.get(\'symbol\'))%>)</span>\n            &nbsp;&nbsp;\u5f53\u524d\u80a1\u4ef7:\n            <span class="price"><%== stock.getHtmlColorPro(\'latestPrice\');%></span>\n          </div>\n          <div style="position: absolute;bottom: 16px;left: 25px;"><a style="color:#3374ca" href="http://stockapp.finance.qq.com/pstock/msgbox.php?tab=1" target="_blank">\u67e5\u770b\u5386\u53f2\u63d0\u9192\u6d88\u606f</a></div>\n        </div>\n        <div class="m">\n          <div class="cl tl" style="position: relative;">\u51fa\u73b0\u4ee5\u4e0b\u60c5\u51b5\u65f6\uff0c\u60a8\u4f1a\u6536\u5230QQ\u6d88\u606f\u63d0\u9192<img id="igs" src="http://mat1.gtimg.com/finance/stock/pstock/ico_ask.png" style="width: 16px; height: 15px; margin-bottom: -4px; margin-left:5px; cursor: help;">\n          <div class="msgbox">QQ\u6d88\u606f\u662f\u6307\u5f53\u60a8\u5f00\u7740QQ\u804a\u5929\u5de5\u5177\u65f6\uff0c\u7535\u8111\u53f3\u4e0b\u89d2QQ\u5f39\u51fa\u7684\u5c0f\u6d88\u606f\u63d0\u793a\u6846</div>\n          </div>\n          <div class="cl">\u80a1\u4ef7\u63d0\u9192</div>\n\n          <table cellspacing="0" cellpadding="0" border="0">\n            <tr>\n              <td><input type="checkbox" id="no1" <% if(typeof initData.price[0] !== \'undefined\' && initData.price[0][3] > 0) {%> <%=\'checked\'%> <%}%>></td>\n              <td><label for="no1">\u5f00\u76d8\u540e\u6da8\u8dcc\u5e45\u8d85\u8fc7</label></td>\n              <td><input id="no1_v" style="width:54px" class="inputbox" type="text" value="<%=(typeof initData.price[0] !== \'undefined\' && initData.price[0][3] > 0) ? initData.price[0][3] : \'0.00\' %>" maxlength="7"></td>\n              <td>%</td>\n              <td class="cl">(\u6bcf\u65e5\u6700\u591a\u4e00\u6b21)</td>\n            </tr>\n            <tr>\n              <td><input type="checkbox" id="no2" <% if(typeof initData.price[0] !== \'undefined\' && initData.price[0][1] > 0) {%> <%=\'checked\'%> <%}%>></td>\n              <td><label for="no2">\u80a1\u4ef7\u4e0a\u6da8\u8fbe\u5230\u6216\u9ad8\u4e8e</label></td>\n              <td><input id="no2_v" style="width:54px" class="inputbox" type="text" value="<%=(typeof initData.price[0] !== \'undefined\' && initData.price[0][1] > 0) ? initData.price[0][1] : stock.get(\'yesterdatPrice\')%>" maxlength="7"></td>\n              <td>\u5143</td>\n              <td class="cl">(\u5373\u6bd4\u73b0\u4ef7\u4e0a\u6da8\u8d85\u8fc7<i id="no2_v_v"><%=ftbi((typeof initData.price[0] !== \'undefined\' && (initData.price[0][1] > 0) ? initData.price[0][1] : stock.get(\'yesterdatPrice\')),stock.get(\'latestPrice\'))%></i>)</td>\n            </tr>\n            <tr>\n              <td><input type="checkbox" id="no3" <% if(typeof initData.price[0] !== \'undefined\' && initData.price[0][2] > 0) {%> <%=\'checked\'%> <%}%>></td>\n              <td><label for="no3">\u80a1\u4ef7\u4e0b\u8dcc\u8fbe\u5230\u6216\u4f4e\u4e8e</label></td>\n              <td><input id="no3_v" style="width:54px" class="inputbox" type="text" value="<%=(typeof initData.price[0] !== \'undefined\' && initData.price[0][2] > 0) ? initData.price[0][2] : stock.get(\'yesterdatPrice\')%>" maxlength="7"></td>\n              <td>\u5143</td>\n              <td class="cl">(\u5373\u6bd4\u73b0\u4ef7\u4e0b\u8dcc\u8d85\u8fc7<i id="no3_v_v"><%=ftbi((typeof initData.price[0] !== \'undefined\' && (initData.price[0][2] > 0) ? initData.price[0][2] : stock.get(\'yesterdatPrice\')),isNumber(stock.get(\'latestPrice\')) ? stock.get(\'latestPrice\') : stock.get(\'yesterdatPrice\') )%></i>)</td>\n            </tr>\n          </table>\n          <hr>\n          <div class="cl tl">\u8d44\u8baf\u63d0\u9192</div>\n          <table cellspacing="0" cellpadding="0" border="0">\n            <tr>\n              <td><input type="checkbox" id="g1" <% if(typeof initData.info[0] !== \'undefined\' && typeof initData.info[0][1] !== \'undefined\') {%> <%=\'checked\'%> <%}%>></td>\n              <td><label for="g1">\u5f53\u6709\u6700\u65b0\u516c\u53f8\u516c\u544a\u65f6</label></td>\n            </tr>\n            <tr>\n              <td><input type="checkbox" id="g2" <% if(typeof initData.info[1] !== \'undefined\' && typeof initData.info[1][1] !== \'undefined\') {%> <%=\'checked\'%> <%}%>></td>\n              <td><label for="g2">\u5f53\u6709\u6700\u65b0\u7814\u7a76\u62a5\u544a\u65f6</label></td>\n            </tr>\n          </table>\n        </div>\n        <div class="remind_ad">\n          <a target="_blank" href="http://finance.qq.com/products/portfolio/download.htm?pgv_ref=web.mystock.remind">\n            <img src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/e0510b7df7294049.png" alt="">\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="<%=classPrefix%>-operation" data-role="foot">\n    <div class="error"></div>\n    <div class="<%=classPrefix%>-confirm" data-role="confirm"><a class="<%=classPrefix%>-button-orange" href="javascript:;">\u786e\u5b9a</a>\n    </div>\n    <div class="<%=classPrefix%>-cancel" data-role="cancel"><a class="<%=classPrefix%>-button-white" href="javascript:;">\u53d6\u6d88</a>\n    </div>\n  </div>\n</div>\n'
}),
define("text!module/remind/us.html", [], function() {
    return '<div class="<%=classPrefix%>">\n  <a class="<%=classPrefix%>-close" title="Close" href="javascript:;" data-role="close"></a>\n  <div class="<%=classPrefix%>-title" data-role="title">\n    <div class="ui_stock_title">\n      <em class="ui_stock_icon2"></em>\u81ea\u9009\u80a1\u63d0\u9192</div>\n  </div>\n  <div class="<%=classPrefix%>-content" data-role="content">\n    <div class="<%=classPrefix%>-message">\n      <div class="ui_stock_remind">\n        <div class="f">\n        <em class="remind_ol"></em>\n          <h3><%= stock.get(\'name\')%></h3>\n          <div class="info">\n            <span class="scode">(<%= ftsymbol(stock.get(\'symbol\'))%>)</span>\n            &nbsp;&nbsp;\u5f53\u524d\u80a1\u4ef7:\n            <span class="price"><%== stock.getHtmlColorPro(\'latestPrice\');%></span>\n          </div>\n          <div style="position: absolute;bottom: 16px;left: 25px;"><a style="color:#3374ca" href="http://stockapp.finance.qq.com/pstock/msgbox.php?tab=1" target="_blank">\u67e5\u770b\u5386\u53f2\u63d0\u9192\u6d88\u606f</a></div>\n        </div>\n        <div class="m">\n          <div class="cl tl" style="position: relative;">\u51fa\u73b0\u4ee5\u4e0b\u60c5\u51b5\u65f6\uff0c\u60a8\u4f1a\u6536\u5230QQ\u6d88\u606f\u63d0\u9192<img id="igs" src="http://mat1.gtimg.com/finance/stock/pstock/ico_ask.png" style="width: 16px; height: 15px; margin-bottom: -4px; margin-left:5px; cursor: help;">\n          <div class="msgbox">QQ\u6d88\u606f\u662f\u6307\u5f53\u60a8\u5f00\u7740QQ\u804a\u5929\u5de5\u5177\u65f6\uff0c\u7535\u8111\u53f3\u4e0b\u89d2QQ\u5f39\u51fa\u7684\u5c0f\u6d88\u606f\u63d0\u793a\u6846</div>\n          </div>\n          <div class="cl">\u80a1\u4ef7\u63d0\u9192</div>\n\n          <table cellspacing="0" cellpadding="0" border="0">\n            <tr>\n              <td><input type="checkbox" id="no1" <% if(typeof initData.price[0] !== \'undefined\' && initData.price[0][3] > 0) {%> <%=\'checked\'%> <%}%>></td>\n              <td><label for="no1">\u5f00\u76d8\u540e\u6da8\u8dcc\u5e45\u8d85\u8fc7</label></td>\n              <td><input id="no1_v" style="width:54px" class="inputbox" type="text" value="<%=(typeof initData.price[0] !== \'undefined\' && initData.price[0][3] > 0) ? initData.price[0][3] : \'0.00\' %>" maxlength="7"></td>\n              <td>%</td>\n              <td class="cl">(\u6bcf\u65e5\u6700\u591a\u4e00\u6b21)</td>\n            </tr>\n            <tr>\n              <td><input type="checkbox" id="no2" <% if(typeof initData.price[0] !== \'undefined\' && initData.price[0][1] > 0) {%> <%=\'checked\'%> <%}%>></td>\n              <td><label for="no2">\u80a1\u4ef7\u4e0a\u6da8\u8fbe\u5230\u6216\u9ad8\u4e8e</label></td>\n              <td><input id="no2_v" style="width:54px" class="inputbox" type="text" value="<%=(typeof initData.price[0] !== \'undefined\' && initData.price[0][1] > 0) ? initData.price[0][1] : stock.get(\'yesterdatPrice\')%>" maxlength="7"></td>\n              <td>\u5143</td>\n              <td class="cl">(\u5373\u6bd4\u73b0\u4ef7\u4e0a\u6da8\u8d85\u8fc7<i id="no2_v_v"><%=ftbi((typeof initData.price[0] !== \'undefined\' && (initData.price[0][1] > 0) ? initData.price[0][1] : stock.get(\'yesterdatPrice\')),stock.get(\'latestPrice\'))%></i>)</td>\n            </tr>\n            <tr>\n              <td><input type="checkbox" id="no3" <% if(typeof initData.price[0] !== \'undefined\' && initData.price[0][2] > 0) {%> <%=\'checked\'%> <%}%>></td>\n              <td><label for="no3">\u80a1\u4ef7\u4e0b\u8dcc\u8fbe\u5230\u6216\u4f4e\u4e8e</label></td>\n              <td><input id="no3_v" style="width:54px" class="inputbox" type="text" value="<%=(typeof initData.price[0] !== \'undefined\' && initData.price[0][2] > 0) ? initData.price[0][2] : stock.get(\'yesterdatPrice\')%>" maxlength="7"></td>\n              <td>\u5143</td>\n              <td class="cl">(\u5373\u6bd4\u73b0\u4ef7\u4e0b\u8dcc\u8d85\u8fc7<i id="no3_v_v"><%=ftbi((typeof initData.price[0] !== \'undefined\' && (initData.price[0][2] > 0) ? initData.price[0][2] : stock.get(\'yesterdatPrice\')),isNumber(stock.get(\'latestPrice\')) ? stock.get(\'latestPrice\') : stock.get(\'yesterdatPrice\') )%></i>)</td>\n            </tr>\n          </table>\n\n        </div>\n        <div class="remind_ad" style="top:49px">\n          <a target="_blank" href="http://finance.qq.com/products/portfolio/download.htm?pgv_ref=web.mystock.remind">\n            <img src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/e0510b7df7294049.png" alt="">\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="<%=classPrefix%>-operation" data-role="foot">\n    <div class="error"></div>\n    <div class="<%=classPrefix%>-confirm" data-role="confirm"><a class="<%=classPrefix%>-button-orange" href="javascript:;">\u786e\u5b9a</a>\n    </div>\n    <div class="<%=classPrefix%>-cancel" data-role="cancel"><a class="<%=classPrefix%>-button-white" href="javascript:;">\u53d6\u6d88</a>\n    </div>\n  </div>\n</div>\n'
}),
define("text!module/remind/ga.html", [], function() {
    return '<div class="<%=classPrefix%>">\n  <a class="<%=classPrefix%>-close" title="Close" href="javascript:;" data-role="close"></a>\n  <div class="<%=classPrefix%>-title" data-role="title">\n    <div class="ui_stock_title">\n      <em class="ui_stock_icon2"></em>\u81ea\u9009\u80a1\u63d0\u9192</div>\n  </div>\n  <div class="<%=classPrefix%>-content" data-role="content">\n    <div class="<%=classPrefix%>-message">\n      <div class="ui_stock_remind">\n        <div class="f">\n          <em class="remind_ol"></em>\n          <h3><%= stock.get(\'name\')%></h3>\n          <div class="info">\n            <span class="scode">(<%= ftsymbol(stock.get(\'symbol\'))%>)</span>\n            &nbsp;&nbsp;\u5f53\u524d\u80a1\u4ef7:\n            <span class="price"><%== stock.getHtmlColorPro(\'latestPrice\');%></span>\n          </div>\n          <div style="position: absolute;bottom: 16px;left: 25px;"><a style="color:#3374ca" href="http://stockapp.finance.qq.com/pstock/msgbox.php?tab=1" target="_blank">\u67e5\u770b\u5386\u53f2\u63d0\u9192\u6d88\u606f</a></div>\n        </div>\n        <div class="m">\n          <div class="cl tl" style="position: relative;">\u51fa\u73b0\u4ee5\u4e0b\u60c5\u51b5\u65f6\uff0c\u60a8\u4f1a\u6536\u5230QQ\u6d88\u606f\u63d0\u9192<img id="igs" src="http://mat1.gtimg.com/finance/stock/pstock/ico_ask.png" style="width: 16px; height: 15px; margin-bottom: -4px; margin-left:5px; cursor: help;">\n          <div class="msgbox">QQ\u6d88\u606f\u662f\u6307\u5f53\u60a8\u5f00\u7740QQ\u804a\u5929\u5de5\u5177\u65f6\uff0c\u7535\u8111\u53f3\u4e0b\u89d2QQ\u5f39\u51fa\u7684\u5c0f\u6d88\u606f\u63d0\u793a\u6846</div>\n          </div>\n          <div class="cl">\u80a1\u4ef7\u63d0\u9192</div>\n\n          <table cellspacing="0" cellpadding="0" border="0">\n            <tr>\n              <td><input type="checkbox" id="no1" <% if(typeof initData.price[0] !== \'undefined\' && initData.price[0][3] > 0) {%> <%=\'checked\'%> <%}%>></td>\n              <td><label for="no1">\u5f00\u76d8\u540e\u6da8\u8dcc\u5e45\u8d85\u8fc7</label></td>\n              <td><input id="no1_v" style="width:54px" class="inputbox" type="text" value="<%=(typeof initData.price[0] !== \'undefined\' && initData.price[0][3] > 0) ? initData.price[0][3] : \'0.00\' %>" maxlength="7"></td>\n              <td>%</td>\n              <td class="cl">(\u6bcf\u65e5\u6700\u591a\u4e00\u6b21)</td>\n            </tr>\n            <tr>\n              <td><input type="checkbox" id="no2" <% if(typeof initData.price[0] !== \'undefined\' && initData.price[0][1] > 0) {%> <%=\'checked\'%> <%}%>></td>\n              <td><label for="no2">\u80a1\u4ef7\u4e0a\u6da8\u8fbe\u5230\u6216\u9ad8\u4e8e</label></td>\n              <td><input id="no2_v" style="width:54px" class="inputbox" type="text" value="<%=(typeof initData.price[0] !== \'undefined\' && initData.price[0][1] > 0) ? initData.price[0][1] : stock.get(\'yesterdatPrice\')%>" maxlength="7"></td>\n              <td>\u5143</td>\n              <td class="cl">(\u5373\u6bd4\u73b0\u4ef7\u4e0a\u6da8\u8d85\u8fc7<i id="no2_v_v"><%=ftbi((typeof initData.price[0] !== \'undefined\' && (initData.price[0][1] > 0) ? initData.price[0][1] : stock.get(\'yesterdatPrice\')),isNumber(stock.get(\'latestPrice\')) ? stock.get(\'latestPrice\') : stock.get(\'yesterdatPrice\') )%></i>)</td>\n            </tr>\n            <tr>\n              <td><input type="checkbox" id="no3" <% if(typeof initData.price[0] !== \'undefined\' && initData.price[0][2] > 0) {%> <%=\'checked\'%> <%}%>></td>\n              <td><label for="no3">\u80a1\u4ef7\u4e0b\u8dcc\u8fbe\u5230\u6216\u4f4e\u4e8e</label></td>\n              <td><input id="no3_v" style="width:54px" class="inputbox" type="text" value="<%=(typeof initData.price[0] !== \'undefined\' && initData.price[0][2] > 0) ? initData.price[0][2] : stock.get(\'yesterdatPrice\')%>" maxlength="7"></td>\n              <td>\u5143</td>\n              <td class="cl">(\u5373\u6bd4\u73b0\u4ef7\u4e0b\u8dcc\u8d85\u8fc7<i id="no3_v_v"><%=ftbi((typeof initData.price[0] !== \'undefined\' && (initData.price[0][2] > 0) ? initData.price[0][2] : stock.get(\'yesterdatPrice\')),isNumber(stock.get(\'latestPrice\')) ? stock.get(\'latestPrice\') : stock.get(\'yesterdatPrice\') )%></i>)</td>\n            </tr>\n          </table>\n          <% if(stock.get(\'type\') != \'ZQ\') { %>\n            <hr>\n            <div class="cl tl">\u8d44\u8baf\u63d0\u9192</div>\n            <table cellspacing="0" cellpadding="0" border="0">\n              <tr>\n                <td><input type="checkbox" id="g1" <% if(typeof initData.info[0] !== \'undefined\' && typeof initData.info[0][1] !== \'undefined\') {%> <%=\'checked\'%> <%}%>></td>\n                <td><label for="g1">\u5f53\u6709\u6700\u65b0\u516c\u53f8\u516c\u544a\u65f6</label></td>\n              </tr>\n              <tr>\n                <td><input type="checkbox" id="g2" <% if(typeof initData.info[1] !== \'undefined\' && typeof initData.info[1][1] !== \'undefined\') {%> <%=\'checked\'%> <%}%>></td>\n                <td><label for="g2">\u5f53\u6709\u6700\u65b0\u7814\u7a76\u62a5\u544a\u65f6</label></td>\n              </tr>\n            </table>\n          <% } %>\n        </div>\n        <div class="remind_ad" <% if(stock.get(\'type\') == \'ZQ\') {%>style="top: 49px;"<%} %>>\n          <a target="_blank" href="http://finance.qq.com/products/portfolio/download.htm?pgv_ref=web.mystock.remind">\n            <img src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/e0510b7df7294049.png" alt="">\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="<%=classPrefix%>-operation" data-role="foot">\n    <div class="error"></div>\n    <div class="<%=classPrefix%>-confirm" data-role="confirm"><a class="<%=classPrefix%>-button-orange" href="javascript:;">\u786e\u5b9a</a>\n    </div>\n    <div class="<%=classPrefix%>-cancel" data-role="cancel"><a class="<%=classPrefix%>-button-white" href="javascript:;">\u53d6\u6d88</a>\n    </div>\n  </div>\n</div>\n'
}),
define("module/remind/remind", ["require", "exports", "module", "jquery", "dialog", "./data", "tip", "text!./jj.html", "text!./hk.html", "text!./us.html", "text!./ga.html", "underscore", "models/group", "models/group"], function(e, t, n) {
    "use strict";
    function c(e, t) {
        var n;
        return e = parseFloat(e || 0),
            t = parseFloat(t || 0),
            t === 0 ? t + "%" : (n = (e - t) / t,
                n = (n * 100).toFixed(2) + "%",
                n)
    }
    var r = e("jquery")
        , i = e("dialog")
        , s = e("./data").single()
        , o = e("tip")
        , u = {
            sh: ["2010", "2011"],
            sz: ["2010", "2011"],
            hk: ["2020", "2021"],
            us: ["2040", "2041"]
        }
        , a = {
            jj: e("text!./jj.html"),
            hk: e("text!./hk.html"),
            us: e("text!./us.html"),
            ga: e("text!./ga.html")
        }
        , f = e("underscore")
        , l = i.extend({
            attrs: {
                template: "<div></div>",
                stock: null ,
                width: 600,
                dragable: !0
            },
            templateHelpers: {
                ftsymbol: function(e) {
                    return e.substring(2)
                },
                isNumber: function(e) {
                    return f.isNumber(e)
                },
                ftbi: function(e, t) {
                    return c(e, t)
                }
            },
            events: {
                "click [data-role=confirm]": function(e) {
                    e.preventDefault();
                    var t = this.get("stock").get("mkType");
                    /lof|kj/.test(t) ? this._jjShow() : t === "us" ? this._usShow() : this._gaShow(),
                        app.boss.act("btn_alert_ok")
                },
                "click [data-role=cancel]": function(e) {
                    e.preventDefault(),
                        app.boss.act("btn_alert_cancel"),
                        this.hide()
                },
                "mouseover #igs": function() {
                    r(".msgbox").show()
                },
                "mouseout #igs": function() {
                    r(".msgbox").hide()
                },
                "keyup #no2_v": function(e) {
                    var t = r(e.currentTarget).val()
                        , n = r("#no2_v_v")
                        , i = f.isNumber(this.get("stock").get("latestPrice")) ? this.get("stock").get("latestPrice") : this.get("stock").get("yesterdatPrice");
                    n.text(c(t, i))
                },
                "keyup #no3_v": function(e) {
                    var t = r(e.currentTarget).val()
                        , n = r("#no3_v_v")
                        , i = f.isNumber(this.get("stock").get("latestPrice")) ? this.get("stock").get("latestPrice") : this.get("stock").get("yesterdatPrice");
                    n.text(c(t, i))
                }
            },
            show: function() {
                l.superclass.show.call(this),
                    this.renderPartial()
            },
            openBox: function() {
                var e = this
                    , t = this.get("stock")
                    , n = t.get("mkType");
                s.get(t.get("ftsymbol")).then(function(r) {
                    /lof|kj/.test(n) ? e.set("template", a.jj) : n === "us" ? e.set("template", a.us) : n === "hk" ? e.set("template", a.hk) : e.set("template", a.ga),
                        e.set("model", {
                            classPrefix: e.get("classPrefix"),
                            stock: t,
                            initData: r
                        }),
                        e.show(),
                        e._drag()
                })
            },
            _usShow: function() {
                var e = this.get("stock")
                    , t = {
                        updown: r("#no1")[0].checked ? Number(r("#no1_v").val()).toFixed(2) : 0,
                        high: r("#no2")[0].checked ? Number(r("#no2_v").val()).toFixed(2) : 0,
                        low: r("#no3")[0].checked ? Number(r("#no3_v").val()).toFixed(2) : 0,
                        code: e.get("symbol")
                    };
                if (t.low > 0 && t.high > 0 && Number(t.low) > Number(t.high)) {
                    this.element.find(".error").text("\u60a8\u7684\u4e0a\u6da8\u76ee\u6807\u4ef7\u5fc5\u987b\u9ad8\u4e8e\u60a8\u7684\u4e0b\u8dcc\u76ee\u6807\u4ef7").show();
                    return
                }
                this._actionOver(t)
            },
            _jjShow: function() {
                var e = this.get("stock")
                    , t = {
                        code: e.get("symbol"),
                        isfund: 1,
                        action: r("#g4")[0].checked ? "open" : "close"
                    };
                this._actionOver(t)
            },
            _gaShow: function() {
                var e = this.get("stock")
                    , t = e.get("symbol").substr(0, 2)
                    , n = [];
                f.each(u[t], function(e, t) {
                    r("#g" + (t + 1))[0] && r("#g" + (t + 1))[0].checked && n.push(e)
                });
                var i = {
                    updown: r("#no1")[0].checked ? Number(r("#no1_v").val()).toFixed(2) : 0,
                    high: r("#no2")[0].checked ? Number(r("#no2_v").val()).toFixed(2) : 0,
                    low: r("#no3")[0].checked ? Number(r("#no3_v").val()).toFixed(2) : 0,
                    code: e.get("symbol"),
                    type: n.join(",")
                };
                if (i.low > 0 && i.high > 0 && Number(i.low) > Number(i.high)) {
                    this.element.find(".error").text("\u60a8\u7684\u4e0a\u6da8\u76ee\u6807\u4ef7\u5fc5\u987b\u9ad8\u4e8e\u60a8\u7684\u4e0b\u8dcc\u76ee\u6807\u4ef7").show();
                    return
                }
                this._actionOver(i)
            },
            delReimd: function(t) {
                var n = {
                    updown: 0,
                    high: 0,
                    low: 0,
                    code: t,
                    type: ""
                };
                s.edit(n).then(function(t) {
                    var n = e("models/group").single()
                        , r = t.data;
                    n.set("remindArr", r)
                })
            },
            _actionOver: function(t) {
                var n = this;
                s.edit(t).then(function(i) {
                    var s = e("models/group").single()
                        , o = i.data
                        , u = n.get("target");
                    r.inArray(t.code, o) >= 0 ? u.removeClass("tx").addClass("tx_on") : u.removeClass("tx_on").addClass("tx"),
                        s.set("remindArr", o),
                        n.trigger("ok", "\u63d0\u9192\u5df2\u4fdd\u5b58"),
                        n.hide()
                }, function() {
                    n.trigger("error", "\u63d0\u9192\u4fdd\u5b58\u5931\u8d25")
                })
            }
        });
    n.exports = l
}),
define("text!views/stocklist/stocklist.css", [], function() {
    return ".zxg-stocklist{border:1px solid #6ba4d7;border-top:none;position:relative;background:url(http://mat1.gtimg.com/finance/images/stock/p/zixuangu/graphic/BG.png) repeat 0 0}.zxg-stocklist a{color:#3374CA}.sline{height:29px;border-bottom:1px solid #E4E4E4;zoom:1;cursor:pointer}.myDragClass{visibility:hidden}#dndProxy,.draging .sline,.myDragClass,.zxg-stocklist.draging{background-image:url(about:blank);cursor:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/74af2c259433b4ce.cur)10 0,pointer}.sline:hover{background-color:#e2effa}.odd{background-color:#fff}.even{background-color:#f9f9f9}.sline dt{float:left;width:353px;line-height:29px;vertical-align:middle;height:29px;text-align:right}.sline .opt a{display:inline-block;height:23px;width:30px;_display:block;_width:25px;margin-top:2px}.sline .opt .drop{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/24_03.png) no-repeat 0 0;border:none;height:99px;width:66px;z-index:110;margin-left:-38px}.sline .opt .drop li{height:29px;margin-top:1px;width:61px;margin-left:1px}.sline .opt .drop li:hover{background-color:#e0eaf5}.sline .opt .drop li.first{margin-top:5px}.sline .opt .drop a{width:64px}.sline .opt .drop span{float:left;display:inline-block;height:25px;_display:block;_width:25px}.sline .opt .drop .icon{width:27px;margin-left:-2px}.sline .opt span.tx{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon_151125.png) no-repeat 0 -1px}.sline .opt span.tx_on{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon_151125.png) no-repeat -25px -1px}.sline .opt a.yk{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon_151125.png) no-repeat 0 -25px}.sline .opt a.yk:hover{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon_151125.png) no-repeat -51px -25px}.sline .opt a.yk_on{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon_151125.png) no-repeat -25px -25px}.sline .opt a.yk_on:hover{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon_151125.png) no-repeat -80px -25px}.sline .opt span.nt{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon_151125.png) no-repeat -198px -73px}.sline .opt span.nt_on{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon_151125.png) no-repeat -198px -48px}.sline .opt span.top{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon_151125.png) no-repeat -198px -96px}.sline .opt a.del{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon_151125.png) no-repeat 0 -73px}.sline .opt a.del:hover{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon_151125.png) no-repeat -53px -73px}.sline .opt a.operate{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon_151125.png) no-repeat -203px -27px}.sline .opt a.operate:hover{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/icon_151125.png) no-repeat -203px -2px}.sline dd{line-height:29px;height:29px;text-align:right;overflow:hidden}.sline dd .cg{overflow:hidden}.sline .hl,.sline .hl2,.sline .hl3,.sline .hlName,.sline .hlPrice{background-color:#e2effa;margin-left:10px;overflow:hidden;margin-right:-10px}.sline .hlop{background-color:#e2effa;overflow:hidden}.screen_lt_1200 .sline .hl,.screen_lt_1200 .sline .hl2,.screen_lt_1200 .sline .hl3,.screen_lt_1200 .sline .hlName,.screen_lt_1200 .sline .hlPrice{margin-left:0;margin-right:0}.sline.active,.sline_hover,.sline_hover .hl,.sline_hover .hl2,.sline_hover .hl3,.sline_hover .hlName,.sline_hover .hlPrice{background-color:#cde1f1}.sline .hlName{margin-left:0;padding-right:10px}.sline .t-col{width:24.5%;height:29px;text-align:center;float:left}.sline .symbole{position:relative;text-align:left}.sline .symbole a{margin-left:22px}.sline .jz{color:#b1b0b0;padding:0 20px}.stock_name{float:left;position:relative;overflow:none;white-space:nowrap}.ys_icon{position:absolute;top:8px;right:-17px;height:12px;width:13px;background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/d50d7c3bde764127.png) no-repeat}.guide{position:absolute;width:100%;height:100%;top:0;left:0;z-index:9999;bottom:0;right:0}.guide .bg{background:#000;opacity:.5;filter:alpha(opacity=50);width:100%;height:100%}.guide .g_batch{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/batch_oper.png);width:344px;height:246px;position:absolute;top:0}.guide .g_fold{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/top_oper.png);width:195px;height:269px;position:absolute;top:0}.guide .g_market{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/marketSwitch.png);width:435px;height:190px;position:absolute;top:0}.guide .g_listDrag{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/b8e83e4697ef0af1.png);width:896px;height:150px;position:absolute;top:0}.guide .g_close{width:160px;height:58px;position:absolute;top:0;top:50px;right:50px;cursor:pointer}.guide .g_close.try{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/try.png)}.guide .g_close.know{background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/know.png)}.sline dd .drop{z-index:9999;position:absolute;top:23px;border:1;border:1px solid #6ba4d7;border-top:none;width:64px;background-color:#fff;cursor:pointer;margin-left:-34px}.sline dd .drop a span{width:30px}"
}),
define("views/stocklist/stocklist", ["require", "exports", "module", "underscore", "rt", "view", "art", "text!./stocklist.html", "text!./stocklistyk.html", "module/delStock/delStock", "module/yingkui/yingkui", "module/note/note", "module/quotation/quotation", "module/hangqing/hangqing_new", "module/remind/remind", "Tool", "jquery", "position", "q", "widget", "store", "tablednd", "text!./stocklist.css", "models/group", "models/setting", "text!./stocklistyk.html", "text!./stocklist.html", "guide", "text!views/stocklist/feature_guide.html", "guide", "text!views/stocklist/feature_guide2.html", "module/smartbox/data"], function(e, t, n) {
    "use strict";
    function x() {
        i("stock_web_pstock").times("renderOver").push();
        var t = this
            , n = e("module/smartbox/data")
            , o = window.location.hash && window.location.hash.split(",");
        if (!o || o.length != 2)
            return null ;
        var u = this.models.group
            , a = function(e) {
                return /^ad|del$/.test(e) ? e : !1
            }(o[0].substring(1))
            , f = o[1].substr(0, 2)
            , l = f === "us" ? o[1].substring(2).split(".")[0] : o[1].substring(2);
        n(l, "all", function(e) {
            var t = r.filter(e, function(e) {
                    if (e[0] === f)
                        return e
                })
                , n = t.length > 0 ? t[0] : null
                , i = n && {
                        symbol: n[0] + (f === "us" ? n[1].toUpperCase() : n[1]),
                        market: n[0],
                        type: n[4],
                        note: "",
                        cost: 0,
                        numbers: 0
                    };
            if (r.isUndefined(i))
                return;
            var o = u.get("StockList");
            if (o.length >= 200)
                return s.alert("\u60a8\u6dfb\u52a0\u7684\u80a1\u7968\u5df2\u7ecf\u8d85\u8fc7\u5206\u7ec4\u7684\u6700\u9ad8\u4e0a\u7ebf");
            var a = i.market === "jj" ? "s_" + i.symbol : T(i.symbol);
            window.location.href = window.location.href.split("#")[0] + "#";
            if (r.has(o, a))
                return s.alert("\u80a1\u7968\u5df2\u5b58\u5728\u4e8e\u5217\u8868\u5185", "error");
            u.addStock(i).then(function(e) {
                s.alert("\u6210\u529f\u6dfb\u52a0\u81f3\u80a1\u7968\u5217\u8868", "ok")
            }, function(e) {
                s.alert(e.error_info, "error")
            })
        })
    }
    function T(e) {
        var t = e.substr(0, 2), n;
        if (t === "us") {
            var r = e.split(".");
            r.length > 2 ? n = r.shift() + "__" + r.shift() : n = r.shift(),
                n = n.replace(/[^0-9a-zA-Z_]/g, "__")
        } else
            t === "jj" ? n = "s_" + e : n = e;
        return n
    }
    var r = e("underscore"), i = e("rt"), s = e("view"), o = e("art"), u = {
        mk: e("text!./stocklist.html"),
        yk: e("text!./stocklistyk.html")
    }, a = e("module/delStock/delStock"), f = e("module/yingkui/yingkui"), l = e("module/note/note"), c = e("module/quotation/quotation"), h = e("module/hangqing/hangqing_new"), p = e("module/remind/remind"), d = e("Tool").single(), v = e("jquery"), m, g = e("position"), y = e("q"), b = e("widget"), w = e("store"), E = e("tablednd"), S = s.extend({
        attrs: {
            className: "zxg-stocklist",
            styleList: e("text!./stocklist.css"),
            parentNode: "#zxg-body",
            mkType: "mk",
            stockMk: "all"
        },
        _dialogList: {},
        events: {
            "mouseleave [data-val]": function(e) {
                v("#zxg-tip").hide()
            },
            "mouseenter [data-val]": function(e) {
                var t = v(e.currentTarget)
                    , n = t.data("val")
                    , i = Number(t.data("maxwidth"));
                v("#zxg-tip").text(n).show().width("auto");
                var s = v("#zxg-tip").width();
                i && !r.isNaN(i) && s > i && v("#zxg-tip").width(i),
                    g.pin("#zxg-tip", {
                        element: t,
                        x: "left",
                        y: "100%+5px"
                    })
            },
            "mouseleave .sline": function(e) {
                var t = v(e.currentTarget);
                t.removeClass("sline_hover"),
                    t.css("background-color", "")
            },
            "mouseenter .sline": function(e) {
                var t = v(e.currentTarget);
                t.hasClass("active") ? t.css("background-color", "#cde1f1") : t.css("background-color", "#e2effa")
            },
            "mousemove .nt_ac": function(e) {
                var t = v(e.currentTarget)
                    , n = t.closest(".sline").data("symbol")
                    , i = this.models.group.get("StockList")[n];
                if (!r.isEmpty(i.get("note"))) {
                    var s = v("#dora_notes").find(".pre");
                    s.length ? v(s).text(i.get("note")) : v("#dora_notes").append(v('<pre class="pre">' + i.get("note") + "</pre>")),
                        v("#dora_notes").css({
                            top: e.pageY + 20,
                            right: 10
                        }).show()
                }
            },
            "mouseleave .nt_ac": function() {
                v("#dora_notes").hide()
            },
            "click .tx_ac": function(e) {
                var t = this;
                app.boss.act("icon_alert");
                var n = v(e.currentTarget)
                    , r = n.closest(".sline")
                    , i = r.data("symbol")
                    , s = this.models.group.get("StockList")[i];
                this._dialogList.remind.set("stock", s).set("target", n.find(".icon")).openBox(),
                    t.switchDrop(n, "close")
            },
            "click .nt_ac": function(e) {
                var t = this;
                app.boss.act("icon_remark");
                var n = v(e.currentTarget)
                    , r = n.closest(".sline")
                    , i = r.data("symbol")
                    , s = this.models.group.get("StockList")[i];
                this._dialogList.note.set("target", n.find(".icon")).set("stock", s).show(),
                    t.switchDrop(n, "close")
            },
            "click .del": function(e) {
                app.boss.act("icon_deleteStock");
                var t = this
                    , n = v(e.currentTarget)
                    , r = n.data("symbol")
                    , i = this.models.group.get("StockList");
                t._dialogList.del.set("stock", i[r]).show()
            },
            "click .yk_ac": function(e) {
                var t = this;
                app.boss.act("icon_yk");
                var n = v(e.currentTarget)
                    , r = n.closest(".sline").data("symbol")
                    , i = this.models.group.get("StockList");
                t._dialogList.yingkui.set("dom", n).set("stock", i[r]).openBox()
            },
            "click .operate": function(e) {
                var t = this;
                app.boss.act("icon_operate");
                var n = v(e.currentTarget)
                    , r = n.data("openDrop");
                t.switchDrop(null , "close"),
                r || t.switchDrop(n, "open")
            },
            "mouseover .oper": function(e) {
                var t = this;
                app.boss.act("icon_operate");
                var n = v(e.currentTarget).find(".operate");
                t._operateTimer && clearTimeout(t._operateTimer),
                    t._operateTimer = setTimeout(function() {
                        t.switchDrop(null , "close"),
                            t.switchDrop(n, "open")
                    }, 50)
            },
            "mouseout .oper": function(e) {
                var t = this
                    , n = v(e.currentTarget).find(".operate");
                t._operateTimer && clearTimeout(t._operateTimer),
                    t._operateTimer = setTimeout(function() {
                        t.switchDrop(null , "close"),
                            t.switchDrop(n, "close")
                    }, 150)
            },
            "click .top_ac": function(e) {
                var t = this;
                app.boss.act("icon_top");
                var n = v(e.currentTarget)
                    , r = n.closest(".sline")
                    , i = r.data("symbol")
                    , s = r.find("dd .drop")
                    , o = t.models.group.get("StockList")[i];
                v(".zxg-stocklist").prepend(r),
                    t.switchDrop(n, "close"),
                    t.setNewSeq(v(".zxg-stocklist"), {
                        suc: "\u6210\u529f\u7f6e\u9876\u80a1\u7968",
                        err: "\u7f6e\u9876\u4fdd\u5b58\u5931\u8d25",
                        time: 500
                    })
            },
            "click .zxg-batch-checkbox-one": function(e) {
                var t = v(".zxg-batch-checkbox-one")
                    , n = v(".zxg-batch")
                    , r = v(".zxg-batch-cover")
                    , i = this.models.group.get("isSelected")
                    , s = 0;
                for (var o = 0, u = t.length; o < u; o++) {
                    if (t.get(o).checked === !1) {
                        v(".zxg-batch-checkbox-all").get(0).checked = !1;
                        continue
                    }
                    s += 1
                }
                v(".zxg-batch .amount .selected").html(s),
                s == v(".zxg-batch-checkbox-one").length && (v(".zxg-batch-checkbox-all").get(0).checked = !0),
                    s >= 1 ? (app.boss.act("btn_enter_batchManage"),
                        n.slideDown(300),
                        this.models.group.set("isBatchMode", 1)) : s == 0 && (app.boss.act("btn_exit_batchManage"),
                        n.slideUp(300),
                        this.models.group.set("isBatchMode", 0))
            }
        },
        models: {
            group: e("models/group"),
            setting: e("models/setting")
        },
        switchDrop: function(e, t) {
            var n = this;
            if (!r.isUndefined(t) && r.isString(t) && t == "close")
                if (e) {
                    var i = e.closest(".sline")
                        , e = i.find(".opt .operate");
                    s = i.find("dd .drop"),
                        s.hide(),
                        e.data("openDrop", 0)
                } else
                    r.each(v(".zxg-stocklist").find(".sline .opt"), function(e, t) {
                        var n = v(e).find(".operate")
                            , r = v(e).find(".drop");
                        r.hide(),
                            n.data("openDrop", 0)
                    });
            else {
                var i = e.closest(".sline")
                    , s = i.find("dd .drop")
                    , o = e.data("openDrop")
                    , u = e.offset().top - v(".zxg-stocklist").offset().top + 22;
                s.css("top", u + "px"),
                    !o || t == "open" ? (n._timer && clearTimeout(n._timer),
                        s.show(),
                        e.data("openDrop", 1)) : (s.hide(),
                        e.data("openDrop", 0))
            }
        },
        setup: function() {
            var e = this.models
                , t = this;
            this._dialogList.del = (new a({
                closeTpl: ""
            })).after("show", function() {
                    var e = this.get("stock");
                    e.get("mk") === "jj" ? v(".delinfo > span").html("\u57fa\u91d1") : v(".delinfo > span").html("\u80a1\u7968"),
                        v(".delinfo > i").html(e.get("name"))
                }).on("ok", function() {
                    var n = this.get("stock")
                        , r = n.get("qtsymbol");
                    e.group.delStock(r).then(function() {
                        t.element.find("#" + r).remove(),
                            s.alert("\u6210\u529f\u5220\u9664\u80a1\u7968", "ok"),
                            app.boss.act("btn_deleteStock_ok")
                    }),
                        t._dialogList.remind.delReimd(n.get("symbol"))
                }),
                this._dialogList.yingkui = (new f({
                    closeTpl: ""
                })).on("ok", function(e) {
                        s.alert(e, "ok")
                    }).on("error", function(e) {
                        s.alert(e, "error")
                    }),
                this._dialogList.note = (new l({
                    closeTpl: ""
                })).on("ok", function(e) {
                        s.alert(e, "ok")
                    }).on("error", function(e) {
                        s.alert(e, "error")
                    }),
                this._dialogList.remind = (new p({
                    closeTpl: ""
                })).on("ok", function(e) {
                        s.alert(e, "ok")
                    }).on("error", function(e) {
                        s.alert(e, "error")
                    }),
                v(document).on("click", function(e) {
                    var n = e ? e : window.event
                        , r = v(n.target).closest(".drop");
                    if (n.target.className == "operate" || r.length)
                        return;
                    t._timer = setTimeout(function() {
                        t.switchDrop(null , "close")
                    }, 100)
                })
        },
        _stockChangeDataYK: function(e) {
            var t = this
                , n = this.models.setting;
            r.each(e, function(e) {
                e.off();
                var r = t.element.find("#" + e.get("qtsymbol"))
                    , i = r.find(".cg");
                e.on("change:name", function(t) {
                    var n = i.eq(1).find("em")[0] && i.eq(1).find("em")[0].outerHTML || "";
                    i.eq(1).html(e.getHtmlName() + n)
                }),
                    e.on("change:latestPrice", function(t) {
                        i.eq(2).html(e.getHtmlColorPro("latestPrice")),
                            e.get("lpbg") === "up" ? i.eq(2).css("background-color", n.get("colorType") == "cn" ? "rgb(255,225,225)" : "rgb(215,242,220)").addClass("up-arrow") : i.eq(2).css("background-color", n.get("colorType") == "cn" ? "rgb(215,242,220)" : "rgb(255,225,225)").addClass("down-arrow"),
                            setTimeout(function() {
                                i.eq(2).css("background-color", "")
                            }, 1e3)
                    }),
                    e.on("change:reason", function(e) {
                        e ? i.eq(2).attr("data-val", e) : i.eq(2).attr("data-val", "")
                    }),
                    e.on("change:updownLimit", function(t) {
                        i.eq(3).html(e.getHtmlColorPro("updownLimit"))
                    }),
                    e.on("change:updownExtent", function(t) {
                        i.eq(4).html(e.getHtmlColorPro("updownExtent"))
                    }),
                    e.on("change:dilutionCost", function(t) {
                        i.eq(5).html(e.getHtmlColorProYk("dilutionCost"))
                    }),
                    e.on("change:numbers", function(t) {
                        i.eq(6).html(e.getHtmlColorProYk("numbers"))
                    }),
                    e.on("change:holdMarketValue", function(t) {
                        i.eq(7).html(e.getHtmlColorProYk("holdMarketValue"))
                    }),
                    e.on("change:todayPL", function(t) {
                        i.eq(8).html(e.getHtmlColorProYk("todayPL"))
                    }),
                    e.on("change:holdPl", function(t) {
                        i.eq(9).html(e.getHtmlColorProYk("holdPl")),
                            v(window).trigger("allYKRender")
                    }),
                    e.on("change:holdPlRatio", function(t) {
                        i.eq(10).html(e.getHtmlColorProYk("holdPlRatio")),
                            v(window).trigger("allYKRender")
                    }),
                    e.on("change:allPL", function(t) {
                        i.eq(11).html(e.getHtmlColorProYk("allPL")),
                            v(window).trigger("allYKRender")
                    }),
                    e.on("change:ratePL", function(t) {
                        i.eq(12).html(e.getHtmlColorProYk("ratePL")),
                            v(window).trigger("allYKRender")
                    }),
                    e.on("change:yanshi", function(e) {
                        e === !1 ? r.find(".stock_name").append('<div class="ys_icon"></div>') : r.find(".ys_icon").remove()
                    })
            })
        },
        _stockChangeData: function(e) {
            var t = this
                , n = this.models.setting;
            r.each(e, function(e) {
                e.off();
                var r = t.element.find("#" + e.get("qtsymbol"))
                    , i = r.find(".cg");
                e.on("change:name", function(t) {
                    var n = i.eq(1).find("em")[0] && i.eq(1).find("em")[0].outerHTML || "";
                    i.eq(1).html(e.getHtmlName() + n)
                }),
                    e.on("change:latestPrice", function(t) {
                        i.eq(2).html(e.getHtmlColorPro("latestPrice")),
                            e.get("lpbg") === "up" ? i.eq(2).css("background-color", n.get("colorType") == "cn" ? "rgb(255,225,225)" : "rgb(215,242,220)").addClass("up-arrow") : i.eq(2).css("background-color", n.get("colorType") == "cn" ? "rgb(215,242,220)" : "rgb(255,225,225)").addClass("down-arrow"),
                            setTimeout(function() {
                                i.eq(2).css("background-color", "")
                            }, 1e3)
                    }),
                    e.on("change:reason", function(e) {
                        e ? i.eq(2).attr("data-val", e) : i.eq(2).attr("data-val", "")
                    }),
                    e.on("change:updownLimit", function(t) {
                        i.eq(3).html(e.getHtmlColorPro("updownLimit"))
                    }),
                    e.on("change:updownExtent", function(t) {
                        i.eq(4).html(e.getHtmlColorPro("updownExtent"))
                    }),
                    e.get("market") !== "jj" ? (e.on("change:yesterdatPrice", function(t) {
                        i.eq(5).html(e.getFormatData("yesterdatPrice"))
                    }),
                        e.on("change:todayPrice", function(t) {
                            i.eq(6).html(e.getFormatData("todayPrice"))
                        }),
                        e.on("change:highPrice", function(t) {
                            i.eq(7).html(e.getFormatData("highPrice"))
                        }),
                        e.on("change:lowPrice", function(t) {
                            i.eq(8).html(e.getFormatData("lowPrice"))
                        }),
                        e.on("change:volume", function(t) {
                            i.eq(9).html(e.getFormatData("volume"))
                        }),
                        e.on("change:turnoverRate", function(t) {
                            i.eq(12).html(e.getFormatData("turnoverRate"))
                        }),
                        e.on("change:turnover", function(t) {
                            i.eq(10).html(e.getFormatData("turnover"))
                        }),
                        e.on("change:marketValue", function(t) {
                            i.eq(11).html(e.getFormatData("marketValue"))
                        }),
                        e.on("change:peRatio", function(t) {
                            i.eq(13).html(e.getFormatData("peRatio"))
                        })) : (e.on("change:netValue", function(t) {
                        i.eq(5).find("em").html(e.get("netValue"))
                    }),
                        e.on("change:netValueDate", function(t) {
                            i.eq(6).html(e.get("netValueDate"))
                        })),
                    e.on("change:yanshi", function(e) {
                        e === !1 ? r.find(".stock_name").append('<div class="ys_icon"></div>') : r.find(".ys_icon").remove()
                    })
            })
        },
        setMkTypeTpl: function(t) {
            var n = t || this.get("mkType");
            t && this.set("mkType", t),
                n === "yk" ? this.set("template", e("text!./stocklistyk.html")) : this.set("template", e("text!./stocklist.html"))
        },
        filterByMk: function(e) {
            e || (e = this.models.group.get("mkdp")),
                this.element.find(".sline").each(function() {
                    var t = v(this);
                    e === "all" ? t.show() : t.hasClass("s_" + e) ? t.show() : t.hide()
                })
        },
        scrollToStock: function(e, t) {
            var n = v(".zxg-stock").css("position") == "fixed"
                , r = v("#" + e).closest(".sline")
                , i = v(".zxg-userinfo").offset().top + v(".zxg-userinfo").outerHeight()
                , s = 150
                , o = y.defer();
            if (t)
                n && v("body, html").animate({
                    scrollTop: i
                });
            else if (r.size()) {
                var u = r.offset().top
                    , a = v(window).height()
                    , f = u - a * .4;
                n ? (f < i && (f = i),
                    v("body, html").animate({
                        scrollTop: f
                    }, s, function() {
                        o.resolve()
                    })) : f > 0 && v("body, html").animate({
                    scrollTop: f
                }, s, function() {
                    o.resolve()
                })
            }
            return v(".sline").css("background-color", ""),
                v(".sline").removeClass("sline_hover"),
                r.addClass("sline_hover"),
                setTimeout(function() {
                    r.removeClass("sline_hover")
                }, 5e3),
                o.promise
        },
        renderList: function(e) {
            var t = this;
            e || (e = this.get("mkType"));
            var n = v(".zxg-news")
                , i = function(e) {
                    var t = v(".zxg-new")
                        , n = v(".zxg-stocklist")
                        , i = v(".zxg-tablehead")
                        , s = v(".zxg-ykcollect")
                        , o = v(".zxg-batch")
                        , u = v(".add_stock")
                        , a = [t, n, i, s, o];
                    e == "new" ? (r.each(a, function(e, t) {
                        v(e).hide()
                    }),
                        v(t).show()) : (v(n).show(),
                        v(i).show(),
                        v(t).hide()),
                    app.page.extra && app.page.extra.RenderData()
                }
                , s = this.models.group
                , o = s.get("StockList")
                , u = r.values(o);
            this.set("model", {
                isBatchMode: this.models.group.get("isBatchMode"),
                isSelected: this.models.group.get("isSelected"),
                list: u,
                sortName: s.get("isSort") ? s.get("sortName") : null
            }),
                this.setMkTypeTpl(e),
                this.renderPartial();
            var a = this.element[0].children.length ? document.documentElement.clientHeight - v(".zxg-stock").height() - 40 + "px" : "0px";
            v(this.element).css({
                minHeight: a,
                "*height": a,
                _height: a
            }),
                this.reSelect(),
                e === "yk" ? this._stockChangeDataYK(u) : this._stockChangeData(u),
                this.models.group.setColor(),
                this.setupTableDragAndDrog(),
                this.filterByMk(),
                this.parent.views.stock.resizeWidth(),
                this.noticeWrongYkData(e),
                e != "new" ? i("stock") : i("new"),
            t.hasRendered || (app.QosS.timePoint8()(),
                t.hasRendered = 1)
        },
        addOneStock: function(e) {
            var t = this.models.group
                , n = this.models.group.get("isBatchMode")
                , r = o.compile(u[this.get("mkType")])({
                    isBatchMode: n,
                    list: [e],
                    sortName: t.get("isSort") ? t.get("sortName") : null
                });
            v(r).prependTo(this.element);
            var i = this.get("mkType");
            i === "yk" ? this._stockChangeDataYK([e]) : this._stockChangeData([e]),
                this.setupTableDragAndDrog(),
                this.filterByMk(),
                this.scrollToStock(e.get("qtsymbol"), !0)
        },
        clearArrow: function() {
            this.element.find(".up-arrow").removeClass("up-arrow"),
                this.element.find(".down-arrow").removeClass("down-arrow")
        },
        render: function() {
            S.superclass.render.call(this),
                this.models.group.on("render:del", r.bind(function() {
                    this.filterByMk()
                }, this)),
                this.models.group.on("render:add", r.bind(this.addOneStock, this)),
                this.models.group.on("marketDisplay", r.bind(this.filterByMk, this)),
                this.models.group.on("render", r.bind(this.renderList, this)),
                this.parent.views.stock.on("marketChange", r.bind(this.renderList, this));
            var e = (window.navigator.userAgent || "").toLowerCase()
                , t = e.indexOf("msie") !== -1
                , n = e.indexOf("msie 6") !== -1
                , i = e.indexOf("msie 7") != -1
                , s = e.indexOf("msie 8") != -1;
            this.quotation = new c({
                elementNode: ".stock_name",
                stocklist: this
            }),
                app.hangqingSwitch = 1,
                app.hangqingSwitch ? n || i || s || (app.hangqing = this.hangqing = new h({
                    elementNode: ".sline",
                    stocklist: this
                })) : this.quotation = new c({
                    elementNode: ".stock_name"
                }),
                this.models.group.once("render", v.proxy(x, this)),
                this.models.group.on("onQtData", r.bind(this.clearArrow, this)),
                this.element.html('<div style="text-align: center;padding: 20px 0;"><img style="width: 40px;height: 40px;" src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/e0241a5737aa1228.gif"></div>');
            var o = this;
            setTimeout(function() {
                o.userGuide2()
            }, 500),
                this.models.group.on("upTop", r.bind(this.upTopList, this))
        },
        userGuide: function() {
            var t = this;
            t.showGuide = e("guide");
            var n = "web.portfolio." + app.QQuin + ".batchToTopGuide";
            if (w.disabled)
                return;
            if (w.get(n) == 2)
                return;
            t.showGuide({
                tmp: e("text!views/stocklist/feature_guide.html"),
                posCall: function(e) {
                    var t = v(".zxg-stocklist").offset()
                        , n = v(".zxg-stocklist .sline .operate");
                    e.find(".g_batch").css({
                        top: t.top - 29,
                        left: t.left
                    }),
                        e.find(".g_fold").css({
                            top: t.top - 82,
                            left: v(".zxg-stocklist").offset().left + (v(".zxg-stocklist").width() - 145)
                        }),
                        e.find(".g_close").css({
                            top: t.top + 380,
                            left: t.left + 500
                        })
                },
                initCall: function() {
                    if (w.get(n) == 2)
                        return
                },
                hideCall: function() {
                    w.set(n, 2)
                }
            })
        },
        userGuide2: function() {
            var t = this;
            t.showGuide = e("guide");
            var n = "web.portfolio." + app.QQuin + ".marketSwitch";
            if (w.disabled)
                return;
            if (w.get(n) == 2)
                return;
            t.showGuide({
                id: "user_list_Guide",
                tmp: e("text!views/stocklist/feature_guide2.html"),
                posCall: function(e) {
                    var t = v(".marketContain").offset();
                    0,
                        e.find(".g_market").css({
                            top: t.top - 7,
                            left: t.left + 17
                        }),
                        e.find(".g_close").css({
                            top: t.top + 180,
                            left: t.left + 500
                        })
                },
                initCall: function() {
                    if (w.get(n) == 2)
                        return
                },
                hideCall: function() {
                    w.set(n, 2)
                }
            })
        },
        upTopList: function() {
            var e = this
                , t = e.models.group.get("upTopData");
            if (t) {
                var n = t.list.length;
                for (var r = n - 1; r >= 0; r--) {
                    var i = t.list[r];
                    v(".zxg-stocklist").prepend(v(i))
                }
                e.setNewSeq(v(".zxg-stocklist"), {
                    suc: "\u5df2\u6210\u529f\u7f6e\u9876" + n + "\u652f\u80a1\u7968",
                    err: "\u7f6e\u9876\u4fdd\u5b58\u5931\u8d25",
                    call: t.call,
                    time: 500
                })
            }
        },
        setNewSeq: function(e, t) {
            var n = this
                , r = []
                , i = {}
                , o = n.models.group
                , u = o.get("StockList")
                , t = t || {}
                , e = e || v(".zxg-stocklist")
                , a = t.time || 1200;
            v(e).find("dt").each(function(e) {
                var t = v(this).data("symbol");
                u[t].set("index", e),
                    r.push(u[t].get("symbol")),
                    i[t] = u[t]
            }),
                o.set("StockList", i, {
                    silent: !0,
                    override: !0
                }),
            t.ing && s.alert(t.ing);
            var f = o.get("groupid");
            o.setColor(),
                m = setTimeout(function() {
                    var e = d.stringify([{
                        grpid: f,
                        act: "so",
                        codelist: r.join("~"),
                        timestamp: (new Date).getTime()
                    }]);
                    o.post("http://newstock.finance.qq.com/stockapp/Updstockweb/operseq?&app=web&uin=" + app.QQuin, {
                        seq: encodeURI(e),
                        url: app.QQuin
                    }).then(function(e) {
                        Number(e.code) === 0 ? (n.models.group._checkHKRealTime(!1),
                        t.call && t.call(),
                        t.suc && s.alert(t.suc, "ok")) : t.err && s.alert(t.err, "error")
                    }, function(e) {
                        t.err && s.alert(t.err, "error")
                    })
                }, t.time)
        },
        setupTableDragAndDrog: function() {
            var e = this
                , t = this.models.group
                , n = t.get("StockList");
            t.get("isSort") === !1 && (new E).build({
                table: v(".zxg-stocklist"),
                onDragClass: "myDragClass",
                scrollAmount: 15,
                onDragStart: function(e, t) {
                    app.boss.act("mouseDrag_sort");
                    var r = n[v(t).find("dt").data("symbol")];
                    v("#dndProxy").hide();
                    var i = v("#dndProxy div").css("text-align", "right");
                    i.eq(0).html(r.get("symbol").substring(2)),
                        i.eq(1).html(d.subString(r.get("name"), 8))
                },
                afterStartDrag: function() {
                    e.hangqing && e.hangqing.clearAndHide(),
                        v(".zxg-stocklist").addClass("draging")
                },
                onDrop: function(t, n) {
                    v(t).removeClass("draging"),
                        e.setNewSeq(t, {
                            ing: "\u5217\u8868\u987a\u5e8f\u4fdd\u5b58\u4e2d\u2026\u2026",
                            suc: "\u65b0\u5217\u8868\u5df2\u4fdd\u5b58",
                            err: "\u65b0\u5217\u8868\u4fdd\u5b58\u5931\u8d25"
                        })
                }
            })
        },
        noticeWrongYkData: function(e) {
            if (e !== "yk")
                return;
            var t = this.models.group, n = t.get("StockList"), i = r.values(n), o = !1, u = this, a;
            r.each(i, function(e) {
                var t = ["numbers", "hold_cost", "cost", "allnumbers"]
                    , n = !0;
                r.each(t, function(t) {
                    var i = e.get(t);
                    r.isNaN(i) && (n = !1)
                }),
                n || (o || (a = u.scrollToStock(e.get("qtsymbol"))),
                    v("#" + e.get("qtsymbol")).css("background-color", "#ffd1d1"),
                    o = !0)
            }),
            o && a.done(function() {
                s.alert("\u5386\u53f2\u76c8\u4e8f\u8f93\u5165\u9519\u8bef\uff0c\u8bf7\u4fee\u6b63!")
            })
        },
        reSelect: function() {
            var e = this.models.group.get("isSelected")
                , t = !0;
            r.each(e, function(e, n) {
                if (e == 1) {
                    var r = v("#" + n + " .zxg-batch-checkbox-one").get(0);
                    r != undefined && (r.checked = !0)
                }
                t && e == 0 && (t = !1)
            }),
            t && v(".zxg-batch-checkbox-one").is(":checked") == 1 && (v(".zxg-batch-checkbox-all").get(0).checked = !0)
        }
    });
    n.exports = S
}),
define("text!views/addgroup/newgroup.html", [], function() {
    return '<div id="add_stock">\n  <div class="alC" style="  padding-top: 130px;">\n    <img src="http://mat1.gtimg.com/finance/stock/pstock/ini.png" alt="">\n  </div>\n  <div class="add_smartbox">\n    <input type="text" class="input" placeholder="\u4ee3\u7801/\u540d\u79f0/\u62fc\u97f3" id="add-smartbox" autocomplete="off">\n    <input type="submit" class="button" value="\u6dfb\u52a0" id="add-smartbox-button">\n  </div>\n  <div class="alC" style="color:#777;">\n    (\u8f93\u5165\u80a1\u7968\u4ee3\u7801\u3001\u540d\u79f0\u3001\u62fc\u97f3\u9996\u5b57\u6bcd\u7f29\u5199\u641c\u7d22\uff0c\u5982:00700\u3001\u817e\u8baf\u63a7\u80a1\u3001txkg\u3002)\n  </div>\n</div>'
}),
define("text!views/addgroup/newgroup.css", [], function() {
    return ".add_stock{padding:10px;border:1px solid #6ba4d7;border-top:none}.add_stock .alC{text-align:center;padding-top:26px;height:41px}.add_stock .add_smartbox{width:254px;height:25px;margin:0 auto;position:relative}.add_stock .add_smartbox .input{border:1px solid #87a7cd;height:23px;width:200px;line-height:23px;padding:0 5px;position:absolute;top:0;left:0}.add_stock .add_smartbox input:focus{outline:0}#add-smartbox-button{display:block;height:25px;line-height:23px;background-color:#e0eaf5;color:#4d7fc2;position:absolute;top:0;left:211px;font-size:12px;text-align:center;width:40px;border:1px solid #87a7cd;text-decoration:none}"
}),
define("views/addgroup/newgroup", ["require", "exports", "module", "view", "jquery", "module/smartbox/smartbox", "underscore", "text!./newgroup.html", "text!./newgroup.css"], function(e, t, n) {
    "use strict";
    function a() {
        var e = this.models.group;
        o.isEmpty(e.get("StockList")) ? this.show() : this.hide()
    }
    var r = e("view")
        , i = e("jquery")
        , s = e("module/smartbox/smartbox")
        , o = e("underscore")
        , u = r.extend({
            attrs: {
                template: e("text!./newgroup.html"),
                className: "add_stock",
                parentNode: "#zxg-body",
                styleList: e("text!./newgroup.css")
            },
            render: function() {
                var e = this.models.group;
                this.element.hide();
                var t = document.documentElement.clientHeight - i(".zxg-stock").height() - 40 + "px";
                i(this.element).css({
                    minHeight: t,
                    "*height": t,
                    _height: t
                }),
                    u.superclass.render.call(this),
                    e.on("render", i.proxy(a, this)),
                    e.on("render:add", i.proxy(a, this)),
                    e.on("render:del", i.proxy(a, this));
                var n = (new s({
                    trigger: "#add-smartbox",
                    trigger_button: "#add-smartbox-button",
                    align: {
                        baseElement: "#tool-smartbox",
                        baseXY: ["0", "28"]
                    },
                    source: "newgroup"
                })).render().on("smartbox", function(t) {
                        var n = t.data && {
                                symbol: t.data[0] + t.data[1],
                                market: t.data[0],
                                type: t.data[3],
                                note: "",
                                cost: 0,
                                numbers: 0
                            };
                        e.addStock(n).then(function(e) {
                            r.alert("\u60a8\u6210\u529f\u8ba2\u9605", "ok")
                        }, function(e) {
                            r.alert(e.error_info, "error")
                        })
                    })
            },
            hide: function() {
                this.element.hide()
            },
            show: function() {
                this.element.show()
            }
        });
    n.exports = u
}),
define("views/news/data", ["require", "exports", "module", "jquery", "model-init", "moment", "underscore", "Tool", "q"], function(e, t, n) {
    "use strict";
    var r = e("jquery")
        , i = e("model-init")
        , s = e("moment")
        , o = e("underscore")
        , u = e("Tool").single()
        , a = e("q")
        , f = i.extend({
            getData: function(e) {
                var t = this
                    , n = [];
                return o.each(e, function(e, r) {
                    n.push(t._getNew(r + "_news", e.join(","))),
                    r !== "us" && n.push(t._getNotice(r + "_notice", e.join(",")))
                }),
                    a.all(n).then(function(n) {
                        var r = {};
                        return o.each(e, function(e, n) {
                            var i = window[n + "_news"] && function(e) {
                                        var n = [];
                                        return o.map(e, function(e) {
                                            o.each(e.symbol.split(","), function(r) {
                                                n.push({
                                                    title: u.subString(e.title, 60, "..."),
                                                    url: e.url,
                                                    time: s(e.datetime, "YYYY-MM-DD hh:mm:ss").fromNow(),
                                                    symbol: r,
                                                    stockName: window["v_" + r] && window["v_" + r].Name || window["v_r_" + r] && window["v_r_" + r].Name || "",
                                                    stockUrl: t.parseStockUrl(r)
                                                })
                                            })
                                        }),
                                        n.length > 10 && (n = n.slice(0, 10)),
                                            n
                                    }(window[n + "_news"]) || ""
                                , a = window[n + "_notice"] && function(e) {
                                        var r = [];
                                        return o.map(e, function(e) {
                                            o.each(e[7].split(","), function(i) {
                                                r.push({
                                                    title: u.subString(e[4], 60, "..."),
                                                    url: e[5],
                                                    time: s(e[0], "YYYY-MM-DD hh:mm:ss").fromNow(),
                                                    symbol: i,
                                                    stockName: window["v_" + i] && window["v_" + i].Name || window["v_r_" + i] && window["v_r_" + i].Name || "",
                                                    stockUrl: t.parseStockUrl(i, n)
                                                })
                                            })
                                        }),
                                        r.length > 10 && (r = r.slice(0, 10)),
                                            r
                                    }(window[n + "_notice"]) || "";
                            i.length > 0 && (r[n] = [i, a]),
                                r[n + "_link"] = e.join(",")
                        }),
                            r
                    }, function(e) {
                        0
                    })
            },
            parseStockUrl: function(e) {
                var t = window["v_" + e] && window["v_" + e].Symbol || window["v_r_" + e] && window["v_r_" + e].Symbol || ""
                    , n = window["v_" + e] && window["v_" + e].Mkt || window["v_r_" + e] && window["v_r_" + e].Mkt || ""
                    , r = ""
                    , i = "http://stockhtm.finance.qq.com";
                t = String(t),
                    n = String(n);
                switch (n) {
                    case "":
                    case "0":
                        t.length > 5 && (r = i + "/fund/djj_jjcx/" + t + ".htm");
                        break;
                    case "1":
                        t.substr(0, 3) === "000" ? r = i + "/hqing/zhishu/" + t + ".htm" : r = i + "/sstock/ggcx/" + t + ".shtml";
                        break;
                    case "51":
                        t.substr(0, 2) === "39" ? r = i + "/hqing/zhishu/" + t + ".htm" : r = i + "/sstock/ggcx/" + t + ".shtml";
                        break;
                    case "100":
                        t.length <= 5 && (r = i + "/hk/ggcx/" + t + ".htm");
                        break;
                    case "200":
                        t.substr(0, 1) === "." && (t = t.substr(1)),
                            r = i + "/astock/ggcx/" + t.toUpperCase() + ".htm";
                        break;
                    case "300":
                        r = i + "/if/ggcx/" + t.toUpperCase() + ".shtml";
                        break;
                    case "350":
                        r = i + "/money/future/quotpage/f/" + t.toUpperCase() + ".htm"
                }
                return r || "http://finance.qq.com/"
            },
            _getNew: function(e, t) {
                return this.load("http://news2.gtimg.cn/newindex.php?name=" + e + "&n=10&q=" + t)
            },
            _getNotice: function(e, t) {
                return this.load("http://news.gtimg.cn/notice.php?name=" + e + "&n=10&q=" + t)
            }
        });
    n.exports = function(e) {
        var t = f.single();
        return t.getData(e)
    }
}),
define("text!views/extra/extra.html", [], function() {
    return '<div style="height:500px;"></div>'
}),
define("views/extra/extra", ["require", "exports", "module", "jquery", "underscore", "view", "widget", "text!./extra.html"], function(e, t, n) {
    "use strict";
    var r = e("jquery")
        , i = e("underscore")
        , s = e("view")
        , o = e("widget")
        , u = o.extend({
            $body: r("body") || r("html"),
            attrs: {
                className: "zxg-extra",
                parentNode: "#zxg-body",
                styleList: ".zxg-extra{height:500px;}",
                visible: "false",
                minHeight: null
            },
            init: function(e, t) {
                var n = this;
                n.models = e,
                    n.zixuangu = t,
                    n.models.on("render:extra", r.proxy(n.RenderData, n)),
                    r(window).scroll(function() {
                        var e = n.$body.scrollTop() || r("body,html").scrollTop()
                            , t = r(".zxg-new");
                        if (e != n.oldScrollY) {
                            n.oldScrollY = e;
                            if (t.css("display") != "none") {
                                var s = t.css("minHeight")
                                    , o = document.documentElement.clientHeight
                                    , u = r("#zxg-header").height() + 70
                                    , a = r(".zxg-userinfo").height()
                                    , f = r(".zxg-stock").height()
                                    , l = r("#QQFooter").height();
                                e ? document.documentElement.offsetHeight != o + e && (s = o - Math.abs(e - (u + a + f)) - 60) : s = o - (u + a + f) - 60,
                                    n.set("minHeight", s - t.height());
                                if (r(".zxg-stock").css("position") == "fixed") {
                                    var c = r(".zxg-stock").next();
                                    i.isUndefined(r(".zxg-stock").next().attr("class")) && r(".zxg-stock").next().css("height", "91px")
                                }
                            }
                        }
                    })
            },
            render: function() {
                u.superclass.render.call(this);
                var t = this;
                return this.set("template", e("text!./extra.html")),
                    this
            },
            RenderData: function() {
                var e = this;
                e.element.css("height", "500px"),
                    e.set("visible", "true");
                if (i.isEmpty(e.zixuangu.get("StockList"))) {
                    e.set("visible", "false");
                    return
                }
                if (r(".zxg-new").css("display") == "none") {
                    e.set("visible", "false");
                    return
                }
                var t = r(".zxg-new").height()
                    , n = r("#zxg-header").height() + 70
                    , s = r(".zxg-userinfo").height()
                    , o = r(".zxg-stock").height()
                    , u = document.documentElement.clientHeight - o - 30;
                r(".zxg-new").css("display") != "none" && t < u ? (e.set("minHeight", u - t),
                    e.set("visible", "true")) : e.set("visible", "false"),
                    e.oldScrollY = null ;
                var a = window.pageYOffset || document.documentElement.scrollTop
                    , f = a == 0 ? a + 1 : a - 1;
                window.scrollTo(0, f),
                    window.scrollTo(0, a)
            },
            setup: function() {
                this.render()
            },
            _onRenderMinHeight: function(e) {
                r(this.element).css("height", e)
            },
            _onRenderVisible: function(e) {
                e == "false" ? r(this.element).hide() : r(this.element).show()
            }
        });
    n.exports = u
}),
define("text!views/news/news.css", [], function() {
    return ".zxg-new{border:1px solid #6ba4d7;margin-top:0;position:relative;display:none;border-top:none}.new_box{height:282px;margin:17px}.new_box a{text-decoration:none;color:#3374ca}.new_box dt{height:30px;line-height:30px;font-size:16px;font-weight:700;border-bottom:1px solid #D5DEED;position:relative}.new_box dt .more{position:absolute;right:10px;bottom:-3px;font-size:12px;font-weight:400}.new_box dd{height:25px;line-height:25px;overflow:hidden;position:relative}.new_box dd i{position:absolute;right:10px;top:0;font-style:normal;color:#B4B3B3}.app_banner{height:47px;cursor:pointer;background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/dba2d8a61b18ec52.png) no-repeat right top;border-bottom:1px solid #6ba4d7}"
}),
define("text!views/news/news.html", [], function() {
    return '<!-- <div class="app_banner"></div> -->\n<div class="d-clear">\n  <% if (ga) {  %>\n    <dl class="new_box d-left" style="width:46%">\n      <dt>\u81ea\u9009\u80a1\u6caa\u6df1\u65b0\u95fb <a target="_blank" href="http://finance.qq.com/stock/sother/news.htm?q=<%=ga_link%>" class="more" onmousedown="app.boss.act(\'news_more_hs\')">\u66f4\u591a&gt;&gt;</a></dt>\n      <% for(var i = 0, l = ga[0].length; i < l; i++) {%>\n      <dd>[<a target="_blank" href="<%=ga[0][i].stockUrl%>"><%=ga[0][i].stockName%></a>] <a target="_blank" href="<%=ga[0][i].url%>" onmousedown="app.boss.act(\'news_details_hs\')"><%=ga[0][i].title%></a> <i><%=ga[0][i].time%></i></dd>\n      <% } %>\n    </dl>\n    <dl class="new_box d-left" style="width:47%">\n      <dt>\u81ea\u9009\u80a1\u6caa\u6df1\u516c\u544a<a target="_blank" href="http://finance.qq.com/stock/sother/notice.htm?q=<%=ga_link%>" class="more" onmousedown="app.boss.act(\'notice_more_hs\')">\u66f4\u591a&gt;&gt;</a></dt>\n      <% for(var i = 0, l = ga[1].length; i < l; i++) {%>\n      <dd>[<a target="_blank" href="<%=ga[1][i].stockUrl%>"><%=ga[1][i].stockName%></a>] <a target="_blank" href="<%=ga[1][i].url%>" onmousedown="app.boss.act(\'notice_details_hs\')"><%=ga[1][i].title%></a> <i><%=ga[1][i].time%></i></dd>\n      <% } %>\n    </dl>\n  <% } %>\n  <% if (hk) {  %>\n    <dl class="new_box d-left" style="width:46%">\n      <dt>\u81ea\u9009\u80a1\u6e2f\u80a1\u65b0\u95fb<a target="_blank" href="http://finance.qq.com/stock/sother/news.htm?q=<%=hk_link%>" class="more" onmousedown="app.boss.act(\'news_more_hk\')">\u66f4\u591a&gt;&gt;</a></dt>\n      <% for(var i = 0, l = hk[0].length; i < l; i++) {%>\n      <dd>[<a target="_blank" href="<%=hk[0][i].stockUrl%>"><%=hk[0][i].stockName%></a>] <a target="_blank" href="<%=hk[0][i].url%>" onmousedown="app.boss.act(\'news_details_hk\')"><%=hk[0][i].title%></a> <i><%=hk[0][i].time%></i></dd>\n      <% } %>\n    </dl>\n    <dl class="new_box d-left" style="width:47%">\n      <dt>\u81ea\u9009\u80a1\u6e2f\u80a1\u516c\u544a<a target="_blank" href="http://finance.qq.com/stock/sother/notice.htm?q=<%=hk_link%>" class="more" onmousedown="app.boss.act(\'notice_more_hs\')">\u66f4\u591a&gt;&gt;</a></dt>\n      <% for(var i = 0, l = hk[1].length; i < l; i++) {%>\n      <dd>[<a target="_blank" href="<%=hk[1][i].stockUrl%>"><%=hk[1][i].stockName%></a>] <a target="_blank" href="<%=hk[1][i].url%>" onmousedown="app.boss.act(\'notice_details_hs\')"><%=hk[1][i].title%></a> <i><%=hk[1][i].time%></i></dd>\n      <% } %>\n    </dl>\n  <% } %>\n  <% if (us) {  %>\n    <dl class="new_box d-left" style="width:97%">\n      <dt>\u81ea\u9009\u80a1\u7f8e\u80a1\u65b0\u95fb<a target="_blank" href="http://finance.qq.com/stock/sother/news.htm?q=<%=us_link%>" class="more" onmousedown="app.boss.act(\'news_more_us\')">\u66f4\u591a&gt;&gt;</a></dt>\n      <% for(var i = 0, l = us[0].length; i < l; i++) {%>\n      <dd>[<a target="_blank" href="<%=us[0][i].stockUrl%>"><%=us[0][i].stockName%></a>] <a target="_blank" href="<%=us[0][i].url%>" onmousedown="app.boss.act(\'news_details_us\')"><%=us[0][i].title%></a> <i><%=us[0][i].time%></i></dd>\n      <% } %>\n    </dl>\n  <% } %>\n</div>'
}),
define("views/news/news", ["require", "exports", "module", "view", "jquery", "underscore", "./data", "views/extra/extra", "text!./news.css", "models/group", "text!./news.html"], function(e, t, n) {
    "use strict";
    function f() {
        var e = this
            , t = this.models.group
            , n = t.get("StockList")
            , r = {};
        s.each(t.get("marketArr"), function(e, t) {
            e > 0 && t !== "jj" && function(e) {
                s.each(n, function(n) {
                    n.get("mk") === t && n.get("stockType") !== "zs" && n.get("mkType") !== "nq" && (n.get("qtsymbol").indexOf("r_") > -1 ? e.push(n.get("qtsymbol").substring(2)) : e.push(n.get("qtsymbol")))
                }),
                e.length >= 60 && (e = [].slice.call(e, 0, 60))
            }(r[t] = [])
        }),
            o(r).then(function(t) {
                s.isEmpty(t) ? e.element.hide() : app.page.views.stock && app.page.views.stock.mk != "new" ? e.element.hide() : e.element.show(),
                    e.set("model", t, {
                        override: !0
                    })
            })
    }
    var r = e("view")
        , i = e("jquery")
        , s = e("underscore")
        , o = e("./data")
        , u = e("views/extra/extra")
        , a = r.extend({
            attrs: {
                className: "zxg-new",
                parentNode: "#zxg-body",
                styleList: e("text!./news.css")
            },
            events: {
                "click .app_banner": function() {
                    window.open("http://finance.qq.com/products/portfolio/download.htm?pgv_ref=web.mystock.middle")
                }
            },
            models: {
                group: e("models/group")
            },
            render: function() {
                a.superclass.render.call(this);
                var e = this.models.group;
                e.on("render", i.proxy(f, this)),
                    e.on("render:add", i.proxy(f, this)),
                    e.on("render:del", i.proxy(f, this));
                var t = new u;
                t.init(this, e),
                    app.page.extra = t
            },
            _onChangeModel: function() {
                var t = this;
                this.set("template", e("text!./news.html")),
                    this.renderPartial(),
                    t.trigger("render:extra", t)
            }
        });
    n.exports = a
}),
define("pages/index", ["require", "exports", "module", "view", "rt", "jquery", "text!./index.html", "text!./base.css", "text!./index.css", "text!../plugin/lhgcalendar/skins/lhgcalendar.css", "text!../plugin/qtip/jquery.qtip.css", "models/group", "models/setting", "../views/header/header", "../views/footer/footer", "../views/userinfo/userinfo", "../views/stock/stock", "../views/stocklist/stocklist", "../views/addgroup/newgroup", "../views/news/news"], function(e, t, n) {
    "use strict";
    var r = e("view")
        , i = e("rt")
        , s = e("jquery")
        , o = r.extend({
            events: {
                "click [data-boss]": function(e) {
                    var t = s(e.currentTarget)
                        , n = t.data("boss");
                    app.boss.act(n)
                }
            },
            attrs: {
                className: "zxg-wrapper",
                template: e("text!./index.html"),
                styleList: [e("text!./base.css"), e("text!./index.css"), e("text!../plugin/lhgcalendar/skins/lhgcalendar.css"), e("text!../plugin/qtip/jquery.qtip.css")],
                title: "WEB\u81ea\u9009\u80a1"
            },
            models: {
                group: e("models/group"),
                setting: e("models/setting")
            },
            views: {
                header: {
                    init: e("../views/header/header"),
                    config: {
                        parentNode: "#zxg-header"
                    }
                },
                footer: {
                    init: e("../views/footer/footer"),
                    config: {
                        parentNode: "#zxg-footer"
                    }
                },
                userinfo: {
                    init: e("../views/userinfo/userinfo")
                },
                stock: {
                    init: e("../views/stock/stock")
                },
                stocklist: {
                    init: e("../views/stocklist/stocklist")
                },
                newgroup: {
                    init: e("../views/addgroup/newgroup")
                },
                news: {
                    init: e("../views/news/news")
                }
            },
            render: function() {
                o.superclass.render.call(this),
                    i("stock_web_pstock").times("pageOver");
                var e = this.models.setting
                    , t = e.get("colorType");
                this.setColorType(t),
                    e.on("change:colorType", this.setColorType)
            },
            setColorType: function(e, t) {
                t && s(document.body).removeClass(t),
                    s(document.body).addClass(e)
            }
        });
    n.exports = o
}),
!function(e) {
    function t(r) {
        if (n[r])
            return n[r].exports;
        var i = n[r] = {
            exports: {},
            id: r,
            loaded: !1
        };
        return e[r].call(i.exports, i, i.exports, t),
            i.loaded = !0,
            i.exports
    }
    var n = {};
    return t.m = e,
        t.c = n,
        t.p = "E:/finance/zxg_Login/build/",
        t(0)
}([function(e, t, n) {
    e.exports = n(1)
}
    , function(e, t, n) {
        var r;
        _under = {
            isUndefined: function(e) {
                return "undefined" == typeof e
            },
            isArray: function(e) {
                return "Array" == this.getType(e)
            },
            getType: function(e) {
                return Object.prototype.toString.call(e).slice(8, -1)
            },
            each: function(e, t) {
                if (e)
                    if (_under.isUndefined(e[0]) && !_under.isArray(e)) {
                        for (var n in e)
                            if (t(e[n], n))
                                break
                    } else
                        for (var r = 0, i = e.length; i > r && !t(e[r], r); r++)
                            ;
            }
        },
            r = function(e, t, r) {
                "use strict";
                window.LoginContain = n(2),
                    window.loginApp = {},
                    r.exports = LoginContain
            }
                .call(t, n, t, e),
        void 0 === r || !(e.exports = r)
    }
    , function(e, t, n) {
        var r;
        r = function(e, t, r) {
            var i = n(3)
                , s = "http://weixin.finance.qq.com/stockapp/weixin/web"
                , o = "wxff01bb724e435269"
                , u = ""
                , a = document.head || document.getElementsByTagName("head")[0] || document.documentElement
                , f = '#ptlogin-node{border:1px solid #b1b3b4;width:626px;background: #fff;font: 12px/1.5 hiragino sans gb,microsoft yahei,simsun;}			#ptlogin-node .login_tabs a{  text-decoration: none;}			#ptlogin-node .login_tab{			  position: relative;			  height: 50px;			  margin-bottom: -1px;			  margin-left:0px;			  border: 1px solid #b1b3b4;			  border-bottom-color: #e6e6e6;			  background: #f1f1f1;			  font-size: 0;			  z-index: 3;			  padding: 0;			}			#ptlogin-node .login_tab .list_item{			  display: inline-block;			  zoom: 1;			  width: 50%;			  text-align: center;			  float:left;			  font: 12px/1.5 hiragino sans gb,microsoft yahei,simsun;			}			#ptlogin-node .login_tab .tab_item{			  display: block;			  width: 100%;			  height: 50px;			  line-height: 50px;			  font-size: 16px;			  color: #adadad;			}			#ptlogin-node .login_tab .list_item span{font-size: 16px;}			#ptlogin-node .login_tab .current .tab_item {height: 49px;border-bottom: 2px solid #999;margin-bottom: -2px;color: #000;}			#ptlogin-node .login_tab .tab_item .ico_loginnew{			  display: inline-block;			  zoom: 1;			  position: relative;			  top: 19px;			  left: 4px;			  width: 19px;			  height: 14px;			  background: url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/wxLogin.png) -24px 0px no-repeat;			  vertical-align: top;			}			#ptlogin-node .login_tab .current .tab_item_qq {border-bottom-color: #31a4f6;}			#ptlogin-node .login_tab .current .tab_item_wx {border-bottom-color: #AD3702;}			#ptlogin-node-1-1, #ptlogin-node-1-2{position:relative;height:100%;width:100%;}			#ptlogin-node-1{position:relative;z-index: 2;}			#ptlogin-node-1 iframe{  border: 0 none;}			#lightBeam{display:none;}			#login-node-qq, #login-node-wx{z-index:1000;}			#ptlogin-node-1-2 .iframe_title{			  display: block;			  height: 50px;			  text-align: center;			  font-size: 14px;			  font-weight: 700;			  font-family: "hiragino sans gb",simsun,stfangsong;			  color: #808080;			  padding-top: 50px;			}			#login-node-wx{height:215px!important;margin-bottom:5px}			#login-node-wx .iframe_tips{text-align:center;font-family:"hiragino sans gb",simsun,stfangsong}'
                , l = '<div id="ptlogin-node" data-align="center" data-type="qq" data-reactid=".0" style="height:418px" style="display:none;">						<a id="lightBeam" data-reactid=".0.0" style="top: -4.5px; left: 0px; opacity: 1; display: none;">						</a>						<div class="login_tabs" data-reactid=".0.1">							<ul class="login_tab" id="login_tab" data-reactid=".0.1.0">								<li class="list_item current" type="qq" data-reactid=".0.1.0.0">									<a href="javascript:void(0);" class="tab_item tab_item_qq" data-reactid=".0.1.0.0.0">										<span class="item_inner" data-reactid=".0.1.0.0.0.0">QQ\u5e10\u53f7\u767b\u5f55</span>									</a>								</li>								<li class="list_item" type="wx" data-reactid=".0.1.0.1">									<a href="javascript:void(0);" class="tab_item tab_item_wx" data-reactid=".0.1.0.1.0">										<span class="item_inner" data-reactid=".0.1.0.1.0.0">\u5fae\u4fe1\u5e10\u53f7\u767b\u5f55</span>										<i class="ico_loginnew" data-reactid=".0.1.0.1.0.1"></i>									</a>								</li>							</ul>						</div>						<div class="login_content" id="ptlogin-node-1" data-reactid=".0.2">							<div id="ptlogin-node-1-1" data-reactid=".0.2.0" style="display: block;">								<iframe id="login-node-qq" frameborder="0" scrolling="auto" width="100%" height="100%" data-reactid=".0.2.0.0"  style="width: 626px; height: 367px;">								</iframe>							</div>							<div id="ptlogin-node-1-2" data-reactid=".0.2.1" style="display: none;">								<label class="iframe_title" data-reactid=".0.2.1.0">\u5b89\u5168\u767b\u5f55\uff0c\u9632\u6b62\u88ab\u76d7</label>								<iframe id="login-node-wx" frameborder="0" scrolling="no" width="100%" height="100%" data-reactid=".0.2.1.1">								</iframe>							</div>						</div>					</div>'
                , c = {
                    _src: "",
                    _iframe_wnd: null ,
                    _login_wnd: null ,
                    _width: null ,
                    _height: null ,
                    _load_first: !0,
                    defaults: {
                        url: null ,
                        s_url: "http://finance.qq.com/products/portfolio/proxy.htm",
                        proxy_url: "http://finance.qq.com/products/portfolio/proxy_stocki.htm",
                        low_login_enable: 2,
                        low_login_hour: 4320
                    },
                    init: function(e) {
                        var t = this;
                        t.config = e,
                            t.qqRedirect_uri = t.config.qqRedirect_uri;
                        var n = this.defaults;
                        if (n.s_url) {
                            var r = encodeURIComponent(t.qqRedirect_uri)
                                , i = encodeURIComponent("http://finance.qq.com/products/portfolio/proxy_stocki.htm");
                            this._src = ["https://xui.ptlogin2.qq.com/cgi-bin/xlogin?target=self&appid=5000801", n.low_login_enable > 0 ? "&low_login=1" : "", "&style=20&hide_border=1&border_radius=1&predirect=5&hide_title_bar=1&hide_close_icon=1&border_radius=1&s_url=", r, "&f_url=loginerroralert&&daid=6&enable_qlogin=1&pt_no_auth=1&proxy_url=", i].join("")
                        }
                        t.didMount()
                    },
                    didMount: function() {
                        var e = this;
                        e._iframe_wnd = document.getElementById("login-node-qq"),
                            e._iframe_wnd.onload = function() {}
                        ;
                        try {
                            e._iframe_wnd.setAttribute("src", this._src)
                        } catch (t) {}
                        window.ptlogin2_onResize = function(t, n) {
                            e._iframe_wnd.style.width = Number(t) + 2 + "px",
                                e._iframe_wnd.style.height = Number(n) + 1 + "px";
                            var r = document.getElementById("ptlogin-node");
                            if (r.style.width = Number(t) + 4 + "px",
                                    r.style.height = Number(n) + 52 + "px",
                                e.config.resizeFn && e.config.resizeFn(t, n),
                                    e._width = t,
                                    e._height = n,
                                    e._load_first) {
                                e._load_first = !1;
                                try {
                                    var i = _iframe_wnd.contentDocument || _iframe_wnd.Document;
                                    if (2 == defaults.low_login_enable) {
                                        var s = i.getElementById("low_login_enable");
                                        s && (s.checked = !0)
                                    }
                                } catch (o) {}
                            }
                        }
                            ,
                            window.ptlogin2_onClose = function() {
                                login_wnd = document.getElementById("ptlogin-node-1-1"),
                                    login_wnd.style.display = "none"
                            }
                            ,
                            window.ptlogin2_onSuccess = function() {
                                window.location.reload()
                            }
                            ,
                            "undefined" != typeof window.postMessage ? window.onmessage = function(e) {
                                var t, n = e || window.event;
                                if ("undefined" != typeof JSON)
                                    t = JSON.parse(n.data);
                                else
                                    try {
                                        t = str2JSON(n.data)
                                    } catch (r) {}
                                if (t)
                                    switch (t.action) {
                                        case "close":
                                            ptlogin2_onClose();
                                            break;
                                        case "resize":
                                            ptlogin2_onResize(t.width, t.height)
                                    }
                            }
                                : navigator.ptlogin_callback = function(e) {
                                try {
                                    var t = str2JSON(e);
                                    switch (t.action) {
                                        case "close":
                                            ptlogin2_onClose();
                                            break;
                                        case "resize":
                                            ptlogin2_onResize(t.width, t.height)
                                    }
                                } catch (n) {}
                            }
                    }
                }
                , h = {
                    init: function(e) {
                        var t = e.wxurl
                            , n = e.wxappid
                            , r = encodeURIComponent(t + "?appid=" + n + "&ref=web")
                            , i = "http://open.weixin.qq.com/connect/qrconnect?appid=" + n + "&redirect_uri=" + r + "&response_type=code&scope=snsapi_login&state=111&href=" + encodeURIComponent("http://mat1.gtimg.com/finance/css/st/p/web-zixuangu/wx_style_v20151228110221.css");
                        document.getElementById("login-node-wx").src = i
                    }
                }
                , p = function(e) {
                    var t = document.createElement("div")
                        , n = [];
                    t.innerHTML = e;
                    for (var r in t.childNodes) {
                        var i = t.childNodes[r];
                        i && 1 == i.nodeType && n.push(i)
                    }
                    return n
                }
                , d = function(e, t, n) {
                    this.wxappid = e || o,
                        this.refresh_token = null ,
                        this.wxurl = t || s,
                        this.qqRedirect_uri = u = n,
                        s = this.wxurl,
                        o = this.wxappid,
                        this.type = "qq"
                }
                ;
            d.prototype.build = function(e) {
                //document.domain = "qq.com";
                var t = this
                    , n = document.body
                    , e = e;
                e.qqRedirect_uri = t.qqRedirect_uri,
                    e.wxurl = t.wxurl,
                    e.wxappid = t.wxappid,
                    e.contain = e && e.contain ? e.contain : n;
                var r = document.createElement("style");
                if (r.setAttribute("style", "text/css"),
                        a.appendChild(r),
                        r.styleSheet)
                    try {
                        r.styleSheet.cssText = f
                    } catch (i) {}
                else
                    r.innerHTML = f;
                t.config = e;
                var s = e.contain;
                s.appendChild(p(l)[0]),
                    t.bindEvent()
            }
                ,
                d.prototype.bindEvent = function() {
                    function e(e, t) {
                        for (; e && e != document.body; ) {
                            if (e.className && e.className.indexOf(t) > -1)
                                return e;
                            e = e.parentNode
                        }
                        return !1
                    }
                    var t = this
                        , n = document.getElementById("login_tab")
                        , r = n.getElementsByTagName("li")
                        , i = function(n) {
                            var i = n.target || n.srcElement
                                , s = e(i, "list_item");
                            if (s) {
                                _under.each(r, function(e, t) {
                                    e.className = e.className.replace("current", "")
                                }),
                                    s.className = "list_item current",
                                    t.type = s.getAttribute("type");
                                var o = document.getElementById("ptlogin-node-1-1")
                                    , u = document.getElementById("ptlogin-node-1-2");
                                "qq" == t.type ? (o.style.display = "block",
                                    u.style.display = "none") : (o.style.display = "none",
                                    u.style.display = "block")
                            }
                        }
                        ;
                    n.onmouseover = function(e) {
                        var t = e ? e : window.event;
                        t && (i(t),
                            t && t.stopPropagation ? t.stopPropagation() : t.cancelBubble = !0)
                    }
                        ,
                        c.init(t.config),
                        h.init(t.config),
                        document.getElementById("ptlogin-node").style.display = "block"
                }
                ,
                d.prototype.freshToken = function(e, t) {
                    var n = this
                        , r = ["appid=" + n.wxappid, "code=", "refresh_token=" + n.refresh_token, "_=" + (new Date).getTime(), "fresh=1"];
                    n.crossAsynJson(n.wxurl + "?" + r.join("&"), "_callBack", t)
                }
                ,
                d.prototype.crossAsynJson = function(e, t, n) {
                    var r = document.getElementById("tiframe");
                    r ? r.setAttribute("src", e) : (r = document.createElement("iframe"),
                        r.setAttribute("id", "tiframe"),
                        r.setAttribute("style", "display:none"),
                        document.body.appendChild(r),
                        r.setAttribute("src", e))
                }
                ,
                d.prototype.check = function(e, t, n) {
                    var r = this
                        , s = !1;
                    if (n++,
                        n > 10)
                        return !1;
                    var o = i.get("uin") || i.get("luin")
                        , u = i.get("w_token")
                        , a = i.get("w_r_token")
                        , f = i.get("w_openid")
                        , l = i.get("w_token")
                        , c = i.get("w_uin");
                    return r.refresh_token = a,
                        window.loginData = {
                            QQuin: o && Number(o.substring(1)),
                            loginType: null ,
                            w_openid: f,
                            w_token: l
                        },
                        "undefined" != typeof u && "undefined" != typeof a && "undefined" != typeof c ? (s = !0,
                            window.loginData.QQuin = c && Number(c),
                            window.loginData.loginType = "wx",
                            r.freshToken(),
                            setInterval(function() {
                                r.freshToken()
                            }, 36e5)) : "undefined" != typeof o ? (s = !0,
                            window.loginData.loginType = "qq") : "undefined" != typeof a ? (r.freshToken(1),
                            window.loginData.QQuin = c && Number(c),
                            window.loginData.loginType = "wx",
                            s = "reset") : (s = !1,
                        t && t()),
                    s && ("reset" == s ? setTimeout(function() {
                        window.loginData.QQuin = i.get("w_uin") && Number(i.get("w_uin")),
                            window.loginData.w_token = i.get("w_token"),
                        e && e()
                    }, 2e3) : e && e()),
                        s
                }
                ,
                d.prototype.logout = function() {
                    var e = function() {
                            i.remove("uin", {
                                domain: ".qq.com",
                                path: "/"
                            }),
                                i.remove("luin", {
                                    domain: ".qq.com",
                                    path: "/"
                                }),
                                i.remove("skey", {
                                    domain: ".qq.com",
                                    path: "/"
                                }),
                                i.remove("lskey", {
                                    domain: ".qq.com",
                                    path: "/"
                                }),
                                i.remove("w_token", {
                                    domain: ".qq.com",
                                    path: "/"
                                }),
                                i.remove("w_r_token", {
                                    domain: ".qq.com",
                                    path: "/"
                                }),
                                i.remove("w_uin", {
                                    domain: ".qq.com",
                                    path: "/"
                                })
                        }
                        ;
                    e()
                }
                ,
                r.exports = d
        }
            .call(t, n, t, e),
        void 0 === r || !(e.exports = r)
    }
    , function(e, t, n) {
        var r;
        r = function(e, t) {
            function n(e, t) {
                var n = {};
                if (r(e) && e.length > 0)
                    for (var i, s, u, f = t ? a : o, l = e.split(/;\s/g), c = 0, h = l.length; h > c; c++) {
                        if (u = l[c].match(/([^=]+)=/i),
                            u instanceof Array)
                            try {
                                i = a(u[1]),
                                    s = f(l[c].substring(u[1].length + 1))
                            } catch (p) {}
                        else
                            i = a(l[c]),
                                s = "";
                        i && (n[i] = s)
                    }
                return n
            }
            function r(e) {
                return "string" == typeof e
            }
            function i(e) {
                return r(e) && "" !== e
            }
            function s(e) {
                if (!i(e))
                    throw new TypeError("Cookie name must be a non-empty string")
            }
            function o(e) {
                return e
            }
            var u = t
                , a = decodeURIComponent
                , f = encodeURIComponent;
            u.get = function(e, t) {
                s(e),
                    t = "function" == typeof t ? {
                        converter: t
                    } : t || {};
                var r = n(document.cookie, !t.raw);
                return (t.converter || o)(r[e])
            }
                ,
                u.set = function(e, t, n) {
                    s(e),
                        n = n || {};
                    var r = n.expires
                        , o = n.domain
                        , u = n.path;
                    n.raw || (t = f(String(t)));
                    var a = e + "=" + t
                        , l = r;
                    return "number" == typeof l && (l = new Date,
                        l.setDate(l.getDate() + r)),
                    l instanceof Date && (a += "; expires=" + l.toUTCString()),
                    i(o) && (a += "; domain=" + o),
                    i(u) && (a += "; path=" + u),
                    n.secure && (a += "; secure"),
                        document.cookie = a,
                        a
                }
                ,
                u.remove = function(e, t) {
                    return t = t || {},
                        t.expires = new Date(0),
                        this.set(e, "", t)
                }
        }
            .call(t, n, t, e),
        void 0 === r || !(e.exports = r)
    }
]),
define("Login_aio", function(e) {
    return function() {
        var t, n;
        return t || e.LoginContain
    }
}(this)),
define("Login", ["require", "exports", "module", "Login_aio", "jquery"], function(require, exports, module) {
    function str2JSON(str) {
        return eval(str)
    }
    require("Login_aio");
    var wxappid = "wxff01bb724e435269", wxurl = "http://weixin.finance.qq.com/stockapp/weixin/web", loginContain = new LoginContain(wxappid,wxurl,"http://finance.qq.com/products/portfolio/proxy.htm"), $ = require("jquery"), _login_wnd, _loginContain, _mark_wnd, _iframe_wnd, _src = "", _timer, _timerBeam, _appn, _width, _height, _load_first = !0, oldData = {
            width: 300,
            height: 400
        }, Login = function(e) {
            //document.domain = "qq.com",
            $(document).scroll(function() {
                change(_width, _height)
            })
        }
        , change = function(e, t) {
            if (_mark_wnd && _login_wnd) {
                var n = document.documentElement.scrollWidth
                    , r = document.documentElement.clientHeight
                    , i = document.documentElement.scrollHeight;
                _mark_wnd && (_mark_wnd.css("height", (i > r ? i : r) + "px"),
                    _mark_wnd.css("left", "0px")),
                    _loginContain.css("position", "absolute");
                var s = Math.abs(n - _loginContain.innerWidth());
                if (s <= 12) {
                    _loginContain.css("left", "6px");
                    return
                }
                _loginContain.css("top", $(document).scrollTop() + (r - _loginContain.innerHeight()) / 2 + "px"),
                    _loginContain.css("left", (n - _loginContain.innerWidth()) / 2 + "px"),
                e && t && (e < 300 && (e = 371,
                    t = 276),
                e != oldData.width && t != oldData.height && (_timerBeam && (clearTimeout(_timerBeam),
                    _timerBeam = null ),
                    _timerBeam = setTimeout(function() {
                        lightBeam()
                    }, 2e3),
                    oldData.width = e,
                    oldData.height = t)),
                _timerBeam || (_timerBeam = setTimeout(function() {
                    lightBeam()
                }, 2e3))
            }
            _timer || (_timer = setInterval(change, 50))
        }
        , onOk = function() {
            $(document).trigger("ptlogin2_onSuccess"),
                close()
        }
        , close = function() {
            _login_wnd && _login_wnd.css("display", "none"),
            _mark_wnd && _mark_wnd.css("display", "none"),
            _timer && (clearTimeout(_timer),
                _timer = 0)
        }
        , slick = function(e) {
            var t = $(e)
                , n = t.length
                , r = 0
                , i = 0
                , s = function(e) {
                    var n = $(t[i]).next();
                    n.css({
                        filter: "alpha(opacity=0)",
                        "-moz-opacity": 0,
                        opacity: 0
                    }),
                    e && e()
                }
                , o = setInterval(function() {
                    s(function() {
                        var e = $(t[r]).next();
                        e.animate({
                            opacity: 1
                        }, "slow", function() {
                            i = r,
                                r < n - 1 ? r++ : r == n - 1 && (r = 0)
                        })
                    })
                }, 3e3)
        }
        , lightBeam = function() {
            try {
                var e = document.getElementById("ptlogin-node-2"), t = e.contentWindow, n;
                if (!t) {
                    oldData.width = "300px";
                    return
                }
            } catch (r) {}
            var i = $("#lightBeam")
                , s = $("#lightBeam1")
                , o = null
                , u = 0
                , a = _login_wnd.height()
                , f = _login_wnd.width()
                , l = 1e3
                , c = null
                , h = 98
                , p = 13;
            i.hide(),
                i.stop(!0),
            c && (clearTimeout(c),
                c = null ),
                i.css({
                    top: "-" + (p / 2 - 2) + "px",
                    left: "0px",
                    opacity: 1
                });
            var d = function() {
                    i.stop(!0),
                        i.show(),
                        i.animate({
                            left: _login_wnd.width() - h + "px",
                            opacity: .5
                        }, l, function() {
                            i.hide(),
                                i.css({
                                    left: "0px",
                                    opacity: 1
                                }),
                                c = setTimeout(function() {
                                    d()
                                }, 5e3)
                        })
                }
                ;
            d()
        }
        ;
    Login.prototype.open = function(e) {
        $(function() {
            setTimeout(function() {
                var e = $('a[title="\u8fd4\u56de\u9876\u90e8"]');
                e && (e.hide(),
                    e.parent().css({
                        height: "75px",
                        bottom: "26px"
                    }))
            }, 1e3)
        }),
            $(document.body).append('<style type="text/css">      #loginContain{position:absolute;align:center;z-index:1000;min-height:445px;_height:445px;min-width:730px;_width:730px;width:1034px;}      .loginDiv{min-width:360px;float:left;color:#ffffff;text-align:left;font-family: "Microsoft YaHei",\u5fae\u8f6f\u96c5\u9ed1,"MicrosoftJhengHei",\u534e\u6587\u7ec6\u9ed1,STHeiti,MingLiu}      .loginDiv.left{background: url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/bg.png) center 0px no-repeat;}      .head{font-size:64px;display:inline-block;margin-bottom:50px;}      .head.logo{height:86px;display:block;margin-bottom: 45px;}      .special{padding:0;margin-left:60px;min-height:290px;margin-top:135px;}      .contain{display: list-item;text-align: -webkit-match-parent;list-style:none;margin: 15px 0 30px 0;}      .contain.first{margin-top:28px;}      .contain.last{margin-bottom:28px;}      .ico_ori{width:400px;height:1px;margin-left:-40px;}      #loginContain .contain{height:34px;position:relative;}      .contain .color{top: 0px;position: absolute;filter:alpha(opacity=0);-moz-opacity:0;opacity:0;}      #lightBeam,#lightBeam1{overflow:hidden;background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/ani_bigIcon.png) no-repeat;position:absolute;width:98px;height: 13px;}      #lightBeam{background-position:0 0;}      #lightBeam1{background-position:0 -111px;}    </style>');
        if (!_login_wnd) {
            var t = document.documentElement.scrollWidth
                , n = document.documentElement.clientHeight
                , r = $(document).scrollTop() + (n - 445) / 2
                , i = Math.max((t - 1034) / 2, 6);
            $(document.body).append('<div id="loginContain" style="top:' + r + "px;left:" + i + 'px;"><div class="loginDiv left" style="width:388px;height:421px;">                                    <div class="special" style="position:relative;">                                        <div class="ico_ori"></div>                                        <div class="contain first">                                            <div class="disc"><img src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/line1_1.png" border="0"></div>                                            <div class="color"><img src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/line1_1.1.png" border="0"></div>                                        </div>                                        <div class="contain">                                            <div class="disc"><img src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/line2_1.png" border="0"></div>                                            <div class="color"><img src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/line2_1.1.png" border="0"></div>                                        </div>                                        <div class="contain">                                            <div class="disc"><img src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/line3_1.png" border="0"></div>                                            <div class="color"><img src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/line3_1.1.png" border="0"></div>                                        </div>                                        <div class="contain last">                                            <div class="disc"><img src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/line4_1.png" border="0"></div>                                            <div class="color"><img src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/line4_1.1.png" border="0"></div>                                        </div>                                    </div>                                </div><div class="loginDiv" align="center" style="padding:0; margin-left:20px;z-index:1000;"><div id="login-DIV" align="center" style="position:relative;width:626px;height:420px;"></div></div></div>'),
                _login_wnd = $("#login-DIV"),
                _loginContain = $("#loginContain");
            var s = function(e, t) {
                    var n = $(window).width()
                        , r = $(window).height()
                        , i = n / r
                        , s = 1.719;
                    i >= s ? (e.width(n),
                        e.height(n / s)) : (e.width(r * s),
                        e.height(r)),
                    t && t()
                }
                ;
            $(document.body).append('<img class="bg" id="bgImg" style="width:auto;height:auto;position:fixed;top:0;left:0;">'),
                $(document.body).append('<div id="master" style="z-index:10;position:absolute;opacity:1;width:100%;background:black;height:100%;top:0px;">');
            var o = document.getElementById("bgImg");
            o.onload = function() {
                $(o).show(),
                    s($(o), function() {
                        var e = $("#master");
                        $(o).attr("opacity", 0),
                            e.fadeOut("slow")
                    })
            }
                ,
                o.src = "http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/login_bg.png",
                $(window).resize(function() {
                    s($(o))
                }),
                _iframe_wnd = $("#ptlogin-node-2"),
                _mark_wnd = $("#ptlogin-node-3"),
                slick("#loginContain .disc")
        }
        try {
            _mark_wnd.css("display", defaults.mask ? "block" : "none"),
                _login_wnd.css("display", "block"),
                change()
        } catch (u) {}
        loginContain.build({
            contain: $("#login-DIV")[0],
            resizeFn: change,
            onOk: onOk,
            onclose: close
        }),
            app.loginContain = loginContain,
            app.appid = wxappid
    }
        ,
        Login.prototype.check = function(e, t) {
            loginContain.check(function() {
                0,
                    app.QQuin = window.loginData.QQuin,
                    app.loginType = window.loginData.loginType,
                    app.appid = wxappid,
                    app.w_openid = window.loginData.w_openid,
                    app.w_token = window.loginData.w_token,
                    e()
            }, function() {
                t()
            }, app.checkTime)
        }
        ,
        $(window).on("ptlogin2_onSuccess", function() {
            window.location.reload()
        }),
        $(window).on("ptlogin2_onClose", function() {
            window.location.href = "http://finance.qq.com/stock/"
        }),
        module.exports = Login
}),
define("utility/ptlogin", ["require", "exports", "module", "jquery"], function(require, exports, module) {
    function str2JSON(str) {
        return eval(str)
    }
    var $ = require("jquery"), _login_wnd, _loginContain, _mark_wnd, _iframe_wnd, _src = "", _timer, _timerBeam, _appn, _width, _height, _load_first = !0, oldData = {
            width: 300,
            height: 400
        }, ptlogin = function(e) {
            //document.domain = "qq.com";
            var t = $.extend({}, defaults, e);
            t.s_url && (_src = ["https://xui.ptlogin2.qq.com/cgi-bin/xlogin?target=self&appid=5000801", t.low_login_enable > 0 ? "&low_login=1" : "", "&style=23&hide_border=1&border_radius=1&predirect=5&hide_title_bar=1&hide_close_icon=1&border_radius=1&s_url=", encodeURIComponent(t.s_url), "&f_url=loginerroralert&&daid=6&enable_qlogin=1&pt_no_auth=1&proxy_url=http%3A%2F%2Ffinance.qq.com%2Fproducts%2Fportfolio%2Fproxy_stocki.htm"].join("")),
                $(document).scroll(function() {
                    change(_width, _height)
                })
        }
        , defaults = {
            mask: !0,
            code: null ,
            appn: null ,
            active: 1,
            login_appn: null ,
            url: null ,
            s_url: "http://finance.qq.com/products/portfolio/proxy.htm",
            proxy_url: "http://finance.qq.com/products/portfolio/proxy_stocki.htm",
            low_login_enable: 2,
            low_login_hour: 4320
        }, change = function(e, t) {
            if (_mark_wnd && _login_wnd) {
                var n = document.documentElement.scrollWidth
                    , r = document.documentElement.clientHeight
                    , i = document.documentElement.scrollHeight;
                if (document.documentElement.clientWidth <= 750 || document.documentElement.clientHeight <= 460) {
                    _loginContain.css({
                        position: "relative"
                    }),
                    e && t && (Math.abs(e - oldData.width) > Math.abs(t - oldData.height) ? _loginContain.css({
                        left: 0
                    }) : _loginContain.css({
                        top: 0
                    }));
                    return
                }
                _mark_wnd && (_mark_wnd.css("height", (i > r ? i : r) + "px"),
                    _mark_wnd.css("left", "0px")),
                    _loginContain.css("position", "absolute"),
                    _loginContain.css("top", $(document).scrollTop() + (r - _loginContain.innerHeight()) / 2 + "px"),
                    _loginContain.css("left", (n - _loginContain.innerWidth()) / 2 + "px"),
                e && t && (e < 300 && (e = 371,
                    t = 276),
                    _login_wnd.css("width", e + "px"),
                    _login_wnd.css("height", t + "px"),
                    _login_wnd.css("visibility", "hidden"),
                    _login_wnd.css("visibility", "visible"),
                    _login_wnd.parent().css("height", t + 136 + "px"),
                e != oldData.width && t != oldData.height && (_timerBeam && (clearTimeout(_timerBeam),
                    _timerBeam = null ),
                    _timerBeam = setTimeout(function() {
                        lightBeam()
                    }, 2e3),
                    oldData.width = e,
                    oldData.height = t)),
                _timerBeam || (_timerBeam = setTimeout(function() {
                    lightBeam()
                }, 2e3))
            }
            _timer || (_timer = setInterval(change, 50))
        }
        , onOk = function() {
            $(document).trigger("ptlogin2_onSuccess"),
                close()
        }
        , close = function() {
            _login_wnd && _login_wnd.css("display", "none"),
            _mark_wnd && _mark_wnd.css("display", "none"),
            _timer && (clearTimeout(_timer),
                _timer = 0)
        }
        , slick = function(e) {
            var t = $(e)
                , n = t.length
                , r = 0
                , i = 0
                , s = function(e) {
                    var n = $(t[i]).next();
                    n.css({
                        filter: "alpha(opacity=0)",
                        "-moz-opacity": 0,
                        opacity: 0
                    }),
                    e && e()
                }
                , o = setInterval(function() {
                    s(function() {
                        var e = $(t[r]).next();
                        e.animate({
                            opacity: 1
                        }, "slow", function() {
                            i = r,
                                r < n - 1 ? r++ : r == n - 1 && (r = 0)
                        })
                    })
                }, 3e3)
        }
        , lightBeam = function() {
            try {
                var e = document.getElementById("ptlogin-node-2"), t = e.contentWindow, n;
                if (!t) {
                    oldData.width = "300px";
                    return
                }
            } catch (r) {}
            var i = $("#lightBeam")
                , s = $("#lightBeam1")
                , o = null
                , u = 0
                , a = _login_wnd.height()
                , f = _login_wnd.width()
                , l = 1e3
                , c = null
                , h = 98
                , p = 13;
            i.hide(),
                i.stop(!0),
            c && (clearTimeout(c),
                c = null ),
                i.css({
                    top: "-" + (p / 2 - 2) + "px",
                    left: "0px",
                    opacity: 1
                });
            var d = function() {
                    i.stop(!0),
                        i.show(),
                        i.animate({
                            left: _login_wnd.width() - h + "px",
                            opacity: .5
                        }, l, function() {
                            i.hide(),
                                i.css({
                                    left: "0px",
                                    opacity: 1
                                }),
                                c = setTimeout(function() {
                                    d()
                                }, 5e3)
                        })
                }
                ;
            d()
        }
        ;
    ptlogin.prototype.open = function(e) {
        $(function() {
            setTimeout(function() {
                var e = $('a[title="\u8fd4\u56de\u9876\u90e8"]');
                e && (e.hide(),
                    e.parent().css({
                        height: "75px",
                        bottom: "26px"
                    }))
            }, 1e3)
        }),
            $(document.body).append('<style type="text/css">      #loginContain{position:absolute;align:center;z-index:1000;min-height:445px;_height:445px;min-width:730px;_width:730px;}      .loginDiv{min-width:360px;float:left;color:#ffffff;text-align:left;font-family: "Microsoft YaHei",\u5fae\u8f6f\u96c5\u9ed1,"MicrosoftJhengHei",\u534e\u6587\u7ec6\u9ed1,STHeiti,MingLiu}      .head{font-size:64px;display:inline-block;margin-bottom:50px;}      .head.logo{height:86px;background: url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/login_logo.png) no-repeat;display:block;margin-bottom: 45px;}      .special{padding:0;margin:0;min-height:310px;}      .contain{display: list-item;text-align: -webkit-match-parent;list-style:none;margin: 15px 0 45px 0;}      .contain.first{margin-top:18px;}      .contain.last{margin-bottom:18px;}      .ico_ori{width:400px;height:1px;background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/login_icon1.png) no-repeat;margin-left:-40px;}      #loginContain .contain{height:34px;position:relative;}      .contain .color{top: 0px;position: absolute;filter:alpha(opacity=0);-moz-opacity:0;opacity:0;}      #lightBeam,#lightBeam1{overflow:hidden;background:url(http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/ani_bigIcon.png) no-repeat;position:absolute;width:98px;height: 13px;}      #lightBeam{background-position:0 0;}      #lightBeam1{background-position:0 -111px;}    </style>');
        if (!_login_wnd) {
            $(document.body).append('<div id="loginContain" style="height:445px;"><div class="loginDiv">                                    <span class="head">\u6b22\u8fce\u6765\u5230</span>                                    <div class="special" style="position:relative;">                                        <div class="ico_ori"></div>                                        <div class="contain first">                                            <div class="disc"><img src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/line1_1.png" border="0"></div>                                            <div class="color"><img src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/line1_1.1.png" border="0"></div>                                        </div>                                        <div class="contain">                                            <div class="disc"><img src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/line2_1.png" border="0"></div>                                            <div class="color"><img src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/line2_1.1.png" border="0"></div>                                        </div>                                        <div class="contain">                                            <div class="disc"><img src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/line3_1.png" border="0"></div>                                            <div class="color"><img src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/line3_1.1.png" border="0"></div>                                        </div>                                        <div class="contain last">                                            <div class="disc"><img src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/line4_1.png" border="0"></div>                                            <div class="color"><img src="http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/line4_1.1.png" border="0"></div>                                        </div>                                        <div class="ico_ori"></div>                                    </div>                                </div><div class="loginDiv" align="center" style="width:370px; padding:0; margin:0px;z-index:1000;"><span class="head logo"></span><div id="ptlogin-node-1" align="center" style="position:relative;height:330px;width:400px;"></div></div></div>'),
                _login_wnd = $("#ptlogin-node-1"),
                _loginContain = $("#loginContain"),
                _login_wnd.html('<a id="lightBeam" style="display:none;"></a><a id="lightBeam1" style="display:none;"></a><iframe id="ptlogin-node-2" frameborder="0" scrolling="auto" width="100%" height="100%" style="z-index:1000;"></iframe>');
            var t = function(e, t) {
                    var n = $(window).width()
                        , r = $(window).height()
                        , i = n / r
                        , s = 1.719;
                    i >= s ? (e.width(n),
                        e.height(n / s)) : (e.width(r * s),
                        e.height(r)),
                    t && t()
                }
                ;
            $(document.body).append('<img class="bg" id="bgImg" style="width:auto;height:auto;position:fixed;top:0;left:0;">'),
                $(document.body).append('<div id="master" style="z-index:10;position:absolute;opacity:1;width:100%;background:black;height:100%;top:0px;">');
            var n = document.getElementById("bgImg");
            n.onload = function() {
                $(n).show(),
                    t($(n), function() {
                        var e = $("#master");
                        $(n).attr("opacity", 0),
                            e.fadeOut("slow")
                    })
            }
                ,
                n.src = "http://mat1.gtimg.com/finance/images/stock/p/web-zixuangu/login_bg.png",
                $(window).resize(function() {
                    t($(n))
                }),
                _iframe_wnd = $("#ptlogin-node-2"),
                _mark_wnd = $("#ptlogin-node-3"),
                slick("#loginContain .disc")
        }
        try {
            _iframe_wnd.attr("src", _src),
                _mark_wnd.css("display", defaults.mask ? "block" : "none"),
                _login_wnd.css("display", "block"),
                change()
        } catch (r) {}
    }
        ,
        window.ptlogin2_onResize = function(e, t) {
            change(e, t),
                _width = e,
                _height = t;
            if (_load_first) {
                _load_first = !1;
                try {
                    var n = _iframe_wnd.contentDocument || _iframe_wnd.Document;
                    if (defaults["low_login_enable"] == 2) {
                        var r = n.getElementById("low_login_enable");
                        r && (r.checked = !0)
                    }
                    defaults.low_login_enable && defaults.low_login_hour && (r = $('select[name="low_login_hour"]', n),
                    r && (r.value = defaults.low_login_hour))
                } catch (i) {}
            }
        }
        ,
        window.ptlogin2_onClose = function() {
            $(document).trigger("ptlogin2_onClose"),
                close()
        }
        ,
        window.ptlogin2_onSuccess = function() {
            onOk()
        }
        ,
        typeof window.postMessage != "undefined" ? window.onmessage = function(e) {
            var t = e || window.event, n;
            if (typeof JSON != "undefined")
                n = JSON.parse(t.data);
            else
                try {
                    n = str2JSON(t.data)
                } catch (r) {}
            if (n)
                switch (n.action) {
                    case "close":
                        ptlogin2_onClose();
                        break;
                    case "resize":
                        ptlogin2_onResize(n.width, n.height);
                        break;
                    default:
                }
        }
            : navigator.ptlogin_callback = function(e) {
            try {
                var t = str2JSON(e);
                switch (t.action) {
                    case "close":
                        ptlogin2_onClose();
                        break;
                    case "resize":
                        ptlogin2_onResize(t.width, t.height);
                        break;
                    default:
                }
            } catch (n) {}
        }
        ,
        module.exports = ptlogin
}),
define("ping", ["require"], function(e) {
    "use strict";
    function r(e, r, i) {
        var s = document.createElement("script");
        i = i || {},
            s.type = "text/javascript",
            s.charset = i.charset || "utf-8",
            s.async = !0,
            s.onload = s.onerror = s.onreadystatechange = function() {
                n.test(s.readyState) && (s.onload = s.onerror = s.onreadystatechange = null ,
                    t.removeChild(s),
                    s = undefined,
                r && r())
            }
            ,
            s.src = e,
            t.appendChild(s)
    }
    var t = document.head || document.getElementsByTagName("head")[0] || document.documentElement
        , n = /loaded|complete|undefined/;
    r("/static/js/tencent/ping.js", function() {
        var e = window.pgvMain;
        Object.prototype.toString.call(e).slice(8, -1) === "Function" && e()
    })
}),
requirejs.config({
    urlArgs: "bust=" + (new Date).getTime(),
    enforceDefine: !0,
    paths: {
        text: "../vendor/require/text",
        art: "../vendor/require/art/template",
        numeral: "../vendor/numeral/numeral",
        moment: "../vendor/moment/moment",
        spf: "../vendor/spf",
        rt: "../vendor/reportTimes",
        store: "../vendor/store/Store",
        q: "../vendor/q/q",
        jquery: "../vendor/jquery/jquery",
        underscore: "../vendor/underscore/underscore",
        base: "../vendor/DoraJS/base",
        cookie: "../vendor/DoraJS/cookie",
        widget: "../vendor/DoraJS/widget/widget",
        Class: "../vendor/DoraJS/Class",
        events: "../vendor/DoraJS/events",
        aspect: "../vendor/DoraJS/aspect",
        attribute: "../vendor/DoraJS/attribute",
        templatable: "../vendor/DoraJS/templatable",
        "iframe-shim": "../vendor/DoraJS/iframe-shim",
        position: "../vendor/DoraJS/position",
        overlay: "../vendor/DoraJS/overlay",
        mask: "../vendor/DoraJS/mask",
        dialog: "../vendor/DoraJS/ui-dialog/dialog",
        popup: "../vendor/DoraJS/ui-popup/popup",
        guide: "../vendor/DoraJS/guide",
        "basic-tip": "../vendor/DoraJS/ui-tip/basic-tip",
        tip: "../vendor/DoraJS/ui-tip/tip",
        sticky: "../vendor/DoraJS/sticky",
        http: "../vendor/DoraJS/http",
        models: "./models",
        Tool: "./utility/tool",
        "model-init": "./models/init",
        lhgcalendar: "./plugin/lhgcalendar/lhgcalendar",
        tablednd: "./plugin/jquery.tablednd",
        qtip: "./plugin/qtip/jquery.qtip",
        marketBox: "./module/marketBox",
        helper: "./helper",
        Login_aio: "./utility/login2Way/Login_aio",
        Login: "./utility/login2Way/app",
        push: "./plugin/push"
    },
    shim: {
        jquery: {
            exports: "$"
        },
        underscore: {
            exports: "_"
        },
        Login_aio: {
            exports: "LoginContain"
        },
        tablednd: {
            deps: ["jquery"]
        },
        lhgcalendar: {
            deps: ["jquery"],
            exports: "lhgcalendar"
        },
        qtip: {
            deps: ["jquery"],
            exports: "qtip"
        }
    }
});
var app = app || {}
    , QosS = {
        t: [+(new Date)]
    };
QosS.topSpan = function(e) {
    this.site = e,
        QosS.t[1] = +(new Date)
}
    ,
    QosS.endCheck = function() {
        var e = function() {
                window.MI && MI.pageSpeed && MI.pageSpeed()
            }
            ;
        window.MIRun ? MIRun(function() {
            e()
        }) : e()
    }
;
for (var i = 2; i < 19; i++)
    QosS["timePoint" + i] = function(e) {
        return function() {
            return function() {
                QosS.t[e] = +(new Date)
            }
        }
    }(i);
app.QosS = QosS,
    define("app", ["require", "cookie", "underscore", "q", "./boss", "push", "pages/index", "Login", "./utility/ptlogin", "./ping"], function(e) {
        "use strict";
        var t = e("cookie")
            , n = e("underscore")
            , r = e("q");
        app.isDebug = !0,
            app.newLogin = 1;
        var i = function() {
                app.boss = e("./boss"),
                    app.shortKeys = ["Mkt", "Name", "Symbol", "Price", "Chg", "ChgRatio", "Turnover"],
                    app.longKeys = ["Mkt", "Name", "ExpDate", "IOPV", "Symbol", "ACCIOPVGR", "Price", "PrevClose", "Open", "Vol", "_Vol", "Uptodate", "TimeStamp", "Chg", "ChgRatio", "High", "Low", "Turnover", "TurnoverRate", "PE", "Status", "CS", "MktCap_H"],
                    app.pushReg = {
                        singleArr: [],
                        stocklistArr: []
                    },
                    app.Push = e("push"),
                    app.Push.setUser(String(app.QQuin)),
                    app.boss.act("webpush_" + app.QQuin),
                    app.getQt = function(e, t, n, r, i) {
                        0,
                            app.pushReg[i] = app.Push.reg({
                                symbols: e,
                                keys: t
                            }, function(e) {
                                n(e)
                            }),
                            0
                    }
                    ,
                    app.pushQt = function(e, t, i, s, o) {
                        var u = r.defer();
                        if (!e)
                            return u.promise;
                        var a = {
                            symbols: e
                        };
                        return t && (a.keys = t),
                            s ? (document.location.href.indexOf("?debug") != -1 && 0,
                                app.pushReg[s] = app.Push.reg(a, function(e) {
                                    if (e && document.location.href.indexOf("?debug") != -1) {
                                        var t = 0;
                                        n.each(e, function(e, n) {
                                            t++,
                                            t % 5 == 0 && e.Price && 0
                                        })
                                    }
                                    u.resolve(e),
                                    i && i(e)
                                }, function(e, t, n) {
                                    u.reject({
                                        code: t,
                                        error_info: n || "\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e"
                                    })
                                }),
                            s == "single" && app.pushReg.singleArr.push(app.pushReg.single),
                            s == "stocklistReg" && app.pushReg.stocklistArr.push(app.pushReg.stocklistReg)) : app.Push.get(a, function(e) {
                                u.resolve(e)
                            }, function(e, t, n) {
                                u.reject({
                                    code: t,
                                    error_info: n || "\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e"
                                })
                            }),
                            u.promise
                    }
                ;
                if (app.loginType && app.loginType == "wx") {
                    app.apiPar = {
                        check: 6,
                        openid: t.get("w_openid"),
                        appid: app.appid,
                        token: t.get("w_token")
                    };
                    var i = [];
                    n.each(app.apiPar, function(e, t) {
                        i.push(t + "=" + e)
                    }),
                        app.apiStr = "&" + i.join("&")
                } else
                    app.apiPar = {},
                        app.apiStr = "";
                app.apiUrl = function(e) {
                    return e + app.apiStr
                }
                    ,
                    app.apiObj = function(e) {
                        return $.extend(e, app.apiPar)
                    }
                ;
                var s = window.location.href.match("index_new.html")
                    , o = window.location.hash;
                s && s.length && (app.boss.act("guideToIndex"),
                    window.location.href = "http://gu.qq.com/i/index.html" + o),
                app.loginType && app.loginType == "wx" && app.boss.act("enter_By_WX"),
                    QosS.topSpan();
                var u = e("pages/index");
                app.page = new u,
                    app.page.render(),
                    app.boss.act("btn_goInto_ZXG")
            }
            ;
        if (app.newLogin) {
            var s = e("Login")
                , o = new s;
            app.login = o,
                app.checkTime = 0,
                app.login.check(function() {
                    $(".zxg-wrapper-header").show(),
                        setTimeout(function() {
                            i()
                        }, 100)
                }, function() {
                    $(".zxg-wrapper-header").hide(),
                        app.login.open()
                })
        } else {
            var u = e("./utility/ptlogin");
            app.ptlogin = function() {
                var e = t.get("uin") || t.get("luin");
                app.QQuin = e && Number(e.substring(1));
                if (typeof app.QQuin == "undefined") {
                    $(".zxg-wrapper-header").hide();
                    var n = new u;
                    return n.open(),
                        $(window).on("ptlogin2_onSuccess", function() {
                            window.location.reload()
                        }),
                        $(window).on("ptlogin2_onClose", function() {
                            window.location.href = "http://finance.qq.com/stock/"
                        }),
                        !1
                }
                return !0
            }
                ,
            app.ptlogin() && ($(".zxg-wrapper-header").show(),
                i())
        }
        app.ptlogout = function(e) {
            var n = function() {
                    t.remove("uin", {
                        domain: ".qq.com",
                        path: "/"
                    }),
                        t.remove("luin", {
                            domain: ".qq.com",
                            path: "/"
                        }),
                        t.remove("skey", {
                            domain: ".qq.com",
                            path: "/"
                        }),
                        t.remove("lskey", {
                            domain: ".qq.com",
                            path: "/"
                        }),
                        t.remove("w_token", {
                            domain: ".qq.com",
                            path: "/"
                        }),
                        t.remove("w_r_token", {
                            domain: ".qq.com",
                            path: "/"
                        }),
                        t.remove("w_uin", {
                            domain: ".qq.com",
                            path: "/"
                        });
                    try {
                        app.Push.unsetUser()
                    } catch (e) {
                        0
                    }
                    app.QQuin = null ,
                        location.hash = "",
                        window.location.reload()
                }
                ;
            e && app.newLogin && app.loginType == "wx" ? n() : n()
        }
            ,
            app.alert = function(e) {
                return window.alert(e)
            }
            ,
            app.clone = function(e) {
                var t, n, r, i;
                if (typeof e != "object" || e === null )
                    return e;
                if (e instanceof Array) {
                    t = [],
                        n = 0,
                        r = e.length;
                    for (; n < r; n++)
                        typeof e[n] == "object" && e[n] != null ? t[n] = arguments.callee(e[n]) : t[n] = e[n]
                } else {
                    t = {};
                    for (n in e)
                        typeof e[n] == "object" && e[n] != null ? t[n] = arguments.callee(e[n]) : t[n] = e[n]
                }
                return t
            }
        ;
        var a = function(e) {
                var t = []
                    , r = n.isArray(e);
                if (n.isObject(e)) {
                    if (e === null )
                        return "null";
                    if (window.JSON && window.JSON.stringify)
                        return JSON.stringify(e);
                    for (var i in e)
                        t.push((r ? "" : '"' + i + '":') + a(e[i]));
                    return t = t.join(),
                        r ? "[" + t + "]" : "{" + t + "}"
                }
                return n.isNumber(e) || n.isFunction(e) ? e.toString() : n.isUndefined(e) ? "undefined" : e ? '"' + e + '"' : '""'
            }
            , f = {};
        window.onerror = function(e, t, n) {
            if (!+[1]) {
                var r = arguments.callee.caller.caller, i, s = [];
                while (r)
                    i = r,
                        s.push(i.toString().replace(/function/g, "F").substring(0, 80)),
                        r = r.caller
            }
            var o = navigator.userAgent
                , u = {
                    name: "btnOnerror",
                    iBak1: n || "",
                    sText: s ? s.join("") : "",
                    sBak1: encodeURIComponent(e || ""),
                    sBak2: o,
                    id: 2664
                }
                , l = a(u);
            try {
                !f[l] && o.indexOf("MetaSr") == -1 && o.indexOf("LBBROWSER") == -1 && (app.boss.error(u),
                    f[l] = 1)
            } catch (c) {}
        }
            ,
            e("./ping")
    }),
    require(["app"]);
/*  |xGv00|0533866d35bb0eeb2d8ab23595f555aa */
